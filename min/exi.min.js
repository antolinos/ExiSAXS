function AuthenticationManager() {
    this.onSuccess = new Event(this), this.onError = new Event(this);
}

function Exi(a) {
    var b = this;
    if (this.headerCssClass = "titlePanel", this.mainMenu = new MainMenu(), this.anonymousMenu = null, 
    this.userMenu = null, this.keepTabs = !1, this.controllers = [ new ExiController() ], 
    null != a && (null != a.menu && (this.mainMenu = a.menu, this.userMenu = a.menu), 
    null != a.anonymousMenu && (this.anonymousMenu = a.anonymousMenu), null != a.headerCssClass && (this.headerCssClass = a.headerCssClass), 
    null != a.controllers)) for (var c = 0; c < a.controllers.length; c++) this.controllers.push(a.controllers[c]);
    this.mainStatusBar = new MainStatusBar(), this.proposalManager = new ProposalManager(), 
    this.credentialManager = new CredentialManager(), this.credentialManager.onLogout.attach(function(a) {
        b.mainMenu.populateCredentialsMenu(), b.clearMainPanel(), b.clearNavigationPanel(), 
        b.setAnonymousMenu(), Ext.getCmp("navigation").collapse(), location.hash = "/welcome";
    }), this.credentialManager.onLogin.attach(function(a) {
        b.mainMenu.populateCredentialsMenu(), b.setUserMenu();
    }), this.credentialManager.onActiveProposalChanged.attach(function(a) {
        b.mainMenu.populateCredentialsMenu();
    }), this.authenticationForm = new AuthenticationForm(), this.authenticationForm.onAuthenticate.attach(function(a, c) {
        var d = new AuthenticationManager();
        d.onSuccess.attach(function(a, d) {
            b.credentialManager.addCredential(d.user, d.roles, d.token, c.site, c.exiUrl, c.properties), 
            b.authenticationForm.window.close();
            var e = EXI.credentialManager.getCredentialByUserName(d.user);
            e.isManager() ? location.hash = "/welcome/manager/" + d.user + "/main" : location.hash = "/welcome/user/" + d.user + "/main", 
            b.getDataAdapter().exi.offline.authenticate();
        }), d.login(c.user, c.password, c.site);
    }), this.onAfterRender = new Event(this);
}

function ExiMX() {
    Exi.call(this, {
        menu: new MXMainMenu(),
        anonymousMenu: new MainMenu(),
        controllers: [ new MXExiController(), new OfflineExiController(), new ProposalExiController() ],
        headerCssClass: "mxTitlePanel"
    });
}

function ExiSAXS() {
    Exi.call(this, {
        menu: new SAXSMainMenu(),
        anonymousMenu: new MainMenu(),
        controllers: [ new SAXSExiController(), new MXExiController(), new OfflineExiController(), new ProposalExiController() ]
    });
}

function MainStatusBar() {}

function DataAdapter(a) {
    this.async = !0, this.onSuccess = new Event(this), this.onError = new Event(this), 
    null != a && (null != a.async && (this.async = a.async), null != a.onSuccess && this.onSuccess.attach(a.onSuccess), 
    null != a.onError && this.onError.attach(a.onError));
}

function ExiDataAdapter(a) {
    this.async = !0, this.onSuccess = new Event(this), this.onError = new Event(this), 
    null != a && (null != a.async && (this.async = a.async), null != a.onSuccess && this.onSuccess.attach(a.onSuccess), 
    null != a.onError && this.onError.attach(a.onError));
}

function ExiDataAdapterGroup(a) {
    this.offline = new ExiDataAdapter(a);
}

function AutoProcIntegrationDataAdapter(a) {
    DataAdapter.call(this, a);
}

function DataCollectionDataAdapter(a) {
    DataAdapter.call(this, a);
}

function MxDataAdapterFactory(a) {
    this.proposal = new ProposalDataAdapterGroup(a), this.mx = new MxDataAdapterGroup(a), 
    this.saxs = new SaxsDataAdapterGroup(a), this.exi = new ExiDataAdapterGroup(a);
}

function MxDataAdapterGroup(a) {
    this.autoProcIntegrationDataAdapter = new AutoProcIntegrationDataAdapter(a), this.dataCollection = new DataCollectionDataAdapter(a);
}

function AuthenticationDataAdapter(a) {
    DataAdapter.call(this, a);
}

function DataAdapterFactory(a) {
    this.proposal = new ProposalDataAdapterGroup(a);
}

function DewarDataAdapter(a) {
    DataAdapter.call(this, a);
}

function ProposalDataAdapter(a) {
    DataAdapter.call(this, a);
}

function ProposalDataAdapterGroup(a) {
    this.authentication = new AuthenticationDataAdapter(a), this.dewar = new DewarDataAdapter(a), 
    this.proposal = new ProposalDataAdapter(a), this.shipping = new ShippingDataAdapter(a), 
    this.session = new SessionDataAdapter(a);
}

function SessionDataAdapter(a) {
    DataAdapter.call(this, a);
}

function ShippingDataAdapter(a) {
    DataAdapter.call(this, a);
}

function ProposalManager() {}

function BufferSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function DataCollectionSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function Experiment(a) {
    this.json = a, this.onSaved = new Event(this), this.onError = new Event(this), this.name = a.name, 
    this.experimentId = a.experimentId, this.creationDate = a.creationDate, this.onPlateSaved = new Event(this), 
    this.bufferColors = $.extend({}, EXI.proposalManager.getBufferColors()), this.specimenBuffersColors = this.getSpecimenColors();
    for (var b in this.bufferColors) this.bufferColors[b] = "black";
    this.setMacromoleculesColors();
}

function ExperimentList(a) {
    this.experiments = a, this.macromoleculeColors = {};
    for (var b = 0; b < a.length; b++) this.macromoleculeColors = $.extend({}, this.macromoleculeColors, a[b].macromoleculeColors);
}

function ExperimentSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function FrameSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function HPLCSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function MacromoleculeSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function MeasurementSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function ModelSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function SaxsDataAdapterFactory(a) {
    this.proposal = new ProposalDataAdapterGroup(a), this.mx = new MxDataAdapterGroup(a), 
    this.saxs = new SaxsDataAdapterGroup(a), this.exi = new ExiDataAdapterGroup(a);
}

function SaxsDataAdapterGroup(a) {
    this.experiment = new ExperimentSaxsDataAdapter(a), this.buffer = new BufferSaxsDataAdapter(a), 
    this.macromolecule = new MacromoleculeSaxsDataAdapter(a), this.hplc = new HPLCSaxsDataAdapter(a), 
    this.measurement = new MeasurementSaxsDataAdapter(a), this.specimen = new SpecimenSaxsDataAdapter(a), 
    this.stockSolution = new StockSolutionSaxsDataAdapter(a), this.subtraction = new SubtractionSaxsDataAdapter(a), 
    this.dataCollection = new DataCollectionSaxsDataAdapter(a), this.template = new TemplateSaxsDataAdapter(a), 
    this.frame = new FrameSaxsDataAdapter(a), this.model = new ModelSaxsDataAdapter(a);
}

function SpecimenSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function StockSolutionSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function SubtractionSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function TemplateSaxsDataAdapter(a) {
    DataAdapter.call(this, a);
}

function MainMenu(a) {
    this.id = BUI.id(), this.loginButtonId = "loginButton" + this.id, this.cssClass = "mainMenu", 
    this.isHidden = !0, null != a && (null != a.cssClass && (this.cssClass = a.cssClass), 
    null != a.isHidden && (this.isHidden = a.isHidden));
}

function MXMainMenu() {
    this.id = BUI.id(), MainMenu.call(this, {
        cssClass: "mxMainMenu"
    });
}

function SAXSMainMenu() {
    this.id = BUI.id(), MainMenu.call(this, {
        isHidden: !1,
        cssClass: "mainMenu"
    });
}

function ExiController() {
    this.init();
}

function MXExiController() {
    this.init();
}

function OfflineExiController() {
    this.init();
}

function ProposalExiController() {
    this.init();
}

function SAXSExiController() {
    this.init();
}

function Credential(a, b, c, d, e, f, g) {
    this.username = a.toLowerCase(), this.roles = b, this.url = d, this.exiUrl = e, 
    this.token = c, this.activeProposals = f, this.properties = g;
}

function CredentialManager() {
    this.onLogin = new Event(this), this.onLogout = new Event(this), this.onActiveProposalChanged = new Event(this);
}

function DygraphWidget(a, b) {
    this.width = 1e3, this.height = 600, this.labelsWidth = 100, this.targetId = a, 
    this.customBars = !1, this.ylabel = "", this.xlabel = "", this.id = BUI.id(), this.showRangeSelector = !1, 
    this.interactionModel = null, this.labelsDivStyles = null, this.ranges = [], null != b && (null != b.width && (this.width = b.width), 
    null != b.height && (this.height = b.height), null != b.labelsWidth && (this.labelsWidth = b.labelsWidth), 
    null != b.labelsDivStyles && (this.labelsDivStyles = b.labelsDivStyles), null != b.customBars && (this.customBars = b.customBars), 
    null != b.ylabel && (this.ylabel = b.ylabel), null != b.xlabel && (this.xlabel = b.xlabel), 
    null != b.showRangeSelector && (this.showRangeSelector = b.showRangeSelector), null != b.interactionModel && (this.interactionModel = b.interactionModel), 
    null != b.scaled && (this.scaled = b.scaled), null != b.ranges && (this.ranges = b.ranges)), 
    this.onZoomX = new Event(this), this.onResetZoom = new Event(this), this.dblclick = new Event(this);
}

function StdDevDyGraph(a, b) {
    this.scaled = !1, null == b && (b = {}), b.customBars = !0, DygraphWidget.prototype.constructor.call(this, a, b);
}

function Event(a) {
    this._sender = a, this._listeners = [];
}

function ProgressBar() {}

function TimeLineWidget() {
    this.id = "test", this.targetId = "timeline" + BUI.id(), this.width = 1e3, this.onSelected = new Event(this);
}

function AddressForm(a) {
    this.id = BUI.id(), this.height = 500, this.width = 500, this.isSaveButtonHidden = !1, 
    this.isHidden = !1, null != a && (null != a.height && (this.height = a.height), 
    null != a.width && (this.width = a.width), null != a.isSaveButtonHidden && (this.isSaveButtonHidden = a.isSaveButtonHidden), 
    null != a.isHidden && (this.isHidden = a.isHidden));
}

function AbinitioForm(a) {
    this.id = BUI.id(), this.width = null, this.height = null, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height));
    var b = this;
    this.abinitioGrid = new AbinitioGrid({
        width: 700,
        height: 600
    }), this.abinitioGrid.onSelected.attach(function(a, c) {
        var d = [];
        for (var e in c) d.push(c[e].modelId);
        b.curvePlotter.loadUrl(EXI.getDataAdapter().saxs.frame.getFramesURL([], [], [], [], [], d)), 
        b._renderPDB(d);
    }), this.curvePlotter = new CurvePlotter({}), this.viewer = new PDBViewer({
        width: 500,
        height: 300
    });
}

function AuthenticationForm() {
    this.onAuthenticate = new Event(this);
}

function BufferForm(a) {
    this.id = BUI.id(), this.height = 500, this.width = 500, null != a && (null != a.height && (this.height = a.height), 
    null != a.width && (this.width = a.width)), this.onRemoveAdditive = new Event(this);
}

function CaseForm(a) {
    this.width = 600, this.showTitle = !0, null != a && null != a.showTitle && (this.showTitle = a.showTitle), 
    this.onSaved = new Event(this);
}

function DataReductionForm(a) {
    this.id = BUI.id(), this.width = null, this.height = null, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height));
    this.plotWidget = new PlotWidget({
        width: 650,
        height: 490
    }), this.selectedItems = {
        frames: [],
        averages: [],
        subtractions: []
    };
}

function ExperimentHeaderForm(a) {
    this.id = BUI.id(), this.backgroundColor = "#FFFFFF";
}

function AssemblyForm(a) {
    this.id = BUI.id(), this.width = 700, this.height = 500, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height)), this.molarityGrid = new MolarityGrid({
        height: this.height - 50
    });
}

function MacromoleculeForm(a) {
    this.id = BUI.id(), this.width = 700, this.height = 700, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height)), this.onSave = new Event(this), this.onClose = new Event(this);
}

function MolarityForm(a) {
    this.id = BUI.id(), this.width = 700, this.height = 500, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height)), this.onSave = new Event(this), this.onClose = new Event(this);
}

function RigidBodyModelingForm(a) {
    this.id = BUI.id(), this.width = 700, this.height = 500, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height));
    var b = this;
    this.rigidBodyGrid = new AprioriRigidBodyGrid(), this.rigidBodyGrid.onUploadFile.attach(function(a, c, d) {
        b.openUploadManager(EXI.getDataAdapter().saxs.macromolecule.getAddPDBURL(b.macromolecule.macromoleculeId));
    }), this.rigidBodyGrid.onRemove.attach(function(a, c, d) {
        b._update();
    }), this.onSave = new Event(this);
}

function PuckForm(a) {
    this.id = BUI.id(), this.height = 500, this.width = 500, null != a && (null != a.height && (this.height = a.height), 
    null != a.width && (this.width = a.width)), this.onSaved = new Event(this);
}

function ShipmentForm(a) {
    this.id = BUI.id(), null != a && null != a.creationMode && (this.creationMode = a.creationMode), 
    this.sendingAddressForm = new AddressForm({
        isSaveButtonHidden: !0
    }), this.returnAddressForm = new AddressForm({
        isSaveButtonHidden: !0,
        isHidden: !0
    }), this.onSaved = new Event(this);
}

function StockSolutionForm(a) {
    this.id = BUI.id(), this.actions = [], this.height = 500, null != a && (null != a.actions && (this.actions = a.actions), 
    null != a.height && (this.height = a.height)), this.onSaved = new Event(this);
}

function GrayScalePlot(a) {
    this.width = 500, this.height = 100, this.id = BUI.id(), null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height));
}

function AbinitioGrid(a) {
    this.height = null, this.width = null, this.id = BUI.id(), null != a && null != a.height && (this.height = a.height, 
    null != a.width && (this.width = a.width)), this.onSelected = new Event(this);
}

function AprioriRigidBodyGrid(a) {
    this.height = 250, this.btnEditVisible = !0, this.btnRemoveVisible = !0, null != a && (null != a.height && (this.height = a.height), 
    null != a.btnEditVisible && (this.btnEditVisible = a.btnEditVisible), null != a.btnRemoveVisible && (this.btnRemoveVisible = a.btnRemoveVisible)), 
    this.onUploadFile = new Event(this), this.onRemove = new Event(this);
}

function BufferGrid(a) {
    this.height = 500, this.searchBar = !1, this.tbar = !1, this.collapsed = !1, this.id = BUI.id(), 
    this.collapsible = !1, null != a && (null != a.height && (this.height = a.height), 
    null != a.searchBar && (this.searchBar = a.searchBar), null != a.tbar && (this.tbar = a.tbar), 
    null != a.collapsed && (this.collapsed = a.collapsed), null != a.width && (this.width = a.width)), 
    this.onUpdated = new Event(this);
}

function CaseGrid(a) {
    this.height = 100, this.btnEditVisible = !0, this.btnRemoveVisible = !0, null != a && (null != a.height && (this.height = a.height), 
    null != a.btnEditVisible && (this.btnEditVisible = a.btnEditVisible), null != a.btnRemoveVisible && (this.btnRemoveVisible = a.btnRemoveVisible)), 
    this.onSuccess = new Event(this), this.onAdd = new Event(this), this.onRemove = new Event(this);
}

function ExperimentGrid(a) {
    this.width = "100%", this.height = 700, this.minHeight = 500, this.id = BUI.id(), 
    this.gridType = "Ext.grid.Panel", this.tbar = !1, this.hideHeaders = !1, this.grouping = !0, 
    this.title = null, this.filtered = null, this.limit = 100, this.sessionIdFilter = null, 
    this.date = null, this.sorters = [ {
        property: "date",
        direction: "DESC"
    }, {
        property: "time",
        direction: "DESC"
    } ], this.dates = {}, null != a && (null != a.height && (this.height = a.height), 
    null != a.limit && (this.limit = a.limit), null != a.sorters && (this.sorters = a.sorters), 
    null != a.sessionId && (this.sessionIdFilter = a.sessionId), null != a.filtered && (this.filtered = a.filtered), 
    null != a.minHeight && (this.minHeight = a.minHeight), null != a.gridType && (this.gridType = a.gridType), 
    null != a.tbar && (this.tbar = a.tbar), null != a.grouping && (this.grouping = a.grouping), 
    null != a.width && (this.width = a.width), null != a.title && (this.title = a.title)), 
    this.onEditButtonClicked = new Event(this);
}

function FrameSelectorGrid(a) {
    this.onSelectionChange = new Event(this);
}

function MacromoleculeGrid(a) {
    this.height = 500, this.width = 500, this.id = BUI.id(), this.maxHeight = this.height, 
    this.searchBar = !1, this.tbar = !1, this.collapsible = !0, this.collapsed = !0, 
    this.btnEditVisible = !0, this.btnRemoveVisible = !1, this.multiselect = !1, this.cssFontStyle = null, 
    null != a && (null != a.height && (this.height = a.height, this.maxHeight = this.height), 
    null != a.maxHeight && (this.maxHeight = a.maxHeight), null != a.width && (this.width = a.width), 
    null != a.cssFontStyle && (this.cssFontStyle = a.cssFontStyle), null != a.searchBar && (this.searchBar = a.searchBar), 
    null != a.tbar && (this.tbar = a.tbar), null != a.collapsible && (this.collapsible = a.collapsible), 
    null != a.collapsed && (this.collapsed = a.collapsed), null != a.btnEditVisible && (this.btnEditVisible = a.btnEditVisible), 
    null != a.btnRemoveVisible && (this.btnRemoveVisible = a.btnRemoveVisible), null != a.multiselect && (this.multiselect = a.multiselect)), 
    this.onSelected = new Event(), this.onMacromoleculesChanged = new Event();
}

function MeasurementGrid(a) {
    this.id = BUI.id(), this.height = 500, this.width = 900, this.maxWidth = 1200, this.minHeight = 500, 
    this.unitsFontSize = 9, this.title = "Measurements", this.estimateTime = !1, this.collapsed = !0, 
    this.tbar = !0, this.showTitle = !0, this.resizable = !0, this.updateRowEnabled = !0, 
    this.isStatusColumnHidden = !0, this.isTimeColumnHidden = !0, this.removeBtnEnabled = !0, 
    this.margin = "10 10 0 10", this.height = 250, this.maxHeight = 250, this.collapsible = !1, 
    this.addBtnEnable = !1, this.editor = {
        comments: {
            xtype: "textfield",
            allowBlank: !0
        }
    }, this.sorter = [ {
        property: "priority",
        direction: "ASC"
    } ], null != a && (null != a.selModel && (this.selModel = a.selModel), null != a.removeBtnEnabled && (this.removeBtnEnabled = a.removeBtnEnabled), 
    null != a.addBtnMultipleEdit && (this.addBtnMultipleEdit = a.addBtnMultipleEdit), 
    null != a.collapsed && (this.collapsed = a.collapsed), null != a.resizable && (this.resizable = a.resizable), 
    null != a.editor && (this.editor = a.editor), null != a.collapseBtnEnable && (this.collapseBtnEnable = a.collapseBtnEnable), 
    null != a.addBtnEnable && (this.addBtnEnable = a.addBtnEnable), null != a.sortingBtnEnable && (this.sortingBtnEnable = a.sortingBtnEnable), 
    null != a.isPriorityColumnHidden && (this.isPriorityColumnHidden = a.isPriorityColumnHidden), 
    null != a.width && (this.width = a.width), null != a.updateRowEnabled && (this.updateRowEnabled = a.updateRowEnabled), 
    null != a.showTitle && (this.showTitle = a.showTitle, 0 == this.showTitle && (this.title = null)), 
    null != a.height && (this.height = a.height), null != a.maxHeight && (this.maxHeight = a.maxHeight), 
    null != a.minHeight && (this.minHeight = a.minHeight), null != a.maxWidth && (this.maxWidth = a.maxWidth), 
    null != a.isStatusColumnHidden && (this.isStatusColumnHidden = a.isStatusColumnHidden), 
    null != a.isTimeColumnHidden && (this.isTimeColumnHidden = a.isTimeColumnHidden), 
    null != a.title && (this.title = a.title), null != a.estimateTime && (this.estimateTime = a.estimateTime), 
    null != a.margin && (this.margin = a.margin), null != a.tbar && (this.tbar = a.tbar), 
    null != a.sorter && (this.sorter = a.sorter)), this.onRemoved = new Event(this), 
    this.onMeasurementChanged = new Event(this), this.onExperimentChanged = new Event(this);
}

function MolarityGrid(a) {
    this.height = 100, this.width = 100, null != a && (null != a.height && (this.height = a.height), 
    null != a.width && (this.width = a.width));
    var b = this;
    this.molarityForm = new MolarityForm({
        height: 180,
        width: 455
    }), this.molarityForm.onSave.attach(function(a) {
        b.molarityWindow.destroy(), b.updateProposal();
    }), this.molarityForm.onClose.attach(function(a) {
        b.molarityWindow.destroy();
    }), this.onEditButtonClicked = new Event(this);
}

function ProposalGrid(a) {
    this.height = 500, this.tbar = !1, this.id = BUI.id(), null != a && (null != a.height && (this.height = a.height), 
    null != a.searchBar && (this.searchBar = a.searchBar), null != a.tbar && (this.tbar = a.tbar), 
    null != a.collapsed && (this.collapsed = a.collapsed), null != a.width && (this.width = a.width)), 
    this.onSelected = new Event(this);
}

function QueueGrid(a) {
    this.decimals = 3, this.onSelect = new Event(), this.maxHeight = 600, this.id = BUI.id(), 
    this.title = "Data Collections", this.key = {}, this.selectionMode = "MULTI", this.collapsible = !0, 
    this.collapsed = !1;
    var b = this;
    this.filters = [ function(a) {
        return null == a.data.dataCollectionId ? !1 : (null == b.key[a.data.dataCollectionId] && (b.key[a.data.dataCollectionId] = []), 
        b.key[a.data.dataCollectionId].push(a.data), null != a.data.macromoleculeId);
    } ], null != a && (null != a.maxHeight && (this.maxHeight = a.maxHeight), null != a.collapsible && (this.collapsible = a.collapsible), 
    null != a.collapsed && (this.collapsed = a.collapsed), null != a.selectionMode && (this.selectionMode = a.selectionMode), 
    null != a.title && 0 == a.title && (this.title = null)), this.selected = [], this.onSelectionChange = new Event(), 
    this.onDeselect = new Event(this), this.onSelect = new Event(this);
}

function RigidModelGrid(a) {
    this.height = null, this.width = null, this.id = BUI.id(), null != a && null != a.height && (this.height = a.height, 
    null != a.width && (this.width = a.width)), this.onSelected = new Event(this);
}

function SessionGrid(a) {
    this.height = 500, this.tbar = !1, this.id = BUI.id(), this.width = 100, this.title = null, 
    this.margin = null, this.hiddenGoColumn = !0, null != a && (null != a.title && (this.title = a.title), 
    null != a.margin && (this.margin = a.margin), null != a.height && (this.height = a.height), 
    null != a.tbar && (this.tbar = a.tbar), null != a.width && (this.width = a.width), 
    null != a.hiddenGoColumn && (this.hiddenGoColumn = a.hiddenGoColumn)), this.onSelected = new Event(this);
}

function SpecimenGrid(a) {
    this.id = BUI.id(), this.height = 500, this.unitsFontSize = 9, this.editEnabled = !1, 
    this.isPositionColumnHidden = !1, this.removeBtnEnabled = !1, this.updateRowEnabled = !1, 
    this.grouped = !0, this.width = 900, this.title = "Specimens", this.margin = "0 0 0 0", 
    null != a && (null != a.height && (this.height = a.height), 0 == a.showTitle && (this.title = null), 
    0 == a.margin && (this.margin = a.margin), 0 == a.grouped && (this.grouped = null), 
    null != a.width && (this.width = a.width), null != a.editEnabled && (this.editEnabled = a.editEnabled), 
    null != a.removeBtnEnabled && (this.removeBtnEnabled = a.removeBtnEnabled), null != a.isPositionColumnHidden && (this.isPositionColumnHidden = a.isPositionColumnHidden), 
    null != a.updateRowEnabled && (this.updateRowEnabled = a.updateRowEnabled)), this.onClick = new Event(this), 
    this.onSelected = new Event(this), this.onRemoved = new Event(this), this.onSpecimenChanged = new Event();
}

function StockSolutionGrid(a) {
    this.id = BUI.id(), this.tbar = !0, this.title = "Stock Solutions", this.btnEditVisible = !0, 
    this.btnRemoveVisible = !0, this.btnAddVisible = !0, this.btnAddExisting = !1, this.isPackedVisible = !0, 
    this.btnUnpackVisible = !1, this.multiselect = !1, this.selectedStockSolutions = [], 
    null != a && (null != a.btnUnpackVisible && (this.btnUnpackVisible = a.btnUnpackVisible), 
    null != a.multiselect && (this.multiselect = a.multiselect), null != a.height && (this.height = a.height), 
    null != a.btnEditVisible && (this.btnEditVisible = a.btnEditVisible), null != a.btnAddVisible && (this.btnAddVisible = a.btnAddVisible), 
    null != a.btnAddExisting && (this.btnAddExisting = a.btnAddExisting), null != a.width && (this.width = a.width), 
    null != a.minHeight && (this.minHeight = a.minHeight), null != a.tbar && (this.tbar = a.tbar), 
    null != a.btnRemoveVisible && (this.btnRemoveVisible = a.btnRemoveVisible), null != a.isPackedVisible && (this.isPackedVisible = a.isPackedVisible), 
    null != a.showTitle && (this.showTitle = a.showTitle, 0 == this.showTitle && (this.title = null))), 
    this.onSaved = new Event(this), this.onUnpack = new Event(this), this.onPack = new Event(this);
}

function TemplateGrid(a) {
    this.height = 500;
}

function VolumeGrid() {
    this.id = BUI.id();
}

function HPLCGraph(a) {
    this.width = 600, this.height = 600, this.title = "", this.bbar = !1, this.plotInnerPanelPadding = 10, 
    this.plotPanelPadding = 10, this.id = BUI.id(), this.hidePlots = null, this.xlabel = "", 
    this.scaled = !1, this.xParam = null, this.showRangeSelector = !0, this.interactionModel = null, 
    this.ranges = {}, null != a && (null != a.interactionModel && (this.interactionModel = a.interactionModel), 
    null != a.width && (this.width = a.width), null != a.height && (this.height = a.height), 
    null != a.bbar && (this.bbar = a.bbar), null != a.title && (this.title = a.title), 
    null != a.plots && (this.plots = a.plots), null != a.scaled && (this.scaled = a.scaled), 
    null != a.xlabel && (this.xlabel = a.xlabel), null != a.xParam && (this.xParam = a.xParam), 
    null != a.showRangeSelector && (this.showRangeSelector = a.showRangeSelector)), 
    this.onZoomX = new Event(this), this.onResetZoom = new Event(this), this.dblclick = new Event(this), 
    this.onClearSelection = new Event(this);
}

function MergesHPLCGraph(a) {
    HPLCGraph.prototype.constructor.call(this, a), this.peakColors = [ "#DEBD00", "#6D9100", "#872900", "#0092CC" ];
}

function ImageResolutionViewer() {
    this.id = BUI.id(), this.ratio = 3, this.canvasWidth = 1475 / this.ratio, this.canvasHeight = 1679 / this.ratio, 
    this.canvasZoomWidth = 1475 / this.ratio, this.canvasZoomHeight = 1679 / this.ratio, 
    this.zoomRatio = 5, this.localCenter = null;
    var a = this;
    this.zoom = 1, this.offsetX = 0, this.offsetY = 0, this.image = new ImageViewer({
        width: this.canvasWidth / this.zoomRatio,
        height: this.canvasHeight / this.zoomRatio,
        zoom: this.zoom,
        offsetX: this.offsetX,
        offsetY: this.offsetY,
        allowLuminance: !1
    }), this.zoomImage = new ImageViewer({
        width: this.canvasWidth,
        height: this.canvasHeight,
        zoom: this.zoom,
        offsetX: this.offsetX,
        offsetY: this.offsetY
    }), this.image.onMouseOver.attach(function(a, b) {}), this.image.onMouseRightDown.attach(function(b) {
        a.zoom = 1, a.zoomImage.zoom = a.zoom, a.zoomImage.offsetX = 0, a.zoomImage.offsetY = 0, 
        a.zoomImage.reload(function() {});
    }), this.zoomImage.onMouseRightDown.attach(function(b) {
        a.zoom = 1, a.zoomImage.zoom = a.zoom, a.zoomImage.offsetX = 0, a.zoomImage.offsetY = 0, 
        a.zoomImage.reload(function() {});
    }), this.image.onRendered.attach(function(b) {
        a.onImageRendered.notify(a.image.getMatrix());
    }), this.image.onDblClick.attach(function(b, c) {
        c.x = c.x * a.zoomRatio, c.y = c.y * a.zoomRatio, c.localY = c.localY * a.zoomRatio, 
        c.localX = c.localX * a.zoomRatio, a.zoomImage.applyZoomOnPoint(c, a.zoom);
    }), this.image.onMouseDown.attach(function(a, b) {}), this.image.onMouseUp.attach(function(a, b) {}), 
    this.image.onMouseClick.attach(function(a, b) {}), this.image.onLuminanceCalculated.attach(function(a, b) {}), 
    this.zoomImage.onLuminanceCalculated.attach(function(b, c) {
        a.zoomGrayScalePlot.load(c);
    }), this.zoomImage.onLuminanceReset.attach(function(b, c) {
        a.zoomGrayScalePlot.reset();
    }), this.zoomGrayScalePlot = new GrayScalePlot({
        width: this.canvasWidth
    }), this.onImageRendered = new Event(this);
}

function ImageViewer(a) {
    this.width = 500, this.height = 500, this.id = BUI.id(), this.center = null, this.url = null, 
    this.zoom = 1, this.offsetX = 0, this.offsetY = 0, this._isDragging = !1, this._draggingPoint = {
        x: 0,
        y: 0
    }, this.selectedPoints = [], this.allowLuminance = !0, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height), null != a.zoom && (this.zoom = a.zoom), 
    null != a.offsetX && (this.offsetX = a.offsetX), null != a.offsetY && (this.offsetY = a.offsetY), 
    null != a.allowLuminance && (this.allowLuminance = a.allowLuminance)), this.selectedPoints = [], 
    this.onMouseOver = new Event(this), this.onMouseClick = new Event(this), this.onMouseDown = new Event(this), 
    this.onMouseUp = new Event(this), this.onDblClick = new Event(this), this.onMouseRightDown = new Event(this), 
    this.onLuminanceCalculated = new Event(this), this.onLuminanceReset = new Event(this), 
    this.onRendered = new Event(this);
}

function AutoProcIntegrationAttachmentGrid(a) {
    this.height = 500, this.tbar = !1, this.id = BUI.id(), this.maxHeight = 300, this.margin = "10 0 0 0", 
    null != a && (null != a.height && (this.height = a.height), null != a.searchBar && (this.searchBar = a.searchBar), 
    null != a.tbar && (this.tbar = a.tbar), null != a.collapsed && (this.collapsed = a.collapsed), 
    null != a.width && (this.width = a.width), null != a.margin && (this.margin = a.margin), 
    null != a.maxHeight && (this.maxHeight = a.maxHeight)), this.onSelected = new Event(this);
}

function AutoProcIntegrationGrid(a) {
    this.height = 500, this.tbar = !1, this.id = BUI.id(), this.preventSelection = !1, 
    this.maxHeight = 500, this.minHeight = 500, null != a && (null != a.height && (this.height = a.height), 
    null != a.maxHeight && (this.maxHeight = a.maxHeight), null != a.searchBar && (this.searchBar = a.searchBar), 
    null != a.tbar && (this.tbar = a.tbar), null != a.collapsed && (this.collapsed = a.collapsed), 
    null != a.width && (this.width = a.width)), this.onSelected = new Event(this);
}

function DataCollectionMxGrid(a) {
    this.pageSize = 100, this.title = "Last Data Collection", this.listOfCrystalClass = [], 
    this.contextPath = "", this.displayLastCollect = !1, this.isManager = !1, this.isIndustrial = !1, 
    this.pagingMode = !1, this.groupFieldDefault = "", this.setArgs(a), this.onSaveButtonClicked = new Event(this), 
    this.onPagingMode = new Event(this), this.onRankButtonClicked = new Event(this), 
    this.onRankAutoProcButtonClicked = new Event(this), this.hideCol = !0, this.rankEDNA = !0, 
    this.minDCId = 1, this.maxDCId = 0, this.rMergeCutoff = 10, this.iSigmaCutoff = 1, 
    Ext.define("DataCollectionModel", {
        extend: "Ext.data.Model",
        fields: [ {
            name: "dataCollectionId",
            mapping: "dataCollectionId"
        }, {
            name: "experimentType",
            mapping: "experimentType"
        }, {
            name: "startTime",
            mapping: "startTime",
            type: "date",
            dateFormat: "d-m-Y H:i:s"
        }, {
            name: "endTime",
            mapping: "endTime",
            type: "date",
            dateFormat: "d-m-Y H:i:s"
        }, {
            name: "beamLineName",
            mapping: "beamLineName"
        }, {
            name: "proposal",
            mapping: "proposal"
        }, {
            name: "login",
            mapping: "login"
        }, {
            name: "imagePrefix",
            mapping: "imagePrefix"
        }, {
            name: "dataCollectionNumber",
            mapping: "dataCollectionNumber"
        }, {
            name: "proteinAcronym",
            mapping: "proteinAcronym"
        }, {
            name: "pdbFileName",
            mapping: "pdbFileName"
        }, {
            name: "numberOfImages",
            mapping: "numberOfImages"
        }, {
            name: "hasSnapshot",
            mapping: "hasSnapshot"
        }, {
            name: "runStatus",
            mapping: "runStatus"
        }, {
            name: "autoProc",
            mapping: "autoProc"
        }, {
            name: "autoProcStatisticsOverall",
            mapping: "autoProcStatisticsOverall"
        }, {
            name: "autoProcStatisticsInner",
            mapping: "autoProcStatisticsInner"
        }, {
            name: "autoProcStatisticsOuter",
            mapping: "autoProcStatisticsOuter"
        }, {
            name: "screeningOutput",
            mapping: "screeningOutput"
        }, {
            name: "lattice",
            mapping: "lattice"
        }, {
            name: "comments",
            mapping: "comments"
        }, {
            name: "autoprocessingStatus",
            mapping: "autoprocessingStatus"
        }, {
            name: "autoprocessingStep",
            mapping: "autoprocessingStep"
        }, {
            name: "wavelength",
            mapping: "wavelength"
        }, {
            name: "transmission",
            mapping: "transmission"
        }, {
            name: "exposureTime",
            mapping: "exposureTime"
        }, {
            name: "axisStart",
            mapping: "axisStart"
        }, {
            name: "axisRange",
            mapping: "axisRange"
        }, {
            name: "resolution",
            mapping: "resolution"
        }, {
            name: "transmission",
            mapping: "transmission"
        }, {
            name: "hasAutoProcAttachment",
            mapping: "hasAutoProcAttachment"
        }, {
            name: "printableForReport",
            mapping: "printableForReport"
        }, {
            name: "skipForReport",
            mapping: "skipForReport"
        } ],
        idProperty: "dataCollectionId"
    });
}

function DataCollectionSummaryGrid(a) {
    this.id = BUI.id(), this.tbar = !0, this.title = "Stock Solutions", this.btnEditVisible = !0, 
    this.btnRemoveVisible = !0, this.btnAddVisible = !0, this.btnAddExisting = !1, this.isPackedVisible = !0, 
    this.btnUnpackVisible = !1, this.multiselect = !1, this.selectedStockSolutions = [], 
    null != a && (null != a.btnUnpackVisible && (this.btnUnpackVisible = a.btnUnpackVisible), 
    null != a.multiselect && (this.multiselect = a.multiselect), null != a.height && (this.height = a.height), 
    null != a.btnEditVisible && (this.btnEditVisible = a.btnEditVisible), null != a.btnAddVisible && (this.btnAddVisible = a.btnAddVisible), 
    null != a.btnAddExisting && (this.btnAddExisting = a.btnAddExisting), null != a.width && (this.width = a.width), 
    null != a.minHeight && (this.minHeight = a.minHeight), null != a.tbar && (this.tbar = a.tbar), 
    null != a.btnRemoveVisible && (this.btnRemoveVisible = a.btnRemoveVisible), null != a.isPackedVisible && (this.isPackedVisible = a.isPackedVisible), 
    null != a.showTitle && (this.showTitle = a.showTitle, 0 == this.showTitle && (this.title = null))), 
    this.onSaved = new Event(this), this.onUnpack = new Event(this), this.onPack = new Event(this);
}

function PhasingGrid(a) {
    this.height = 500, this.tbar = !1, this.id = BUI.id(), this.preventSelection = !1, 
    this.maxHeight = 500, this.minHeight = 500, this.margin = null, null != a && (null != a.height && (this.height = a.height), 
    null != a.maxHeight && (this.maxHeight = a.maxHeight), null != a.searchBar && (this.searchBar = a.searchBar), 
    null != a.tbar && (this.tbar = a.tbar), null != a.collapsed && (this.collapsed = a.collapsed), 
    null != a.width && (this.width = a.width), null != a.margin && (this.margin = a.margin)), 
    this.onSelected = new Event(this);
}

function PDBViewer(a) {
    this.id = BUI.id(), this.glMol = null, this.width = 600, this.height = 600, this.title = "", 
    this.margin = "10 0 0 5", null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height), null != a.title && (this.title = a.title), 
    null != a.margin && (this.margin = a.margin));
}

function SuperpositionPDBViewer(a) {
    this.width = 550, this.height = 500, null != a && null != a.actions && (this.actions = a.actions);
    this.form = new BufferForm(), this.onSuccess = new Event(), PDBViewer.prototype.constructor.call(this, a);
}

function AlignedSuperpositionPDBViewer(a) {
    this.width = 550, this.height = 500, null != a && null != a.actions && (this.actions = a.actions);
    this.form = new BufferForm(), this.onSuccess = new Event(), PDBViewer.prototype.constructor.call(this, a);
}

function StructurePDBViewer(a) {
    this.width = 550, this.height = 500, null != a && null != a.actions && (this.actions = a.actions);
    this.form = new BufferForm(), this.onSuccess = new Event(), PDBViewer.prototype.constructor.call(this, a);
}

function CurvePlotter(a) {
    this.id = BUI.id(), this.backgroundColor = "#FFFFFF", this.margin = "0 0 0 5", this.ruleColor = "black", 
    this.targetId = "plotCanvas" + BUI.id(), this.legend = "onmouseover", null != a && (null != a.margin && (this.margin = a.margin), 
    null != a.legend && (this.legend = a.legend)), this.onRendered = new Event(this), 
    this.onPointClickCallback = new Event();
}

function AutoProcIntegrationCurvePlotter(a) {
    CurvePlotter.call(this, a), this.margin = "10 0 0 0", this.height = null, this.title = "", 
    null != a && (null != a.height && (this.height = a.height), null != a.title && (this.title = a.title));
}

function DataSet() {
    this.json = null;
}

function GraphCanvas(a, b, c) {
    this.args = {}, this.targetID = b.id, this.id = a, this.args.idGraph = this.id + "main", 
    this.args.idBackgroundNode = this.id + "background", this.args.idEdgesGraph = this.id + "edges", 
    this.args.idNodesGraph = this.id + "vertices", this.args.idLabelGraph = this.id + "label", 
    this.args.idBackground = this.id + "background", this.dataset = null, this.formatter = null, 
    this.layout = null, this.circleDefaultRadius = 2, this.squareDefaultSide = 1.5 * this.circleDefaultRadius, 
    this.arrowDefaultSize = this.circleDefaultRadius, this.GraphGroup = null, this.GraphNodeGroup = null, 
    this.GraphLabelGroup = null, this.GraphBackground = null, this.args.draggingCanvasEnabled = !1, 
    this.args.multipleSelectionEnabled = !1, this.args.interactive = !1, this.args.labeled = !1, 
    this.args.linkEnabled = !1, this.args.maxNumberEdgesMoving = 3, this.args.maxNumberEdgesFiringEvents = 50, 
    this.args.linking = !1, this.linkStartX = 0, this.linkStartY = 0, this.linkSVGNode = null, 
    this.linkNodeSource = null, this.linkNodeTarget = null, this.draggingElement = null, 
    this.dragging = !1, this.nMouseOffsetX = 0, this.nMouseOffsetY = 0, this.dragStartX = 0, 
    this.dragStartY = 0, this.desplazamientoX = 0, this.desplazamientoY = 0, this.selecting = !1, 
    this.selectorX = null, this.selectorY = null, this.selectorSVGNode = null, this.args.isVertexSelected = {}, 
    this.args.selectedVertices = [], this.args.isEdgeSelected = {}, null != c && (null != c.multipleSelectionEnabled && (this.args.multipleSelectionEnabled = c.multipleSelectionEnabled, 
    this.args.draggingCanvasEnabled = !this.args.multipleSelectionEnabled), null != c.draggingCanvasEnabled && (this.args.draggingCanvasEnabled = c.draggingCanvasEnabled, 
    this.args.multipleSelectionEnabled = !this.args.draggingCanvasEnabled), null != c.interactive && (this.args.interactive = c.interactive), 
    null != c.labeled && (this.args.labeled = c.labeled)), this.svgLabels = {}, this.onVertexOut = new Event(this), 
    this.onVertexOver = new Event(this), this.onVertexSelect = new Event(this), this.onEdgeSelect = new Event(this), 
    this.onCanvasClicked = new Event(this), this.onVertexUp = new Event(this);
}

function GraphDataset() {
    DataSet.prototype.constructor.call(this), this.edges = new Object(), this.vertices = new Object(), 
    this.verticesIndex = new Object(), this.newVertex = new Event(this), this.vertexNameChanged = new Event(this), 
    this.vertexDeleted = new Event(this), this.newEdge = new Event(this), this.edgeNameChanged = new Event(this), 
    this.edgeDeleted = new Event(this), this.json = new Object(), this.json.vertices = new Array(), 
    this.json.edges = new Array(), this.json.relations = new Array();
}

function labels() {
    var a = new Array(), b = interactomeViewer.graphEditorWidget.dataset, c = interactomeViewer.graphEditorWidget.layout;
    for (var d in interactomeViewer.graphEditorWidget.dataset.getVertices()) a.push(interactomeViewer.graphEditorWidget.dataset.getVertexById(d).getName());
    var e = a.sort();
    console.log(e);
    for (var f = .01, g = .6, h = 0; h < a.length; h++) {
        var i = b.getVertexByName(a[h]).getId();
        c.getNodeById(i).setCoordenates(f, g), f = parseFloat(f) + parseFloat(.03), g = parseFloat(g) + parseFloat(.02), 
        .9800000000000003 == parseFloat(g) && (g = .6, f -= .51);
    }
}

function GraphItem(a, b, c) {
    this.id = a, this.name = b, this.type = "NONE", this.args = new Object(), null != c && (this.args = c, 
    null != c.type && (this.type = c.type)), this.nameChanged = new Event(this), this.deleted = new Event(this);
}

function ItemGraphFormatter(a, b, c, d, e) {
    this.id = a, this.args = new Object(), this.defaultFormat = new ItemFormat(b), null != c ? this.selected = new ItemFormat(c) : this.selected = new ItemFormat(b), 
    null != d ? this.over = new ItemFormat(d) : this.over = new ItemFormat(b), null != e ? this.dragging = new ItemFormat(e) : this.dragging = new ItemFormat(b), 
    this.stateChanged = new Event(this);
    this._setEvents();
}

function ItemFormat(a) {
    this.defaultFormat = new Object(), this.args = new Object(), this.args.title = new Object(), 
    this.args.visible = !0, this.args.hidden = !1, this.args.stroke = "#000000", this.args.strokeOpacity = .8, 
    this.args["stroke-width"] = 1, this.args.fill = "#000000", this.args["fill-opacity"] = 1, 
    this.args.size = 1, this.args.opacity = 1, this.args.fontSize = "8", this.args.fontColor = "#000000", 
    null != a && (null != a.visible && (this.args.visible = a.visible), null != a.opacity && (this.args.opacity = a.opacity), 
    null != a.size && (this.args.size = a.size), null != a.hidden && (this.args.hidden = a.hidden), 
    null != a.stroke && (this.args.stroke = this._fixColor(a.stroke)), null != a.strokeOpacity && (this.args.strokeOpacity = a.strokeOpacity), 
    null != a["stroke-width"] && (this.args["stroke-width"] = a["stroke-width"]), null != a["fill-opacity"] && (this.args["fill-opacity"] = a["fill-opacity"]), 
    null != a.shape && (this.args.shape = a.shape), null != a.fill && (this.args.fill = this._fixColor(a.fill)), 
    null != a.title && (null != a.title.fontSize && (this.args.title.fontSize = a.title.fontSize), 
    null != a.title.fill && (this.args.title.fill = this._fixColor(a.title.fill)))), 
    this.changed = new Event();
}

function LayoutDataset() {
    this.dataset = null, this.vertices = new Object(), this.changed = new Event(this), 
    this.args = new Object(), this.args.type = "CIRCLE";
}

function NodeLayout(a, b, c, d) {
    this.id = a, this.x = b, this.y = c, this.changed = new Event(this);
}

function NetworkDataSetFormatter(a, b, c) {
    DataSet.prototype.constructor.call(this), this.args = new Object(), this.vertices = new Object(), 
    this.edges = new Object(), this.dataset = null, this.maxClass = 0, this.minClass = 0, 
    this.args.width = 1100, this.args.height = 500, this.args.backgroundColor = "#FFFFFF", 
    this.args.backgroundImage = null, this.args.backgroundImageHeight = null, this.args.backgroundImageWidth = null, 
    this.args.backgroundImageX = null, this.args.backgroundImageY = null, this.args.balanceNodes = !1, 
    this.args.nodesMaxSize = 3, this.args.nodesMinSize = .5, this.args.zoomScale = 1, 
    this.args.zoomScaleStepFactor = .4, null != c && (null != c.backgroundImage && (this.args.backgroundImage = c.backgroundImage), 
    null != c.width && (this.args.width = c.width), null != c.height && (this.args.height = c.height, 
    this.args.svgHeight = c.height), null != c.svgHeight && (this.args.svgHeight = c.svgHeight), 
    null != c.backgroundColor && (this.args.backgroundColor = c.backgroundColor), null != c.balanceNodes && (this.args.balanceNodes = c.balanceNodes), 
    null != c.nodesMaxSize && (this.args.nodesMaxSize = c.nodesMaxSize), null != c.nodesMinSize && (this.args.nodesMinSize = c.nodesMinSize)), 
    this.args.defaultEdgeProperties = {
        fill: "#000000",
        radius: "1",
        stroke: "#000000",
        size: 1,
        title: {
            fontSize: 10,
            fontColor: "#000000"
        }
    }, this.args.vertexFormatProperties = {
        fill: "#000000",
        stroke: "#000000",
        "stroke-opacity": "#000000"
    }, null != a && (this.args.vertexFormatProperties = a), null != b && (this.args.defaultEdgeProperties = b), 
    this.changed = new Event(this), this.edgeChanged = new Event(this), this.resized = new Event(this), 
    this.backgroundImageChanged = new Event(this), this.backgroundColorChanged = new Event(this);
}

function NetworkWidget(a) {
    this.id = "NetworkViewer_" + Math.random().toString().replace(".", "_"), this.label = !0, 
    null != a && (null != a.targetId && (this.targetId = a.targetId), null != a.label && (this.label = a.label)), 
    this.onVertexOver = new Event(this), this.onVertexOut = new Event(this);
}

function Vertex(a, b, c) {
    GraphItem.prototype.constructor.call(this, a, b, c), this.edgesIn = new Array(), 
    this.edgesOut = new Array();
}

function VertexGraphFormatter(a, b, c, d) {
    ItemGraphFormatter.prototype.constructor.call(this, a, b, c, d);
}

function CircleVertexGraphFormatter(a, b, c, d, e) {
    VertexGraphFormatter.prototype.constructor.call(this, a, b, c, d, e), this.args.type = "CircleVertexGraphFormatter", 
    null != b && null != b.radius && (this.defaultFormat.args.radius = b.radius), null != c && null != c.radius && (this.selected.args.radius = c.radius), 
    null != d && null != d.radius && (this.over.args.radius = d.radius), null != e && null != e.radius && (this.dragging.args.draggingFormat = e.radius);
}

function SquareVertexGraphFormatter(a, b, c, d, e) {
    VertexGraphFormatter.prototype.constructor.call(this, a, b, c, d, e), this.args.type = "SquareVertexGraphFormatter", 
    null != b && null != b.radius && (this.defaultFormat.args.radius = b.radius), null != c && null != c.radius && (this.selected.args.radius = c.radius), 
    null != d && null != d.radius && (this.over.args.radius = d.radius), null != e && null != e.radius && (this.dragging.args.draggingFormat = e.radius);
}

function EllipseVertexGraphFormatter(a, b, c, d, e) {
    VertexGraphFormatter.prototype.constructor.call(this, a, b, c, d, e), this.args.type = "EllipseVertexGraphFormatter", 
    null != b && null != b.radius && (this.defaultFormat.args.radius = b.radius), null != c && null != c.radius && (this.selected.args.radius = c.radius), 
    null != d && null != d.radius && (this.over.args.radius = d.radius), null != e && null != e.radius && (this.dragging.args.draggingFormat = e.radius);
}

function RectangleVertexGraphFormatter(a, b, c, d, e) {
    VertexGraphFormatter.prototype.constructor.call(this, a, b, c, d, e), this.args.type = "RectangleVertexGraphFormatter", 
    null != b && null != b.radius && (this.defaultFormat.args.radius = b.radius), null != c && null != c.radius && (this.selected.args.radius = c.radius), 
    null != d && null != d.radius && (this.over.args.radius = d.radius), null != e && null != e.radius && (this.dragging.args.draggingFormat = e.radius);
}

function RoundedVertexGraphFormatter(a, b, c, d, e) {
    VertexGraphFormatter.prototype.constructor.call(this, a, b, c, d, e), this.args.type = "RoundedVertexGraphFormatter", 
    null != b && null != b.radius && (this.defaultFormat.args.radius = b.radius), null != c && null != c.radius && (this.selected.args.radius = c.radius), 
    null != d && null != d.radius && (this.over.args.radius = d.radius), null != e && null != e.radius && (this.dragging.args.draggingFormat = e.radius);
}

function OctagonVertexGraphFormatter(a, b, c, d, e) {
    VertexGraphFormatter.prototype.constructor.call(this, a, b, c, d, e), this.args.type = "OctagonVertexGraphFormatter", 
    null != b && null != b.radius && (this.defaultFormat.args.radius = b.radius), null != c && null != c.radius && (this.selected.args.radius = c.radius), 
    null != d && null != d.radius && (this.over.args.radius = d.radius), null != e && null != e.radius && (this.dragging.args.draggingFormat = e.radius);
}

function SamplePlateGroupWidget(a) {
    this.id = BUI.id(), this.width = 900, this.height = 300, this.titleTypePlate = 20, 
    this.margin = 0, this.samplePlateWidgets = [], this.bbar = !1, this.border = 1, 
    this.showTitle = !0, this.title = null, this.nodeSize = 8, null != a && (null != a.margin && (this.margin = a.margin), 
    null != a.bbar && (this.bbar = a.bbar), null != a.showTitle && (this.showTitle = a.showTitle, 
    this.showTitle && (this.title = "Plates Groups")), null != a.border && (this.border = a.border), 
    null != a.height && (this.height = a.height)), this.heightPlates = this.height - this.titleTypePlate - 60, 
    this.onClick = new Event(this), this.onExperimentChanged = new Event(this);
}

function SamplePlateWidget(a) {
    this.actions = [], this.width = "1", this.height = "1", this.legendFontSize = 7, 
    this.backgroundColor = "#E6E6E6", this.wellColor = "#FFFFFF ", this.id = BUI.id(), 
    this.notSupportedMessage = "IE doesn't support HTML5 features", this.nodeSize = 14, 
    this.fontSize = 10, this.strokeWidth = 2, this.showTooltip = !0, this.showBorderLabels = !0, 
    this.showFullName = !1, this.showLabels = !1, null != a && (null != a.showBorderLabels && (this.showBorderLabels = a.showBorderLabels), 
    null != a.showLabels && (this.showLabels = a.showLabels), null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height), null != a.nodeSize && (this.nodeSize = a.nodeSize), 
    null != a.notSupportedMessage && (this.notSupportedMessage = a.notSupportedMessage), 
    null != a.fontSize && (this.fontSize = a.fontSize), null != a.showFullName && (this.showFullName = a.showFullName), 
    null != a.showTooltip && (this.showTooltip = a.showTooltip), null != a.backgroundColor && (this.backgroundColor = a.backgroundColor), 
    null != a.strokeWidth && (this.strokeWidth = a.strokeWidth)), this.ids = {}, this.onVertexUp = new Event(this), 
    this.selectedSVGNodes = [], this.markedSpecimenId = {};
}

function SpecimenWidget(a) {
    this.width = 1e3, this.height = 600, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height));
    var b = this;
    this.specimenGrid = new SpecimenGrid({
        minHeight: 425,
        selectionMode: "SINGLE",
        editEnabled: !1,
        updateRowEnabled: !0,
        width: 900,
        showTitle: !1
    }), this.specimenGrid.onSpecimenChanged.attach(function(a, c) {
        b.experiment.setSpecimenById(c), b.refresh(b.experiment);
    }), this.specimenGrid.onSelected.attach(function(a, c) {
        c.length > 0 ? b.specimenSelected = c[0] : b.specimenSelected = null, b.samplePlateGroupWidget.selectSpecimens(c);
    }), this.samplePlateGroupWidget = new SamplePlateGroupWidget({
        showTitle: !1,
        height: 250,
        margin: 5,
        bbar: !1
    }), this.samplePlateGroupWidget.onExperimentChanged.attach(function(a, c) {
        b.refresh(new Experiment(c));
    }), this.samplePlateGroupWidget.onClick.attach(function(a, c) {
        var d = c.row, e = c.column, f = c.samplePlate.samplePlateId;
        if (null != b.specimenSelected) if (0 == b.experiment.getSampleByPosition(c.samplePlate.samplePlateId, c.row, c.column).length) {
            var g = b.experiment.getSampleById(b.specimenSelected.specimenId);
            null == g.sampleplateposition3VO && (g.sampleplateposition3VO = {}), g.sampleplateposition3VO = {
                columnNumber: e,
                rowNumber: d,
                samplePlateId: f
            }, b.samplePlateGroupWidget.panel.setLoading("ISPyB: Saving specimen");
            var h = function(a, c) {
                b.samplePlateGroupWidget.panel.setLoading(!1);
            };
            EXI.getDataAdapter({
                onSuccess: h
            }).saxs.specimen.saveSpecimen(g), b.samplePlateGroupWidget.refresh(b.experiment), 
            b.specimenGrid.refresh(b.experiment), b.specimenSelected = null, b.specimenGrid.deselectAll();
        } else {
            var i = b.experiment.getSampleByPosition(c.samplePlate.samplePlateId, c.row, c.column)[0], g = b.experiment.getSampleById(b.specimenSelected.specimenId);
            if (g.bufferId == i.bufferId && g.concentration == i.concentration) {
                if (null != g.macromolecule3VO && null != i.macromolecule3VO && g.macromolecule3VO.macromoleculeId == i.macromolecule3VO.macromoleculeId || null == g.macromolecule3VO && null == i.macromolecule3VO) {
                    var h = function(a, c) {
                        b.refresh(new Experiment(c)), b.samplePlateGroupWidget.panel.setLoading(!1), b.onExperimentChanged.notify(experiment);
                    };
                    b.samplePlateGroupWidget.panel.setLoading("ISPyB: Merging specimens"), EXI.getDataAdapter({
                        onSuccess: h
                    }).saxs.specimen.mergeSpecimens(g.specimenId, i.specimenId), b.specimenSelected = null, 
                    b.specimenGrid.deselectAll();
                }
            } else alert("Well is not empty. Select another well!");
        } else {
            var g = b.experiment.getSampleByPosition(c.samplePlate.samplePlateId, c.row, c.column)[0];
            null != g && b.specimenGrid.selectById(g.specimenId);
        }
    }), this.onExperimentChanged = new Event(this);
}

function SurfaceScatteringViewer() {
    this.id = BUI.id(), this.originalData = [], this.scale = 1;
}

function MacromoleculeTabs(a) {
    this.width = 500, this.height = 500, null != a && (null != a.width && (this.width = a.width), 
    null != a.height && (this.height = a.height));
    var b = this;
    this.macromoleculeForm = new MacromoleculeForm({
        width: this.width - 30,
        height: this.height - 50
    }), this.macromoleculeForm.onClose.attach(function(a) {
        b.onClose.notify();
    }), this.macromoleculeForm.onSave.attach(function(a, c) {
        b.onSave.notify(c);
    }), this.assemblyForm = new AssemblyForm({
        width: this.width - 30,
        height: this.height - 50
    }), this.rigibBodyModelingForm = new RigibBodyModelingForm({
        width: this.width - 30,
        height: this.height - 50
    }), this.onClose = new Event(this), this.onSave = new Event(this);
}

function ShipmentTabs(a) {
    this.targetId = a;
    var b = this;
    this.gridHeight = 500, this.shipment = null, this.shipmentForm = new ShipmentForm({
        creationMode: !1,
        showTitle: !1
    }), this.shipmentForm.onSaved.attach(function(a, c) {
        b.refresh(c);
    }), this.caseGrid = new CaseGrid({
        height: this.gridHeight
    }), this.caseGrid.onAddButtonClicked.attach(function(a, c) {
        b.caseGrid.grid.setLoading("ISPyB: Creating a new case");
        var d = new BiosaxsDataAdapter();
        d.onSuccess.attach(function(a, c) {
            for (var d = 0; d < BIOSAXS.proposal.shippings.length; d++) BIOSAXS.proposal.shippings[d].shippingId == c.shippingId && (BIOSAXS.proposal.shippings[d] = c);
            b.refresh(c);
        }), d.onError.attach(function(a, c) {
            b.caseGrid.grid.setLoading(!1);
        }), d.addCase(b.shipment.json.shippingId);
    }), this.caseGrid.onRemoveButtonClicked.attach(function(a, c) {
        b.panel.setLoading("ISPyB: removing case"), b.shipment.onSaved.attach(function(a, c) {
            b.refresh(c);
        }), b.shipment.removeCase(c);
    });
}

function TemplateTabs(a) {
    this.height = 600, this.targetId = a, this.id = BUI.id();
    var b = this;
    this.gridHeight = 1e3, this.experiment = null, this.specimenSelected = null, this.specimenWidget = new SpecimenWidget({
        height: this.height
    }), this.samplePlateGroupWidget = new SamplePlateGroupWidget({
        showTitle: !1,
        height: 250,
        margin: 5,
        bbar: !0
    }), this.samplePlateGroupWidget.onExperimentChanged.attach(function(a, c) {
        b.refresh(c);
    }), this.samplePlateGroupWidget.onClick.attach(function(a, b) {}), this.volumePlanificator = new VolumeGrid();
    var c = Ext.create("Ext.data.Store", {
        fields: [ "name" ],
        data: [ {
            name: "low"
        }, {
            name: "medium"
        }, {
            name: "high"
        } ]
    }), d = Ext.create("Ext.form.ComboBox", {
        fieldLabel: "",
        store: c,
        queryMode: "local",
        displayField: "name",
        valueField: "name"
    });
    this.measurementGrid = new MeasurementGrid({
        maxWidth: 1500,
        estimateTime: !1,
        positionColumnsHidden: !0,
        isPriorityColumnHidden: !0,
        isStatusColumnHidden: !0,
        isTimeColumnHidden: !0,
        updateRowEnabled: !0,
        collapsed: !0,
        removeBtnEnabled: !0,
        showTitle: !1,
        collapseBtnEnable: !1,
        addBtnMultipleEdit: !0,
        sortingBtnEnable: !0,
        editor: {
            exposureTemperature: {
                xtype: "textfield",
                allowBlank: !0
            },
            comments: {
                xtype: "textfield",
                allowBlank: !0
            },
            volumeToLoad: {
                xtype: "numberfield",
                allowBlank: !0
            },
            transmission: {
                xtype: "numberfield",
                allowBlank: !0
            },
            viscosity: d,
            waitTime: {
                xtype: "numberfield",
                allowBlank: !0
            },
            flow: {
                xtype: "checkbox",
                allowBlank: !0
            }
        }
    }), this.measurementGrid.onSelected.attach(function(a, c) {
        for (var d = [], e = 0; e < c.length; e++) d.push(b.experiment.getSampleById(c[e].specimenId));
    }), this.measurementGrid.onMeasurementChanged.attach(function(a, c) {
        b.experiment.setMeasurement(c), b.refresh(b.experiment);
    }), this.measurementGrid.onExperimentChanged.attach(function(a, c) {
        b.refresh(new Experiment(c));
    }), this.measurementGrid.onRemoved.attach(function(a, c) {
        b.refreshSpecimen(new Experiment(c));
    }), this.measurementGrid.onUpdateTime.attach(function(a, c) {
        document.getElementById(b.id + "_counter").innerHTML = c.hours + "h,  " + c.minutes + "min and " + c.seconds + " seconds";
    });
}

function SessionTimeLineWidget() {
    TimeLineWidget.call(this), this.week = moment().week();
}

function UploaderWidget(a) {
    this.id = BUI.id(), this.url = a, null == a && Ext.Msg.alert("Error", "Please, set an url"), 
    this.onUploaded = new Event(this);
}

function CaseWindow(a) {
    this.width = 900, this.height = 500, null != a && null != a.actions && (this.actions = a.actions);
    var b = this;
    this.onRemoveAdditive = new Event(this), this.form = new CaseForm(), this.form.onAddPlates.attach(function(a, c) {
        b.onSavePlates.notify(c);
    }), this.form.onRemovePlates.attach(function(a, c) {
        b.onSavePlates.notify([ c ]);
    }), GenericWindow.prototype.constructor.call(this, {
        title: "Edit Case",
        form: this.form,
        width: this.width,
        height: this.height
    });
}

function GenericWindow(a) {
    this.title = "title", this.width = 700, this.height = 500, this.id = BUI.id(), this.close = !1, 
    this.draggable = !0, this.modal = !0, null != a && (null != a.actions && (this.actions = a.actions), 
    null != a.form && (this.form = a.form), null != a.width && (this.width = a.width), 
    null != a.modal && (this.modal = a.modal), null != a.height && (this.height = a.height), 
    null != a.title && (this.title = a.title), null != a.form && (this.form = a.form), 
    null != a.close && (this.close = a.close), null != a.draggable && (this.draggable = a.draggable)), 
    this.onSaved = new Event(this);
}

function MacromoleculeWindow(a) {
    this.width = 900, this.height = 700, null != a && null != a.actions && (this.actions = a.actions), 
    this.macromoleculeTabs = new MacromoleculeTabs({
        width: this.width - 10,
        height: this.height - 50
    });
    var b = this;
    this.macromoleculeTabs.onSave.attach(function(a, c) {
        debugger;
        b.onSave.notify(), b.refresh(c);
    }), this.macromoleculeTabs.onClose.attach(function(a) {
        b.panel.close();
    }), this.onSave = new Event();
}

function StockSolutionWindow(a) {
    this.width = 700, this.height = 600, null != a && null != a.actions && (this.actions = a.actions), 
    _this = this, this.form = new StockSolutionForm(), this.form.onSaved.attach(function(a, b) {
        _this.save();
    }), GenericWindow.prototype.constructor.call(this, {
        form: this.form,
        width: this.width,
        height: this.height
    }), this.onSaved = new Event(this);
}

function SubtractionSelectorWindow() {
    this.grid = new QueueGrid({
        height: 450,
        maxHeight: 300,
        title: !1,
        collapsible: !1,
        selectionMode: "single",
        sorters: [ {
            property: "macromoleculeAcronym",
            direction: "ASC"
        } ]
    });
    var a = this;
    this.grid.onSelect.attach(function(b, c) {
        a.selected = [ c ];
    }), this.onSelect = new Event(), this.selected = [];
}

function FinalStepWizardForm(a) {
    this.result = {}, this.id = BUI.id(), this.title = "Confirmation", this.description = "This is the last step of this wizard. Write a name and a description (optional) for your experiment. Remember you are able to add new measurements later on", 
    this.height = 500, this.data = {
        measurements: a
    };
    var b = this;
    this.onNext = function(a) {
        this.result = {
            name: Ext.getCmp(b.id + "name").getValue(),
            comments: Ext.getCmp(b.id + "description").getValue(),
            data: b.data.measurements
        }, b.onWizardFinished.notify(this.result);
    }, this.onBack = function() {}, this.onWizardFinished = new Event(this);
}

function GenericStepWizardForm(a, b, c, d, e) {
    this.id = BUI.id(), this.title = a, this.description = b, this.data = c, this.onNext = d, 
    this.onBack = e;
}

function MeasurementCreatorStepWizardForm(a, b, c) {
    var d = this;
    this.height = 700, this.noNext = !1, this.macromolecules = a, this.buffers = b, 
    GenericStepWizardForm.call(this, "Define Measurements", {
        margin: "0 0 0 0",
        width: 800,
        border: 0,
        html: "Define only the macromolecule's measurement you want to make. This wizard will add <span style='font-weight:bold;'> buffers' measurement needed for substraction automatically. </span>"
    }, {
        measurementsSelected: null
    }, function() {
        var a = {
            name: Ext.getCmp(d.id + "name").getValue(),
            comments: Ext.getCmp(d.id + "comments").getValue(),
            data: JSON.stringify(d.parseMeasurements(d.data.measurementsSelected))
        };
        d.onWizardFinished.notify(a);
    }, function() {}), null != c && null != c.noNext && (this.noNext = c.noNext), this.noNext && (this.onWizardFinished = new Event(this)), 
    this.onWizardFinished = new Event(this);
}

function SampleAutomaticPositionFactory(a) {
    this.samples = a;
}

function WizardWidget(a) {
    this.targetId = null, this.width = 910, this.height = 400, this.windowMode = !0, 
    null != a && (null != a.windowMode && (this.windowMode = a.windowMode), null != a.width && (this.width = a.width)), 
    this.step = 0, this.forms = [], this.onFinished = new Event(this);
}

function ListView() {
    this.width = 250, this.height = Ext.getBody().getHeight() - 215, this.onSelect = new Event();
}

function AddressListView() {
    this.sorters = [ {
        property: "cardName",
        direction: "ASC"
    } ], ListView.call(this);
}

function SessionListView() {
    this.sorters = [ {
        property: "sessionId",
        direction: "DESC"
    } ], ListView.call(this);
}

function ShippingListView() {
    this.sorters = [ {
        property: "sessionId",
        direction: "DESC"
    } ], ListView.call(this);
}

function WorkSpaceListView() {
    this.width = 250, this.height = 800, this.selectionMenu = new SelectionMenu(), this.onSelect = new Event(), 
    this.projectId = null;
}

function RunListView() {
    this.sorters = [], ListView.call(this);
}

function BufferListView() {
    ListView.call(this);
}

function DataCollectionListView() {
    ListView.call(this);
}

function ExperimentListView() {
    this.sorters = [ {
        property: "experimentId",
        direction: "DESC"
    } ], ListView.call(this);
}

function MacromoleculeListView() {
    this.sorters = [ {
        property: "experimentId",
        direction: "DESC"
    } ], ListView.call(this);
}

function StockSolutionListView() {
    this.sorters = [ {
        property: "experimentId",
        direction: "DESC"
    } ], ListView.call(this);
}

function TemplateListView() {
    this.sorters = [ {
        property: "experimentId",
        direction: "DESC"
    } ], ListView.call(this);
}

function MainView() {
    this.id = BUI.id(), this.title = "New Tab", this.closable = !0, this.onSelectionChange = new Event(this), 
    this.onSelect = new Event(this), this.onDeselect = new Event(this), this.bodyStyle = {
        "background-color": "#FAFAFA"
    };
}

function PuckMainView() {
    this.icon = "../images/BasketView_24x24_01.png", MainView.call(this);
    this.puckForm = new PuckForm();
}

function AddressMainView() {
    this.icon = "../images/icon/contacts.png", this.queueGridList = [], MainView.call(this), 
    this.addressForm = new AddressForm({}), this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function UserWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Home", 
    this.closable = !1, this.proposalGrid = new ProposalGrid({
        height: 300
    });
    var a = this;
    this.proposalGrid.onSelected.attach(function(b, c) {
        a.panel.setLoading(!0), a.activeProposal(c), a.panel.setLoading(!1);
    }), this.todaySessionsGrid = new SessionGrid({
        width: null,
        height: 125,
        title: "You have got sessions scheduled for today",
        hiddenGoColumn: !1
    }), this.futureSessionsGrid = new SessionGrid({
        width: null,
        height: 450,
        title: "Next scheduled sessions",
        margin: "20 0 0 00"
    }), this.previousSessionsGrid = new SessionGrid({
        width: null,
        height: 450,
        title: "Previous sessions",
        margin: "20 0 0 10",
        hiddenGoColumn: !1
    }), EXI.credentialManager.onActiveProposalChanged.attach(function(a, b) {});
}

function ManagerWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Home", 
    this.closable = !1, this.proposalGrid = new ProposalGrid({
        height: 500
    });
    var a = this;
    this.proposalGrid.onSelected.attach(function(b, c) {
        a.panel.setLoading(!0), a.activeProposal(c), a.panel.setLoading(!1);
    }), this.timeLineWidget = new SessionTimeLineWidget(), this.timeLineWidget.onSelected.attach(function(b, c) {
        EXI.setLoadingMainPanel();
        var d = function(b, d) {
            d.length > 0 ? (a.activeProposal(d[0]), EXI.setLoadingMainPanel(!1), "BM29" == c.group || "BM12" == c.group ? location.hash = "/session/nav/" + c.sessionId + "/session" : location.hash = "/mx/datacollection/session/" + c.sessionId + "/main") : BUI.showError("No proposal Found");
        };
        EXI.getDataAdapter({
            onSuccess: d
        }).proposal.proposal.getProposalBySessionId(c.sessionId);
    });
}

function ShippingMainView() {
    MainView.call(this);
    var a = this;
    this.shipmentForm = new ShipmentForm(), this.shipmentForm.onSaved.attach(function(a, b) {
        location.hash = "#/proposal/shipping/nav?nomain";
    }), this.caseGrid = new CaseGrid({
        height: 300
    }), this.caseGrid.onRemove.attach(function(b, c) {
        var d = function(b) {
            a.load(a.shippingId), a.panel.setLoading(!1);
        };
        EXI.getDataAdapter({
            onSuccess: d
        }).proposal.dewar.removeDewar(a.shippingId, c.dewarId);
    });
}

function BufferWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Macromolecules", 
    this.closable = !1;
}

function ExperimentWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Welcome", 
    this.closable = !1;
}

function MacromoleculeWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Macromolecules", 
    this.closable = !1;
}

function ShipmentPreparationMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "How to prepare a Shipment?", 
    this.closable = !1;
}

function ShippingWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Welcome", 
    this.closable = !1;
}

function StockSolutionWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Macromolecules", 
    this.closable = !1;
}

function HPLCMainView() {
    this.title = "Experiment", this.icon = "images/icon/ic_satellite_black_18dp.png", 
    this.queueGridList = [], MainView.call(this), this.grid = new QueueGrid({
        collapsed: !0,
        positionColumnsHidden: !0,
        maxHeight: Ext.getCmp("main_panel").getHeight() - 50,
        sorters: [ {
            property: "macromoleculeAcronym",
            direction: "ASC"
        } ]
    }), this.grid.onSelectionChange.attach(function(b, c) {
        a.onSelectionChange.notify(c);
    }), this.grid.onSelect.attach(function(b, c) {
        a.onSelect.notify(c);
    }), this.grid.onDeselect.attach(function(b, c) {
        a.onDeselect.notify(c);
    });
    var a = this;
    a.annotations = [], a.selectedFrameNumber = [], this.hplcGraph = new HPLCGraph({
        title: "I0",
        width: 800,
        height: 350,
        bbar: !0,
        plots: {
            I0: !0,
            Rg: !0
        },
        xlabel: "HPLC Frames",
        scaled: !0,
        interactionModel: {
            dblclick: function(b, c, d) {
                a.selectedFrameNumber.push(c.lastx_), a.plotter.loadHPLCFrame(a.experimentId, a.selectedFrameNumber), 
                a.annotations.push({
                    series: c.selPoints_[0].name,
                    x: c.lastx_,
                    width: 30,
                    height: 23,
                    tickHeight: 2,
                    shortText: c.lastx_,
                    text: c.lastx_,
                    attachAtBottom: !0
                }), c.setAnnotations(a.annotations);
            }
        }
    }), this.hplcGraph.onClearSelection.attach(function(b) {
        a.annotations = [], a.selectedFrameNumber = [], a.hplcGraph.dygraphObject.dygraph.setAnnotations([]);
    }), this.plotter = new CurvePlotter({
        margin: "10 0 0 0"
    }), this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function AddressWelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Macromolecules", 
    this.closable = !1;
}

function BufferMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", this.queueGridList = [], 
    MainView.call(this), this.bufferForm = new BufferForm({
        height: 800,
        collapsed: !1,
        tbar: !0
    });
    this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function DesignerMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", this.queueGridList = [], 
    MainView.call(this);
    this.wizardWidget = new WizardWidget({
        windowMode: !0,
        width: 1200
    }), this.wizardWidget.onFinished.attach(function(a, b) {
        EXI.setLoading();
        var c = function(a, b) {
            location.hash = "/experiment/templateId/" + b.experimentId + "/main";
        };
        EXI.getDataAdapter({
            onSuccess: c
        }).saxs.template.saveTemplate(b.name, b.comments, b.data);
    }), this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function ExperimentDesignerMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", this.queueGridList = [], 
    MainView.call(this), this.templateGrid = new TemplateGrid({
        minHeight: 300,
        height: 440,
        gridType: "Ext.grid.Panel",
        title: "Experiments",
        grouping: !1,
        tbar: !0
    }), this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function MacromoleculeMainView() {
    this.icon = "../images/icon/macromolecule.png", this.queueGridList = [], MainView.call(this), 
    this.macromoleculeForm = new MacromoleculeForm({
        height: 800,
        collapsed: !1,
        tbar: !0
    }), this.rigidBodyModelingForm = new RigidBodyModelingForm({}), this.rigidBodyModelingForm.onSave.attach(function(a, b) {});
    this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function StockSolutionMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", this.queueGridList = [], 
    MainView.call(this), this.stockSolutionForm = new StockSolutionForm({
        minHeight: 800,
        height: 800,
        tbar: !0,
        showTitle: !0,
        isPackedVisible: !1,
        btnAddExisting: !1,
        btnRemoveVisible: !1,
        btnUnpackVisible: !1
    });
    var a = this;
    this.stockSolutionForm.onSaved.attach(function(b, c) {
        var d = function(b, c) {
            a.stockSolutionForm.load(EXI.proposalManager.getStockSolutionById(a.stockSolutionId)), 
            a.panel.setLoading(!1);
        };
        a.panel.setLoading("Updading proposal information"), EXI.getDataAdapter({
            onSuccess: d
        }).proposal.proposal.update();
    }), this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function TemplateMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", this.queueGridList = [], 
    MainView.call(this), this.experimentHeaderForm = new ExperimentHeaderForm();
    var a = this, b = Ext.create("Ext.data.Store", {
        fields: [ "name" ],
        data: [ {
            name: "low"
        }, {
            name: "medium"
        }, {
            name: "high"
        } ]
    }), c = Ext.create("Ext.form.ComboBox", {
        fieldLabel: "",
        store: b,
        queryMode: "local",
        displayField: "name",
        valueField: "name"
    });
    this.specimenWidget = new SpecimenWidget({
        height: this.height,
        width: 1200
    }), this.measurementGrid = new MeasurementGrid({
        height: 600,
        minHeight: 600,
        maxHeight: 600,
        estimateTime: !1,
        positionColumnsHidden: !0,
        isPriorityColumnHidden: !0,
        isStatusColumnHidden: !0,
        addBtnEnable: !0,
        isTimeColumnHidden: !0,
        updateRowEnabled: !0,
        collapsed: !0,
        removeBtnEnabled: !0,
        showTitle: !1,
        collapseBtnEnable: !1,
        addBtnMultipleEdit: !0,
        sortingBtnEnable: !0,
        editor: {
            exposureTemperature: {
                xtype: "textfield",
                allowBlank: !0
            },
            comments: {
                xtype: "textfield",
                allowBlank: !0
            },
            volumeToLoad: {
                xtype: "numberfield",
                allowBlank: !0
            },
            transmission: {
                xtype: "numberfield",
                allowBlank: !0
            },
            viscosity: c,
            waitTime: {
                xtype: "numberfield",
                allowBlank: !0
            },
            flow: {
                xtype: "checkbox",
                allowBlank: !0
            }
        }
    }), this.measurementGrid.onMeasurementChanged.attach(function(b, c) {
        a.experiment.setMeasurement(c), a.measurementGrid.loadExperiment(a.experiment), 
        a.volumePlanificator.load(a.experiment);
    }), this.measurementGrid.onExperimentChanged.attach(function(b, c) {
        a.experiment = new Experiment(c), a.measurementGrid.loadExperiment(a.experiment), 
        a.specimenWidget.refresh(a.experiment), a.volumePlanificator.load(a.experiment);
    }), this.measurementGrid.onRemoved.attach(function(b, c) {
        a.experiment = new Experiment(c[0]), a.specimenWidget.refresh(a.experiment), a.volumePlanificator.load(a.experiment);
    }), this.volumePlanificator = new VolumeGrid();
}

function DataCollectionMainView() {
    this.title = "Experiment", this.icon = "images/icon/ic_satellite_black_18dp.png", 
    MainView.call(this), this.grid = new QueueGrid({
        positionColumnsHidden: !0,
        maxHeight: Ext.getCmp("main_panel").getHeight() - 50,
        sorters: [ {
            property: "macromoleculeAcronym",
            direction: "ASC"
        } ]
    }), this.onSelect = new Event(this), this.onDeselect = new Event(this);
}

function ExperimentMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", MainView.call(this), this.experimentHeaderForm = new ExperimentHeaderForm();
    var a = this, b = Ext.create("Ext.data.Store", {
        fields: [ "name" ],
        data: [ {
            name: "low"
        }, {
            name: "medium"
        }, {
            name: "high"
        } ]
    }), c = Ext.create("Ext.form.ComboBox", {
        fieldLabel: "",
        store: b,
        queryMode: "local",
        displayField: "name",
        valueField: "name"
    });
    this.specimenWidget = new SpecimenWidget({
        height: this.height,
        width: 1200
    }), this.measurementGrid = new MeasurementGrid({
        height: 600,
        minHeight: 600,
        maxHeight: 600,
        estimateTime: !1,
        positionColumnsHidden: !1,
        isPriorityColumnHidden: !0,
        isStatusColumnHidden: !1,
        addBtnEnable: !1,
        isTimeColumnHidden: !1,
        updateRowEnabled: !1,
        collapsed: !1,
        removeBtnEnabled: !1,
        showTitle: !1,
        collapseBtnEnable: !1,
        addBtnMultipleEdit: !1,
        sortingBtnEnable: !1,
        editor: {
            exposureTemperature: {
                xtype: "textfield",
                allowBlank: !0
            },
            comments: {
                xtype: "textfield",
                allowBlank: !0
            },
            volumeToLoad: {
                xtype: "numberfield",
                allowBlank: !0
            },
            transmission: {
                xtype: "numberfield",
                allowBlank: !0
            },
            viscosity: c,
            waitTime: {
                xtype: "numberfield",
                allowBlank: !0
            },
            flow: {
                xtype: "checkbox",
                allowBlank: !0
            }
        }
    }), this.measurementGrid.onMeasurementChanged.attach(function(b, c) {
        a.experiment.setMeasurement(c), a.measurementGrid.loadExperiment(a.experiment), 
        a.volumePlanificator.load(a.experiment);
    }), this.measurementGrid.onExperimentChanged.attach(function(b, c) {
        a.experiment = new Experiment(c), a.measurementGrid.loadExperiment(a.experiment), 
        a.specimenWidget.refresh(a.experiment), a.volumePlanificator.load(a.experiment);
    }), this.measurementGrid.onRemoved.attach(function(b, c) {
        a.experiment = new Experiment(c[0]), a.specimenWidget.refresh(a.experiment), a.volumePlanificator.load(a.experiment);
    }), this.queueGrid = new QueueGrid({
        positionColumnsHidden: !0,
        sorters: [ {
            property: "macromoleculeAcronym",
            direction: "ASC"
        } ]
    });
}

function MergeMainView() {
    this.title = "Primary Data View", this.icon = "images/icon/ic_blur_on_black_18dp.png", 
    this.queueGridList = [];
    var a = this;
    this.plotter = new CurvePlotter({}), this.formPopulated = !1, this.plotter.onRendered.attach(function(b) {
        if (!a.formPopulated) {
            for (var c = {}, d = 1; d < b.getLabels().length; d++) c[b.getLabels()[d]] = b.getColors()[d - 1];
            a.populateForm(b.getPointCount(), c), a.formPopulated = !0;
        }
        plotter = b;
    });
}

function PrimaryDataMainView() {
    this.title = "Primary Data View", this.icon = "images/icon/ic_blur_on_black_18dp.png", 
    MainView.call(this), this.onMeasurementSelectionChange = new Event(this);
    var a = this;
    this.frameSelectorGrid = new FrameSelectorGrid(), this.frameSelectorGrid.onSelectionChange.attach(function(b, c) {
        a.plotter.load(c);
    }), this.plotter = new CurvePlotter({}), this.grid = new QueueGrid({
        maxHeight: 300
    }), this.abinitioForm = new AbinitioForm({
        height: 700
    });
}

function AutoProcIntegrationMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", MainView.call(this);
    var a = this;
    this.autoProcIntegrationGrid = new AutoProcIntegrationGrid({
        maxHeight: 400
    }), this.autoProcIntegrationGrid.onSelected.attach(function(b, c) {
        for (var d = [], e = 0; e < c.length; e++) d.push(c[e].autoProcIntegrationId);
        if (a.loadPlots(d), 1 == c.length) {
            var f = a.getByAutoProcId(c[0].autoProcId);
            null != f && a.autoProcIntegrationAttachmentGrid.load(f);
        }
    }), this.autoProcIntegrationAttachmentGrid = new AutoProcIntegrationAttachmentGrid({
        margin: "0 20 0 10",
        maxHeight: 400
    }), this.completenessPlotter = new AutoProcIntegrationCurvePlotter({
        height: 150,
        title: "Completeness vs Resolution",
        legend: "never"
    }), this.completenessPlotter.onPointClickCallback.attach(function(b, c) {
        a.onPlotClicked(c);
    }), this.rFactorPlotter = new AutoProcIntegrationCurvePlotter({
        height: 150,
        title: "Rfactor vs Resolution",
        legend: "never"
    }), this.rFactorPlotter.onPointClickCallback.attach(function(b, c) {
        a.onPlotClicked(c);
    }), this.isigmaPlotter = new AutoProcIntegrationCurvePlotter({
        height: 150,
        title: "I/SigmaI vs Resolution",
        legend: "never"
    }), this.isigmaPlotter.onPointClickCallback.attach(function(b, c) {
        a.onPlotClicked(c);
    }), this.cc2Plotter = new AutoProcIntegrationCurvePlotter({
        height: 150,
        title: "CC/2 vs Resolution",
        legend: "never"
    }), this.cc2Plotter.onPointClickCallback.attach(function(b, c) {
        a.onPlotClicked(c);
    }), this.sigmaAnnoPlotter = new AutoProcIntegrationCurvePlotter({
        height: 150,
        title: "SigAno vs Resolution",
        legend: "never"
    }), this.sigmaAnnoPlotter.onPointClickCallback.attach(function(b, c) {
        a.onPlotClicked(c);
    }), this.wilsonPlotter = new AutoProcIntegrationCurvePlotter({
        height: 150,
        title: "Wilson Plot",
        legend: "never"
    }), this.wilsonPlotter.onPointClickCallback.attach(function(b, c) {
        a.onPlotClicked(c);
    }), this.annoCorrPlotter = new AutoProcIntegrationCurvePlotter({
        height: 150,
        title: "Anom Corr vs Resolution",
        legend: "never"
    }), this.annoCorrPlotter.onPointClickCallback.attach(function(b, c) {
        a.onPlotClicked(c);
    }), this.autoProcIntegrationPhasingGrid = new AutoProcIntegrationGrid({
        maxHeight: 500
    }), this.autoProcIntegrationPhasingGrid.onSelected.attach(function(b, c) {
        for (var d = [], e = 0; e < c.length; e++) d.push(c[e].autoProcId);
        a.phasingGrid.panel.setLoading();
        var f = function(b, c) {
            var d = [];
            if (null != c && c.length > 0 && null != c[0].phasinganalysis) for (var e = 0; e < c[0].phasinganalysis.length; e++) {
                var f = 0;
                if (c[0].phasinganalysis[e].modelbuilding.length > 0) for (f = 0; f < c[0].phasinganalysis[e].modelbuilding.length; f++) d.push(c[0].phasinganalysis[e].modelbuilding[f]), 
                d[d.length - 1].name = "modelbuilding", d[d.length - 1] = $.extend({}, d[d.length - 1], c[0].phasinganalysis[e].modelbuilding[f].spaceGroupVO), 
                d[d.length - 1].phasingAnalysisId = c[0].phasinganalysis[e].modelbuilding[f].phasingAnalysisVO.phasingAnalysisId;
                if (c[0].phasinganalysis[e].preparephasingdata.length > 0) for (f = 0; f < c[0].phasinganalysis[e].preparephasingdata.length; f++) d.push(c[0].phasinganalysis[e].preparephasingdata[f]), 
                d[d.length - 1].name = "preparephasingdata", d[d.length - 1] = $.extend({}, d[d.length - 1], c[0].phasinganalysis[e].preparephasingdata[f].spaceGroupVO), 
                d[d.length - 1].phasingAnalysisId = c[0].phasinganalysis[e].preparephasingdata[f].phasingAnalysisVO.phasingAnalysisId;
                if (c[0].phasinganalysis[e].phasing.length > 0) for (f = 0; f < c[0].phasinganalysis[e].phasing.length; f++) d.push(c[0].phasinganalysis[e].phasing[f]), 
                d[d.length - 1].name = "phasing", d[d.length - 1] = $.extend({}, d[d.length - 1], c[0].phasinganalysis[e].phasing[f].spaceGroup3VO), 
                d[d.length - 1].phasingAnalysisId = c[0].phasinganalysis[e].phasing[f].phasingAnalysisVO.phasingAnalysisId;
                if (c[0].phasinganalysis[e].substructureDetermination3VO.length > 0) for (f = 0; f < c[0].phasinganalysis[e].substructureDetermination3VO.length; f++) d.push(c[0].phasinganalysis[e].substructureDetermination3VO[f]), 
                d[d.length - 1].name = "substructureDetermination", d[d.length - 1] = $.extend({}, d[d.length - 1], c[0].phasinganalysis[e].substructureDetermination3VO[f].spaceGroupVO), 
                d[d.length - 1].phasingAnalysisId = c[0].phasinganalysis[e].substructureDetermination3VO[f].phasingAnalysisVO.phasingAnalysisId;
            }
            a.phasingGrid.load(d), a.phasingGrid.panel.setLoading(!1);
        };
        EXI.getDataAdapter({
            onSuccess: f
        }).mx.autoProcIntegrationDataAdapter.getPhasingByAutoprocIds(d);
    }), this.phasingGrid = new PhasingGrid({
        margin: "0 0 0 10"
    });
}

function DataCollectionMxMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", MainView.call(this);
    this.dataCollectionSummaryGrid = new DataCollectionSummaryGrid();
}

function ImageMainView() {
    this.icon = "images/icon/ic_satellite_black_18dp.png", MainView.call(this);
    var a = this;
    this.imageViewer = new ImageResolutionViewer(), this.detectorResolution = {
        pixelSize: {
            x: 1475,
            y: 1679
        },
        sensitiveArea: {
            x: 253.7,
            y: 288.8
        },
        pixelSizeHorizontal: .172
    }, this.surfaceScatteringViewer = new SurfaceScatteringViewer(), this.imageViewer.onImageRendered.attach(function(b, c) {
        a.surfaceScatteringViewer.load(c);
    });
}

function WelcomeMainView() {
    this.icon = "../images/icon/rsz_ic_home_black_24dp.png", MainView.call(this), this.title = "Welcome", 
    this.closable = !0;
}

function SubtractionMainView() {
    this.title = "Experiment", this.icon = "images/icon/ic_satellite_black_18dp.png", 
    this.queueGridList = [], this.id = BUI.id(), MainView.call(this), this.subtractionSelectorWindow = new SubtractionSelectorWindow();
    var a = this;
    this.subtractionSelectorWindow.onSelect.attach(function(b, c) {
        a.grid.store.removeAll(), a.grid.load(c), Ext.getCmp(a.id + "hiddenSutractions").setValue(JSON.stringify(c[0].subtractionId));
    }), this.grid = new QueueGrid({
        maxHeight: 120,
        minHeight: 120,
        title: !1,
        collapsible: !1
    });
}

function DimpleRunMainView() {
    this.title = "Experiment", this.icon = "images/icon/ic_satellite_black_18dp.png", 
    this.queueGridList = [], this.id = BUI.id(), RunMainView.call(this);
}

function RunMainView() {
    this.id = BUI.id(), MainView.call(this);
}

!function(a) {
    "use strict";
    for (var b, c, d = {}, e = function() {}, f = "memory".split(","), g = "assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(","); b = f.pop(); ) a[b] = a[b] || d;
    for (;c = g.pop(); ) a[c] = a[c] || e;
}(this.console = this.console || {}), function() {
    "use strict";
    CanvasRenderingContext2D.prototype.installPattern = function(a) {
        if ("undefined" != typeof this.isPatternInstalled) throw "Must un-install old line pattern before installing a new one.";
        this.isPatternInstalled = !0;
        var b = [ 0, 0 ], c = [], d = this.beginPath, e = this.lineTo, f = this.moveTo, g = this.stroke;
        this.uninstallPattern = function() {
            this.beginPath = d, this.lineTo = e, this.moveTo = f, this.stroke = g, this.uninstallPattern = void 0, 
            this.isPatternInstalled = void 0;
        }, this.beginPath = function() {
            c = [], d.call(this);
        }, this.moveTo = function(a, b) {
            c.push([ [ a, b ] ]), f.call(this, a, b);
        }, this.lineTo = function(a, b) {
            var d = c[c.length - 1];
            d.push([ a, b ]);
        }, this.stroke = function() {
            if (0 === c.length) return void g.call(this);
            for (var d = 0; d < c.length; d++) for (var h = c[d], i = h[0][0], j = h[0][1], k = 1; k < h.length; k++) {
                var l = h[k][0], m = h[k][1];
                this.save();
                var n = l - i, o = m - j, p = Math.sqrt(n * n + o * o), q = Math.atan2(o, n);
                this.translate(i, j), f.call(this, 0, 0), this.rotate(q);
                for (var r = b[0], s = 0; p > s; ) {
                    var t = a[r];
                    s += b[1] ? b[1] : t, s > p ? (b = [ r, s - p ], s = p) : b = [ (r + 1) % a.length, 0 ], 
                    r % 2 === 0 ? e.call(this, s, 0) : f.call(this, s, 0), r = (r + 1) % a.length;
                }
                this.restore(), i = l, j = m;
            }
            g.call(this), c = [];
        };
    }, CanvasRenderingContext2D.prototype.uninstallPattern = function() {
        throw "Must install a line pattern before uninstalling it.";
    };
}();

var DygraphOptions = function() {
    return function() {
        "use strict";
        var a = function(a) {
            this.dygraph_ = a, this.yAxes_ = [], this.xAxis_ = {}, this.series_ = {}, this.global_ = this.dygraph_.attrs_, 
            this.user_ = this.dygraph_.user_attrs_ || {}, this.labels_ = [], this.highlightSeries_ = this.get("highlightSeriesOpts") || {}, 
            this.reparseSeries();
        };
        return a.AXIS_STRING_MAPPINGS_ = {
            y: 0,
            Y: 0,
            y1: 0,
            Y1: 0,
            y2: 1,
            Y2: 1
        }, a.axisToIndex_ = function(b) {
            if ("string" == typeof b) {
                if (a.AXIS_STRING_MAPPINGS_.hasOwnProperty(b)) return a.AXIS_STRING_MAPPINGS_[b];
                throw "Unknown axis : " + b;
            }
            if ("number" == typeof b) {
                if (0 === b || 1 === b) return b;
                throw "Dygraphs only supports two y-axes, indexed from 0-1.";
            }
            if (b) throw "Unknown axis : " + b;
            return 0;
        }, a.prototype.reparseSeries = function() {
            var b = this.get("labels");
            if (b) {
                this.labels_ = b.slice(1), this.yAxes_ = [ {
                    series: [],
                    options: {}
                } ], this.xAxis_ = {
                    options: {}
                }, this.series_ = {};
                var c = !this.user_.series;
                if (c) {
                    for (var d = 0, e = 0; e < this.labels_.length; e++) {
                        var f = this.labels_[e], g = this.user_[f] || {}, h = 0, i = g.axis;
                        "object" == typeof i && (h = ++d, this.yAxes_[h] = {
                            series: [ f ],
                            options: i
                        }), i || this.yAxes_[0].series.push(f), this.series_[f] = {
                            idx: e,
                            yAxis: h,
                            options: g
                        };
                    }
                    for (var e = 0; e < this.labels_.length; e++) {
                        var f = this.labels_[e], g = this.series_[f].options, i = g.axis;
                        if ("string" == typeof i) {
                            if (!this.series_.hasOwnProperty(i)) return void console.error("Series " + f + " wants to share a y-axis with series " + i + ", which does not define its own axis.");
                            var h = this.series_[i].yAxis;
                            this.series_[f].yAxis = h, this.yAxes_[h].series.push(f);
                        }
                    }
                } else for (var e = 0; e < this.labels_.length; e++) {
                    var f = this.labels_[e], g = this.user_.series[f] || {}, h = a.axisToIndex_(g.axis);
                    this.series_[f] = {
                        idx: e,
                        yAxis: h,
                        options: g
                    }, this.yAxes_[h] ? this.yAxes_[h].series.push(f) : this.yAxes_[h] = {
                        series: [ f ],
                        options: {}
                    };
                }
                var j = this.user_.axes || {};
                Dygraph.update(this.yAxes_[0].options, j.y || {}), this.yAxes_.length > 1 && Dygraph.update(this.yAxes_[1].options, j.y2 || {}), 
                Dygraph.update(this.xAxis_.options, j.x || {});
            }
        }, a.prototype.get = function(a) {
            var b = this.getGlobalUser_(a);
            return null !== b ? b : this.getGlobalDefault_(a);
        }, a.prototype.getGlobalUser_ = function(a) {
            return this.user_.hasOwnProperty(a) ? this.user_[a] : null;
        }, a.prototype.getGlobalDefault_ = function(a) {
            return this.global_.hasOwnProperty(a) ? this.global_[a] : Dygraph.DEFAULT_ATTRS.hasOwnProperty(a) ? Dygraph.DEFAULT_ATTRS[a] : null;
        }, a.prototype.getForAxis = function(a, b) {
            var c, d;
            if ("number" == typeof b) c = b, d = 0 === c ? "y" : "y2"; else {
                if ("y1" == b && (b = "y"), "y" == b) c = 0; else if ("y2" == b) c = 1; else {
                    if ("x" != b) throw "Unknown axis " + b;
                    c = -1;
                }
                d = b;
            }
            var e = -1 == c ? this.xAxis_ : this.yAxes_[c];
            if (e) {
                var f = e.options;
                if (f.hasOwnProperty(a)) return f[a];
            }
            if ("x" !== b || "logscale" !== a) {
                var g = this.getGlobalUser_(a);
                if (null !== g) return g;
            }
            var h = Dygraph.DEFAULT_ATTRS.axes[d];
            return h.hasOwnProperty(a) ? h[a] : this.getGlobalDefault_(a);
        }, a.prototype.getForSeries = function(a, b) {
            if (b === this.dygraph_.getHighlightSeries() && this.highlightSeries_.hasOwnProperty(a)) return this.highlightSeries_[a];
            if (!this.series_.hasOwnProperty(b)) throw "Unknown series: " + b;
            var c = this.series_[b], d = c.options;
            return d.hasOwnProperty(a) ? d[a] : this.getForAxis(a, c.yAxis);
        }, a.prototype.numAxes = function() {
            return this.yAxes_.length;
        }, a.prototype.axisForSeries = function(a) {
            return this.series_[a].yAxis;
        }, a.prototype.axisOptions = function(a) {
            return this.yAxes_[a].options;
        }, a.prototype.seriesForAxis = function(a) {
            return this.yAxes_[a].series;
        }, a.prototype.seriesNames = function() {
            return this.labels_;
        }, a;
    }();
}(), DygraphLayout = function() {
    "use strict";
    var a = function(a) {
        this.dygraph_ = a, this.points = [], this.setNames = [], this.annotations = [], 
        this.yAxes_ = null, this.xTicks_ = null, this.yTicks_ = null;
    };
    return a.prototype.addDataset = function(a, b) {
        this.points.push(b), this.setNames.push(a);
    }, a.prototype.getPlotArea = function() {
        return this.area_;
    }, a.prototype.computePlotArea = function() {
        var a = {
            x: 0,
            y: 0
        };
        a.w = this.dygraph_.width_ - a.x - this.dygraph_.getOption("rightGap"), a.h = this.dygraph_.height_;
        var b = {
            chart_div: this.dygraph_.graphDiv,
            reserveSpaceLeft: function(b) {
                var c = {
                    x: a.x,
                    y: a.y,
                    w: b,
                    h: a.h
                };
                return a.x += b, a.w -= b, c;
            },
            reserveSpaceRight: function(b) {
                var c = {
                    x: a.x + a.w - b,
                    y: a.y,
                    w: b,
                    h: a.h
                };
                return a.w -= b, c;
            },
            reserveSpaceTop: function(b) {
                var c = {
                    x: a.x,
                    y: a.y,
                    w: a.w,
                    h: b
                };
                return a.y += b, a.h -= b, c;
            },
            reserveSpaceBottom: function(b) {
                var c = {
                    x: a.x,
                    y: a.y + a.h - b,
                    w: a.w,
                    h: b
                };
                return a.h -= b, c;
            },
            chartRect: function() {
                return {
                    x: a.x,
                    y: a.y,
                    w: a.w,
                    h: a.h
                };
            }
        };
        this.dygraph_.cascadeEvents_("layout", b), this.area_ = a;
    }, a.prototype.setAnnotations = function(a) {
        this.annotations = [];
        for (var b = this.dygraph_.getOption("xValueParser") || function(a) {
            return a;
        }, c = 0; c < a.length; c++) {
            var d = {};
            if (!a[c].xval && void 0 === a[c].x) return void console.error("Annotations must have an 'x' property");
            if (a[c].icon && (!a[c].hasOwnProperty("width") || !a[c].hasOwnProperty("height"))) return void console.error("Must set width and height when setting annotation.icon property");
            Dygraph.update(d, a[c]), d.xval || (d.xval = b(d.x)), this.annotations.push(d);
        }
    }, a.prototype.setXTicks = function(a) {
        this.xTicks_ = a;
    }, a.prototype.setYAxes = function(a) {
        this.yAxes_ = a;
    }, a.prototype.evaluate = function() {
        this._xAxis = {}, this._evaluateLimits(), this._evaluateLineCharts(), this._evaluateLineTicks(), 
        this._evaluateAnnotations();
    }, a.prototype._evaluateLimits = function() {
        var a = this.dygraph_.xAxisRange();
        this._xAxis.minval = a[0], this._xAxis.maxval = a[1];
        var b = a[1] - a[0];
        this._xAxis.scale = 0 !== b ? 1 / b : 1, this.dygraph_.getOptionForAxis("logscale", "x") && (this._xAxis.xlogrange = Dygraph.log10(this._xAxis.maxval) - Dygraph.log10(this._xAxis.minval), 
        this._xAxis.xlogscale = 0 !== this._xAxis.xlogrange ? 1 / this._xAxis.xlogrange : 1);
        for (var c = 0; c < this.yAxes_.length; c++) {
            var d = this.yAxes_[c];
            d.minyval = d.computedValueRange[0], d.maxyval = d.computedValueRange[1], d.yrange = d.maxyval - d.minyval, 
            d.yscale = 0 !== d.yrange ? 1 / d.yrange : 1, this.dygraph_.getOption("logscale") && (d.ylogrange = Dygraph.log10(d.maxyval) - Dygraph.log10(d.minyval), 
            d.ylogscale = 0 !== d.ylogrange ? 1 / d.ylogrange : 1, (!isFinite(d.ylogrange) || isNaN(d.ylogrange)) && console.error("axis " + c + " of graph at " + d.g + " can't be displayed in log scale for range [" + d.minyval + " - " + d.maxyval + "]"));
        }
    }, a.calcXNormal_ = function(a, b, c) {
        return c ? (Dygraph.log10(a) - Dygraph.log10(b.minval)) * b.xlogscale : (a - b.minval) * b.scale;
    }, a.calcYNormal_ = function(a, b, c) {
        if (c) {
            var d = 1 - (Dygraph.log10(b) - Dygraph.log10(a.minyval)) * a.ylogscale;
            return isFinite(d) ? d : NaN;
        }
        return 1 - (b - a.minyval) * a.yscale;
    }, a.prototype._evaluateLineCharts = function() {
        for (var b = this.dygraph_.getOption("stackedGraph"), c = this.dygraph_.getOptionForAxis("logscale", "x"), d = 0; d < this.points.length; d++) {
            for (var e = this.points[d], f = this.setNames[d], g = this.dygraph_.getOption("connectSeparatedPoints", f), h = this.dygraph_.axisPropertiesForSeries(f), i = this.dygraph_.attributes_.getForSeries("logscale", f), j = 0; j < e.length; j++) {
                var k = e[j];
                k.x = a.calcXNormal_(k.xval, this._xAxis, c);
                var l = k.yval;
                b && (k.y_stacked = a.calcYNormal_(h, k.yval_stacked, i), null === l || isNaN(l) || (l = k.yval_stacked)), 
                null === l && (l = NaN, g || (k.yval = NaN)), k.y = a.calcYNormal_(h, l, i);
            }
            this.dygraph_.dataHandler_.onLineEvaluated(e, h, i);
        }
    }, a.prototype._evaluateLineTicks = function() {
        var a, b, c, d;
        for (this.xticks = [], a = 0; a < this.xTicks_.length; a++) b = this.xTicks_[a], 
        c = b.label, d = this.dygraph_.toPercentXCoord(b.v), d >= 0 && 1 > d && this.xticks.push([ d, c ]);
        for (this.yticks = [], a = 0; a < this.yAxes_.length; a++) for (var e = this.yAxes_[a], f = 0; f < e.ticks.length; f++) b = e.ticks[f], 
        c = b.label, d = this.dygraph_.toPercentYCoord(b.v, a), d > 0 && 1 >= d && this.yticks.push([ a, d, c ]);
    }, a.prototype._evaluateAnnotations = function() {
        var a, b = {};
        for (a = 0; a < this.annotations.length; a++) {
            var c = this.annotations[a];
            b[c.xval + "," + c.series] = c;
        }
        if (this.annotated_points = [], this.annotations && this.annotations.length) for (var d = 0; d < this.points.length; d++) {
            var e = this.points[d];
            for (a = 0; a < e.length; a++) {
                var f = e[a], g = f.xval + "," + f.name;
                g in b && (f.annotation = b[g], this.annotated_points.push(f));
            }
        }
    }, a.prototype.removeAllDatasets = function() {
        delete this.points, delete this.setNames, delete this.setPointsLengths, delete this.setPointsOffsets, 
        this.points = [], this.setNames = [], this.setPointsLengths = [], this.setPointsOffsets = [];
    }, a;
}(), DygraphCanvasRenderer = function() {
    "use strict";
    var a = function(a, b, c, d) {
        if (this.dygraph_ = a, this.layout = d, this.element = b, this.elementContext = c, 
        this.height = a.height_, this.width = a.width_, !this.isIE && !Dygraph.isCanvasSupported(this.element)) throw "Canvas is not supported.";
        if (this.area = d.getPlotArea(), this.dygraph_.isUsingExcanvas_) this._createIEClipArea(); else if (!Dygraph.isAndroid()) {
            var e = this.dygraph_.canvas_ctx_;
            e.beginPath(), e.rect(this.area.x, this.area.y, this.area.w, this.area.h), e.clip(), 
            e = this.dygraph_.hidden_ctx_, e.beginPath(), e.rect(this.area.x, this.area.y, this.area.w, this.area.h), 
            e.clip();
        }
    };
    return a.prototype.clear = function() {
        var a;
        if (this.isIE) try {
            this.clearDelay && (this.clearDelay.cancel(), this.clearDelay = null), a = this.elementContext;
        } catch (b) {
            return;
        }
        a = this.elementContext, a.clearRect(0, 0, this.width, this.height);
    }, a.prototype.render = function() {
        this._updatePoints(), this._renderLineChart();
    }, a.prototype._createIEClipArea = function() {
        function a(a) {
            if (0 !== a.w && 0 !== a.h) {
                var d = document.createElement("div");
                d.className = b, d.style.backgroundColor = e, d.style.position = "absolute", d.style.left = a.x + "px", 
                d.style.top = a.y + "px", d.style.width = a.w + "px", d.style.height = a.h + "px", 
                c.appendChild(d);
            }
        }
        for (var b = "dygraph-clip-div", c = this.dygraph_.graphDiv, d = c.childNodes.length - 1; d >= 0; d--) c.childNodes[d].className == b && c.removeChild(c.childNodes[d]);
        for (var e = document.bgColor, f = this.dygraph_.graphDiv; f != document; ) {
            var g = f.currentStyle.backgroundColor;
            if (g && "transparent" != g) {
                e = g;
                break;
            }
            f = f.parentNode;
        }
        var h = this.area;
        a({
            x: 0,
            y: 0,
            w: h.x,
            h: this.height
        }), a({
            x: h.x,
            y: 0,
            w: this.width - h.x,
            h: h.y
        }), a({
            x: h.x + h.w,
            y: 0,
            w: this.width - h.x - h.w,
            h: this.height
        }), a({
            x: h.x,
            y: h.y + h.h,
            w: this.width - h.x,
            h: this.height - h.h - h.y
        });
    }, a._getIteratorPredicate = function(b) {
        return b ? a._predicateThatSkipsEmptyPoints : null;
    }, a._predicateThatSkipsEmptyPoints = function(a, b) {
        return null !== a[b].yval;
    }, a._drawStyledLine = function(b, c, d, e, f, g, h) {
        var i = b.dygraph, j = i.getBooleanOption("stepPlot", b.setName);
        Dygraph.isArrayLike(e) || (e = null);
        var k = i.getBooleanOption("drawGapEdgePoints", b.setName), l = b.points, m = b.setName, n = Dygraph.createIterator(l, 0, l.length, a._getIteratorPredicate(i.getBooleanOption("connectSeparatedPoints", m))), o = e && e.length >= 2, p = b.drawingContext;
        p.save(), o && p.installPattern(e);
        var q = a._drawSeries(b, n, d, h, f, k, j, c);
        a._drawPointsOnLine(b, q, g, c, h), o && p.uninstallPattern(), p.restore();
    }, a._drawSeries = function(a, b, c, d, e, f, g, h) {
        var i, j, k = null, l = null, m = null, n = [], o = !0, p = a.drawingContext;
        p.beginPath(), p.strokeStyle = h, p.lineWidth = c;
        for (var q = b.array_, r = b.end_, s = b.predicate_, t = b.start_; r > t; t++) {
            if (j = q[t], s) {
                for (;r > t && !s(q, t); ) t++;
                if (t == r) break;
                j = q[t];
            }
            if (null === j.canvasy || j.canvasy != j.canvasy) g && null !== k && (p.moveTo(k, l), 
            p.lineTo(j.canvasx, l)), k = l = null; else {
                if (i = !1, f || !k) {
                    b.nextIdx_ = t, b.next(), m = b.hasNext ? b.peek.canvasy : null;
                    var u = null === m || m != m;
                    i = !k && u, f && (!o && !k || b.hasNext && u) && (i = !0);
                }
                null !== k ? c && (g && (p.moveTo(k, l), p.lineTo(j.canvasx, l)), p.lineTo(j.canvasx, j.canvasy)) : p.moveTo(j.canvasx, j.canvasy), 
                (e || i) && n.push([ j.canvasx, j.canvasy, j.idx ]), k = j.canvasx, l = j.canvasy;
            }
            o = !1;
        }
        return p.stroke(), n;
    }, a._drawPointsOnLine = function(a, b, c, d, e) {
        for (var f = a.drawingContext, g = 0; g < b.length; g++) {
            var h = b[g];
            f.save(), c.call(a.dygraph, a.dygraph, a.setName, f, h[0], h[1], d, e, h[2]), f.restore();
        }
    }, a.prototype._updatePoints = function() {
        for (var a = this.layout.points, b = a.length; b--; ) for (var c = a[b], d = c.length; d--; ) {
            var e = c[d];
            e.canvasx = this.area.w * e.x + this.area.x, e.canvasy = this.area.h * e.y + this.area.y;
        }
    }, a.prototype._renderLineChart = function(a, b) {
        var c, d, e = b || this.elementContext, f = this.layout.points, g = this.layout.setNames;
        this.colors = this.dygraph_.colorsMap_;
        var h = this.dygraph_.getOption("plotter"), i = h;
        Dygraph.isArrayLike(i) || (i = [ i ]);
        var j = {};
        for (c = 0; c < g.length; c++) {
            d = g[c];
            var k = this.dygraph_.getOption("plotter", d);
            k != h && (j[d] = k);
        }
        for (c = 0; c < i.length; c++) for (var l = i[c], m = c == i.length - 1, n = 0; n < f.length; n++) if (d = g[n], 
        !a || d == a) {
            var o = f[n], p = l;
            if (d in j) {
                if (!m) continue;
                p = j[d];
            }
            var q = this.colors[d], r = this.dygraph_.getOption("strokeWidth", d);
            e.save(), e.strokeStyle = q, e.lineWidth = r, p({
                points: o,
                setName: d,
                drawingContext: e,
                color: q,
                strokeWidth: r,
                dygraph: this.dygraph_,
                axis: this.dygraph_.axisPropertiesForSeries(d),
                plotArea: this.area,
                seriesIndex: n,
                seriesCount: f.length,
                singleSeriesName: a,
                allSeriesPoints: f
            }), e.restore();
        }
    }, a._Plotters = {
        linePlotter: function(b) {
            a._linePlotter(b);
        },
        fillPlotter: function(b) {
            a._fillPlotter(b);
        },
        errorPlotter: function(b) {
            a._errorPlotter(b);
        }
    }, a._linePlotter = function(b) {
        var c = b.dygraph, d = b.setName, e = b.strokeWidth, f = c.getNumericOption("strokeBorderWidth", d), g = c.getOption("drawPointCallback", d) || Dygraph.Circles.DEFAULT, h = c.getOption("strokePattern", d), i = c.getBooleanOption("drawPoints", d), j = c.getNumericOption("pointSize", d);
        f && e && a._drawStyledLine(b, c.getOption("strokeBorderColor", d), e + 2 * f, h, i, g, j), 
        a._drawStyledLine(b, b.color, e, h, i, g, j);
    }, a._errorPlotter = function(b) {
        var c = b.dygraph, d = b.setName, e = c.getBooleanOption("errorBars") || c.getBooleanOption("customBars");
        if (e) {
            var f = c.getBooleanOption("fillGraph", d);
            f && console.warn("Can't use fillGraph option with error bars");
            var g, h = b.drawingContext, i = b.color, j = c.getNumericOption("fillAlpha", d), k = c.getBooleanOption("stepPlot", d), l = b.points, m = Dygraph.createIterator(l, 0, l.length, a._getIteratorPredicate(c.getBooleanOption("connectSeparatedPoints", d))), n = NaN, o = NaN, p = [ -1, -1 ], q = Dygraph.toRGB_(i), r = "rgba(" + q.r + "," + q.g + "," + q.b + "," + j + ")";
            h.fillStyle = r, h.beginPath();
            for (var s = function(a) {
                return null === a || void 0 === a || isNaN(a);
            }; m.hasNext; ) {
                var t = m.next();
                !k && s(t.y) || k && !isNaN(o) && s(o) ? n = NaN : (g = [ t.y_bottom, t.y_top ], 
                k && (o = t.y), isNaN(g[0]) && (g[0] = t.y), isNaN(g[1]) && (g[1] = t.y), g[0] = b.plotArea.h * g[0] + b.plotArea.y, 
                g[1] = b.plotArea.h * g[1] + b.plotArea.y, isNaN(n) || (k ? (h.moveTo(n, p[0]), 
                h.lineTo(t.canvasx, p[0]), h.lineTo(t.canvasx, p[1])) : (h.moveTo(n, p[0]), h.lineTo(t.canvasx, g[0]), 
                h.lineTo(t.canvasx, g[1])), h.lineTo(n, p[1]), h.closePath()), p = g, n = t.canvasx);
            }
            h.fill();
        }
    }, a._fastCanvasProxy = function(a) {
        var b = [], c = null, d = null, e = 1, f = 2, g = 0, h = function(a) {
            if (!(b.length <= 1)) {
                for (var c = b.length - 1; c > 0; c--) {
                    var d = b[c];
                    if (d[0] == f) {
                        var g = b[c - 1];
                        g[1] == d[1] && g[2] == d[2] && b.splice(c, 1);
                    }
                }
                for (var c = 0; c < b.length - 1; ) {
                    var d = b[c];
                    d[0] == f && b[c + 1][0] == f ? b.splice(c, 1) : c++;
                }
                if (b.length > 2 && !a) {
                    var h = 0;
                    b[0][0] == f && h++;
                    for (var i = null, j = null, c = h; c < b.length; c++) {
                        var d = b[c];
                        if (d[0] == e) if (null === i && null === j) i = c, j = c; else {
                            var k = d[2];
                            k < b[i][2] ? i = c : k > b[j][2] && (j = c);
                        }
                    }
                    var l = b[i], m = b[j];
                    b.splice(h, b.length - h), j > i ? (b.push(l), b.push(m)) : i > j ? (b.push(m), 
                    b.push(l)) : b.push(l);
                }
            }
        }, i = function(c) {
            h(c);
            for (var i = 0, j = b.length; j > i; i++) {
                var k = b[i];
                k[0] == e ? a.lineTo(k[1], k[2]) : k[0] == f && a.moveTo(k[1], k[2]);
            }
            b.length && (d = b[b.length - 1][1]), g += b.length, b = [];
        }, j = function(a, e, f) {
            var g = Math.round(e);
            if (null === c || g != c) {
                var h = c - d > 1, j = g - c > 1, k = h || j;
                i(k), c = g;
            }
            b.push([ a, e, f ]);
        };
        return {
            moveTo: function(a, b) {
                j(f, a, b);
            },
            lineTo: function(a, b) {
                j(e, a, b);
            },
            stroke: function() {
                i(!0), a.stroke();
            },
            fill: function() {
                i(!0), a.fill();
            },
            beginPath: function() {
                i(!0), a.beginPath();
            },
            closePath: function() {
                i(!0), a.closePath();
            },
            _count: function() {
                return g;
            }
        };
    }, a._fillPlotter = function(b) {
        if (!b.singleSeriesName && 0 === b.seriesIndex) {
            for (var c = b.dygraph, d = c.getLabels().slice(1), e = d.length; e >= 0; e--) c.visibility()[e] || d.splice(e, 1);
            var f = function() {
                for (var a = 0; a < d.length; a++) if (c.getBooleanOption("fillGraph", d[a])) return !0;
                return !1;
            }();
            if (f) for (var g, h, i = b.plotArea, j = b.allSeriesPoints, k = j.length, l = c.getNumericOption("fillAlpha"), m = c.getBooleanOption("stackedGraph"), n = c.getColors(), o = {}, p = function(a, b, c, d) {
                if (a.lineTo(b, c), m) for (var e = d.length - 1; e >= 0; e--) {
                    var f = d[e];
                    a.lineTo(f[0], f[1]);
                }
            }, q = k - 1; q >= 0; q--) {
                var r = b.drawingContext, s = d[q];
                if (c.getBooleanOption("fillGraph", s)) {
                    var t = c.getBooleanOption("stepPlot", s), u = n[q], v = c.axisPropertiesForSeries(s), w = 1 + v.minyval * v.yscale;
                    0 > w ? w = 0 : w > 1 && (w = 1), w = i.h * w + i.y;
                    var x, y = j[q], z = Dygraph.createIterator(y, 0, y.length, a._getIteratorPredicate(c.getBooleanOption("connectSeparatedPoints", s))), A = NaN, B = [ -1, -1 ], C = Dygraph.toRGB_(u), D = "rgba(" + C.r + "," + C.g + "," + C.b + "," + l + ")";
                    r.fillStyle = D, r.beginPath();
                    var E, F = !0;
                    (y.length > 2 * c.width_ || Dygraph.FORCE_FAST_PROXY) && (r = a._fastCanvasProxy(r));
                    for (var G, H = []; z.hasNext; ) if (G = z.next(), Dygraph.isOK(G.y) || t) {
                        if (m) {
                            if (!F && E == G.xval) continue;
                            F = !1, E = G.xval, g = o[G.canvasx];
                            var I;
                            I = void 0 === g ? w : h ? g[0] : g, x = [ G.canvasy, I ], t ? -1 === B[0] ? o[G.canvasx] = [ G.canvasy, w ] : o[G.canvasx] = [ G.canvasy, B[0] ] : o[G.canvasx] = G.canvasy;
                        } else x = isNaN(G.canvasy) && t ? [ i.y + i.h, w ] : [ G.canvasy, w ];
                        isNaN(A) ? (r.moveTo(G.canvasx, x[1]), r.lineTo(G.canvasx, x[0])) : (t ? (r.lineTo(G.canvasx, B[0]), 
                        r.lineTo(G.canvasx, x[0])) : r.lineTo(G.canvasx, x[0]), m && (H.push([ A, B[1] ]), 
                        H.push(h && g ? [ G.canvasx, g[1] ] : [ G.canvasx, x[1] ]))), B = x, A = G.canvasx;
                    } else p(r, A, B[1], H), H = [], A = NaN, null === G.y_stacked || isNaN(G.y_stacked) || (o[G.canvasx] = i.h * G.y_stacked + i.y);
                    h = t, x && G && (p(r, G.canvasx, x[1], H), H = []), r.fill();
                }
            }
        }
    }, a;
}(), Dygraph = function() {
    "use strict";
    var a = function(a, b, c, d) {
        this.is_initial_draw_ = !0, this.readyFns_ = [], void 0 !== d ? (console.warn("Using deprecated four-argument dygraph constructor"), 
        this.__old_init__(a, b, c, d)) : this.__init__(a, b, c);
    };
    return a.NAME = "Dygraph", a.VERSION = "1.1.1", a.__repr__ = function() {
        return "[" + a.NAME + " " + a.VERSION + "]";
    }, a.toString = function() {
        return a.__repr__();
    }, a.DEFAULT_ROLL_PERIOD = 1, a.DEFAULT_WIDTH = 480, a.DEFAULT_HEIGHT = 320, a.ANIMATION_STEPS = 12, 
    a.ANIMATION_DURATION = 200, a.KMB_LABELS = [ "K", "M", "B", "T", "Q" ], a.KMG2_BIG_LABELS = [ "k", "M", "G", "T", "P", "E", "Z", "Y" ], 
    a.KMG2_SMALL_LABELS = [ "m", "u", "n", "p", "f", "a", "z", "y" ], a.numberValueFormatter = function(b, c) {
        var d = c("sigFigs");
        if (null !== d) return a.floatFormat(b, d);
        var e, f = c("digitsAfterDecimal"), g = c("maxNumberWidth"), h = c("labelsKMB"), i = c("labelsKMG2");
        if (e = 0 !== b && (Math.abs(b) >= Math.pow(10, g) || Math.abs(b) < Math.pow(10, -f)) ? b.toExponential(f) : "" + a.round_(b, f), 
        h || i) {
            var j, k = [], l = [];
            h && (j = 1e3, k = a.KMB_LABELS), i && (h && console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"), 
            j = 1024, k = a.KMG2_BIG_LABELS, l = a.KMG2_SMALL_LABELS);
            for (var m = Math.abs(b), n = a.pow(j, k.length), o = k.length - 1; o >= 0; o--, 
            n /= j) if (m >= n) {
                e = a.round_(b / n, f) + k[o];
                break;
            }
            if (i) {
                var p = String(b.toExponential()).split("e-");
                2 === p.length && p[1] >= 3 && p[1] <= 24 && (e = p[1] % 3 > 0 ? a.round_(p[0] / a.pow(10, p[1] % 3), f) : Number(p[0]).toFixed(2), 
                e += l[Math.floor(p[1] / 3) - 1]);
            }
        }
        return e;
    }, a.numberAxisLabelFormatter = function(b, c, d) {
        return a.numberValueFormatter.call(this, b, d);
    }, a.SHORT_MONTH_NAMES_ = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ], 
    a.dateAxisLabelFormatter = function(b, c, d) {
        var e = d("labelsUTC"), f = e ? a.DateAccessorsUTC : a.DateAccessorsLocal, g = f.getFullYear(b), h = f.getMonth(b), i = f.getDate(b), j = f.getHours(b), k = f.getMinutes(b), l = f.getSeconds(b), m = f.getSeconds(b);
        if (c >= a.DECADAL) return "" + g;
        if (c >= a.MONTHLY) return a.SHORT_MONTH_NAMES_[h] + "&#160;" + g;
        var n = 3600 * j + 60 * k + l + .001 * m;
        return 0 === n || c >= a.DAILY ? a.zeropad(i) + "&#160;" + a.SHORT_MONTH_NAMES_[h] : a.hmsString_(j, k, l);
    }, a.dateAxisFormatter = a.dateAxisLabelFormatter, a.dateValueFormatter = function(b, c) {
        return a.dateString_(b, c("labelsUTC"));
    }, a.Plotters = DygraphCanvasRenderer._Plotters, a.DEFAULT_ATTRS = {
        highlightCircleSize: 3,
        highlightSeriesOpts: null,
        highlightSeriesBackgroundAlpha: .5,
        labelsDivWidth: 250,
        labelsDivStyles: {},
        labelsSeparateLines: !1,
        labelsShowZeroValues: !0,
        labelsKMB: !1,
        labelsKMG2: !1,
        showLabelsOnHighlight: !0,
        digitsAfterDecimal: 2,
        maxNumberWidth: 6,
        sigFigs: null,
        strokeWidth: 1,
        strokeBorderWidth: 0,
        strokeBorderColor: "white",
        axisTickSize: 3,
        axisLabelFontSize: 14,
        rightGap: 5,
        showRoller: !1,
        xValueParser: a.dateParser,
        delimiter: ",",
        sigma: 2,
        errorBars: !1,
        fractions: !1,
        wilsonInterval: !0,
        customBars: !1,
        fillGraph: !1,
        fillAlpha: .15,
        connectSeparatedPoints: !1,
        stackedGraph: !1,
        stackedGraphNaNFill: "all",
        hideOverlayOnMouseOut: !0,
        legend: "onmouseover",
        stepPlot: !1,
        avoidMinZero: !1,
        xRangePad: 0,
        yRangePad: null,
        drawAxesAtZero: !1,
        titleHeight: 28,
        xLabelHeight: 18,
        yLabelWidth: 18,
        drawXAxis: !0,
        drawYAxis: !0,
        axisLineColor: "black",
        axisLineWidth: .3,
        gridLineWidth: .3,
        axisLabelColor: "black",
        axisLabelWidth: 50,
        drawYGrid: !0,
        drawXGrid: !0,
        gridLineColor: "rgb(128,128,128)",
        interactionModel: null,
        animatedZooms: !1,
        showRangeSelector: !1,
        rangeSelectorHeight: 40,
        rangeSelectorPlotStrokeColor: "#808FAB",
        rangeSelectorPlotFillColor: "#A7B1C4",
        showInRangeSelector: null,
        plotter: [ a.Plotters.fillPlotter, a.Plotters.errorPlotter, a.Plotters.linePlotter ],
        plugins: [],
        axes: {
            x: {
                pixelsPerLabel: 70,
                axisLabelWidth: 60,
                axisLabelFormatter: a.dateAxisLabelFormatter,
                valueFormatter: a.dateValueFormatter,
                drawGrid: !0,
                drawAxis: !0,
                independentTicks: !0,
                ticker: null
            },
            y: {
                axisLabelWidth: 50,
                pixelsPerLabel: 30,
                valueFormatter: a.numberValueFormatter,
                axisLabelFormatter: a.numberAxisLabelFormatter,
                drawGrid: !0,
                drawAxis: !0,
                independentTicks: !0,
                ticker: null
            },
            y2: {
                axisLabelWidth: 50,
                pixelsPerLabel: 30,
                valueFormatter: a.numberValueFormatter,
                axisLabelFormatter: a.numberAxisLabelFormatter,
                drawAxis: !0,
                drawGrid: !1,
                independentTicks: !1,
                ticker: null
            }
        }
    }, a.HORIZONTAL = 1, a.VERTICAL = 2, a.PLUGINS = [], a.addedAnnotationCSS = !1, 
    a.prototype.__old_init__ = function(b, c, d, e) {
        if (null !== d) {
            for (var f = [ "Date" ], g = 0; g < d.length; g++) f.push(d[g]);
            a.update(e, {
                labels: f
            });
        }
        this.__init__(b, c, e);
    }, a.prototype.__init__ = function(b, c, d) {
        if (/MSIE/.test(navigator.userAgent) && !window.opera && "undefined" != typeof G_vmlCanvasManager && "complete" != document.readyState) {
            var e = this;
            return void setTimeout(function() {
                e.__init__(b, c, d);
            }, 100);
        }
        if ((null === d || void 0 === d) && (d = {}), d = a.mapLegacyOptions_(d), "string" == typeof b && (b = document.getElementById(b)), 
        !b) return void console.error("Constructing dygraph with a non-existent div!");
        this.isUsingExcanvas_ = "undefined" != typeof G_vmlCanvasManager, this.maindiv_ = b, 
        this.file_ = c, this.rollPeriod_ = d.rollPeriod || a.DEFAULT_ROLL_PERIOD, this.previousVerticalX_ = -1, 
        this.fractions_ = d.fractions || !1, this.dateWindow_ = d.dateWindow || null, this.annotations_ = [], 
        this.zoomed_x_ = !1, this.zoomed_y_ = !1, b.innerHTML = "", "" === b.style.width && d.width && (b.style.width = d.width + "px"), 
        "" === b.style.height && d.height && (b.style.height = d.height + "px"), "" === b.style.height && 0 === b.clientHeight && (b.style.height = a.DEFAULT_HEIGHT + "px", 
        "" === b.style.width && (b.style.width = a.DEFAULT_WIDTH + "px")), this.width_ = b.clientWidth || d.width || 0, 
        this.height_ = b.clientHeight || d.height || 0, d.stackedGraph && (d.fillGraph = !0), 
        this.user_attrs_ = {}, a.update(this.user_attrs_, d), this.attrs_ = {}, a.updateDeep(this.attrs_, a.DEFAULT_ATTRS), 
        this.boundaryIds_ = [], this.setIndexByName_ = {}, this.datasetIndex_ = [], this.registeredEvents_ = [], 
        this.eventListeners_ = {}, this.attributes_ = new DygraphOptions(this), this.createInterface_(), 
        this.plugins_ = [];
        for (var f = a.PLUGINS.concat(this.getOption("plugins")), g = 0; g < f.length; g++) {
            var h, i = f[g];
            h = "undefined" != typeof i.activate ? i : new i();
            var j = {
                plugin: h,
                events: {},
                options: {},
                pluginOptions: {}
            }, k = h.activate(this);
            for (var l in k) k.hasOwnProperty(l) && (j.events[l] = k[l]);
            this.plugins_.push(j);
        }
        for (var g = 0; g < this.plugins_.length; g++) {
            var m = this.plugins_[g];
            for (var l in m.events) if (m.events.hasOwnProperty(l)) {
                var n = m.events[l], o = [ m.plugin, n ];
                l in this.eventListeners_ ? this.eventListeners_[l].push(o) : this.eventListeners_[l] = [ o ];
            }
        }
        this.createDragInterface_(), this.start_();
    }, a.prototype.cascadeEvents_ = function(b, c) {
        if (!(b in this.eventListeners_)) return !1;
        var d = {
            dygraph: this,
            cancelable: !1,
            defaultPrevented: !1,
            preventDefault: function() {
                if (!d.cancelable) throw "Cannot call preventDefault on non-cancelable event.";
                d.defaultPrevented = !0;
            },
            propagationStopped: !1,
            stopPropagation: function() {
                d.propagationStopped = !0;
            }
        };
        a.update(d, c);
        var e = this.eventListeners_[b];
        if (e) for (var f = e.length - 1; f >= 0; f--) {
            var g = e[f][0], h = e[f][1];
            if (h.call(g, d), d.propagationStopped) break;
        }
        return d.defaultPrevented;
    }, a.prototype.getPluginInstance_ = function(a) {
        for (var b = 0; b < this.plugins_.length; b++) {
            var c = this.plugins_[b];
            if (c.plugin instanceof a) return c.plugin;
        }
        return null;
    }, a.prototype.isZoomed = function(a) {
        if (null === a || void 0 === a) return this.zoomed_x_ || this.zoomed_y_;
        if ("x" === a) return this.zoomed_x_;
        if ("y" === a) return this.zoomed_y_;
        throw "axis parameter is [" + a + "] must be null, 'x' or 'y'.";
    }, a.prototype.toString = function() {
        var a = this.maindiv_, b = a && a.id ? a.id : a;
        return "[Dygraph " + b + "]";
    }, a.prototype.attr_ = function(a, b) {
        return b ? this.attributes_.getForSeries(a, b) : this.attributes_.get(a);
    }, a.prototype.getOption = function(a, b) {
        return this.attr_(a, b);
    }, a.prototype.getNumericOption = function(a, b) {
        return this.getOption(a, b);
    }, a.prototype.getStringOption = function(a, b) {
        return this.getOption(a, b);
    }, a.prototype.getBooleanOption = function(a, b) {
        return this.getOption(a, b);
    }, a.prototype.getFunctionOption = function(a, b) {
        return this.getOption(a, b);
    }, a.prototype.getOptionForAxis = function(a, b) {
        return this.attributes_.getForAxis(a, b);
    }, a.prototype.optionsViewForAxis_ = function(a) {
        var b = this;
        return function(c) {
            var d = b.user_attrs_.axes;
            return d && d[a] && d[a].hasOwnProperty(c) ? d[a][c] : "x" === a && "logscale" === c ? !1 : "undefined" != typeof b.user_attrs_[c] ? b.user_attrs_[c] : (d = b.attrs_.axes, 
            d && d[a] && d[a].hasOwnProperty(c) ? d[a][c] : "y" == a && b.axes_[0].hasOwnProperty(c) ? b.axes_[0][c] : "y2" == a && b.axes_[1].hasOwnProperty(c) ? b.axes_[1][c] : b.attr_(c));
        };
    }, a.prototype.rollPeriod = function() {
        return this.rollPeriod_;
    }, a.prototype.xAxisRange = function() {
        return this.dateWindow_ ? this.dateWindow_ : this.xAxisExtremes();
    }, a.prototype.xAxisExtremes = function() {
        var a = this.getNumericOption("xRangePad") / this.plotter_.area.w;
        if (0 === this.numRows()) return [ 0 - a, 1 + a ];
        var b = this.rawData_[0][0], c = this.rawData_[this.rawData_.length - 1][0];
        if (a) {
            var d = c - b;
            b -= d * a, c += d * a;
        }
        return [ b, c ];
    }, a.prototype.yAxisRange = function(a) {
        if ("undefined" == typeof a && (a = 0), 0 > a || a >= this.axes_.length) return null;
        var b = this.axes_[a];
        return [ b.computedValueRange[0], b.computedValueRange[1] ];
    }, a.prototype.yAxisRanges = function() {
        for (var a = [], b = 0; b < this.axes_.length; b++) a.push(this.yAxisRange(b));
        return a;
    }, a.prototype.toDomCoords = function(a, b, c) {
        return [ this.toDomXCoord(a), this.toDomYCoord(b, c) ];
    }, a.prototype.toDomXCoord = function(a) {
        if (null === a) return null;
        var b = this.plotter_.area, c = this.xAxisRange();
        return b.x + (a - c[0]) / (c[1] - c[0]) * b.w;
    }, a.prototype.toDomYCoord = function(a, b) {
        var c = this.toPercentYCoord(a, b);
        if (null === c) return null;
        var d = this.plotter_.area;
        return d.y + c * d.h;
    }, a.prototype.toDataCoords = function(a, b, c) {
        return [ this.toDataXCoord(a), this.toDataYCoord(b, c) ];
    }, a.prototype.toDataXCoord = function(b) {
        if (null === b) return null;
        var c = this.plotter_.area, d = this.xAxisRange();
        if (this.attributes_.getForAxis("logscale", "x")) {
            var e = (b - c.x) / c.w, f = a.log10(d[0]), g = a.log10(d[1]), h = f + e * (g - f), i = Math.pow(a.LOG_SCALE, h);
            return i;
        }
        return d[0] + (b - c.x) / c.w * (d[1] - d[0]);
    }, a.prototype.toDataYCoord = function(b, c) {
        if (null === b) return null;
        var d = this.plotter_.area, e = this.yAxisRange(c);
        if ("undefined" == typeof c && (c = 0), this.attributes_.getForAxis("logscale", c)) {
            var f = (b - d.y) / d.h, g = a.log10(e[0]), h = a.log10(e[1]), i = h - f * (h - g), j = Math.pow(a.LOG_SCALE, i);
            return j;
        }
        return e[0] + (d.y + d.h - b) / d.h * (e[1] - e[0]);
    }, a.prototype.toPercentYCoord = function(b, c) {
        if (null === b) return null;
        "undefined" == typeof c && (c = 0);
        var d, e = this.yAxisRange(c), f = this.attributes_.getForAxis("logscale", c);
        if (f) {
            var g = a.log10(e[0]), h = a.log10(e[1]);
            d = (h - a.log10(b)) / (h - g);
        } else d = (e[1] - b) / (e[1] - e[0]);
        return d;
    }, a.prototype.toPercentXCoord = function(b) {
        if (null === b) return null;
        var c, d = this.xAxisRange(), e = this.attributes_.getForAxis("logscale", "x");
        if (e === !0) {
            var f = a.log10(d[0]), g = a.log10(d[1]);
            c = (a.log10(b) - f) / (g - f);
        } else c = (b - d[0]) / (d[1] - d[0]);
        return c;
    }, a.prototype.numColumns = function() {
        return this.rawData_ ? this.rawData_[0] ? this.rawData_[0].length : this.attr_("labels").length : 0;
    }, a.prototype.numRows = function() {
        return this.rawData_ ? this.rawData_.length : 0;
    }, a.prototype.getValue = function(a, b) {
        return 0 > a || a > this.rawData_.length ? null : 0 > b || b > this.rawData_[a].length ? null : this.rawData_[a][b];
    }, a.prototype.createInterface_ = function() {
        var b = this.maindiv_;
        this.graphDiv = document.createElement("div"), this.graphDiv.style.textAlign = "left", 
        this.graphDiv.style.position = "relative", b.appendChild(this.graphDiv), this.canvas_ = a.createCanvas(), 
        this.canvas_.style.position = "absolute", this.hidden_ = this.createPlotKitCanvas_(this.canvas_), 
        this.canvas_ctx_ = a.getContext(this.canvas_), this.hidden_ctx_ = a.getContext(this.hidden_), 
        this.resizeElements_(), this.graphDiv.appendChild(this.hidden_), this.graphDiv.appendChild(this.canvas_), 
        this.mouseEventElement_ = this.createMouseEventElement_(), this.layout_ = new DygraphLayout(this);
        var c = this;
        this.mouseMoveHandler_ = function(a) {
            c.mouseMove_(a);
        }, this.mouseOutHandler_ = function(b) {
            var d = b.target || b.fromElement, e = b.relatedTarget || b.toElement;
            a.isNodeContainedBy(d, c.graphDiv) && !a.isNodeContainedBy(e, c.graphDiv) && c.mouseOut_(b);
        }, this.addAndTrackEvent(window, "mouseout", this.mouseOutHandler_), this.addAndTrackEvent(this.mouseEventElement_, "mousemove", this.mouseMoveHandler_), 
        this.resizeHandler_ || (this.resizeHandler_ = function(a) {
            c.resize();
        }, this.addAndTrackEvent(window, "resize", this.resizeHandler_));
    }, a.prototype.resizeElements_ = function() {
        this.graphDiv.style.width = this.width_ + "px", this.graphDiv.style.height = this.height_ + "px";
        var b = a.getContextPixelRatio(this.canvas_ctx_);
        this.canvas_.width = this.width_ * b, this.canvas_.height = this.height_ * b, this.canvas_.style.width = this.width_ + "px", 
        this.canvas_.style.height = this.height_ + "px", 1 !== b && this.canvas_ctx_.scale(b, b);
        var c = a.getContextPixelRatio(this.hidden_ctx_);
        this.hidden_.width = this.width_ * c, this.hidden_.height = this.height_ * c, this.hidden_.style.width = this.width_ + "px", 
        this.hidden_.style.height = this.height_ + "px", 1 !== c && this.hidden_ctx_.scale(c, c);
    }, a.prototype.destroy = function() {
        this.canvas_ctx_.restore(), this.hidden_ctx_.restore();
        for (var b = this.plugins_.length - 1; b >= 0; b--) {
            var c = this.plugins_.pop();
            c.plugin.destroy && c.plugin.destroy();
        }
        var d = function(a) {
            for (;a.hasChildNodes(); ) d(a.firstChild), a.removeChild(a.firstChild);
        };
        this.removeTrackedEvents_(), a.removeEvent(window, "mouseout", this.mouseOutHandler_), 
        a.removeEvent(this.mouseEventElement_, "mousemove", this.mouseMoveHandler_), a.removeEvent(window, "resize", this.resizeHandler_), 
        this.resizeHandler_ = null, d(this.maindiv_);
        var e = function(a) {
            for (var b in a) "object" == typeof a[b] && (a[b] = null);
        };
        e(this.layout_), e(this.plotter_), e(this);
    }, a.prototype.createPlotKitCanvas_ = function(b) {
        var c = a.createCanvas();
        return c.style.position = "absolute", c.style.top = b.style.top, c.style.left = b.style.left, 
        c.width = this.width_, c.height = this.height_, c.style.width = this.width_ + "px", 
        c.style.height = this.height_ + "px", c;
    }, a.prototype.createMouseEventElement_ = function() {
        if (this.isUsingExcanvas_) {
            var a = document.createElement("div");
            return a.style.position = "absolute", a.style.backgroundColor = "white", a.style.filter = "alpha(opacity=0)", 
            a.style.width = this.width_ + "px", a.style.height = this.height_ + "px", this.graphDiv.appendChild(a), 
            a;
        }
        return this.canvas_;
    }, a.prototype.setColors_ = function() {
        var b = this.getLabels(), c = b.length - 1;
        this.colors_ = [], this.colorsMap_ = {};
        for (var d = this.getNumericOption("colorSaturation") || 1, e = this.getNumericOption("colorValue") || .5, f = Math.ceil(c / 2), g = this.getOption("colors"), h = this.visibility(), i = 0; c > i; i++) if (h[i]) {
            var j = b[i + 1], k = this.attributes_.getForSeries("color", j);
            if (!k) if (g) k = g[i % g.length]; else {
                var l = i % 2 ? f + (i + 1) / 2 : Math.ceil((i + 1) / 2), m = 1 * l / (1 + c);
                k = a.hsvToRGB(m, d, e);
            }
            this.colors_.push(k), this.colorsMap_[j] = k;
        }
    }, a.prototype.getColors = function() {
        return this.colors_;
    }, a.prototype.getPropertiesForSeries = function(a) {
        for (var b = -1, c = this.getLabels(), d = 1; d < c.length; d++) if (c[d] == a) {
            b = d;
            break;
        }
        return -1 == b ? null : {
            name: a,
            column: b,
            visible: this.visibility()[b - 1],
            color: this.colorsMap_[a],
            axis: 1 + this.attributes_.axisForSeries(a)
        };
    }, a.prototype.createRollInterface_ = function() {
        this.roller_ || (this.roller_ = document.createElement("input"), this.roller_.type = "text", 
        this.roller_.style.display = "none", this.graphDiv.appendChild(this.roller_));
        var a = this.getBooleanOption("showRoller") ? "block" : "none", b = this.plotter_.area, c = {
            position: "absolute",
            zIndex: 10,
            top: b.y + b.h - 25 + "px",
            left: b.x + 1 + "px",
            display: a
        };
        this.roller_.size = "2", this.roller_.value = this.rollPeriod_;
        for (var d in c) c.hasOwnProperty(d) && (this.roller_.style[d] = c[d]);
        var e = this;
        this.roller_.onchange = function() {
            e.adjustRoll(e.roller_.value);
        };
    }, a.prototype.createDragInterface_ = function() {
        var b = {
            isZooming: !1,
            isPanning: !1,
            is2DPan: !1,
            dragStartX: null,
            dragStartY: null,
            dragEndX: null,
            dragEndY: null,
            dragDirection: null,
            prevEndX: null,
            prevEndY: null,
            prevDragDirection: null,
            cancelNextDblclick: !1,
            initialLeftmostDate: null,
            xUnitsPerPixel: null,
            dateRange: null,
            px: 0,
            py: 0,
            boundedDates: null,
            boundedValues: null,
            tarp: new a.IFrameTarp(),
            initializeMouseDown: function(b, c, d) {
                b.preventDefault ? b.preventDefault() : (b.returnValue = !1, b.cancelBubble = !0);
                var e = a.findPos(c.canvas_);
                d.px = e.x, d.py = e.y, d.dragStartX = a.dragGetX_(b, d), d.dragStartY = a.dragGetY_(b, d), 
                d.cancelNextDblclick = !1, d.tarp.cover();
            },
            destroy: function() {
                var a = this;
                if ((a.isZooming || a.isPanning) && (a.isZooming = !1, a.dragStartX = null, a.dragStartY = null), 
                a.isPanning) {
                    a.isPanning = !1, a.draggingDate = null, a.dateRange = null;
                    for (var b = 0; b < d.axes_.length; b++) delete d.axes_[b].draggingValue, delete d.axes_[b].dragValueRange;
                }
                a.tarp.uncover();
            }
        }, c = this.getOption("interactionModel"), d = this, e = function(a) {
            return function(c) {
                a(c, d, b);
            };
        };
        for (var f in c) c.hasOwnProperty(f) && this.addAndTrackEvent(this.mouseEventElement_, f, e(c[f]));
        if (!c.willDestroyContextMyself) {
            var g = function(a) {
                b.destroy();
            };
            this.addAndTrackEvent(document, "mouseup", g);
        }
    }, a.prototype.drawZoomRect_ = function(b, c, d, e, f, g, h, i) {
        var j = this.canvas_ctx_;
        g == a.HORIZONTAL ? j.clearRect(Math.min(c, h), this.layout_.getPlotArea().y, Math.abs(c - h), this.layout_.getPlotArea().h) : g == a.VERTICAL && j.clearRect(this.layout_.getPlotArea().x, Math.min(e, i), this.layout_.getPlotArea().w, Math.abs(e - i)), 
        b == a.HORIZONTAL ? d && c && (j.fillStyle = "rgba(128,128,128,0.33)", j.fillRect(Math.min(c, d), this.layout_.getPlotArea().y, Math.abs(d - c), this.layout_.getPlotArea().h)) : b == a.VERTICAL && f && e && (j.fillStyle = "rgba(128,128,128,0.33)", 
        j.fillRect(this.layout_.getPlotArea().x, Math.min(e, f), this.layout_.getPlotArea().w, Math.abs(f - e))), 
        this.isUsingExcanvas_ && (this.currentZoomRectArgs_ = [ b, c, d, e, f, 0, 0, 0 ]);
    }, a.prototype.clearZoomRect_ = function() {
        this.currentZoomRectArgs_ = null, this.canvas_ctx_.clearRect(0, 0, this.width_, this.height_);
    }, a.prototype.doZoomX_ = function(a, b) {
        this.currentZoomRectArgs_ = null;
        var c = this.toDataXCoord(a), d = this.toDataXCoord(b);
        this.doZoomXDates_(c, d);
    }, a.prototype.doZoomXDates_ = function(a, b) {
        var c = this.xAxisRange(), d = [ a, b ];
        this.zoomed_x_ = !0;
        var e = this;
        this.doAnimatedZoom(c, d, null, null, function() {
            e.getFunctionOption("zoomCallback") && e.getFunctionOption("zoomCallback").call(e, a, b, e.yAxisRanges());
        });
    }, a.prototype.doZoomY_ = function(a, b) {
        this.currentZoomRectArgs_ = null;
        for (var c = this.yAxisRanges(), d = [], e = 0; e < this.axes_.length; e++) {
            var f = this.toDataYCoord(a, e), g = this.toDataYCoord(b, e);
            d.push([ g, f ]);
        }
        this.zoomed_y_ = !0;
        var h = this;
        this.doAnimatedZoom(null, null, c, d, function() {
            if (h.getFunctionOption("zoomCallback")) {
                var a = h.xAxisRange();
                h.getFunctionOption("zoomCallback").call(h, a[0], a[1], h.yAxisRanges());
            }
        });
    }, a.zoomAnimationFunction = function(a, b) {
        var c = 1.5;
        return (1 - Math.pow(c, -a)) / (1 - Math.pow(c, -b));
    }, a.prototype.resetZoom = function() {
        var a = !1, b = !1, c = !1;
        null !== this.dateWindow_ && (a = !0, b = !0);
        for (var d = 0; d < this.axes_.length; d++) "undefined" != typeof this.axes_[d].valueWindow && null !== this.axes_[d].valueWindow && (a = !0, 
        c = !0);
        if (this.clearSelection(), a) {
            this.zoomed_x_ = !1, this.zoomed_y_ = !1;
            var e = this.rawData_[0][0], f = this.rawData_[this.rawData_.length - 1][0];
            if (!this.getBooleanOption("animatedZooms")) {
                for (this.dateWindow_ = null, d = 0; d < this.axes_.length; d++) null !== this.axes_[d].valueWindow && delete this.axes_[d].valueWindow;
                return this.drawGraph_(), void (this.getFunctionOption("zoomCallback") && this.getFunctionOption("zoomCallback").call(this, e, f, this.yAxisRanges()));
            }
            var g = null, h = null, i = null, j = null;
            if (b && (g = this.xAxisRange(), h = [ e, f ]), c) {
                i = this.yAxisRanges();
                var k = this.gatherDatasets_(this.rolledSeries_, null), l = k.extremes;
                for (this.computeYAxisRanges_(l), j = [], d = 0; d < this.axes_.length; d++) {
                    var m = this.axes_[d];
                    j.push(null !== m.valueRange && void 0 !== m.valueRange ? m.valueRange : m.extremeRange);
                }
            }
            var n = this;
            this.doAnimatedZoom(g, h, i, j, function() {
                n.dateWindow_ = null;
                for (var a = 0; a < n.axes_.length; a++) null !== n.axes_[a].valueWindow && delete n.axes_[a].valueWindow;
                n.getFunctionOption("zoomCallback") && n.getFunctionOption("zoomCallback").call(n, e, f, n.yAxisRanges());
            });
        }
    }, a.prototype.doAnimatedZoom = function(b, c, d, e, f) {
        var g, h, i = this.getBooleanOption("animatedZooms") ? a.ANIMATION_STEPS : 1, j = [], k = [];
        if (null !== b && null !== c) for (g = 1; i >= g; g++) h = a.zoomAnimationFunction(g, i), 
        j[g - 1] = [ b[0] * (1 - h) + h * c[0], b[1] * (1 - h) + h * c[1] ];
        if (null !== d && null !== e) for (g = 1; i >= g; g++) {
            h = a.zoomAnimationFunction(g, i);
            for (var l = [], m = 0; m < this.axes_.length; m++) l.push([ d[m][0] * (1 - h) + h * e[m][0], d[m][1] * (1 - h) + h * e[m][1] ]);
            k[g - 1] = l;
        }
        var n = this;
        a.repeatAndCleanup(function(a) {
            if (k.length) for (var b = 0; b < n.axes_.length; b++) {
                var c = k[a][b];
                n.axes_[b].valueWindow = [ c[0], c[1] ];
            }
            j.length && (n.dateWindow_ = j[a]), n.drawGraph_();
        }, i, a.ANIMATION_DURATION / i, f);
    }, a.prototype.getArea = function() {
        return this.plotter_.area;
    }, a.prototype.eventToDomCoords = function(b) {
        if (b.offsetX && b.offsetY) return [ b.offsetX, b.offsetY ];
        var c = a.findPos(this.mouseEventElement_), d = a.pageX(b) - c.x, e = a.pageY(b) - c.y;
        return [ d, e ];
    }, a.prototype.findClosestRow = function(b) {
        for (var c = 1 / 0, d = -1, e = this.layout_.points, f = 0; f < e.length; f++) for (var g = e[f], h = g.length, i = 0; h > i; i++) {
            var j = g[i];
            if (a.isValidPoint(j, !0)) {
                var k = Math.abs(j.canvasx - b);
                c > k && (c = k, d = j.idx);
            }
        }
        return d;
    }, a.prototype.findClosestPoint = function(b, c) {
        for (var d, e, f, g, h, i, j, k = 1 / 0, l = this.layout_.points.length - 1; l >= 0; --l) for (var m = this.layout_.points[l], n = 0; n < m.length; ++n) g = m[n], 
        a.isValidPoint(g) && (e = g.canvasx - b, f = g.canvasy - c, d = e * e + f * f, k > d && (k = d, 
        h = g, i = l, j = g.idx));
        var o = this.layout_.setNames[i];
        return {
            row: j,
            seriesName: o,
            point: h
        };
    }, a.prototype.findStackedPoint = function(b, c) {
        for (var d, e, f = this.findClosestRow(b), g = 0; g < this.layout_.points.length; ++g) {
            var h = this.getLeftBoundary_(g), i = f - h, j = this.layout_.points[g];
            if (!(i >= j.length)) {
                var k = j[i];
                if (a.isValidPoint(k)) {
                    var l = k.canvasy;
                    if (b > k.canvasx && i + 1 < j.length) {
                        var m = j[i + 1];
                        if (a.isValidPoint(m)) {
                            var n = m.canvasx - k.canvasx;
                            if (n > 0) {
                                var o = (b - k.canvasx) / n;
                                l += o * (m.canvasy - k.canvasy);
                            }
                        }
                    } else if (b < k.canvasx && i > 0) {
                        var p = j[i - 1];
                        if (a.isValidPoint(p)) {
                            var n = k.canvasx - p.canvasx;
                            if (n > 0) {
                                var o = (k.canvasx - b) / n;
                                l += o * (p.canvasy - k.canvasy);
                            }
                        }
                    }
                    (0 === g || c > l) && (d = k, e = g);
                }
            }
        }
        var q = this.layout_.setNames[e];
        return {
            row: f,
            seriesName: q,
            point: d
        };
    }, a.prototype.mouseMove_ = function(a) {
        var b = this.layout_.points;
        if (void 0 !== b && null !== b) {
            var c = this.eventToDomCoords(a), d = c[0], e = c[1], f = this.getOption("highlightSeriesOpts"), g = !1;
            if (f && !this.isSeriesLocked()) {
                var h;
                h = this.getBooleanOption("stackedGraph") ? this.findStackedPoint(d, e) : this.findClosestPoint(d, e), 
                g = this.setSelection(h.row, h.seriesName);
            } else {
                var i = this.findClosestRow(d);
                g = this.setSelection(i);
            }
            var j = this.getFunctionOption("highlightCallback");
            j && g && j.call(this, a, this.lastx_, this.selPoints_, this.lastRow_, this.highlightSet_);
        }
    }, a.prototype.getLeftBoundary_ = function(a) {
        if (this.boundaryIds_[a]) return this.boundaryIds_[a][0];
        for (var b = 0; b < this.boundaryIds_.length; b++) if (void 0 !== this.boundaryIds_[b]) return this.boundaryIds_[b][0];
        return 0;
    }, a.prototype.animateSelection_ = function(b) {
        var c = 10, d = 30;
        void 0 === this.fadeLevel && (this.fadeLevel = 0), void 0 === this.animateId && (this.animateId = 0);
        var e = this.fadeLevel, f = 0 > b ? e : c - e;
        if (0 >= f) return void (this.fadeLevel && this.updateSelection_(1));
        var g = ++this.animateId, h = this;
        a.repeatAndCleanup(function(a) {
            h.animateId == g && (h.fadeLevel += b, 0 === h.fadeLevel ? h.clearSelection() : h.updateSelection_(h.fadeLevel / c));
        }, f, d, function() {});
    }, a.prototype.updateSelection_ = function(b) {
        this.cascadeEvents_("select", {
            selectedRow: this.lastRow_,
            selectedX: this.lastx_,
            selectedPoints: this.selPoints_
        });
        var c, d = this.canvas_ctx_;
        if (this.getOption("highlightSeriesOpts")) {
            d.clearRect(0, 0, this.width_, this.height_);
            var e = 1 - this.getNumericOption("highlightSeriesBackgroundAlpha");
            if (e) {
                var f = !0;
                if (f) {
                    if (void 0 === b) return void this.animateSelection_(1);
                    e *= b;
                }
                d.fillStyle = "rgba(255,255,255," + e + ")", d.fillRect(0, 0, this.width_, this.height_);
            }
            this.plotter_._renderLineChart(this.highlightSet_, d);
        } else if (this.previousVerticalX_ >= 0) {
            var g = 0, h = this.attr_("labels");
            for (c = 1; c < h.length; c++) {
                var i = this.getNumericOption("highlightCircleSize", h[c]);
                i > g && (g = i);
            }
            var j = this.previousVerticalX_;
            d.clearRect(j - g - 1, 0, 2 * g + 2, this.height_);
        }
        if (this.isUsingExcanvas_ && this.currentZoomRectArgs_ && a.prototype.drawZoomRect_.apply(this, this.currentZoomRectArgs_), 
        this.selPoints_.length > 0) {
            var k = this.selPoints_[0].canvasx;
            for (d.save(), c = 0; c < this.selPoints_.length; c++) {
                var l = this.selPoints_[c];
                if (a.isOK(l.canvasy)) {
                    var m = this.getNumericOption("highlightCircleSize", l.name), n = this.getFunctionOption("drawHighlightPointCallback", l.name), o = this.plotter_.colors[l.name];
                    n || (n = a.Circles.DEFAULT), d.lineWidth = this.getNumericOption("strokeWidth", l.name), 
                    d.strokeStyle = o, d.fillStyle = o, n.call(this, this, l.name, d, k, l.canvasy, o, m, l.idx);
                }
            }
            d.restore(), this.previousVerticalX_ = k;
        }
    }, a.prototype.setSelection = function(a, b, c) {
        this.selPoints_ = [];
        var d = !1;
        if (a !== !1 && a >= 0) {
            a != this.lastRow_ && (d = !0), this.lastRow_ = a;
            for (var e = 0; e < this.layout_.points.length; ++e) {
                var f = this.layout_.points[e], g = a - this.getLeftBoundary_(e);
                if (g < f.length && f[g].idx == a) {
                    var h = f[g];
                    null !== h.yval && this.selPoints_.push(h);
                } else for (var i = 0; i < f.length; ++i) {
                    var h = f[i];
                    if (h.idx == a) {
                        null !== h.yval && this.selPoints_.push(h);
                        break;
                    }
                }
            }
        } else this.lastRow_ >= 0 && (d = !0), this.lastRow_ = -1;
        return this.selPoints_.length ? this.lastx_ = this.selPoints_[0].xval : this.lastx_ = -1, 
        void 0 !== b && (this.highlightSet_ !== b && (d = !0), this.highlightSet_ = b), 
        void 0 !== c && (this.lockedSet_ = c), d && this.updateSelection_(void 0), d;
    }, a.prototype.mouseOut_ = function(a) {
        this.getFunctionOption("unhighlightCallback") && this.getFunctionOption("unhighlightCallback").call(this, a), 
        this.getBooleanOption("hideOverlayOnMouseOut") && !this.lockedSet_ && this.clearSelection();
    }, a.prototype.clearSelection = function() {
        return this.cascadeEvents_("deselect", {}), this.lockedSet_ = !1, this.fadeLevel ? void this.animateSelection_(-1) : (this.canvas_ctx_.clearRect(0, 0, this.width_, this.height_), 
        this.fadeLevel = 0, this.selPoints_ = [], this.lastx_ = -1, this.lastRow_ = -1, 
        void (this.highlightSet_ = null));
    }, a.prototype.getSelection = function() {
        if (!this.selPoints_ || this.selPoints_.length < 1) return -1;
        for (var a = 0; a < this.layout_.points.length; a++) for (var b = this.layout_.points[a], c = 0; c < b.length; c++) if (b[c].x == this.selPoints_[0].x) return b[c].idx;
        return -1;
    }, a.prototype.getHighlightSeries = function() {
        return this.highlightSet_;
    }, a.prototype.isSeriesLocked = function() {
        return this.lockedSet_;
    }, a.prototype.loadedEvent_ = function(a) {
        this.rawData_ = this.parseCSV_(a), this.cascadeDataDidUpdateEvent_(), this.predraw_();
    }, a.prototype.addXTicks_ = function() {
        var a;
        a = this.dateWindow_ ? [ this.dateWindow_[0], this.dateWindow_[1] ] : this.xAxisExtremes();
        var b = this.optionsViewForAxis_("x"), c = b("ticker")(a[0], a[1], this.plotter_.area.w, b, this);
        this.layout_.setXTicks(c);
    }, a.prototype.getHandlerClass_ = function() {
        var b;
        return b = this.attr_("dataHandler") ? this.attr_("dataHandler") : this.fractions_ ? this.getBooleanOption("errorBars") ? a.DataHandlers.FractionsBarsHandler : a.DataHandlers.DefaultFractionHandler : this.getBooleanOption("customBars") ? a.DataHandlers.CustomBarsHandler : this.getBooleanOption("errorBars") ? a.DataHandlers.ErrorBarsHandler : a.DataHandlers.DefaultHandler;
    }, a.prototype.predraw_ = function() {
        var a = new Date();
        this.dataHandler_ = new (this.getHandlerClass_())(), this.layout_.computePlotArea(), 
        this.computeYAxes_(), this.is_initial_draw_ || (this.canvas_ctx_.restore(), this.hidden_ctx_.restore()), 
        this.canvas_ctx_.save(), this.hidden_ctx_.save(), this.plotter_ = new DygraphCanvasRenderer(this, this.hidden_, this.hidden_ctx_, this.layout_), 
        this.createRollInterface_(), this.cascadeEvents_("predraw"), this.rolledSeries_ = [ null ];
        for (var b = 1; b < this.numColumns(); b++) {
            var c = this.dataHandler_.extractSeries(this.rawData_, b, this.attributes_);
            this.rollPeriod_ > 1 && (c = this.dataHandler_.rollingAverage(c, this.rollPeriod_, this.attributes_)), 
            this.rolledSeries_.push(c);
        }
        this.drawGraph_();
        var d = new Date();
        this.drawingTimeMs_ = d - a;
    }, a.PointType = void 0, a.stackPoints_ = function(a, b, c, d) {
        for (var e = null, f = null, g = null, h = -1, i = function(b) {
            if (!(h >= b)) for (var c = b; c < a.length; ++c) if (g = null, !isNaN(a[c].yval) && null !== a[c].yval) {
                h = c, g = a[c];
                break;
            }
        }, j = 0; j < a.length; ++j) {
            var k = a[j], l = k.xval;
            void 0 === b[l] && (b[l] = 0);
            var m = k.yval;
            isNaN(m) || null === m ? "none" == d ? m = 0 : (i(j), m = f && g && "none" != d ? f.yval + (g.yval - f.yval) * ((l - f.xval) / (g.xval - f.xval)) : f && "all" == d ? f.yval : g && "all" == d ? g.yval : 0) : f = k;
            var n = b[l];
            e != l && (n += m, b[l] = n), e = l, k.yval_stacked = n, n > c[1] && (c[1] = n), 
            n < c[0] && (c[0] = n);
        }
    }, a.prototype.gatherDatasets_ = function(b, c) {
        var d, e, f, g, h, i, j = [], k = [], l = [], m = {}, n = b.length - 1;
        for (d = n; d >= 1; d--) if (this.visibility()[d - 1]) {
            if (c) {
                i = b[d];
                var o = c[0], p = c[1];
                for (f = null, g = null, e = 0; e < i.length; e++) i[e][0] >= o && null === f && (f = e), 
                i[e][0] <= p && (g = e);
                null === f && (f = 0);
                for (var q = f, r = !0; r && q > 0; ) q--, r = null === i[q][1];
                null === g && (g = i.length - 1);
                var s = g;
                for (r = !0; r && s < i.length - 1; ) s++, r = null === i[s][1];
                q !== f && (f = q), s !== g && (g = s), j[d - 1] = [ f, g ], i = i.slice(f, g + 1);
            } else i = b[d], j[d - 1] = [ 0, i.length - 1 ];
            var t = this.attr_("labels")[d], u = this.dataHandler_.getExtremeYValues(i, c, this.getBooleanOption("stepPlot", t)), v = this.dataHandler_.seriesToPoints(i, t, j[d - 1][0]);
            this.getBooleanOption("stackedGraph") && (h = this.attributes_.axisForSeries(t), 
            void 0 === l[h] && (l[h] = []), a.stackPoints_(v, l[h], u, this.getBooleanOption("stackedGraphNaNFill"))), 
            m[t] = u, k[d] = v;
        }
        return {
            points: k,
            extremes: m,
            boundaryIds: j
        };
    }, a.prototype.drawGraph_ = function() {
        var a = new Date(), b = this.is_initial_draw_;
        this.is_initial_draw_ = !1, this.layout_.removeAllDatasets(), this.setColors_(), 
        this.attrs_.pointSize = .5 * this.getNumericOption("highlightCircleSize");
        var c = this.gatherDatasets_(this.rolledSeries_, this.dateWindow_), d = c.points, e = c.extremes;
        this.boundaryIds_ = c.boundaryIds, this.setIndexByName_ = {};
        var f = this.attr_("labels");
        f.length > 0 && (this.setIndexByName_[f[0]] = 0);
        for (var g = 0, h = 1; h < d.length; h++) this.setIndexByName_[f[h]] = h, this.visibility()[h - 1] && (this.layout_.addDataset(f[h], d[h]), 
        this.datasetIndex_[h] = g++);
        this.computeYAxisRanges_(e), this.layout_.setYAxes(this.axes_), this.addXTicks_();
        var i = this.zoomed_x_;
        if (this.zoomed_x_ = i, this.layout_.evaluate(), this.renderGraph_(b), this.getStringOption("timingName")) {
            var j = new Date();
            console.log(this.getStringOption("timingName") + " - drawGraph: " + (j - a) + "ms");
        }
    }, a.prototype.renderGraph_ = function(a) {
        this.cascadeEvents_("clearChart"), this.plotter_.clear(), this.getFunctionOption("underlayCallback") && this.getFunctionOption("underlayCallback").call(this, this.hidden_ctx_, this.layout_.getPlotArea(), this, this);
        var b = {
            canvas: this.hidden_,
            drawingContext: this.hidden_ctx_
        };
        if (this.cascadeEvents_("willDrawChart", b), this.plotter_.render(), this.cascadeEvents_("didDrawChart", b), 
        this.lastRow_ = -1, this.canvas_.getContext("2d").clearRect(0, 0, this.width_, this.height_), 
        null !== this.getFunctionOption("drawCallback") && this.getFunctionOption("drawCallback").call(this, this, a), 
        a) for (this.readyFired_ = !0; this.readyFns_.length > 0; ) {
            var c = this.readyFns_.pop();
            c(this);
        }
    }, a.prototype.computeYAxes_ = function() {
        var b, c, d, e, f;
        if (void 0 !== this.axes_ && this.user_attrs_.hasOwnProperty("valueRange") === !1) for (b = [], 
        d = 0; d < this.axes_.length; d++) b.push(this.axes_[d].valueWindow);
        for (this.axes_ = [], c = 0; c < this.attributes_.numAxes(); c++) e = {
            g: this
        }, a.update(e, this.attributes_.axisOptions(c)), this.axes_[c] = e;
        if (f = this.attr_("valueRange"), f && (this.axes_[0].valueRange = f), void 0 !== b) {
            var g = Math.min(b.length, this.axes_.length);
            for (d = 0; g > d; d++) this.axes_[d].valueWindow = b[d];
        }
        for (c = 0; c < this.axes_.length; c++) if (0 === c) e = this.optionsViewForAxis_("y" + (c ? "2" : "")), 
        f = e("valueRange"), f && (this.axes_[c].valueRange = f); else {
            var h = this.user_attrs_.axes;
            h && h.y2 && (f = h.y2.valueRange, f && (this.axes_[c].valueRange = f));
        }
    }, a.prototype.numAxes = function() {
        return this.attributes_.numAxes();
    }, a.prototype.axisPropertiesForSeries = function(a) {
        return this.axes_[this.attributes_.axisForSeries(a)];
    }, a.prototype.computeYAxisRanges_ = function(a) {
        for (var b, c, d, e, f, g = function(a) {
            return isNaN(parseFloat(a));
        }, h = this.attributes_.numAxes(), i = 0; h > i; i++) {
            var j = this.axes_[i], k = this.attributes_.getForAxis("logscale", i), l = this.attributes_.getForAxis("includeZero", i), m = this.attributes_.getForAxis("independentTicks", i);
            if (d = this.attributes_.seriesForAxis(i), b = !0, e = .1, null !== this.getNumericOption("yRangePad") && (b = !1, 
            e = this.getNumericOption("yRangePad") / this.plotter_.area.h), 0 === d.length) j.extremeRange = [ 0, 1 ]; else {
                for (var n, o, p = 1 / 0, q = -(1 / 0), r = 0; r < d.length; r++) a.hasOwnProperty(d[r]) && (n = a[d[r]][0], 
                null !== n && (p = Math.min(n, p)), o = a[d[r]][1], null !== o && (q = Math.max(o, q)));
                l && !k && (p > 0 && (p = 0), 0 > q && (q = 0)), p == 1 / 0 && (p = 0), q == -(1 / 0) && (q = 1), 
                c = q - p, 0 === c && (0 !== q ? c = Math.abs(q) : (q = 1, c = 1));
                var s, t;
                if (k) if (b) s = q + e * c, t = p; else {
                    var u = Math.exp(Math.log(c) * e);
                    s = q * u, t = p / u;
                } else s = q + e * c, t = p - e * c, b && !this.getBooleanOption("avoidMinZero") && (0 > t && p >= 0 && (t = 0), 
                s > 0 && 0 >= q && (s = 0));
                j.extremeRange = [ t, s ];
            }
            if (j.valueWindow) j.computedValueRange = [ j.valueWindow[0], j.valueWindow[1] ]; else if (j.valueRange) {
                var v = g(j.valueRange[0]) ? j.extremeRange[0] : j.valueRange[0], w = g(j.valueRange[1]) ? j.extremeRange[1] : j.valueRange[1];
                if (!b) if (j.logscale) {
                    var u = Math.exp(Math.log(c) * e);
                    v *= u, w /= u;
                } else c = w - v, v -= c * e, w += c * e;
                j.computedValueRange = [ v, w ];
            } else j.computedValueRange = j.extremeRange;
            if (m) {
                j.independentTicks = m;
                var x = this.optionsViewForAxis_("y" + (i ? "2" : "")), y = x("ticker");
                j.ticks = y(j.computedValueRange[0], j.computedValueRange[1], this.plotter_.area.h, x, this), 
                f || (f = j);
            }
        }
        if (void 0 === f) throw 'Configuration Error: At least one axis has to have the "independentTicks" option activated.';
        for (var i = 0; h > i; i++) {
            var j = this.axes_[i];
            if (!j.independentTicks) {
                for (var x = this.optionsViewForAxis_("y" + (i ? "2" : "")), y = x("ticker"), z = f.ticks, A = f.computedValueRange[1] - f.computedValueRange[0], B = j.computedValueRange[1] - j.computedValueRange[0], C = [], D = 0; D < z.length; D++) {
                    var E = (z[D].v - f.computedValueRange[0]) / A, F = j.computedValueRange[0] + E * B;
                    C.push(F);
                }
                j.ticks = y(j.computedValueRange[0], j.computedValueRange[1], this.plotter_.area.h, x, this, C);
            }
        }
    }, a.prototype.detectTypeFromString_ = function(a) {
        var b = !1, c = a.indexOf("-");
        c > 0 && "e" != a[c - 1] && "E" != a[c - 1] || a.indexOf("/") >= 0 || isNaN(parseFloat(a)) ? b = !0 : 8 == a.length && a > "19700101" && "20371231" > a && (b = !0), 
        this.setXAxisOptions_(b);
    }, a.prototype.setXAxisOptions_ = function(b) {
        b ? (this.attrs_.xValueParser = a.dateParser, this.attrs_.axes.x.valueFormatter = a.dateValueFormatter, 
        this.attrs_.axes.x.ticker = a.dateTicker, this.attrs_.axes.x.axisLabelFormatter = a.dateAxisLabelFormatter) : (this.attrs_.xValueParser = function(a) {
            return parseFloat(a);
        }, this.attrs_.axes.x.valueFormatter = function(a) {
            return a;
        }, this.attrs_.axes.x.ticker = a.numericTicks, this.attrs_.axes.x.axisLabelFormatter = this.attrs_.axes.x.valueFormatter);
    }, a.prototype.parseCSV_ = function(b) {
        var c, d, e = [], f = a.detectLineDelimiter(b), g = b.split(f || "\n"), h = this.getStringOption("delimiter");
        -1 == g[0].indexOf(h) && g[0].indexOf("	") >= 0 && (h = "	");
        var i = 0;
        "labels" in this.user_attrs_ || (i = 1, this.attrs_.labels = g[0].split(h), this.attributes_.reparseSeries());
        for (var j, k = 0, l = !1, m = this.attr_("labels").length, n = !1, o = i; o < g.length; o++) {
            var p = g[o];
            if (k = o, 0 !== p.length && "#" != p[0]) {
                var q = p.split(h);
                if (!(q.length < 2)) {
                    var r = [];
                    if (l || (this.detectTypeFromString_(q[0]), j = this.getFunctionOption("xValueParser"), 
                    l = !0), r[0] = j(q[0], this), this.fractions_) for (d = 1; d < q.length; d++) c = q[d].split("/"), 
                    2 != c.length ? (console.error('Expected fractional "num/den" values in CSV data but found a value \'' + q[d] + "' on line " + (1 + o) + " ('" + p + "') which is not of this form."), 
                    r[d] = [ 0, 0 ]) : r[d] = [ a.parseFloat_(c[0], o, p), a.parseFloat_(c[1], o, p) ]; else if (this.getBooleanOption("errorBars")) for (q.length % 2 != 1 && console.error("Expected alternating (value, stdev.) pairs in CSV data but line " + (1 + o) + " has an odd number of values (" + (q.length - 1) + "): '" + p + "'"), 
                    d = 1; d < q.length; d += 2) r[(d + 1) / 2] = [ a.parseFloat_(q[d], o, p), a.parseFloat_(q[d + 1], o, p) ]; else if (this.getBooleanOption("customBars")) for (d = 1; d < q.length; d++) {
                        var s = q[d];
                        /^ *$/.test(s) ? r[d] = [ null, null, null ] : (c = s.split(";"), 3 == c.length ? r[d] = [ a.parseFloat_(c[0], o, p), a.parseFloat_(c[1], o, p), a.parseFloat_(c[2], o, p) ] : console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "' + s + '" on line ' + (1 + o)));
                    } else for (d = 1; d < q.length; d++) r[d] = a.parseFloat_(q[d], o, p);
                    if (e.length > 0 && r[0] < e[e.length - 1][0] && (n = !0), r.length != m && console.error("Number of columns in line " + o + " (" + r.length + ") does not agree with number of labels (" + m + ") " + p), 
                    0 === o && this.attr_("labels")) {
                        var t = !0;
                        for (d = 0; t && d < r.length; d++) r[d] && (t = !1);
                        if (t) {
                            console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('" + p + "') appears to also contain labels. Will drop the CSV labels and use the option labels.");
                            continue;
                        }
                    }
                    e.push(r);
                }
            }
        }
        return n && (console.warn("CSV is out of order; order it correctly to speed loading."), 
        e.sort(function(a, b) {
            return a[0] - b[0];
        })), e;
    }, a.prototype.parseArray_ = function(b) {
        if (0 === b.length) return console.error("Can't plot empty data set"), null;
        if (0 === b[0].length) return console.error("Data set cannot contain an empty row"), 
        null;
        var c;
        if (null === this.attr_("labels")) {
            for (console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"), 
            this.attrs_.labels = [ "X" ], c = 1; c < b[0].length; c++) this.attrs_.labels.push("Y" + c);
            this.attributes_.reparseSeries();
        } else {
            var d = this.attr_("labels");
            if (d.length != b[0].length) return console.error("Mismatch between number of labels (" + d + ") and number of columns in array (" + b[0].length + ")"), 
            null;
        }
        if (a.isDateLike(b[0][0])) {
            this.attrs_.axes.x.valueFormatter = a.dateValueFormatter, this.attrs_.axes.x.ticker = a.dateTicker, 
            this.attrs_.axes.x.axisLabelFormatter = a.dateAxisLabelFormatter;
            var e = a.clone(b);
            for (c = 0; c < b.length; c++) {
                if (0 === e[c].length) return console.error("Row " + (1 + c) + " of data is empty"), 
                null;
                if (null === e[c][0] || "function" != typeof e[c][0].getTime || isNaN(e[c][0].getTime())) return console.error("x value in row " + (1 + c) + " is not a Date"), 
                null;
                e[c][0] = e[c][0].getTime();
            }
            return e;
        }
        return this.attrs_.axes.x.valueFormatter = function(a) {
            return a;
        }, this.attrs_.axes.x.ticker = a.numericTicks, this.attrs_.axes.x.axisLabelFormatter = a.numberAxisLabelFormatter, 
        b;
    }, a.prototype.parseDataTable_ = function(b) {
        var c = function(a) {
            var b = String.fromCharCode(65 + a % 26);
            for (a = Math.floor(a / 26); a > 0; ) b = String.fromCharCode(65 + (a - 1) % 26) + b.toLowerCase(), 
            a = Math.floor((a - 1) / 26);
            return b;
        }, d = b.getNumberOfColumns(), e = b.getNumberOfRows(), f = b.getColumnType(0);
        if ("date" == f || "datetime" == f) this.attrs_.xValueParser = a.dateParser, this.attrs_.axes.x.valueFormatter = a.dateValueFormatter, 
        this.attrs_.axes.x.ticker = a.dateTicker, this.attrs_.axes.x.axisLabelFormatter = a.dateAxisLabelFormatter; else {
            if ("number" != f) return console.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '" + f + "')"), 
            null;
            this.attrs_.xValueParser = function(a) {
                return parseFloat(a);
            }, this.attrs_.axes.x.valueFormatter = function(a) {
                return a;
            }, this.attrs_.axes.x.ticker = a.numericTicks, this.attrs_.axes.x.axisLabelFormatter = this.attrs_.axes.x.valueFormatter;
        }
        var g, h, i = [], j = {}, k = !1;
        for (g = 1; d > g; g++) {
            var l = b.getColumnType(g);
            if ("number" == l) i.push(g); else if ("string" == l && this.getBooleanOption("displayAnnotations")) {
                var m = i[i.length - 1];
                j.hasOwnProperty(m) ? j[m].push(g) : j[m] = [ g ], k = !0;
            } else console.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");
        }
        var n = [ b.getColumnLabel(0) ];
        for (g = 0; g < i.length; g++) n.push(b.getColumnLabel(i[g])), this.getBooleanOption("errorBars") && (g += 1);
        this.attrs_.labels = n, d = n.length;
        var o = [], p = !1, q = [];
        for (g = 0; e > g; g++) {
            var r = [];
            if ("undefined" != typeof b.getValue(g, 0) && null !== b.getValue(g, 0)) {
                if (r.push("date" == f || "datetime" == f ? b.getValue(g, 0).getTime() : b.getValue(g, 0)), 
                this.getBooleanOption("errorBars")) for (h = 0; d - 1 > h; h++) r.push([ b.getValue(g, 1 + 2 * h), b.getValue(g, 2 + 2 * h) ]); else {
                    for (h = 0; h < i.length; h++) {
                        var s = i[h];
                        if (r.push(b.getValue(g, s)), k && j.hasOwnProperty(s) && null !== b.getValue(g, j[s][0])) {
                            var t = {};
                            t.series = b.getColumnLabel(s), t.xval = r[0], t.shortText = c(q.length), t.text = "";
                            for (var u = 0; u < j[s].length; u++) u && (t.text += "\n"), t.text += b.getValue(g, j[s][u]);
                            q.push(t);
                        }
                    }
                    for (h = 0; h < r.length; h++) isFinite(r[h]) || (r[h] = null);
                }
                o.length > 0 && r[0] < o[o.length - 1][0] && (p = !0), o.push(r);
            } else console.warn("Ignoring row " + g + " of DataTable because of undefined or null first column.");
        }
        p && (console.warn("DataTable is out of order; order it correctly to speed loading."), 
        o.sort(function(a, b) {
            return a[0] - b[0];
        })), this.rawData_ = o, q.length > 0 && this.setAnnotations(q, !0), this.attributes_.reparseSeries();
    }, a.prototype.cascadeDataDidUpdateEvent_ = function() {
        this.cascadeEvents_("dataDidUpdate", {});
    }, a.prototype.start_ = function() {
        var b = this.file_;
        if ("function" == typeof b && (b = b()), a.isArrayLike(b)) this.rawData_ = this.parseArray_(b), 
        this.cascadeDataDidUpdateEvent_(), this.predraw_(); else if ("object" == typeof b && "function" == typeof b.getColumnRange) this.parseDataTable_(b), 
        this.cascadeDataDidUpdateEvent_(), this.predraw_(); else if ("string" == typeof b) {
            var c = a.detectLineDelimiter(b);
            if (c) this.loadedEvent_(b); else {
                var d;
                d = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
                var e = this;
                d.onreadystatechange = function() {
                    4 == d.readyState && (200 === d.status || 0 === d.status) && e.loadedEvent_(d.responseText);
                }, d.open("GET", b, !0), d.send(null);
            }
        } else console.error("Unknown data format: " + typeof b);
    }, a.prototype.updateOptions = function(b, c) {
        "undefined" == typeof c && (c = !1);
        var d = b.file, e = a.mapLegacyOptions_(b);
        "rollPeriod" in e && (this.rollPeriod_ = e.rollPeriod), "dateWindow" in e && (this.dateWindow_ = e.dateWindow, 
        "isZoomedIgnoreProgrammaticZoom" in e || (this.zoomed_x_ = null !== e.dateWindow)), 
        "valueRange" in e && !("isZoomedIgnoreProgrammaticZoom" in e) && (this.zoomed_y_ = null !== e.valueRange);
        var f = a.isPixelChangingOptionList(this.attr_("labels"), e);
        a.updateDeep(this.user_attrs_, e), this.attributes_.reparseSeries(), d ? (this.cascadeEvents_("dataWillUpdate", {}), 
        this.file_ = d, c || this.start_()) : c || (f ? this.predraw_() : this.renderGraph_(!1));
    }, a.mapLegacyOptions_ = function(a) {
        var b = {};
        for (var c in a) a.hasOwnProperty(c) && "file" != c && a.hasOwnProperty(c) && (b[c] = a[c]);
        var d = function(a, c, d) {
            b.axes || (b.axes = {}), b.axes[a] || (b.axes[a] = {}), b.axes[a][c] = d;
        }, e = function(c, e, f) {
            "undefined" != typeof a[c] && (console.warn("Option " + c + " is deprecated. Use the " + f + " option for the " + e + " axis instead. (e.g. { axes : { " + e + " : { " + f + " : ... } } } (see http://dygraphs.com/per-axis.html for more information."), 
            d(e, f, a[c]), delete b[c]);
        };
        return e("xValueFormatter", "x", "valueFormatter"), e("pixelsPerXLabel", "x", "pixelsPerLabel"), 
        e("xAxisLabelFormatter", "x", "axisLabelFormatter"), e("xTicker", "x", "ticker"), 
        e("yValueFormatter", "y", "valueFormatter"), e("pixelsPerYLabel", "y", "pixelsPerLabel"), 
        e("yAxisLabelFormatter", "y", "axisLabelFormatter"), e("yTicker", "y", "ticker"), 
        e("drawXGrid", "x", "drawGrid"), e("drawXAxis", "x", "drawAxis"), e("drawYGrid", "y", "drawGrid"), 
        e("drawYAxis", "y", "drawAxis"), e("xAxisLabelWidth", "x", "axisLabelWidth"), e("yAxisLabelWidth", "y", "axisLabelWidth"), 
        b;
    }, a.prototype.resize = function(a, b) {
        if (!this.resize_lock) {
            this.resize_lock = !0, null === a != (null === b) && (console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."), 
            a = b = null);
            var c = this.width_, d = this.height_;
            a ? (this.maindiv_.style.width = a + "px", this.maindiv_.style.height = b + "px", 
            this.width_ = a, this.height_ = b) : (this.width_ = this.maindiv_.clientWidth, this.height_ = this.maindiv_.clientHeight), 
            (c != this.width_ || d != this.height_) && (this.resizeElements_(), this.predraw_()), 
            this.resize_lock = !1;
        }
    }, a.prototype.adjustRoll = function(a) {
        this.rollPeriod_ = a, this.predraw_();
    }, a.prototype.visibility = function() {
        for (this.getOption("visibility") || (this.attrs_.visibility = []); this.getOption("visibility").length < this.numColumns() - 1; ) this.attrs_.visibility.push(!0);
        return this.getOption("visibility");
    }, a.prototype.setVisibility = function(a, b) {
        var c = this.visibility();
        0 > a || a >= c.length ? console.warn("invalid series number in setVisibility: " + a) : (c[a] = b, 
        this.predraw_());
    }, a.prototype.size = function() {
        return {
            width: this.width_,
            height: this.height_
        };
    }, a.prototype.setAnnotations = function(b, c) {
        return a.addAnnotationRule(), this.annotations_ = b, this.layout_ ? (this.layout_.setAnnotations(this.annotations_), 
        void (c || this.predraw_())) : void console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html");
    }, a.prototype.annotations = function() {
        return this.annotations_;
    }, a.prototype.getLabels = function() {
        var a = this.attr_("labels");
        return a ? a.slice() : null;
    }, a.prototype.indexFromSetName = function(a) {
        return this.setIndexByName_[a];
    }, a.prototype.ready = function(a) {
        this.is_initial_draw_ ? this.readyFns_.push(a) : a.call(this, this);
    }, a.addAnnotationRule = function() {
        if (!a.addedAnnotationCSS) {
            var b = "border: 1px solid black; background-color: white; text-align: center;", c = document.createElement("style");
            c.type = "text/css", document.getElementsByTagName("head")[0].appendChild(c);
            for (var d = 0; d < document.styleSheets.length; d++) if (!document.styleSheets[d].disabled) {
                var e = document.styleSheets[d];
                try {
                    if (e.insertRule) {
                        var f = e.cssRules ? e.cssRules.length : 0;
                        e.insertRule(".dygraphDefaultAnnotation { " + b + " }", f);
                    } else e.addRule && e.addRule(".dygraphDefaultAnnotation", b);
                    return void (a.addedAnnotationCSS = !0);
                } catch (g) {}
            }
            console.warn("Unable to add default annotation CSS rule; display may be off.");
        }
    }, "object" == typeof exports && "undefined" != typeof module && (module.exports = a), 
    a;
}();

!function() {
    "use strict";
    function a(a) {
        var b = c.exec(a);
        if (!b) return null;
        var d = parseInt(b[1], 10), e = parseInt(b[2], 10), f = parseInt(b[3], 10);
        return b[4] ? {
            r: d,
            g: e,
            b: f,
            a: parseFloat(b[4])
        } : {
            r: d,
            g: e,
            b: f
        };
    }
    Dygraph.LOG_SCALE = 10, Dygraph.LN_TEN = Math.log(Dygraph.LOG_SCALE), Dygraph.log10 = function(a) {
        return Math.log(a) / Dygraph.LN_TEN;
    }, Dygraph.DOTTED_LINE = [ 2, 2 ], Dygraph.DASHED_LINE = [ 7, 3 ], Dygraph.DOT_DASH_LINE = [ 7, 2, 2, 2 ], 
    Dygraph.getContext = function(a) {
        return a.getContext("2d");
    }, Dygraph.addEvent = function(a, b, c) {
        a.addEventListener ? a.addEventListener(b, c, !1) : (a[b + c] = function() {
            c(window.event);
        }, a.attachEvent("on" + b, a[b + c]));
    }, Dygraph.prototype.addAndTrackEvent = function(a, b, c) {
        Dygraph.addEvent(a, b, c), this.registeredEvents_.push({
            elem: a,
            type: b,
            fn: c
        });
    }, Dygraph.removeEvent = function(a, b, c) {
        if (a.removeEventListener) a.removeEventListener(b, c, !1); else {
            try {
                a.detachEvent("on" + b, a[b + c]);
            } catch (d) {}
            a[b + c] = null;
        }
    }, Dygraph.prototype.removeTrackedEvents_ = function() {
        if (this.registeredEvents_) for (var a = 0; a < this.registeredEvents_.length; a++) {
            var b = this.registeredEvents_[a];
            Dygraph.removeEvent(b.elem, b.type, b.fn);
        }
        this.registeredEvents_ = [];
    }, Dygraph.cancelEvent = function(a) {
        return a = a ? a : window.event, a.stopPropagation && a.stopPropagation(), a.preventDefault && a.preventDefault(), 
        a.cancelBubble = !0, a.cancel = !0, a.returnValue = !1, !1;
    }, Dygraph.hsvToRGB = function(a, b, c) {
        var d, e, f;
        if (0 === b) d = c, e = c, f = c; else {
            var g = Math.floor(6 * a), h = 6 * a - g, i = c * (1 - b), j = c * (1 - b * h), k = c * (1 - b * (1 - h));
            switch (g) {
              case 1:
                d = j, e = c, f = i;
                break;

              case 2:
                d = i, e = c, f = k;
                break;

              case 3:
                d = i, e = j, f = c;
                break;

              case 4:
                d = k, e = i, f = c;
                break;

              case 5:
                d = c, e = i, f = j;
                break;

              case 6:
              case 0:
                d = c, e = k, f = i;
            }
        }
        return d = Math.floor(255 * d + .5), e = Math.floor(255 * e + .5), f = Math.floor(255 * f + .5), 
        "rgb(" + d + "," + e + "," + f + ")";
    }, Dygraph.findPos = function(a) {
        var b = 0, c = 0;
        if (a.offsetParent) for (var d = a; ;) {
            var e = "0", f = "0";
            if (window.getComputedStyle) {
                var g = window.getComputedStyle(d, null);
                e = g.borderLeft || "0", f = g.borderTop || "0";
            }
            if (b += parseInt(e, 10), c += parseInt(f, 10), b += d.offsetLeft, c += d.offsetTop, 
            !d.offsetParent) break;
            d = d.offsetParent;
        } else a.x && (b += a.x), a.y && (c += a.y);
        for (;a && a != document.body; ) b -= a.scrollLeft, c -= a.scrollTop, a = a.parentNode;
        return {
            x: b,
            y: c
        };
    }, Dygraph.pageX = function(a) {
        if (a.pageX) return !a.pageX || a.pageX < 0 ? 0 : a.pageX;
        var b = document.documentElement, c = document.body;
        return a.clientX + (b.scrollLeft || c.scrollLeft) - (b.clientLeft || 0);
    }, Dygraph.pageY = function(a) {
        if (a.pageY) return !a.pageY || a.pageY < 0 ? 0 : a.pageY;
        var b = document.documentElement, c = document.body;
        return a.clientY + (b.scrollTop || c.scrollTop) - (b.clientTop || 0);
    }, Dygraph.dragGetX_ = function(a, b) {
        return Dygraph.pageX(a) - b.px;
    }, Dygraph.dragGetY_ = function(a, b) {
        return Dygraph.pageY(a) - b.py;
    }, Dygraph.isOK = function(a) {
        return !!a && !isNaN(a);
    }, Dygraph.isValidPoint = function(a, b) {
        return a ? null === a.yval ? !1 : null === a.x || void 0 === a.x ? !1 : null === a.y || void 0 === a.y ? !1 : isNaN(a.x) || !b && isNaN(a.y) ? !1 : !0 : !1;
    }, Dygraph.floatFormat = function(a, b) {
        var c = Math.min(Math.max(1, b || 2), 21);
        return Math.abs(a) < .001 && 0 !== a ? a.toExponential(c - 1) : a.toPrecision(c);
    }, Dygraph.zeropad = function(a) {
        return 10 > a ? "0" + a : "" + a;
    }, Dygraph.DateAccessorsLocal = {
        getFullYear: function(a) {
            return a.getFullYear();
        },
        getMonth: function(a) {
            return a.getMonth();
        },
        getDate: function(a) {
            return a.getDate();
        },
        getHours: function(a) {
            return a.getHours();
        },
        getMinutes: function(a) {
            return a.getMinutes();
        },
        getSeconds: function(a) {
            return a.getSeconds();
        },
        getMilliseconds: function(a) {
            return a.getMilliseconds();
        },
        getDay: function(a) {
            return a.getDay();
        },
        makeDate: function(a, b, c, d, e, f, g) {
            return new Date(a, b, c, d, e, f, g);
        }
    }, Dygraph.DateAccessorsUTC = {
        getFullYear: function(a) {
            return a.getUTCFullYear();
        },
        getMonth: function(a) {
            return a.getUTCMonth();
        },
        getDate: function(a) {
            return a.getUTCDate();
        },
        getHours: function(a) {
            return a.getUTCHours();
        },
        getMinutes: function(a) {
            return a.getUTCMinutes();
        },
        getSeconds: function(a) {
            return a.getUTCSeconds();
        },
        getMilliseconds: function(a) {
            return a.getUTCMilliseconds();
        },
        getDay: function(a) {
            return a.getUTCDay();
        },
        makeDate: function(a, b, c, d, e, f, g) {
            return new Date(Date.UTC(a, b, c, d, e, f, g));
        }
    }, Dygraph.hmsString_ = function(a, b, c) {
        var d = Dygraph.zeropad, e = d(a) + ":" + d(b);
        return c && (e += ":" + d(c)), e;
    }, Dygraph.dateString_ = function(a, b) {
        var c = Dygraph.zeropad, d = b ? Dygraph.DateAccessorsUTC : Dygraph.DateAccessorsLocal, e = new Date(a), f = d.getFullYear(e), g = d.getMonth(e), h = d.getDate(e), i = d.getHours(e), j = d.getMinutes(e), k = d.getSeconds(e), l = "" + f, m = c(g + 1), n = c(h), o = 3600 * i + 60 * j + k, p = l + "/" + m + "/" + n;
        return o && (p += " " + Dygraph.hmsString_(i, j, k)), p;
    }, Dygraph.round_ = function(a, b) {
        var c = Math.pow(10, b);
        return Math.round(a * c) / c;
    }, Dygraph.binarySearch = function(a, b, c, d, e) {
        if ((null === d || void 0 === d || null === e || void 0 === e) && (d = 0, e = b.length - 1), 
        d > e) return -1;
        (null === c || void 0 === c) && (c = 0);
        var f, g = function(a) {
            return a >= 0 && a < b.length;
        }, h = parseInt((d + e) / 2, 10), i = b[h];
        return i == a ? h : i > a ? c > 0 && (f = h - 1, g(f) && b[f] < a) ? h : Dygraph.binarySearch(a, b, c, d, h - 1) : a > i ? 0 > c && (f = h + 1, 
        g(f) && b[f] > a) ? h : Dygraph.binarySearch(a, b, c, h + 1, e) : -1;
    }, Dygraph.dateParser = function(a) {
        var b, c;
        if ((-1 == a.search("-") || -1 != a.search("T") || -1 != a.search("Z")) && (c = Dygraph.dateStrToMillis(a), 
        c && !isNaN(c))) return c;
        if (-1 != a.search("-")) {
            for (b = a.replace("-", "/", "g"); -1 != b.search("-"); ) b = b.replace("-", "/");
            c = Dygraph.dateStrToMillis(b);
        } else 8 == a.length ? (b = a.substr(0, 4) + "/" + a.substr(4, 2) + "/" + a.substr(6, 2), 
        c = Dygraph.dateStrToMillis(b)) : c = Dygraph.dateStrToMillis(a);
        return (!c || isNaN(c)) && console.error("Couldn't parse " + a + " as a date"), 
        c;
    }, Dygraph.dateStrToMillis = function(a) {
        return new Date(a).getTime();
    }, Dygraph.update = function(a, b) {
        if ("undefined" != typeof b && null !== b) for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]);
        return a;
    }, Dygraph.updateDeep = function(a, b) {
        function c(a) {
            return "object" == typeof Node ? a instanceof Node : "object" == typeof a && "number" == typeof a.nodeType && "string" == typeof a.nodeName;
        }
        if ("undefined" != typeof b && null !== b) for (var d in b) b.hasOwnProperty(d) && (null === b[d] ? a[d] = null : Dygraph.isArrayLike(b[d]) ? a[d] = b[d].slice() : c(b[d]) ? a[d] = b[d] : "object" == typeof b[d] ? (("object" != typeof a[d] || null === a[d]) && (a[d] = {}), 
        Dygraph.updateDeep(a[d], b[d])) : a[d] = b[d]);
        return a;
    }, Dygraph.isArrayLike = function(a) {
        var b = typeof a;
        return "object" != b && ("function" != b || "function" != typeof a.item) || null === a || "number" != typeof a.length || 3 === a.nodeType ? !1 : !0;
    }, Dygraph.isDateLike = function(a) {
        return "object" != typeof a || null === a || "function" != typeof a.getTime ? !1 : !0;
    }, Dygraph.clone = function(a) {
        for (var b = [], c = 0; c < a.length; c++) b.push(Dygraph.isArrayLike(a[c]) ? Dygraph.clone(a[c]) : a[c]);
        return b;
    }, Dygraph.createCanvas = function() {
        var a = document.createElement("canvas"), b = /MSIE/.test(navigator.userAgent) && !window.opera;
        return b && "undefined" != typeof G_vmlCanvasManager && (a = G_vmlCanvasManager.initElement(a)), 
        a;
    }, Dygraph.getContextPixelRatio = function(a) {
        try {
            var b = window.devicePixelRatio, c = a.webkitBackingStorePixelRatio || a.mozBackingStorePixelRatio || a.msBackingStorePixelRatio || a.oBackingStorePixelRatio || a.backingStorePixelRatio || 1;
            return void 0 !== b ? b / c : 1;
        } catch (d) {
            return 1;
        }
    }, Dygraph.isAndroid = function() {
        return /Android/.test(navigator.userAgent);
    }, Dygraph.Iterator = function(a, b, c, d) {
        b = b || 0, c = c || a.length, this.hasNext = !0, this.peek = null, this.start_ = b, 
        this.array_ = a, this.predicate_ = d, this.end_ = Math.min(a.length, b + c), this.nextIdx_ = b - 1, 
        this.next();
    }, Dygraph.Iterator.prototype.next = function() {
        if (!this.hasNext) return null;
        for (var a = this.peek, b = this.nextIdx_ + 1, c = !1; b < this.end_; ) {
            if (!this.predicate_ || this.predicate_(this.array_, b)) {
                this.peek = this.array_[b], c = !0;
                break;
            }
            b++;
        }
        return this.nextIdx_ = b, c || (this.hasNext = !1, this.peek = null), a;
    }, Dygraph.createIterator = function(a, b, c, d) {
        return new Dygraph.Iterator(a, b, c, d);
    }, Dygraph.requestAnimFrame = function() {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(a) {
            window.setTimeout(a, 1e3 / 60);
        };
    }(), Dygraph.repeatAndCleanup = function(a, b, c, d) {
        var e, f = 0, g = new Date().getTime();
        if (a(f), 1 == b) return void d();
        var h = b - 1;
        !function i() {
            f >= b || Dygraph.requestAnimFrame.call(window, function() {
                var b = new Date().getTime(), j = b - g;
                e = f, f = Math.floor(j / c);
                var k = f - e, l = f + k > h;
                l || f >= h ? (a(h), d()) : (0 !== k && a(f), i());
            });
        }();
    };
    var b = {
        annotationClickHandler: !0,
        annotationDblClickHandler: !0,
        annotationMouseOutHandler: !0,
        annotationMouseOverHandler: !0,
        axisLabelColor: !0,
        axisLineColor: !0,
        axisLineWidth: !0,
        clickCallback: !0,
        drawCallback: !0,
        drawHighlightPointCallback: !0,
        drawPoints: !0,
        drawPointCallback: !0,
        drawXGrid: !0,
        drawYGrid: !0,
        fillAlpha: !0,
        gridLineColor: !0,
        gridLineWidth: !0,
        hideOverlayOnMouseOut: !0,
        highlightCallback: !0,
        highlightCircleSize: !0,
        interactionModel: !0,
        isZoomedIgnoreProgrammaticZoom: !0,
        labelsDiv: !0,
        labelsDivStyles: !0,
        labelsDivWidth: !0,
        labelsKMB: !0,
        labelsKMG2: !0,
        labelsSeparateLines: !0,
        labelsShowZeroValues: !0,
        legend: !0,
        panEdgeFraction: !0,
        pixelsPerYLabel: !0,
        pointClickCallback: !0,
        pointSize: !0,
        rangeSelectorPlotFillColor: !0,
        rangeSelectorPlotStrokeColor: !0,
        showLabelsOnHighlight: !0,
        showRoller: !0,
        strokeWidth: !0,
        underlayCallback: !0,
        unhighlightCallback: !0,
        zoomCallback: !0
    };
    Dygraph.isPixelChangingOptionList = function(a, c) {
        var d = {};
        if (a) for (var e = 1; e < a.length; e++) d[a[e]] = !0;
        var f = function(a) {
            for (var c in a) if (a.hasOwnProperty(c) && !b[c]) return !0;
            return !1;
        };
        for (var g in c) if (c.hasOwnProperty(g)) if ("highlightSeriesOpts" == g || d[g] && !c.series) {
            if (f(c[g])) return !0;
        } else if ("series" == g || "axes" == g) {
            var h = c[g];
            for (var i in h) if (h.hasOwnProperty(i) && f(h[i])) return !0;
        } else if (!b[g]) return !0;
        return !1;
    }, Dygraph.Circles = {
        DEFAULT: function(a, b, c, d, e, f, g) {
            c.beginPath(), c.fillStyle = f, c.arc(d, e, g, 0, 2 * Math.PI, !1), c.fill();
        }
    }, Dygraph.IFrameTarp = function() {
        this.tarps = [];
    }, Dygraph.IFrameTarp.prototype.cover = function() {
        for (var a = document.getElementsByTagName("iframe"), b = 0; b < a.length; b++) {
            var c = a[b], d = Dygraph.findPos(c), e = d.x, f = d.y, g = c.offsetWidth, h = c.offsetHeight, i = document.createElement("div");
            i.style.position = "absolute", i.style.left = e + "px", i.style.top = f + "px", 
            i.style.width = g + "px", i.style.height = h + "px", i.style.zIndex = 999, document.body.appendChild(i), 
            this.tarps.push(i);
        }
    }, Dygraph.IFrameTarp.prototype.uncover = function() {
        for (var a = 0; a < this.tarps.length; a++) this.tarps[a].parentNode.removeChild(this.tarps[a]);
        this.tarps = [];
    }, Dygraph.detectLineDelimiter = function(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a.charAt(b);
            if ("\r" === c) return b + 1 < a.length && "\n" === a.charAt(b + 1) ? "\r\n" : c;
            if ("\n" === c) return b + 1 < a.length && "\r" === a.charAt(b + 1) ? "\n\r" : c;
        }
        return null;
    }, Dygraph.isNodeContainedBy = function(a, b) {
        if (null === b || null === a) return !1;
        for (var c = a; c && c !== b; ) c = c.parentNode;
        return c === b;
    }, Dygraph.pow = function(a, b) {
        return 0 > b ? 1 / Math.pow(a, -b) : Math.pow(a, b);
    };
    var c = /^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/;
    Dygraph.toRGB_ = function(b) {
        var c = a(b);
        if (c) return c;
        var d = document.createElement("div");
        d.style.backgroundColor = b, d.style.visibility = "hidden", document.body.appendChild(d);
        var e;
        return e = window.getComputedStyle ? window.getComputedStyle(d, null).backgroundColor : d.currentStyle.backgroundColor, 
        document.body.removeChild(d), a(e);
    }, Dygraph.isCanvasSupported = function(a) {
        var b;
        try {
            b = a || document.createElement("canvas"), b.getContext("2d");
        } catch (c) {
            var d = navigator.appVersion.match(/MSIE (\d\.\d)/), e = -1 != navigator.userAgent.toLowerCase().indexOf("opera");
            return !d || d[1] < 6 || e ? !1 : !0;
        }
        return !0;
    }, Dygraph.parseFloat_ = function(a, b, c) {
        var d = parseFloat(a);
        if (!isNaN(d)) return d;
        if (/^ *$/.test(a)) return null;
        if (/^ *nan *$/i.test(a)) return NaN;
        var e = "Unable to parse '" + a + "' as a number";
        return void 0 !== c && void 0 !== b && (e += " on line " + (1 + (b || 0)) + " ('" + c + "') of CSV."), 
        console.error(e), null;
    };
}(), function() {
    "use strict";
    Dygraph.GVizChart = function(a) {
        this.container = a;
    }, Dygraph.GVizChart.prototype.draw = function(a, b) {
        this.container.innerHTML = "", "undefined" != typeof this.date_graph && this.date_graph.destroy(), 
        this.date_graph = new Dygraph(this.container, a, b);
    }, Dygraph.GVizChart.prototype.setSelection = function(a) {
        var b = !1;
        a.length && (b = a[0].row), this.date_graph.setSelection(b);
    }, Dygraph.GVizChart.prototype.getSelection = function() {
        var a = [], b = this.date_graph.getSelection();
        if (0 > b) return a;
        for (var c = this.date_graph.layout_.points, d = 0; d < c.length; ++d) a.push({
            row: b,
            column: d + 1
        });
        return a;
    };
}(), function() {
    "use strict";
    var a = 100;
    Dygraph.Interaction = {}, Dygraph.Interaction.maybeTreatMouseOpAsClick = function(a, b, c) {
        c.dragEndX = Dygraph.dragGetX_(a, c), c.dragEndY = Dygraph.dragGetY_(a, c);
        var d = Math.abs(c.dragEndX - c.dragStartX), e = Math.abs(c.dragEndY - c.dragStartY);
        2 > d && 2 > e && void 0 !== b.lastx_ && -1 != b.lastx_ && Dygraph.Interaction.treatMouseOpAsClick(b, a, c), 
        c.regionWidth = d, c.regionHeight = e;
    }, Dygraph.Interaction.startPan = function(a, b, c) {
        var d, e;
        c.isPanning = !0;
        var f = b.xAxisRange();
        if (b.getOptionForAxis("logscale", "x") ? (c.initialLeftmostDate = Dygraph.log10(f[0]), 
        c.dateRange = Dygraph.log10(f[1]) - Dygraph.log10(f[0])) : (c.initialLeftmostDate = f[0], 
        c.dateRange = f[1] - f[0]), c.xUnitsPerPixel = c.dateRange / (b.plotter_.area.w - 1), 
        b.getNumericOption("panEdgeFraction")) {
            var g = b.width_ * b.getNumericOption("panEdgeFraction"), h = b.xAxisExtremes(), i = b.toDomXCoord(h[0]) - g, j = b.toDomXCoord(h[1]) + g, k = b.toDataXCoord(i), l = b.toDataXCoord(j);
            c.boundedDates = [ k, l ];
            var m = [], n = b.height_ * b.getNumericOption("panEdgeFraction");
            for (d = 0; d < b.axes_.length; d++) {
                e = b.axes_[d];
                var o = e.extremeRange, p = b.toDomYCoord(o[0], d) + n, q = b.toDomYCoord(o[1], d) - n, r = b.toDataYCoord(p, d), s = b.toDataYCoord(q, d);
                m[d] = [ r, s ];
            }
            c.boundedValues = m;
        }
        for (c.is2DPan = !1, c.axes = [], d = 0; d < b.axes_.length; d++) {
            e = b.axes_[d];
            var t = {}, u = b.yAxisRange(d), v = b.attributes_.getForAxis("logscale", d);
            v ? (t.initialTopValue = Dygraph.log10(u[1]), t.dragValueRange = Dygraph.log10(u[1]) - Dygraph.log10(u[0])) : (t.initialTopValue = u[1], 
            t.dragValueRange = u[1] - u[0]), t.unitsPerPixel = t.dragValueRange / (b.plotter_.area.h - 1), 
            c.axes.push(t), (e.valueWindow || e.valueRange) && (c.is2DPan = !0);
        }
    }, Dygraph.Interaction.movePan = function(a, b, c) {
        c.dragEndX = Dygraph.dragGetX_(a, c), c.dragEndY = Dygraph.dragGetY_(a, c);
        var d = c.initialLeftmostDate - (c.dragEndX - c.dragStartX) * c.xUnitsPerPixel;
        c.boundedDates && (d = Math.max(d, c.boundedDates[0]));
        var e = d + c.dateRange;
        if (c.boundedDates && e > c.boundedDates[1] && (d -= e - c.boundedDates[1], e = d + c.dateRange), 
        b.getOptionForAxis("logscale", "x") ? b.dateWindow_ = [ Math.pow(Dygraph.LOG_SCALE, d), Math.pow(Dygraph.LOG_SCALE, e) ] : b.dateWindow_ = [ d, e ], 
        c.is2DPan) for (var f = c.dragEndY - c.dragStartY, g = 0; g < b.axes_.length; g++) {
            var h = b.axes_[g], i = c.axes[g], j = f * i.unitsPerPixel, k = c.boundedValues ? c.boundedValues[g] : null, l = i.initialTopValue + j;
            k && (l = Math.min(l, k[1]));
            var m = l - i.dragValueRange;
            k && m < k[0] && (l -= m - k[0], m = l - i.dragValueRange), b.attributes_.getForAxis("logscale", g) ? h.valueWindow = [ Math.pow(Dygraph.LOG_SCALE, m), Math.pow(Dygraph.LOG_SCALE, l) ] : h.valueWindow = [ m, l ];
        }
        b.drawGraph_(!1);
    }, Dygraph.Interaction.endPan = Dygraph.Interaction.maybeTreatMouseOpAsClick, Dygraph.Interaction.startZoom = function(a, b, c) {
        c.isZooming = !0, c.zoomMoved = !1;
    }, Dygraph.Interaction.moveZoom = function(a, b, c) {
        c.zoomMoved = !0, c.dragEndX = Dygraph.dragGetX_(a, c), c.dragEndY = Dygraph.dragGetY_(a, c);
        var d = Math.abs(c.dragStartX - c.dragEndX), e = Math.abs(c.dragStartY - c.dragEndY);
        c.dragDirection = e / 2 > d ? Dygraph.VERTICAL : Dygraph.HORIZONTAL, b.drawZoomRect_(c.dragDirection, c.dragStartX, c.dragEndX, c.dragStartY, c.dragEndY, c.prevDragDirection, c.prevEndX, c.prevEndY), 
        c.prevEndX = c.dragEndX, c.prevEndY = c.dragEndY, c.prevDragDirection = c.dragDirection;
    }, Dygraph.Interaction.treatMouseOpAsClick = function(a, b, c) {
        for (var d = a.getFunctionOption("clickCallback"), e = a.getFunctionOption("pointClickCallback"), f = null, g = -1, h = Number.MAX_VALUE, i = 0; i < a.selPoints_.length; i++) {
            var j = a.selPoints_[i], k = Math.pow(j.canvasx - c.dragEndX, 2) + Math.pow(j.canvasy - c.dragEndY, 2);
            !isNaN(k) && (-1 == g || h > k) && (h = k, g = i);
        }
        var l = a.getNumericOption("highlightCircleSize") + 2;
        if (l * l >= h && (f = a.selPoints_[g]), f) {
            var m = {
                cancelable: !0,
                point: f,
                canvasx: c.dragEndX,
                canvasy: c.dragEndY
            }, n = a.cascadeEvents_("pointClick", m);
            if (n) return;
            e && e.call(a, b, f);
        }
        var m = {
            cancelable: !0,
            xval: a.lastx_,
            pts: a.selPoints_,
            canvasx: c.dragEndX,
            canvasy: c.dragEndY
        };
        a.cascadeEvents_("click", m) || d && d.call(a, b, a.lastx_, a.selPoints_);
    }, Dygraph.Interaction.endZoom = function(a, b, c) {
        b.clearZoomRect_(), c.isZooming = !1, Dygraph.Interaction.maybeTreatMouseOpAsClick(a, b, c);
        var d = b.getArea();
        if (c.regionWidth >= 10 && c.dragDirection == Dygraph.HORIZONTAL) {
            var e = Math.min(c.dragStartX, c.dragEndX), f = Math.max(c.dragStartX, c.dragEndX);
            e = Math.max(e, d.x), f = Math.min(f, d.x + d.w), f > e && b.doZoomX_(e, f), c.cancelNextDblclick = !0;
        } else if (c.regionHeight >= 10 && c.dragDirection == Dygraph.VERTICAL) {
            var g = Math.min(c.dragStartY, c.dragEndY), h = Math.max(c.dragStartY, c.dragEndY);
            g = Math.max(g, d.y), h = Math.min(h, d.y + d.h), h > g && b.doZoomY_(g, h), c.cancelNextDblclick = !0;
        }
        c.dragStartX = null, c.dragStartY = null;
    }, Dygraph.Interaction.startTouch = function(a, b, c) {
        a.preventDefault(), a.touches.length > 1 && (c.startTimeForDoubleTapMs = null);
        for (var d = [], e = 0; e < a.touches.length; e++) {
            var f = a.touches[e];
            d.push({
                pageX: f.pageX,
                pageY: f.pageY,
                dataX: b.toDataXCoord(f.pageX),
                dataY: b.toDataYCoord(f.pageY)
            });
        }
        if (c.initialTouches = d, 1 == d.length) c.initialPinchCenter = d[0], c.touchDirections = {
            x: !0,
            y: !0
        }; else if (d.length >= 2) {
            c.initialPinchCenter = {
                pageX: .5 * (d[0].pageX + d[1].pageX),
                pageY: .5 * (d[0].pageY + d[1].pageY),
                dataX: .5 * (d[0].dataX + d[1].dataX),
                dataY: .5 * (d[0].dataY + d[1].dataY)
            };
            var g = 180 / Math.PI * Math.atan2(c.initialPinchCenter.pageY - d[0].pageY, d[0].pageX - c.initialPinchCenter.pageX);
            g = Math.abs(g), g > 90 && (g = 90 - g), c.touchDirections = {
                x: 67.5 > g,
                y: g > 22.5
            };
        }
        c.initialRange = {
            x: b.xAxisRange(),
            y: b.yAxisRange()
        };
    }, Dygraph.Interaction.moveTouch = function(a, b, c) {
        c.startTimeForDoubleTapMs = null;
        var d, e = [];
        for (d = 0; d < a.touches.length; d++) {
            var f = a.touches[d];
            e.push({
                pageX: f.pageX,
                pageY: f.pageY
            });
        }
        var g, h = c.initialTouches, i = c.initialPinchCenter;
        g = 1 == e.length ? e[0] : {
            pageX: .5 * (e[0].pageX + e[1].pageX),
            pageY: .5 * (e[0].pageY + e[1].pageY)
        };
        var j = {
            pageX: g.pageX - i.pageX,
            pageY: g.pageY - i.pageY
        }, k = c.initialRange.x[1] - c.initialRange.x[0], l = c.initialRange.y[0] - c.initialRange.y[1];
        j.dataX = j.pageX / b.plotter_.area.w * k, j.dataY = j.pageY / b.plotter_.area.h * l;
        var m, n;
        if (1 == e.length) m = 1, n = 1; else if (e.length >= 2) {
            var o = h[1].pageX - i.pageX;
            m = (e[1].pageX - g.pageX) / o;
            var p = h[1].pageY - i.pageY;
            n = (e[1].pageY - g.pageY) / p;
        }
        m = Math.min(8, Math.max(.125, m)), n = Math.min(8, Math.max(.125, n));
        var q = !1;
        if (c.touchDirections.x && (b.dateWindow_ = [ i.dataX - j.dataX + (c.initialRange.x[0] - i.dataX) / m, i.dataX - j.dataX + (c.initialRange.x[1] - i.dataX) / m ], 
        q = !0), c.touchDirections.y) for (d = 0; 1 > d; d++) {
            var r = b.axes_[d], s = b.attributes_.getForAxis("logscale", d);
            s || (r.valueWindow = [ i.dataY - j.dataY + (c.initialRange.y[0] - i.dataY) / n, i.dataY - j.dataY + (c.initialRange.y[1] - i.dataY) / n ], 
            q = !0);
        }
        if (b.drawGraph_(!1), q && e.length > 1 && b.getFunctionOption("zoomCallback")) {
            var t = b.xAxisRange();
            b.getFunctionOption("zoomCallback").call(b, t[0], t[1], b.yAxisRanges());
        }
    }, Dygraph.Interaction.endTouch = function(a, b, c) {
        if (0 !== a.touches.length) Dygraph.Interaction.startTouch(a, b, c); else if (1 == a.changedTouches.length) {
            var d = new Date().getTime(), e = a.changedTouches[0];
            c.startTimeForDoubleTapMs && d - c.startTimeForDoubleTapMs < 500 && c.doubleTapX && Math.abs(c.doubleTapX - e.screenX) < 50 && c.doubleTapY && Math.abs(c.doubleTapY - e.screenY) < 50 ? b.resetZoom() : (c.startTimeForDoubleTapMs = d, 
            c.doubleTapX = e.screenX, c.doubleTapY = e.screenY);
        }
    };
    var b = function(a, b, c) {
        return b > a ? b - a : a > c ? a - c : 0;
    }, c = function(a, c) {
        var d = Dygraph.findPos(c.canvas_), e = {
            left: d.x,
            right: d.x + c.canvas_.offsetWidth,
            top: d.y,
            bottom: d.y + c.canvas_.offsetHeight
        }, f = {
            x: Dygraph.pageX(a),
            y: Dygraph.pageY(a)
        }, g = b(f.x, e.left, e.right), h = b(f.y, e.top, e.bottom);
        return Math.max(g, h);
    };
    Dygraph.Interaction.defaultModel = {
        mousedown: function(b, d, e) {
            if (!b.button || 2 != b.button) {
                e.initializeMouseDown(b, d, e), b.altKey || b.shiftKey ? Dygraph.startPan(b, d, e) : Dygraph.startZoom(b, d, e);
                var f = function(b) {
                    if (e.isZooming) {
                        var f = c(b, d);
                        a > f ? Dygraph.moveZoom(b, d, e) : null !== e.dragEndX && (e.dragEndX = null, e.dragEndY = null, 
                        d.clearZoomRect_());
                    } else e.isPanning && Dygraph.movePan(b, d, e);
                }, g = function(a) {
                    e.isZooming ? null !== e.dragEndX ? Dygraph.endZoom(a, d, e) : Dygraph.Interaction.maybeTreatMouseOpAsClick(a, d, e) : e.isPanning && Dygraph.endPan(a, d, e), 
                    Dygraph.removeEvent(document, "mousemove", f), Dygraph.removeEvent(document, "mouseup", g), 
                    e.destroy();
                };
                d.addAndTrackEvent(document, "mousemove", f), d.addAndTrackEvent(document, "mouseup", g);
            }
        },
        willDestroyContextMyself: !0,
        touchstart: function(a, b, c) {
            Dygraph.Interaction.startTouch(a, b, c);
        },
        touchmove: function(a, b, c) {
            Dygraph.Interaction.moveTouch(a, b, c);
        },
        touchend: function(a, b, c) {
            Dygraph.Interaction.endTouch(a, b, c);
        },
        dblclick: function(a, b, c) {
            if (c.cancelNextDblclick) return void (c.cancelNextDblclick = !1);
            var d = {
                canvasx: c.dragEndX,
                canvasy: c.dragEndY
            };
            b.cascadeEvents_("dblclick", d) || a.altKey || a.shiftKey || b.resetZoom();
        }
    }, Dygraph.DEFAULT_ATTRS.interactionModel = Dygraph.Interaction.defaultModel, Dygraph.defaultInteractionModel = Dygraph.Interaction.defaultModel, 
    Dygraph.endZoom = Dygraph.Interaction.endZoom, Dygraph.moveZoom = Dygraph.Interaction.moveZoom, 
    Dygraph.startZoom = Dygraph.Interaction.startZoom, Dygraph.endPan = Dygraph.Interaction.endPan, 
    Dygraph.movePan = Dygraph.Interaction.movePan, Dygraph.startPan = Dygraph.Interaction.startPan, 
    Dygraph.Interaction.nonInteractiveModel_ = {
        mousedown: function(a, b, c) {
            c.initializeMouseDown(a, b, c);
        },
        mouseup: Dygraph.Interaction.maybeTreatMouseOpAsClick
    }, Dygraph.Interaction.dragIsPanInteractionModel = {
        mousedown: function(a, b, c) {
            c.initializeMouseDown(a, b, c), Dygraph.startPan(a, b, c);
        },
        mousemove: function(a, b, c) {
            c.isPanning && Dygraph.movePan(a, b, c);
        },
        mouseup: function(a, b, c) {
            c.isPanning && Dygraph.endPan(a, b, c);
        }
    };
}(), function() {
    "use strict";
    Dygraph.TickList = void 0, Dygraph.Ticker = void 0, Dygraph.numericLinearTicks = function(a, b, c, d, e, f) {
        var g = function(a) {
            return "logscale" === a ? !1 : d(a);
        };
        return Dygraph.numericTicks(a, b, c, g, e, f);
    }, Dygraph.numericTicks = function(a, b, c, d, e, f) {
        var g, h, i, j, k = d("pixelsPerLabel"), l = [];
        if (f) for (g = 0; g < f.length; g++) l.push({
            v: f[g]
        }); else {
            if (d("logscale")) {
                j = Math.floor(c / k);
                var m = Dygraph.binarySearch(a, Dygraph.PREFERRED_LOG_TICK_VALUES, 1), n = Dygraph.binarySearch(b, Dygraph.PREFERRED_LOG_TICK_VALUES, -1);
                -1 == m && (m = 0), -1 == n && (n = Dygraph.PREFERRED_LOG_TICK_VALUES.length - 1);
                var o = null;
                if (n - m >= j / 4) {
                    for (var p = n; p >= m; p--) {
                        var q = Dygraph.PREFERRED_LOG_TICK_VALUES[p], r = Math.log(q / a) / Math.log(b / a) * c, s = {
                            v: q
                        };
                        null === o ? o = {
                            tickValue: q,
                            pixel_coord: r
                        } : Math.abs(r - o.pixel_coord) >= k ? o = {
                            tickValue: q,
                            pixel_coord: r
                        } : s.label = "", l.push(s);
                    }
                    l.reverse();
                }
            }
            if (0 === l.length) {
                var t, u, v = d("labelsKMG2");
                v ? (t = [ 1, 2, 4, 8, 16, 32, 64, 128, 256 ], u = 16) : (t = [ 1, 2, 5, 10, 20, 50, 100 ], 
                u = 10);
                var w, x, y, z, A = Math.ceil(c / k), B = Math.abs(b - a) / A, C = Math.floor(Math.log(B) / Math.log(u)), D = Math.pow(u, C);
                for (h = 0; h < t.length && (w = D * t[h], x = Math.floor(a / w) * w, y = Math.ceil(b / w) * w, 
                j = Math.abs(y - x) / w, z = c / j, !(z > k)); h++) ;
                for (x > y && (w *= -1), g = 0; j >= g; g++) i = x + g * w, l.push({
                    v: i
                });
            }
        }
        var E = d("axisLabelFormatter");
        for (g = 0; g < l.length; g++) void 0 === l[g].label && (l[g].label = E.call(e, l[g].v, 0, d, e));
        return l;
    }, Dygraph.dateTicker = function(a, b, c, d, e, f) {
        var g = Dygraph.pickDateTickGranularity(a, b, c, d);
        return g >= 0 ? Dygraph.getDateAxis(a, b, g, d, e) : [];
    }, Dygraph.SECONDLY = 0, Dygraph.TWO_SECONDLY = 1, Dygraph.FIVE_SECONDLY = 2, Dygraph.TEN_SECONDLY = 3, 
    Dygraph.THIRTY_SECONDLY = 4, Dygraph.MINUTELY = 5, Dygraph.TWO_MINUTELY = 6, Dygraph.FIVE_MINUTELY = 7, 
    Dygraph.TEN_MINUTELY = 8, Dygraph.THIRTY_MINUTELY = 9, Dygraph.HOURLY = 10, Dygraph.TWO_HOURLY = 11, 
    Dygraph.SIX_HOURLY = 12, Dygraph.DAILY = 13, Dygraph.TWO_DAILY = 14, Dygraph.WEEKLY = 15, 
    Dygraph.MONTHLY = 16, Dygraph.QUARTERLY = 17, Dygraph.BIANNUAL = 18, Dygraph.ANNUAL = 19, 
    Dygraph.DECADAL = 20, Dygraph.CENTENNIAL = 21, Dygraph.NUM_GRANULARITIES = 22, Dygraph.DATEFIELD_Y = 0, 
    Dygraph.DATEFIELD_M = 1, Dygraph.DATEFIELD_D = 2, Dygraph.DATEFIELD_HH = 3, Dygraph.DATEFIELD_MM = 4, 
    Dygraph.DATEFIELD_SS = 5, Dygraph.DATEFIELD_MS = 6, Dygraph.NUM_DATEFIELDS = 7, 
    Dygraph.TICK_PLACEMENT = [], Dygraph.TICK_PLACEMENT[Dygraph.SECONDLY] = {
        datefield: Dygraph.DATEFIELD_SS,
        step: 1,
        spacing: 1e3
    }, Dygraph.TICK_PLACEMENT[Dygraph.TWO_SECONDLY] = {
        datefield: Dygraph.DATEFIELD_SS,
        step: 2,
        spacing: 2e3
    }, Dygraph.TICK_PLACEMENT[Dygraph.FIVE_SECONDLY] = {
        datefield: Dygraph.DATEFIELD_SS,
        step: 5,
        spacing: 5e3
    }, Dygraph.TICK_PLACEMENT[Dygraph.TEN_SECONDLY] = {
        datefield: Dygraph.DATEFIELD_SS,
        step: 10,
        spacing: 1e4
    }, Dygraph.TICK_PLACEMENT[Dygraph.THIRTY_SECONDLY] = {
        datefield: Dygraph.DATEFIELD_SS,
        step: 30,
        spacing: 3e4
    }, Dygraph.TICK_PLACEMENT[Dygraph.MINUTELY] = {
        datefield: Dygraph.DATEFIELD_MM,
        step: 1,
        spacing: 6e4
    }, Dygraph.TICK_PLACEMENT[Dygraph.TWO_MINUTELY] = {
        datefield: Dygraph.DATEFIELD_MM,
        step: 2,
        spacing: 12e4
    }, Dygraph.TICK_PLACEMENT[Dygraph.FIVE_MINUTELY] = {
        datefield: Dygraph.DATEFIELD_MM,
        step: 5,
        spacing: 3e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.TEN_MINUTELY] = {
        datefield: Dygraph.DATEFIELD_MM,
        step: 10,
        spacing: 6e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.THIRTY_MINUTELY] = {
        datefield: Dygraph.DATEFIELD_MM,
        step: 30,
        spacing: 18e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.HOURLY] = {
        datefield: Dygraph.DATEFIELD_HH,
        step: 1,
        spacing: 36e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.TWO_HOURLY] = {
        datefield: Dygraph.DATEFIELD_HH,
        step: 2,
        spacing: 72e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.SIX_HOURLY] = {
        datefield: Dygraph.DATEFIELD_HH,
        step: 6,
        spacing: 216e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.DAILY] = {
        datefield: Dygraph.DATEFIELD_D,
        step: 1,
        spacing: 864e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.TWO_DAILY] = {
        datefield: Dygraph.DATEFIELD_D,
        step: 2,
        spacing: 1728e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.WEEKLY] = {
        datefield: Dygraph.DATEFIELD_D,
        step: 7,
        spacing: 6048e5
    }, Dygraph.TICK_PLACEMENT[Dygraph.MONTHLY] = {
        datefield: Dygraph.DATEFIELD_M,
        step: 1,
        spacing: 2629817280
    }, Dygraph.TICK_PLACEMENT[Dygraph.QUARTERLY] = {
        datefield: Dygraph.DATEFIELD_M,
        step: 3,
        spacing: 216e5 * 365.2524
    }, Dygraph.TICK_PLACEMENT[Dygraph.BIANNUAL] = {
        datefield: Dygraph.DATEFIELD_M,
        step: 6,
        spacing: 432e5 * 365.2524
    }, Dygraph.TICK_PLACEMENT[Dygraph.ANNUAL] = {
        datefield: Dygraph.DATEFIELD_Y,
        step: 1,
        spacing: 864e5 * 365.2524
    }, Dygraph.TICK_PLACEMENT[Dygraph.DECADAL] = {
        datefield: Dygraph.DATEFIELD_Y,
        step: 10,
        spacing: 315578073600
    }, Dygraph.TICK_PLACEMENT[Dygraph.CENTENNIAL] = {
        datefield: Dygraph.DATEFIELD_Y,
        step: 100,
        spacing: 3155780736e3
    }, Dygraph.PREFERRED_LOG_TICK_VALUES = function() {
        for (var a = [], b = -39; 39 >= b; b++) for (var c = Math.pow(10, b), d = 1; 9 >= d; d++) {
            var e = c * d;
            a.push(e);
        }
        return a;
    }(), Dygraph.pickDateTickGranularity = function(a, b, c, d) {
        for (var e = d("pixelsPerLabel"), f = 0; f < Dygraph.NUM_GRANULARITIES; f++) {
            var g = Dygraph.numDateTicks(a, b, f);
            if (c / g >= e) return f;
        }
        return -1;
    }, Dygraph.numDateTicks = function(a, b, c) {
        var d = Dygraph.TICK_PLACEMENT[c].spacing;
        return Math.round(1 * (b - a) / d);
    }, Dygraph.getDateAxis = function(a, b, c, d, e) {
        var f = d("axisLabelFormatter"), g = d("labelsUTC"), h = g ? Dygraph.DateAccessorsUTC : Dygraph.DateAccessorsLocal, i = Dygraph.TICK_PLACEMENT[c].datefield, j = Dygraph.TICK_PLACEMENT[c].step, k = Dygraph.TICK_PLACEMENT[c].spacing, l = new Date(a), m = [];
        m[Dygraph.DATEFIELD_Y] = h.getFullYear(l), m[Dygraph.DATEFIELD_M] = h.getMonth(l), 
        m[Dygraph.DATEFIELD_D] = h.getDate(l), m[Dygraph.DATEFIELD_HH] = h.getHours(l), 
        m[Dygraph.DATEFIELD_MM] = h.getMinutes(l), m[Dygraph.DATEFIELD_SS] = h.getSeconds(l), 
        m[Dygraph.DATEFIELD_MS] = h.getMilliseconds(l);
        var n = m[i] % j;
        c == Dygraph.WEEKLY && (n = h.getDay(l)), m[i] -= n;
        for (var o = i + 1; o < Dygraph.NUM_DATEFIELDS; o++) m[o] = o === Dygraph.DATEFIELD_D ? 1 : 0;
        var p = [], q = h.makeDate.apply(null, m), r = q.getTime();
        if (c <= Dygraph.HOURLY) for (a > r && (r += k, q = new Date(r)); b >= r; ) p.push({
            v: r,
            label: f.call(e, q, c, d, e)
        }), r += k, q = new Date(r); else for (a > r && (m[i] += j, q = h.makeDate.apply(null, m), 
        r = q.getTime()); b >= r; ) (c >= Dygraph.DAILY || h.getHours(q) % j === 0) && p.push({
            v: r,
            label: f.call(e, q, c, d, e)
        }), m[i] += j, q = h.makeDate.apply(null, m), r = q.getTime();
        return p;
    }, Dygraph && Dygraph.DEFAULT_ATTRS && Dygraph.DEFAULT_ATTRS.axes && Dygraph.DEFAULT_ATTRS.axes.x && Dygraph.DEFAULT_ATTRS.axes.y && Dygraph.DEFAULT_ATTRS.axes.y2 && (Dygraph.DEFAULT_ATTRS.axes.x.ticker = Dygraph.dateTicker, 
    Dygraph.DEFAULT_ATTRS.axes.y.ticker = Dygraph.numericTicks, Dygraph.DEFAULT_ATTRS.axes.y2.ticker = Dygraph.numericTicks);
}(), Dygraph.Plugins = {}, Dygraph.Plugins.Annotations = function() {
    "use strict";
    var a = function() {
        this.annotations_ = [];
    };
    return a.prototype.toString = function() {
        return "Annotations Plugin";
    }, a.prototype.activate = function(a) {
        return {
            clearChart: this.clearChart,
            didDrawChart: this.didDrawChart
        };
    }, a.prototype.detachLabels = function() {
        for (var a = 0; a < this.annotations_.length; a++) {
            var b = this.annotations_[a];
            b.parentNode && b.parentNode.removeChild(b), this.annotations_[a] = null;
        }
        this.annotations_ = [];
    }, a.prototype.clearChart = function(a) {
        this.detachLabels();
    }, a.prototype.didDrawChart = function(a) {
        var b = a.dygraph, c = b.layout_.annotated_points;
        if (c && 0 !== c.length) for (var d = a.canvas.parentNode, e = {
            position: "absolute",
            fontSize: b.getOption("axisLabelFontSize") + "px",
            zIndex: 10,
            overflow: "hidden"
        }, f = function(a, c, d) {
            return function(e) {
                var f = d.annotation;
                f.hasOwnProperty(a) ? f[a](f, d, b, e) : b.getOption(c) && b.getOption(c)(f, d, b, e);
            };
        }, g = a.dygraph.plotter_.area, h = {}, i = 0; i < c.length; i++) {
            var j = c[i];
            if (!(j.canvasx < g.x || j.canvasx > g.x + g.w || j.canvasy < g.y || j.canvasy > g.y + g.h)) {
                var k = j.annotation, l = 6;
                k.hasOwnProperty("tickHeight") && (l = k.tickHeight);
                var m = document.createElement("div");
                for (var n in e) e.hasOwnProperty(n) && (m.style[n] = e[n]);
                k.hasOwnProperty("icon") || (m.className = "dygraphDefaultAnnotation"), k.hasOwnProperty("cssClass") && (m.className += " " + k.cssClass);
                var o = k.hasOwnProperty("width") ? k.width : 16, p = k.hasOwnProperty("height") ? k.height : 16;
                if (k.hasOwnProperty("icon")) {
                    var q = document.createElement("img");
                    q.src = k.icon, q.width = o, q.height = p, m.appendChild(q);
                } else j.annotation.hasOwnProperty("shortText") && m.appendChild(document.createTextNode(j.annotation.shortText));
                var r = j.canvasx - o / 2;
                m.style.left = r + "px";
                var s = 0;
                if (k.attachAtBottom) {
                    var t = g.y + g.h - p - l;
                    h[r] ? t -= h[r] : h[r] = 0, h[r] += l + p, s = t;
                } else s = j.canvasy - p - l;
                m.style.top = s + "px", m.style.width = o + "px", m.style.height = p + "px", m.title = j.annotation.text, 
                m.style.color = b.colorsMap_[j.name], m.style.borderColor = b.colorsMap_[j.name], 
                k.div = m, b.addAndTrackEvent(m, "click", f("clickHandler", "annotationClickHandler", j, this)), 
                b.addAndTrackEvent(m, "mouseover", f("mouseOverHandler", "annotationMouseOverHandler", j, this)), 
                b.addAndTrackEvent(m, "mouseout", f("mouseOutHandler", "annotationMouseOutHandler", j, this)), 
                b.addAndTrackEvent(m, "dblclick", f("dblClickHandler", "annotationDblClickHandler", j, this)), 
                d.appendChild(m), this.annotations_.push(m);
                var u = a.drawingContext;
                if (u.save(), u.strokeStyle = b.colorsMap_[j.name], u.beginPath(), k.attachAtBottom) {
                    var t = s + p;
                    u.moveTo(j.canvasx, t), u.lineTo(j.canvasx, t + l);
                } else u.moveTo(j.canvasx, j.canvasy), u.lineTo(j.canvasx, j.canvasy - 2 - l);
                u.closePath(), u.stroke(), u.restore();
            }
        }
    }, a.prototype.destroy = function() {
        this.detachLabels();
    }, a;
}(), Dygraph.Plugins.Axes = function() {
    "use strict";
    var a = function() {
        this.xlabels_ = [], this.ylabels_ = [];
    };
    return a.prototype.toString = function() {
        return "Axes Plugin";
    }, a.prototype.activate = function(a) {
        return {
            layout: this.layout,
            clearChart: this.clearChart,
            willDrawChart: this.willDrawChart
        };
    }, a.prototype.layout = function(a) {
        var b = a.dygraph;
        if (b.getOptionForAxis("drawAxis", "y")) {
            var c = b.getOptionForAxis("axisLabelWidth", "y") + 2 * b.getOptionForAxis("axisTickSize", "y");
            a.reserveSpaceLeft(c);
        }
        if (b.getOptionForAxis("drawAxis", "x")) {
            var d;
            d = b.getOption("xAxisHeight") ? b.getOption("xAxisHeight") : b.getOptionForAxis("axisLabelFontSize", "x") + 2 * b.getOptionForAxis("axisTickSize", "x"), 
            a.reserveSpaceBottom(d);
        }
        if (2 == b.numAxes()) {
            if (b.getOptionForAxis("drawAxis", "y2")) {
                var c = b.getOptionForAxis("axisLabelWidth", "y2") + 2 * b.getOptionForAxis("axisTickSize", "y2");
                a.reserveSpaceRight(c);
            }
        } else b.numAxes() > 2 && b.error("Only two y-axes are supported at this time. (Trying to use " + b.numAxes() + ")");
    }, a.prototype.detachLabels = function() {
        function a(a) {
            for (var b = 0; b < a.length; b++) {
                var c = a[b];
                c.parentNode && c.parentNode.removeChild(c);
            }
        }
        a(this.xlabels_), a(this.ylabels_), this.xlabels_ = [], this.ylabels_ = [];
    }, a.prototype.clearChart = function(a) {
        this.detachLabels();
    }, a.prototype.willDrawChart = function(a) {
        function b(a) {
            return Math.round(a) + .5;
        }
        function c(a) {
            return Math.round(a) - .5;
        }
        var d = a.dygraph;
        if (d.getOptionForAxis("drawAxis", "x") || d.getOptionForAxis("drawAxis", "y") || d.getOptionForAxis("drawAxis", "y2")) {
            var e, f, g, h, i, j = a.drawingContext, k = a.canvas.parentNode, l = d.width_, m = d.height_, n = function(a) {
                return {
                    position: "absolute",
                    fontSize: d.getOptionForAxis("axisLabelFontSize", a) + "px",
                    zIndex: 10,
                    color: d.getOptionForAxis("axisLabelColor", a),
                    width: d.getOptionForAxis("axisLabelWidth", a) + "px",
                    lineHeight: "normal",
                    overflow: "hidden"
                };
            }, o = {
                x: n("x"),
                y: n("y"),
                y2: n("y2")
            }, p = function(a, b, c) {
                var d = document.createElement("div"), e = o["y2" == c ? "y2" : b];
                for (var f in e) e.hasOwnProperty(f) && (d.style[f] = e[f]);
                var g = document.createElement("div");
                return g.className = "dygraph-axis-label dygraph-axis-label-" + b + (c ? " dygraph-axis-label-" + c : ""), 
                g.innerHTML = a, d.appendChild(g), d;
            };
            j.save();
            var q = d.layout_, r = a.dygraph.plotter_.area, s = function(a) {
                return function(b) {
                    return d.getOptionForAxis(b, a);
                };
            };
            if (d.getOptionForAxis("drawAxis", "y")) {
                if (q.yticks && q.yticks.length > 0) {
                    var t = d.numAxes(), u = [ s("y"), s("y2") ];
                    for (i = 0; i < q.yticks.length; i++) {
                        if (h = q.yticks[i], "function" == typeof h) return;
                        f = r.x;
                        var v = 1, w = "y1", x = u[0];
                        1 == h[0] && (f = r.x + r.w, v = -1, w = "y2", x = u[1]);
                        var y = x("axisLabelFontSize");
                        g = r.y + h[1] * r.h, e = p(h[2], "y", 2 == t ? w : null);
                        var z = g - y / 2;
                        0 > z && (z = 0), z + y + 3 > m ? e.style.bottom = "0" : e.style.top = z + "px", 
                        0 === h[0] ? (e.style.left = r.x - x("axisLabelWidth") - x("axisTickSize") + "px", 
                        e.style.textAlign = "right") : 1 == h[0] && (e.style.left = r.x + r.w + x("axisTickSize") + "px", 
                        e.style.textAlign = "left"), e.style.width = x("axisLabelWidth") + "px", k.appendChild(e), 
                        this.ylabels_.push(e);
                    }
                    var A = this.ylabels_[0], y = d.getOptionForAxis("axisLabelFontSize", "y"), B = parseInt(A.style.top, 10) + y;
                    B > m - y && (A.style.top = parseInt(A.style.top, 10) - y / 2 + "px");
                }
                var C;
                if (d.getOption("drawAxesAtZero")) {
                    var D = d.toPercentXCoord(0);
                    (D > 1 || 0 > D || isNaN(D)) && (D = 0), C = b(r.x + D * r.w);
                } else C = b(r.x);
                j.strokeStyle = d.getOptionForAxis("axisLineColor", "y"), j.lineWidth = d.getOptionForAxis("axisLineWidth", "y"), 
                j.beginPath(), j.moveTo(C, c(r.y)), j.lineTo(C, c(r.y + r.h)), j.closePath(), j.stroke(), 
                2 == d.numAxes() && (j.strokeStyle = d.getOptionForAxis("axisLineColor", "y2"), 
                j.lineWidth = d.getOptionForAxis("axisLineWidth", "y2"), j.beginPath(), j.moveTo(c(r.x + r.w), c(r.y)), 
                j.lineTo(c(r.x + r.w), c(r.y + r.h)), j.closePath(), j.stroke());
            }
            if (d.getOptionForAxis("drawAxis", "x")) {
                if (q.xticks) {
                    var x = s("x");
                    for (i = 0; i < q.xticks.length; i++) {
                        h = q.xticks[i], f = r.x + h[0] * r.w, g = r.y + r.h, e = p(h[1], "x"), e.style.textAlign = "center", 
                        e.style.top = g + x("axisTickSize") + "px";
                        var E = f - x("axisLabelWidth") / 2;
                        E + x("axisLabelWidth") > l && (E = l - x("axisLabelWidth"), e.style.textAlign = "right"), 
                        0 > E && (E = 0, e.style.textAlign = "left"), e.style.left = E + "px", e.style.width = x("axisLabelWidth") + "px", 
                        k.appendChild(e), this.xlabels_.push(e);
                    }
                }
                j.strokeStyle = d.getOptionForAxis("axisLineColor", "x"), j.lineWidth = d.getOptionForAxis("axisLineWidth", "x"), 
                j.beginPath();
                var F;
                if (d.getOption("drawAxesAtZero")) {
                    var D = d.toPercentYCoord(0, 0);
                    (D > 1 || 0 > D) && (D = 1), F = c(r.y + D * r.h);
                } else F = c(r.y + r.h);
                j.moveTo(b(r.x), F), j.lineTo(b(r.x + r.w), F), j.closePath(), j.stroke();
            }
            j.restore();
        }
    }, a;
}(), Dygraph.Plugins.ChartLabels = function() {
    "use strict";
    var a = function() {
        this.title_div_ = null, this.xlabel_div_ = null, this.ylabel_div_ = null, this.y2label_div_ = null;
    };
    a.prototype.toString = function() {
        return "ChartLabels Plugin";
    }, a.prototype.activate = function(a) {
        return {
            layout: this.layout,
            didDrawChart: this.didDrawChart
        };
    };
    var b = function(a) {
        var b = document.createElement("div");
        return b.style.position = "absolute", b.style.left = a.x + "px", b.style.top = a.y + "px", 
        b.style.width = a.w + "px", b.style.height = a.h + "px", b;
    };
    a.prototype.detachLabels_ = function() {
        for (var a = [ this.title_div_, this.xlabel_div_, this.ylabel_div_, this.y2label_div_ ], b = 0; b < a.length; b++) {
            var c = a[b];
            c && c.parentNode && c.parentNode.removeChild(c);
        }
        this.title_div_ = null, this.xlabel_div_ = null, this.ylabel_div_ = null, this.y2label_div_ = null;
    };
    var c = function(a, b, c, d, e) {
        var f = document.createElement("div");
        f.style.position = "absolute", 1 == c ? f.style.left = "0px" : f.style.left = b.x + "px", 
        f.style.top = b.y + "px", f.style.width = b.w + "px", f.style.height = b.h + "px", 
        f.style.fontSize = a.getOption("yLabelWidth") - 2 + "px";
        var g = document.createElement("div");
        g.style.position = "absolute", g.style.width = b.h + "px", g.style.height = b.w + "px", 
        g.style.top = b.h / 2 - b.w / 2 + "px", g.style.left = b.w / 2 - b.h / 2 + "px", 
        g.style.textAlign = "center";
        var h = "rotate(" + (1 == c ? "-" : "") + "90deg)";
        g.style.transform = h, g.style.WebkitTransform = h, g.style.MozTransform = h, g.style.OTransform = h, 
        g.style.msTransform = h, "undefined" != typeof document.documentMode && document.documentMode < 9 && (g.style.filter = "progid:DXImageTransform.Microsoft.BasicImage(rotation=" + (1 == c ? "3" : "1") + ")", 
        g.style.left = "0px", g.style.top = "0px");
        var i = document.createElement("div");
        return i.className = d, i.innerHTML = e, g.appendChild(i), f.appendChild(g), f;
    };
    return a.prototype.layout = function(a) {
        this.detachLabels_();
        var d = a.dygraph, e = a.chart_div;
        if (d.getOption("title")) {
            var f = a.reserveSpaceTop(d.getOption("titleHeight"));
            this.title_div_ = b(f), this.title_div_.style.textAlign = "center", this.title_div_.style.fontSize = d.getOption("titleHeight") - 8 + "px", 
            this.title_div_.style.fontWeight = "bold", this.title_div_.style.zIndex = 10;
            var g = document.createElement("div");
            g.className = "dygraph-label dygraph-title", g.innerHTML = d.getOption("title"), 
            this.title_div_.appendChild(g), e.appendChild(this.title_div_);
        }
        if (d.getOption("xlabel")) {
            var h = a.reserveSpaceBottom(d.getOption("xLabelHeight"));
            this.xlabel_div_ = b(h), this.xlabel_div_.style.textAlign = "center", this.xlabel_div_.style.fontSize = d.getOption("xLabelHeight") - 2 + "px";
            var g = document.createElement("div");
            g.className = "dygraph-label dygraph-xlabel", g.innerHTML = d.getOption("xlabel"), 
            this.xlabel_div_.appendChild(g), e.appendChild(this.xlabel_div_);
        }
        if (d.getOption("ylabel")) {
            var i = a.reserveSpaceLeft(0);
            this.ylabel_div_ = c(d, i, 1, "dygraph-label dygraph-ylabel", d.getOption("ylabel")), 
            e.appendChild(this.ylabel_div_);
        }
        if (d.getOption("y2label") && 2 == d.numAxes()) {
            var j = a.reserveSpaceRight(0);
            this.y2label_div_ = c(d, j, 2, "dygraph-label dygraph-y2label", d.getOption("y2label")), 
            e.appendChild(this.y2label_div_);
        }
    }, a.prototype.didDrawChart = function(a) {
        var b = a.dygraph;
        this.title_div_ && (this.title_div_.children[0].innerHTML = b.getOption("title")), 
        this.xlabel_div_ && (this.xlabel_div_.children[0].innerHTML = b.getOption("xlabel")), 
        this.ylabel_div_ && (this.ylabel_div_.children[0].children[0].innerHTML = b.getOption("ylabel")), 
        this.y2label_div_ && (this.y2label_div_.children[0].children[0].innerHTML = b.getOption("y2label"));
    }, a.prototype.clearChart = function() {}, a.prototype.destroy = function() {
        this.detachLabels_();
    }, a;
}(), Dygraph.Plugins.Grid = function() {
    "use strict";
    var a = function() {};
    return a.prototype.toString = function() {
        return "Gridline Plugin";
    }, a.prototype.activate = function(a) {
        return {
            willDrawChart: this.willDrawChart
        };
    }, a.prototype.willDrawChart = function(a) {
        function b(a) {
            return Math.round(a) + .5;
        }
        function c(a) {
            return Math.round(a) - .5;
        }
        var d, e, f, g, h = a.dygraph, i = a.drawingContext, j = h.layout_, k = a.dygraph.plotter_.area;
        if (h.getOptionForAxis("drawGrid", "y")) {
            for (var l = [ "y", "y2" ], m = [], n = [], o = [], p = [], q = [], f = 0; f < l.length; f++) o[f] = h.getOptionForAxis("drawGrid", l[f]), 
            o[f] && (m[f] = h.getOptionForAxis("gridLineColor", l[f]), n[f] = h.getOptionForAxis("gridLineWidth", l[f]), 
            q[f] = h.getOptionForAxis("gridLinePattern", l[f]), p[f] = q[f] && q[f].length >= 2);
            for (g = j.yticks, i.save(), f = 0; f < g.length; f++) {
                var r = g[f][0];
                o[r] && (p[r] && i.installPattern(q[r]), i.strokeStyle = m[r], i.lineWidth = n[r], 
                d = b(k.x), e = c(k.y + g[f][1] * k.h), i.beginPath(), i.moveTo(d, e), i.lineTo(d + k.w, e), 
                i.closePath(), i.stroke(), p[r] && i.uninstallPattern());
            }
            i.restore();
        }
        if (h.getOptionForAxis("drawGrid", "x")) {
            g = j.xticks, i.save();
            var q = h.getOptionForAxis("gridLinePattern", "x"), p = q && q.length >= 2;
            for (p && i.installPattern(q), i.strokeStyle = h.getOptionForAxis("gridLineColor", "x"), 
            i.lineWidth = h.getOptionForAxis("gridLineWidth", "x"), f = 0; f < g.length; f++) d = b(k.x + g[f][0] * k.w), 
            e = c(k.y + k.h), i.beginPath(), i.moveTo(d, e), i.lineTo(d, k.y), i.closePath(), 
            i.stroke();
            p && i.uninstallPattern(), i.restore();
        }
    }, a.prototype.destroy = function() {}, a;
}(), Dygraph.Plugins.Legend = function() {
    "use strict";
    var a = function() {
        this.legend_div_ = null, this.is_generated_div_ = !1;
    };
    a.prototype.toString = function() {
        return "Legend Plugin";
    };
    var b;
    a.prototype.activate = function(a) {
        var b, c = a.getOption("labelsDivWidth"), d = a.getOption("labelsDiv");
        if (d && null !== d) b = "string" == typeof d || d instanceof String ? document.getElementById(d) : d; else {
            var e = {
                position: "absolute",
                fontSize: "14px",
                zIndex: 10,
                width: c + "px",
                top: "0px",
                left: a.size().width - c - 2 + "px",
                background: "white",
                lineHeight: "normal",
                textAlign: "left",
                overflow: "hidden"
            };
            Dygraph.update(e, a.getOption("labelsDivStyles")), b = document.createElement("div"), 
            b.className = "dygraph-legend";
            for (var f in e) if (e.hasOwnProperty(f)) try {
                b.style[f] = e[f];
            } catch (g) {
                console.warn("You are using unsupported css properties for your browser in labelsDivStyles");
            }
            a.graphDiv.appendChild(b), this.is_generated_div_ = !0;
        }
        return this.legend_div_ = b, this.one_em_width_ = 10, {
            select: this.select,
            deselect: this.deselect,
            predraw: this.predraw,
            didDrawChart: this.didDrawChart
        };
    };
    var c = function(a) {
        var b = document.createElement("span");
        b.setAttribute("style", "margin: 0; padding: 0 0 0 1em; border: 0;"), a.appendChild(b);
        var c = b.offsetWidth;
        return a.removeChild(b), c;
    }, d = function(a) {
        return a.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
    };
    return a.prototype.select = function(b) {
        var c = b.selectedX, d = b.selectedPoints, e = b.selectedRow, f = b.dygraph.getOption("legend");
        if ("never" === f) return void (this.legend_div_.style.display = "none");
        if ("follow" === f) {
            var g = b.dygraph.plotter_.area, h = b.dygraph.getOption("labelsDivWidth"), i = b.dygraph.getOptionForAxis("axisLabelWidth", "y"), j = d[0].x * g.w + 20, k = d[0].y * g.h - 20;
            j + h + 1 > window.scrollX + window.innerWidth && (j = j - 40 - h - (i - g.x)), 
            b.dygraph.graphDiv.appendChild(this.legend_div_), this.legend_div_.style.left = i + j + "px", 
            this.legend_div_.style.top = k + "px";
        }
        var l = a.generateLegendHTML(b.dygraph, c, d, this.one_em_width_, e);
        this.legend_div_.innerHTML = l, this.legend_div_.style.display = "";
    }, a.prototype.deselect = function(b) {
        var d = b.dygraph.getOption("legend");
        "always" !== d && (this.legend_div_.style.display = "none");
        var e = c(this.legend_div_);
        this.one_em_width_ = e;
        var f = a.generateLegendHTML(b.dygraph, void 0, void 0, e, null);
        this.legend_div_.innerHTML = f;
    }, a.prototype.didDrawChart = function(a) {
        this.deselect(a);
    }, a.prototype.predraw = function(a) {
        if (this.is_generated_div_) {
            a.dygraph.graphDiv.appendChild(this.legend_div_);
            var b = a.dygraph.plotter_.area, c = a.dygraph.getOption("labelsDivWidth");
            this.legend_div_.style.left = b.x + b.w - c - 1 + "px", this.legend_div_.style.top = b.y + "px", 
            this.legend_div_.style.width = c + "px";
        }
    }, a.prototype.destroy = function() {
        this.legend_div_ = null;
    }, a.generateLegendHTML = function(a, c, e, f, g) {
        if (a.getOption("showLabelsOnHighlight") !== !0) return "";
        var h, i, j, k, l, m = a.getLabels();
        if ("undefined" == typeof c) {
            if ("always" != a.getOption("legend")) return "";
            for (i = a.getOption("labelsSeparateLines"), h = "", j = 1; j < m.length; j++) {
                var n = a.getPropertiesForSeries(m[j]);
                n.visible && ("" !== h && (h += i ? "<br/>" : " "), l = a.getOption("strokePattern", m[j]), 
                k = b(l, n.color, f), h += "<span style='font-weight: bold; color: " + n.color + ";'>" + k + " " + d(m[j]) + "</span>");
            }
            return h;
        }
        var o = a.optionsViewForAxis_("x"), p = o("valueFormatter");
        h = p.call(a, c, o, m[0], a, g, 0), "" !== h && (h += ":");
        var q = [], r = a.numAxes();
        for (j = 0; r > j; j++) q[j] = a.optionsViewForAxis_("y" + (j ? 1 + j : ""));
        var s = a.getOption("labelsShowZeroValues");
        i = a.getOption("labelsSeparateLines");
        var t = a.getHighlightSeries();
        for (j = 0; j < e.length; j++) {
            var u = e[j];
            if ((0 !== u.yval || s) && Dygraph.isOK(u.canvasy)) {
                i && (h += "<br/>");
                var n = a.getPropertiesForSeries(u.name), v = q[n.axis - 1], w = v("valueFormatter"), x = w.call(a, u.yval, v, u.name, a, g, m.indexOf(u.name)), y = u.name == t ? " class='highlight'" : "";
                h += "<span" + y + "> <b><span style='color: " + n.color + ";'>" + d(u.name) + "</span></b>:&#160;" + x + "</span>";
            }
        }
        return h;
    }, b = function(a, b, c) {
        var d = /MSIE/.test(navigator.userAgent) && !window.opera;
        if (d) return "&mdash;";
        if (!a || a.length <= 1) return '<div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid ' + b + ';"></div>';
        var e, f, g, h, i, j = 0, k = 0, l = [];
        for (e = 0; e <= a.length; e++) j += a[e % a.length];
        if (i = Math.floor(c / (j - a[0])), i > 1) {
            for (e = 0; e < a.length; e++) l[e] = a[e] / c;
            k = l.length;
        } else {
            for (i = 1, e = 0; e < a.length; e++) l[e] = a[e] / j;
            k = l.length + 1;
        }
        var m = "";
        for (f = 0; i > f; f++) for (e = 0; k > e; e += 2) g = l[e % l.length], h = e < a.length ? l[(e + 1) % l.length] : 0, 
        m += '<div style="display: inline-block; position: relative; bottom: .5ex; margin-right: ' + h + "em; padding-left: " + g + "em; height: 1px; border-bottom: 2px solid " + b + ';"></div>';
        return m;
    }, a;
}(), Dygraph.Plugins.RangeSelector = function() {
    "use strict";
    var a = function() {
        this.isIE_ = /MSIE/.test(navigator.userAgent) && !window.opera, this.hasTouchInterface_ = "undefined" != typeof TouchEvent, 
        this.isMobileDevice_ = /mobile|android/gi.test(navigator.appVersion), this.interfaceCreated_ = !1;
    };
    return a.prototype.toString = function() {
        return "RangeSelector Plugin";
    }, a.prototype.activate = function(a) {
        return this.dygraph_ = a, this.isUsingExcanvas_ = a.isUsingExcanvas_, this.getOption_("showRangeSelector") && this.createInterface_(), 
        {
            layout: this.reserveSpace_,
            predraw: this.renderStaticLayer_,
            didDrawChart: this.renderInteractiveLayer_
        };
    }, a.prototype.destroy = function() {
        this.bgcanvas_ = null, this.fgcanvas_ = null, this.leftZoomHandle_ = null, this.rightZoomHandle_ = null, 
        this.iePanOverlay_ = null;
    }, a.prototype.getOption_ = function(a, b) {
        return this.dygraph_.getOption(a, b);
    }, a.prototype.setDefaultOption_ = function(a, b) {
        this.dygraph_.attrs_[a] = b;
    }, a.prototype.createInterface_ = function() {
        this.createCanvases_(), this.isUsingExcanvas_ && this.createIEPanOverlay_(), this.createZoomHandles_(), 
        this.initInteraction_(), this.getOption_("animatedZooms") && (console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."), 
        this.dygraph_.updateOptions({
            animatedZooms: !1
        }, !0)), this.interfaceCreated_ = !0, this.addToGraph_();
    }, a.prototype.addToGraph_ = function() {
        var a = this.graphDiv_ = this.dygraph_.graphDiv;
        a.appendChild(this.bgcanvas_), a.appendChild(this.fgcanvas_), a.appendChild(this.leftZoomHandle_), 
        a.appendChild(this.rightZoomHandle_);
    }, a.prototype.removeFromGraph_ = function() {
        var a = this.graphDiv_;
        a.removeChild(this.bgcanvas_), a.removeChild(this.fgcanvas_), a.removeChild(this.leftZoomHandle_), 
        a.removeChild(this.rightZoomHandle_), this.graphDiv_ = null;
    }, a.prototype.reserveSpace_ = function(a) {
        this.getOption_("showRangeSelector") && a.reserveSpaceBottom(this.getOption_("rangeSelectorHeight") + 4);
    }, a.prototype.renderStaticLayer_ = function() {
        this.updateVisibility_() && (this.resize_(), this.drawStaticLayer_());
    }, a.prototype.renderInteractiveLayer_ = function() {
        this.updateVisibility_() && !this.isChangingRange_ && (this.placeZoomHandles_(), 
        this.drawInteractiveLayer_());
    }, a.prototype.updateVisibility_ = function() {
        var a = this.getOption_("showRangeSelector");
        if (a) this.interfaceCreated_ ? this.graphDiv_ && this.graphDiv_.parentNode || this.addToGraph_() : this.createInterface_(); else if (this.graphDiv_) {
            this.removeFromGraph_();
            var b = this.dygraph_;
            setTimeout(function() {
                b.width_ = 0, b.resize();
            }, 1);
        }
        return a;
    }, a.prototype.resize_ = function() {
        function a(a, b, c) {
            var d = Dygraph.getContextPixelRatio(b);
            a.style.top = c.y + "px", a.style.left = c.x + "px", a.width = c.w * d, a.height = c.h * d, 
            a.style.width = c.w + "px", a.style.height = c.h + "px", 1 != d && b.scale(d, d);
        }
        var b = this.dygraph_.layout_.getPlotArea(), c = 0;
        this.dygraph_.getOptionForAxis("drawAxis", "x") && (c = this.getOption_("xAxisHeight") || this.getOption_("axisLabelFontSize") + 2 * this.getOption_("axisTickSize")), 
        this.canvasRect_ = {
            x: b.x,
            y: b.y + b.h + c + 4,
            w: b.w,
            h: this.getOption_("rangeSelectorHeight")
        }, a(this.bgcanvas_, this.bgcanvas_ctx_, this.canvasRect_), a(this.fgcanvas_, this.fgcanvas_ctx_, this.canvasRect_);
    }, a.prototype.createCanvases_ = function() {
        this.bgcanvas_ = Dygraph.createCanvas(), this.bgcanvas_.className = "dygraph-rangesel-bgcanvas", 
        this.bgcanvas_.style.position = "absolute", this.bgcanvas_.style.zIndex = 9, this.bgcanvas_ctx_ = Dygraph.getContext(this.bgcanvas_), 
        this.fgcanvas_ = Dygraph.createCanvas(), this.fgcanvas_.className = "dygraph-rangesel-fgcanvas", 
        this.fgcanvas_.style.position = "absolute", this.fgcanvas_.style.zIndex = 9, this.fgcanvas_.style.cursor = "default", 
        this.fgcanvas_ctx_ = Dygraph.getContext(this.fgcanvas_);
    }, a.prototype.createIEPanOverlay_ = function() {
        this.iePanOverlay_ = document.createElement("div"), this.iePanOverlay_.style.position = "absolute", 
        this.iePanOverlay_.style.backgroundColor = "white", this.iePanOverlay_.style.filter = "alpha(opacity=0)", 
        this.iePanOverlay_.style.display = "none", this.iePanOverlay_.style.cursor = "move", 
        this.fgcanvas_.appendChild(this.iePanOverlay_);
    }, a.prototype.createZoomHandles_ = function() {
        var a = new Image();
        a.className = "dygraph-rangesel-zoomhandle", a.style.position = "absolute", a.style.zIndex = 10, 
        a.style.visibility = "hidden", a.style.cursor = "col-resize", /MSIE 7/.test(navigator.userAgent) ? (a.width = 7, 
        a.height = 14, a.style.backgroundColor = "white", a.style.border = "1px solid #333333") : (a.width = 9, 
        a.height = 16, a.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="), 
        this.isMobileDevice_ && (a.width *= 2, a.height *= 2), this.leftZoomHandle_ = a, 
        this.rightZoomHandle_ = a.cloneNode(!1);
    }, a.prototype.initInteraction_ = function() {
        var a, b, c, d, e, f, g, h, i, j, k, l, m, n, o = this, p = document, q = 0, r = null, s = !1, t = !1, u = !this.isMobileDevice_ && !this.isUsingExcanvas_, v = new Dygraph.IFrameTarp();
        a = function(a) {
            var b = o.dygraph_.xAxisExtremes(), c = (b[1] - b[0]) / o.canvasRect_.w, d = b[0] + (a.leftHandlePos - o.canvasRect_.x) * c, e = b[0] + (a.rightHandlePos - o.canvasRect_.x) * c;
            return [ d, e ];
        }, b = function(a) {
            return Dygraph.cancelEvent(a), s = !0, q = a.clientX, r = a.target ? a.target : a.srcElement, 
            ("mousedown" === a.type || "dragstart" === a.type) && (Dygraph.addEvent(p, "mousemove", c), 
            Dygraph.addEvent(p, "mouseup", d)), o.fgcanvas_.style.cursor = "col-resize", v.cover(), 
            !0;
        }, c = function(a) {
            if (!s) return !1;
            Dygraph.cancelEvent(a);
            var b = a.clientX - q;
            if (Math.abs(b) < 4) return !0;
            q = a.clientX;
            var c, d = o.getZoomHandleStatus_();
            r == o.leftZoomHandle_ ? (c = d.leftHandlePos + b, c = Math.min(c, d.rightHandlePos - r.width - 3), 
            c = Math.max(c, o.canvasRect_.x)) : (c = d.rightHandlePos + b, c = Math.min(c, o.canvasRect_.x + o.canvasRect_.w), 
            c = Math.max(c, d.leftHandlePos + r.width + 3));
            var f = r.width / 2;
            return r.style.left = c - f + "px", o.drawInteractiveLayer_(), u && e(), !0;
        }, d = function(a) {
            return s ? (s = !1, v.uncover(), Dygraph.removeEvent(p, "mousemove", c), Dygraph.removeEvent(p, "mouseup", d), 
            o.fgcanvas_.style.cursor = "default", u || e(), !0) : !1;
        }, e = function() {
            try {
                var b = o.getZoomHandleStatus_();
                if (o.isChangingRange_ = !0, b.isZoomed) {
                    var c = a(b);
                    o.dygraph_.doZoomXDates_(c[0], c[1]);
                } else o.dygraph_.resetZoom();
            } finally {
                o.isChangingRange_ = !1;
            }
        }, f = function(a) {
            if (o.isUsingExcanvas_) return a.srcElement == o.iePanOverlay_;
            var b = o.leftZoomHandle_.getBoundingClientRect(), c = b.left + b.width / 2;
            b = o.rightZoomHandle_.getBoundingClientRect();
            var d = b.left + b.width / 2;
            return a.clientX > c && a.clientX < d;
        }, g = function(a) {
            return !t && f(a) && o.getZoomHandleStatus_().isZoomed ? (Dygraph.cancelEvent(a), 
            t = !0, q = a.clientX, "mousedown" === a.type && (Dygraph.addEvent(p, "mousemove", h), 
            Dygraph.addEvent(p, "mouseup", i)), !0) : !1;
        }, h = function(a) {
            if (!t) return !1;
            Dygraph.cancelEvent(a);
            var b = a.clientX - q;
            if (Math.abs(b) < 4) return !0;
            q = a.clientX;
            var c = o.getZoomHandleStatus_(), d = c.leftHandlePos, e = c.rightHandlePos, f = e - d;
            d + b <= o.canvasRect_.x ? (d = o.canvasRect_.x, e = d + f) : e + b >= o.canvasRect_.x + o.canvasRect_.w ? (e = o.canvasRect_.x + o.canvasRect_.w, 
            d = e - f) : (d += b, e += b);
            var g = o.leftZoomHandle_.width / 2;
            return o.leftZoomHandle_.style.left = d - g + "px", o.rightZoomHandle_.style.left = e - g + "px", 
            o.drawInteractiveLayer_(), u && j(), !0;
        }, i = function(a) {
            return t ? (t = !1, Dygraph.removeEvent(p, "mousemove", h), Dygraph.removeEvent(p, "mouseup", i), 
            u || j(), !0) : !1;
        }, j = function() {
            try {
                o.isChangingRange_ = !0, o.dygraph_.dateWindow_ = a(o.getZoomHandleStatus_()), o.dygraph_.drawGraph_(!1);
            } finally {
                o.isChangingRange_ = !1;
            }
        }, k = function(a) {
            if (!s && !t) {
                var b = f(a) ? "move" : "default";
                b != o.fgcanvas_.style.cursor && (o.fgcanvas_.style.cursor = b);
            }
        }, l = function(a) {
            "touchstart" == a.type && 1 == a.targetTouches.length ? b(a.targetTouches[0]) && Dygraph.cancelEvent(a) : "touchmove" == a.type && 1 == a.targetTouches.length ? c(a.targetTouches[0]) && Dygraph.cancelEvent(a) : d(a);
        }, m = function(a) {
            "touchstart" == a.type && 1 == a.targetTouches.length ? g(a.targetTouches[0]) && Dygraph.cancelEvent(a) : "touchmove" == a.type && 1 == a.targetTouches.length ? h(a.targetTouches[0]) && Dygraph.cancelEvent(a) : i(a);
        }, n = function(a, b) {
            for (var c = [ "touchstart", "touchend", "touchmove", "touchcancel" ], d = 0; d < c.length; d++) o.dygraph_.addAndTrackEvent(a, c[d], b);
        }, this.setDefaultOption_("interactionModel", Dygraph.Interaction.dragIsPanInteractionModel), 
        this.setDefaultOption_("panEdgeFraction", 1e-4);
        var w = window.opera ? "mousedown" : "dragstart";
        this.dygraph_.addAndTrackEvent(this.leftZoomHandle_, w, b), this.dygraph_.addAndTrackEvent(this.rightZoomHandle_, w, b), 
        this.isUsingExcanvas_ ? this.dygraph_.addAndTrackEvent(this.iePanOverlay_, "mousedown", g) : (this.dygraph_.addAndTrackEvent(this.fgcanvas_, "mousedown", g), 
        this.dygraph_.addAndTrackEvent(this.fgcanvas_, "mousemove", k)), this.hasTouchInterface_ && (n(this.leftZoomHandle_, l), 
        n(this.rightZoomHandle_, l), n(this.fgcanvas_, m));
    }, a.prototype.drawStaticLayer_ = function() {
        var a = this.bgcanvas_ctx_;
        a.clearRect(0, 0, this.canvasRect_.w, this.canvasRect_.h);
        try {
            this.drawMiniPlot_();
        } catch (b) {
            console.warn(b);
        }
        var c = .5;
        this.bgcanvas_ctx_.lineWidth = 1, a.strokeStyle = "gray", a.beginPath(), a.moveTo(c, c), 
        a.lineTo(c, this.canvasRect_.h - c), a.lineTo(this.canvasRect_.w - c, this.canvasRect_.h - c), 
        a.lineTo(this.canvasRect_.w - c, c), a.stroke();
    }, a.prototype.drawMiniPlot_ = function() {
        var a = this.getOption_("rangeSelectorPlotFillColor"), b = this.getOption_("rangeSelectorPlotStrokeColor");
        if (a || b) {
            var c = this.getOption_("stepPlot"), d = this.computeCombinedSeriesAndLimits_(), e = d.yMax - d.yMin, f = this.bgcanvas_ctx_, g = .5, h = this.dygraph_.xAxisExtremes(), i = Math.max(h[1] - h[0], 1e-30), j = (this.canvasRect_.w - g) / i, k = (this.canvasRect_.h - g) / e, l = this.canvasRect_.w - g, m = this.canvasRect_.h - g, n = null, o = null;
            f.beginPath(), f.moveTo(g, m);
            for (var p = 0; p < d.data.length; p++) {
                var q = d.data[p], r = null !== q[0] ? (q[0] - h[0]) * j : NaN, s = null !== q[1] ? m - (q[1] - d.yMin) * k : NaN;
                (c || null === n || Math.round(r) != Math.round(n)) && (isFinite(r) && isFinite(s) ? (null === n ? f.lineTo(r, m) : c && f.lineTo(r, o), 
                f.lineTo(r, s), n = r, o = s) : (null !== n && (c ? (f.lineTo(r, o), f.lineTo(r, m)) : f.lineTo(n, m)), 
                n = o = null));
            }
            if (f.lineTo(l, m), f.closePath(), a) {
                var t = this.bgcanvas_ctx_.createLinearGradient(0, 0, 0, m);
                t.addColorStop(0, "white"), t.addColorStop(1, a), this.bgcanvas_ctx_.fillStyle = t, 
                f.fill();
            }
            b && (this.bgcanvas_ctx_.strokeStyle = b, this.bgcanvas_ctx_.lineWidth = 1.5, f.stroke());
        }
    }, a.prototype.computeCombinedSeriesAndLimits_ = function() {
        var a, b = this.dygraph_, c = this.getOption_("logscale"), d = b.numColumns(), e = b.getLabels(), f = new Array(d), g = !1;
        for (a = 1; d > a; a++) {
            var h = this.getOption_("showInRangeSelector", e[a]);
            f[a] = h, null !== h && (g = !0);
        }
        if (!g) for (a = 0; a < f.length; a++) f[a] = !0;
        var i = [], j = b.dataHandler_, k = b.attributes_;
        for (a = 1; a < b.numColumns(); a++) if (f[a]) {
            var l = j.extractSeries(b.rawData_, a, k);
            b.rollPeriod() > 1 && (l = j.rollingAverage(l, b.rollPeriod(), k)), i.push(l);
        }
        var m = [];
        for (a = 0; a < i[0].length; a++) {
            for (var n = 0, o = 0, p = 0; p < i.length; p++) {
                var q = i[p][a][1];
                null === q || isNaN(q) || (o++, n += q);
            }
            m.push([ i[0][a][0], n / o ]);
        }
        var r = Number.MAX_VALUE, s = -Number.MAX_VALUE;
        for (a = 0; a < m.length; a++) {
            var t = m[a][1];
            null !== t && isFinite(t) && (!c || t > 0) && (r = Math.min(r, t), s = Math.max(s, t));
        }
        var u = .25;
        if (c) for (s = Dygraph.log10(s), s += s * u, r = Dygraph.log10(r), a = 0; a < m.length; a++) m[a][1] = Dygraph.log10(m[a][1]); else {
            var v, w = s - r;
            v = w <= Number.MIN_VALUE ? s * u : w * u, s += v, r -= v;
        }
        return {
            data: m,
            yMin: r,
            yMax: s
        };
    }, a.prototype.placeZoomHandles_ = function() {
        var a = this.dygraph_.xAxisExtremes(), b = this.dygraph_.xAxisRange(), c = a[1] - a[0], d = Math.max(0, (b[0] - a[0]) / c), e = Math.max(0, (a[1] - b[1]) / c), f = this.canvasRect_.x + this.canvasRect_.w * d, g = this.canvasRect_.x + this.canvasRect_.w * (1 - e), h = Math.max(this.canvasRect_.y, this.canvasRect_.y + (this.canvasRect_.h - this.leftZoomHandle_.height) / 2), i = this.leftZoomHandle_.width / 2;
        this.leftZoomHandle_.style.left = f - i + "px", this.leftZoomHandle_.style.top = h + "px", 
        this.rightZoomHandle_.style.left = g - i + "px", this.rightZoomHandle_.style.top = this.leftZoomHandle_.style.top, 
        this.leftZoomHandle_.style.visibility = "visible", this.rightZoomHandle_.style.visibility = "visible";
    }, a.prototype.drawInteractiveLayer_ = function() {
        var a = this.fgcanvas_ctx_;
        a.clearRect(0, 0, this.canvasRect_.w, this.canvasRect_.h);
        var b = 1, c = this.canvasRect_.w - b, d = this.canvasRect_.h - b, e = this.getZoomHandleStatus_();
        if (a.strokeStyle = "black", e.isZoomed) {
            var f = Math.max(b, e.leftHandlePos - this.canvasRect_.x), g = Math.min(c, e.rightHandlePos - this.canvasRect_.x);
            a.fillStyle = "rgba(240, 240, 240, 0.6)", a.fillRect(0, 0, f, this.canvasRect_.h), 
            a.fillRect(g, 0, this.canvasRect_.w - g, this.canvasRect_.h), a.beginPath(), a.moveTo(b, b), 
            a.lineTo(f, b), a.lineTo(f, d), a.lineTo(g, d), a.lineTo(g, b), a.lineTo(c, b), 
            a.stroke(), this.isUsingExcanvas_ && (this.iePanOverlay_.style.width = g - f + "px", 
            this.iePanOverlay_.style.left = f + "px", this.iePanOverlay_.style.height = d + "px", 
            this.iePanOverlay_.style.display = "inline");
        } else a.beginPath(), a.moveTo(b, b), a.lineTo(b, d), a.lineTo(c, d), a.lineTo(c, b), 
        a.stroke(), this.iePanOverlay_ && (this.iePanOverlay_.style.display = "none");
    }, a.prototype.getZoomHandleStatus_ = function() {
        var a = this.leftZoomHandle_.width / 2, b = parseFloat(this.leftZoomHandle_.style.left) + a, c = parseFloat(this.rightZoomHandle_.style.left) + a;
        return {
            leftHandlePos: b,
            rightHandlePos: c,
            isZoomed: b - 1 > this.canvasRect_.x || c + 1 < this.canvasRect_.x + this.canvasRect_.w
        };
    }, a;
}(), Dygraph.PLUGINS.push(Dygraph.Plugins.Legend, Dygraph.Plugins.Axes, Dygraph.Plugins.RangeSelector, Dygraph.Plugins.ChartLabels, Dygraph.Plugins.Annotations, Dygraph.Plugins.Grid), 
Dygraph.DataHandler = function() {}, Dygraph.DataHandlers = {}, function() {
    "use strict";
    var a = Dygraph.DataHandler;
    a.X = 0, a.Y = 1, a.EXTRAS = 2, a.prototype.extractSeries = function(a, b, c) {}, 
    a.prototype.seriesToPoints = function(b, c, d) {
        for (var e = [], f = 0; f < b.length; ++f) {
            var g = b[f], h = g[1], i = null === h ? null : a.parseFloat(h), j = {
                x: NaN,
                y: NaN,
                xval: a.parseFloat(g[0]),
                yval: i,
                name: c,
                idx: f + d
            };
            e.push(j);
        }
        return this.onPointsCreated_(b, e), e;
    }, a.prototype.onPointsCreated_ = function(a, b) {}, a.prototype.rollingAverage = function(a, b, c) {}, 
    a.prototype.getExtremeYValues = function(a, b, c) {}, a.prototype.onLineEvaluated = function(a, b, c) {}, 
    a.prototype.computeYInterpolation_ = function(a, b, c) {
        var d = b[1] - a[1], e = b[0] - a[0], f = d / e, g = (c - a[0]) * f;
        return a[1] + g;
    }, a.prototype.getIndexesInWindow_ = function(a, b) {
        var c = 0, d = a.length - 1;
        if (b) {
            for (var e = 0, f = b[0], g = b[1]; e < a.length - 1 && a[e][0] < f; ) c++, e++;
            for (e = a.length - 1; e > 0 && a[e][0] > g; ) d--, e--;
        }
        return d >= c ? [ c, d ] : [ 0, a.length - 1 ];
    }, a.parseFloat = function(a) {
        return null === a ? NaN : a;
    };
}(), function() {
    "use strict";
    Dygraph.DataHandlers.DefaultHandler = function() {};
    var a = Dygraph.DataHandlers.DefaultHandler;
    a.prototype = new Dygraph.DataHandler(), a.prototype.extractSeries = function(a, b, c) {
        for (var d = [], e = c.get("logscale"), f = 0; f < a.length; f++) {
            var g = a[f][0], h = a[f][b];
            e && 0 >= h && (h = null), d.push([ g, h ]);
        }
        return d;
    }, a.prototype.rollingAverage = function(a, b, c) {
        b = Math.min(b, a.length);
        var d, e, f, g, h, i = [];
        if (1 == b) return a;
        for (d = 0; d < a.length; d++) {
            for (g = 0, h = 0, e = Math.max(0, d - b + 1); d + 1 > e; e++) f = a[e][1], null === f || isNaN(f) || (h++, 
            g += a[e][1]);
            h ? i[d] = [ a[d][0], g / h ] : i[d] = [ a[d][0], null ];
        }
        return i;
    }, a.prototype.getExtremeYValues = function(a, b, c) {
        for (var d, e = null, f = null, g = 0, h = a.length - 1, i = g; h >= i; i++) d = a[i][1], 
        null === d || isNaN(d) || ((null === f || d > f) && (f = d), (null === e || e > d) && (e = d));
        return [ e, f ];
    };
}(), function() {
    "use strict";
    Dygraph.DataHandlers.DefaultFractionHandler = function() {};
    var a = Dygraph.DataHandlers.DefaultFractionHandler;
    a.prototype = new Dygraph.DataHandlers.DefaultHandler(), a.prototype.extractSeries = function(a, b, c) {
        for (var d, e, f, g, h, i, j = [], k = 100, l = c.get("logscale"), m = 0; m < a.length; m++) d = a[m][0], 
        f = a[m][b], l && null !== f && (f[0] <= 0 || f[1] <= 0) && (f = null), null !== f ? (g = f[0], 
        h = f[1], null === g || isNaN(g) ? j.push([ d, g, [ g, h ] ]) : (i = h ? g / h : 0, 
        e = k * i, j.push([ d, e, [ g, h ] ]))) : j.push([ d, null, [ null, null ] ]);
        return j;
    }, a.prototype.rollingAverage = function(a, b, c) {
        b = Math.min(b, a.length);
        var d, e = [], f = 0, g = 0, h = 100;
        for (d = 0; d < a.length; d++) {
            f += a[d][2][0], g += a[d][2][1], d - b >= 0 && (f -= a[d - b][2][0], g -= a[d - b][2][1]);
            var i = a[d][0], j = g ? f / g : 0;
            e[d] = [ i, h * j ];
        }
        return e;
    };
}(), function() {
    "use strict";
    Dygraph.DataHandlers.BarsHandler = function() {
        Dygraph.DataHandler.call(this);
    }, Dygraph.DataHandlers.BarsHandler.prototype = new Dygraph.DataHandler();
    var a = Dygraph.DataHandlers.BarsHandler;
    a.prototype.extractSeries = function(a, b, c) {}, a.prototype.rollingAverage = function(a, b, c) {}, 
    a.prototype.onPointsCreated_ = function(a, b) {
        for (var c = 0; c < a.length; ++c) {
            var d = a[c], e = b[c];
            e.y_top = NaN, e.y_bottom = NaN, e.yval_minus = Dygraph.DataHandler.parseFloat(d[2][0]), 
            e.yval_plus = Dygraph.DataHandler.parseFloat(d[2][1]);
        }
    }, a.prototype.getExtremeYValues = function(a, b, c) {
        for (var d, e = null, f = null, g = 0, h = a.length - 1, i = g; h >= i; i++) if (d = a[i][1], 
        null !== d && !isNaN(d)) {
            var j = a[i][2][0], k = a[i][2][1];
            j > d && (j = d), d > k && (k = d), (null === f || k > f) && (f = k), (null === e || e > j) && (e = j);
        }
        return [ e, f ];
    }, a.prototype.onLineEvaluated = function(a, b, c) {
        for (var d, e = 0; e < a.length; e++) d = a[e], d.y_top = DygraphLayout.calcYNormal_(b, d.yval_minus, c), 
        d.y_bottom = DygraphLayout.calcYNormal_(b, d.yval_plus, c);
    };
}(), function() {
    "use strict";
    Dygraph.DataHandlers.CustomBarsHandler = function() {};
    var a = Dygraph.DataHandlers.CustomBarsHandler;
    a.prototype = new Dygraph.DataHandlers.BarsHandler(), a.prototype.extractSeries = function(a, b, c) {
        for (var d, e, f, g = [], h = c.get("logscale"), i = 0; i < a.length; i++) d = a[i][0], 
        f = a[i][b], h && null !== f && (f[0] <= 0 || f[1] <= 0 || f[2] <= 0) && (f = null), 
        null !== f ? (e = f[1], g.push(null === e || isNaN(e) ? [ d, e, [ e, e ] ] : [ d, e, [ f[0], f[2] ] ])) : g.push([ d, null, [ null, null ] ]);
        return g;
    }, a.prototype.rollingAverage = function(a, b, c) {
        b = Math.min(b, a.length);
        var d, e, f, g, h, i, j, k = [];
        for (e = 0, g = 0, f = 0, h = 0, i = 0; i < a.length; i++) {
            if (d = a[i][1], j = a[i][2], k[i] = a[i], null === d || isNaN(d) || (e += j[0], 
            g += d, f += j[1], h += 1), i - b >= 0) {
                var l = a[i - b];
                null === l[1] || isNaN(l[1]) || (e -= l[2][0], g -= l[1], f -= l[2][1], h -= 1);
            }
            h ? k[i] = [ a[i][0], 1 * g / h, [ 1 * e / h, 1 * f / h ] ] : k[i] = [ a[i][0], null, [ null, null ] ];
        }
        return k;
    };
}(), function() {
    "use strict";
    Dygraph.DataHandlers.ErrorBarsHandler = function() {};
    var a = Dygraph.DataHandlers.ErrorBarsHandler;
    a.prototype = new Dygraph.DataHandlers.BarsHandler(), a.prototype.extractSeries = function(a, b, c) {
        for (var d, e, f, g, h = [], i = c.get("sigma"), j = c.get("logscale"), k = 0; k < a.length; k++) d = a[k][0], 
        g = a[k][b], j && null !== g && (g[0] <= 0 || g[0] - i * g[1] <= 0) && (g = null), 
        null !== g ? (e = g[0], null === e || isNaN(e) ? h.push([ d, e, [ e, e, e ] ]) : (f = i * g[1], 
        h.push([ d, e, [ e - f, e + f, g[1] ] ]))) : h.push([ d, null, [ null, null, null ] ]);
        return h;
    }, a.prototype.rollingAverage = function(a, b, c) {
        b = Math.min(b, a.length);
        var d, e, f, g, h, i, j, k, l, m = [], n = c.get("sigma");
        for (d = 0; d < a.length; d++) {
            for (h = 0, k = 0, i = 0, e = Math.max(0, d - b + 1); d + 1 > e; e++) f = a[e][1], 
            null === f || isNaN(f) || (i++, h += f, k += Math.pow(a[e][2][2], 2));
            i ? (j = Math.sqrt(k) / i, l = h / i, m[d] = [ a[d][0], l, [ l - n * j, l + n * j ] ]) : (g = 1 == b ? a[d][1] : null, 
            m[d] = [ a[d][0], g, [ g, g ] ]);
        }
        return m;
    };
}(), function() {
    "use strict";
    Dygraph.DataHandlers.FractionsBarsHandler = function() {};
    var a = Dygraph.DataHandlers.FractionsBarsHandler;
    a.prototype = new Dygraph.DataHandlers.BarsHandler(), a.prototype.extractSeries = function(a, b, c) {
        for (var d, e, f, g, h, i, j, k, l = [], m = 100, n = c.get("sigma"), o = c.get("logscale"), p = 0; p < a.length; p++) d = a[p][0], 
        f = a[p][b], o && null !== f && (f[0] <= 0 || f[1] <= 0) && (f = null), null !== f ? (g = f[0], 
        h = f[1], null === g || isNaN(g) ? l.push([ d, g, [ g, g, g, h ] ]) : (i = h ? g / h : 0, 
        j = h ? n * Math.sqrt(i * (1 - i) / h) : 1, k = m * j, e = m * i, l.push([ d, e, [ e - k, e + k, g, h ] ]))) : l.push([ d, null, [ null, null, null, null ] ]);
        return l;
    }, a.prototype.rollingAverage = function(a, b, c) {
        b = Math.min(b, a.length);
        var d, e, f, g, h = [], i = c.get("sigma"), j = c.get("wilsonInterval"), k = 0, l = 0, m = 100;
        for (f = 0; f < a.length; f++) {
            k += a[f][2][2], l += a[f][2][3], f - b >= 0 && (k -= a[f - b][2][2], l -= a[f - b][2][3]);
            var n = a[f][0], o = l ? k / l : 0;
            if (j) if (l) {
                var p = 0 > o ? 0 : o, q = l, r = i * Math.sqrt(p * (1 - p) / q + i * i / (4 * q * q)), s = 1 + i * i / l;
                d = (p + i * i / (2 * l) - r) / s, e = (p + i * i / (2 * l) + r) / s, h[f] = [ n, p * m, [ d * m, e * m ] ];
            } else h[f] = [ n, 0, [ 0, 0 ] ]; else g = l ? i * Math.sqrt(o * (1 - o) / l) : 1, 
            h[f] = [ n, m * o, [ m * (o - g), m * (o + g) ] ];
        }
        return h;
    };
}(), window.Handsontable = {
    version: "0.19.0",
    buildDate: "Fri Oct 02 2015 12:37:12 GMT+0200 (CEST)"
}, function(a) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = a(); else if ("function" == typeof define && define.amd) define([], a); else {
        var b;
        b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, 
        b.Handsontable = a();
    }
}(function() {
    var a;
    return function(a, b, c) {
        return function d(a, b, c) {
            function e(h, i) {
                if (!b[h]) {
                    if (!a[h]) {
                        var j = "function" == typeof require && require;
                        if (!i && j) return j(h, !0);
                        if (f) return f(h, !0);
                        if (g[h] && "undefined" != typeof window[g[h]]) return window[g[h]];
                        var k = new Error("Cannot find module '" + h + "'");
                        throw k.code = "MODULE_NOT_FOUND", k;
                    }
                    var l = b[h] = {
                        exports: {}
                    };
                    a[h][0].call(l.exports, function(b) {
                        var c = a[h][1][b];
                        return e(c ? c : b);
                    }, l, l.exports, d, a, b, c);
                }
                return b[h].exports;
            }
            for (var f = "function" == typeof require && require, g = JSON.parse('{"zeroclipboard":"ZeroClipboard","moment":"moment","pikaday":"Pikaday"}') || {}, h = 0; h < c.length; h++) e(c[h]);
            return e;
        }(a, b, c), function() {
            return Handsontable;
        };
    }({
        1: [ function(a, b, c) {
            "use strict";
            window.jQuery && !function(a, b, c) {
                b.fn.handsontable = function(a) {
                    var b, d, e, f, g, h = this.first(), i = h.data("handsontable");
                    if ("string" != typeof a) return g = a || {}, i ? i.updateSettings(g) : (i = new c.Core(h[0], g), 
                    h.data("handsontable", i), i.init()), h;
                    if (e = [], arguments.length > 1) for (b = 1, d = arguments.length; d > b; b++) e.push(arguments[b]);
                    if (i) {
                        if ("undefined" == typeof i[a]) throw new Error("Handsontable do not provide action: " + a);
                        f = i[a].apply(i, e), "destroy" === a && h.removeData();
                    }
                    return f;
                };
            }(window, jQuery, Handsontable);
        }, {} ],
        2: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableBorder: {
                    get: function() {
                        return u;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), j = i.getComputedStyle, k = i.getTrimmingContainer, l = i.innerWidth, m = i.innerHeight, n = i.offset, o = i.outerHeight, p = i.outerWidth, q = (e = a("helpers/dom/event"), 
            e && e.__esModule && e || {
                "default": e
            }).stopImmediatePropagation, r = (f = a("eventManager"), f && f.__esModule && f || {
                "default": f
            }).EventManager, s = (g = a("cell/coords"), g && g.__esModule && g || {
                "default": g
            }).WalkontableCellCoords, t = (h = a("overlay/_base.js"), h && h.__esModule && h || {
                "default": h
            }).WalkontableOverlay, u = function(a, b) {
                b && (this.eventManager = new r(a), this.instance = a, this.wot = a, this.settings = b, 
                this.mouseDown = !1, this.main = null, this.top = null, this.left = null, this.bottom = null, 
                this.right = null, this.topStyle = null, this.leftStyle = null, this.bottomStyle = null, 
                this.rightStyle = null, this.cornerDefaultStyle = {
                    width: "5px",
                    height: "5px",
                    borderWidth: "2px",
                    borderStyle: "solid",
                    borderColor: "#FFF"
                }, this.corner = null, this.cornerStyle = null, this.createBorders(b), this.registerListeners());
            };
            $traceurRuntime.createClass(u, {
                registerListeners: function() {
                    var a = this;
                    this.eventManager.addEventListener(document.body, "mousedown", function() {
                        return a.onMouseDown();
                    }), this.eventManager.addEventListener(document.body, "mouseup", function() {
                        return a.onMouseUp();
                    });
                    for (var b = 0, c = this.main.childNodes.length; c > b; b++) this.eventManager.addEventListener(this.main.childNodes[b], "mouseenter", function(b) {
                        return a.onMouseEnter(b);
                    });
                },
                onMouseDown: function() {
                    this.mouseDown = !0;
                },
                onMouseUp: function() {
                    this.mouseDown = !1;
                },
                onMouseEnter: function(a) {
                    function b(a) {
                        return a.clientY < Math.floor(e.top) ? !0 : a.clientY > Math.ceil(e.top + e.height) ? !0 : a.clientX < Math.floor(e.left) ? !0 : a.clientX > Math.ceil(e.left + e.width) ? !0 : void 0;
                    }
                    function c(a) {
                        b(a) && (d.eventManager.removeEventListener(document.body, "mousemove", c), d.style.display = "block");
                    }
                    if (this.mouseDown && this.wot.getSetting("hideBorderOnMouseDownOver")) {
                        a.preventDefault(), q(a);
                        var d = this, e = this.getBoundingClientRect();
                        this.style.display = "none", this.eventManager.addEventListener(document.body, "mousemove", c);
                    }
                },
                createBorders: function(a) {
                    this.main = document.createElement("div");
                    var b = [ "top", "left", "bottom", "right", "corner" ], c = this.main.style;
                    c.position = "absolute", c.top = 0, c.left = 0;
                    for (var d = 0; 5 > d; d++) {
                        var e = b[d], f = document.createElement("div");
                        f.className = "wtBorder " + (this.settings.className || ""), this.settings[e] && this.settings[e].hide && (f.className += " hidden"), 
                        c = f.style, c.backgroundColor = this.settings[e] && this.settings[e].color ? this.settings[e].color : a.border.color, 
                        c.height = this.settings[e] && this.settings[e].width ? this.settings[e].width + "px" : a.border.width + "px", 
                        c.width = this.settings[e] && this.settings[e].width ? this.settings[e].width + "px" : a.border.width + "px", 
                        this.main.appendChild(f);
                    }
                    this.top = this.main.childNodes[0], this.left = this.main.childNodes[1], this.bottom = this.main.childNodes[2], 
                    this.right = this.main.childNodes[3], this.topStyle = this.top.style, this.leftStyle = this.left.style, 
                    this.bottomStyle = this.bottom.style, this.rightStyle = this.right.style, this.corner = this.main.childNodes[4], 
                    this.corner.className += " corner", this.cornerStyle = this.corner.style, this.cornerStyle.width = this.cornerDefaultStyle.width, 
                    this.cornerStyle.height = this.cornerDefaultStyle.height, this.cornerStyle.border = [ this.cornerDefaultStyle.borderWidth, this.cornerDefaultStyle.borderStyle, this.cornerDefaultStyle.borderColor ].join(" "), 
                    Handsontable.mobileBrowser && this.createMultipleSelectorHandles(), this.disappear(), 
                    this.wot.wtTable.bordersHolder || (this.wot.wtTable.bordersHolder = document.createElement("div"), 
                    this.wot.wtTable.bordersHolder.className = "htBorders", this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)), 
                    this.wot.wtTable.bordersHolder.insertBefore(this.main, this.wot.wtTable.bordersHolder.firstChild);
                },
                createMultipleSelectorHandles: function() {
                    this.selectionHandles = {
                        topLeft: document.createElement("DIV"),
                        topLeftHitArea: document.createElement("DIV"),
                        bottomRight: document.createElement("DIV"),
                        bottomRightHitArea: document.createElement("DIV")
                    };
                    var a = 10, b = 40;
                    this.selectionHandles.topLeft.className = "topLeftSelectionHandle", this.selectionHandles.topLeftHitArea.className = "topLeftSelectionHandle-HitArea", 
                    this.selectionHandles.bottomRight.className = "bottomRightSelectionHandle", this.selectionHandles.bottomRightHitArea.className = "bottomRightSelectionHandle-HitArea", 
                    this.selectionHandles.styles = {
                        topLeft: this.selectionHandles.topLeft.style,
                        topLeftHitArea: this.selectionHandles.topLeftHitArea.style,
                        bottomRight: this.selectionHandles.bottomRight.style,
                        bottomRightHitArea: this.selectionHandles.bottomRightHitArea.style
                    };
                    var c = {
                        position: "absolute",
                        height: b + "px",
                        width: b + "px",
                        "border-radius": parseInt(b / 1.5, 10) + "px"
                    };
                    for (var d in c) c.hasOwnProperty(d) && (this.selectionHandles.styles.bottomRightHitArea[d] = c[d], 
                    this.selectionHandles.styles.topLeftHitArea[d] = c[d]);
                    var e = {
                        position: "absolute",
                        height: a + "px",
                        width: a + "px",
                        "border-radius": parseInt(a / 1.5, 10) + "px",
                        background: "#F5F5FF",
                        border: "1px solid #4285c8"
                    };
                    for (var f in e) e.hasOwnProperty(f) && (this.selectionHandles.styles.bottomRight[f] = e[f], 
                    this.selectionHandles.styles.topLeft[f] = e[f]);
                    this.main.appendChild(this.selectionHandles.topLeft), this.main.appendChild(this.selectionHandles.bottomRight), 
                    this.main.appendChild(this.selectionHandles.topLeftHitArea), this.main.appendChild(this.selectionHandles.bottomRightHitArea);
                },
                isPartRange: function(a, b) {
                    return !this.wot.selections.area.cellRange || a == this.wot.selections.area.cellRange.to.row && b == this.wot.selections.area.cellRange.to.col ? !1 : !0;
                },
                updateMultipleSelectionHandlesPosition: function(a, b, c, d, e, f) {
                    var g = parseInt(this.selectionHandles.styles.topLeft.width, 10), h = parseInt(this.selectionHandles.styles.topLeftHitArea.width, 10);
                    this.selectionHandles.styles.topLeft.top = parseInt(c - g, 10) + "px", this.selectionHandles.styles.topLeft.left = parseInt(d - g, 10) + "px", 
                    this.selectionHandles.styles.topLeftHitArea.top = parseInt(c - h / 4 * 3, 10) + "px", 
                    this.selectionHandles.styles.topLeftHitArea.left = parseInt(d - h / 4 * 3, 10) + "px", 
                    this.selectionHandles.styles.bottomRight.top = parseInt(c + f, 10) + "px", this.selectionHandles.styles.bottomRight.left = parseInt(d + e, 10) + "px", 
                    this.selectionHandles.styles.bottomRightHitArea.top = parseInt(c + f - h / 4, 10) + "px", 
                    this.selectionHandles.styles.bottomRightHitArea.left = parseInt(d + e - h / 4, 10) + "px", 
                    this.settings.border.multipleSelectionHandlesVisible && this.settings.border.multipleSelectionHandlesVisible() ? (this.selectionHandles.styles.topLeft.display = "block", 
                    this.selectionHandles.styles.topLeftHitArea.display = "block", this.isPartRange(a, b) ? (this.selectionHandles.styles.bottomRight.display = "none", 
                    this.selectionHandles.styles.bottomRightHitArea.display = "none") : (this.selectionHandles.styles.bottomRight.display = "block", 
                    this.selectionHandles.styles.bottomRightHitArea.display = "block")) : (this.selectionHandles.styles.topLeft.display = "none", 
                    this.selectionHandles.styles.bottomRight.display = "none", this.selectionHandles.styles.topLeftHitArea.display = "none", 
                    this.selectionHandles.styles.bottomRightHitArea.display = "none"), a == this.wot.wtSettings.getSetting("fixedRowsTop") || b == this.wot.wtSettings.getSetting("fixedColumnsLeft") ? (this.selectionHandles.styles.topLeft.zIndex = "9999", 
                    this.selectionHandles.styles.topLeftHitArea.zIndex = "9999") : (this.selectionHandles.styles.topLeft.zIndex = "", 
                    this.selectionHandles.styles.topLeftHitArea.zIndex = "");
                },
                appear: function(a) {
                    if (!this.disabled) {
                        var b, c, d, e, f, g, h, i, q, r, u, v, w, x, y, z, A, B, C;
                        C = t.isOverlayTypeOf(this.wot.cloneOverlay, t.CLONE_TOP) || t.isOverlayTypeOf(this.wot.cloneOverlay, t.CLONE_TOP_LEFT_CORNER) ? this.wot.getSetting("fixedRowsTop") : t.isOverlayTypeOf(this.wot.cloneOverlay, t.CLONE_BOTTOM) || t.isOverlayTypeOf(this.wot.cloneOverlay, t.CLONE_BOTTOM_LEFT_CORNER) ? this.wot.getSetting("fixedRowsBottom") : this.wot.wtTable.getRenderedRowsCount();
                        for (var D = 0; C > D; D++) {
                            var E = this.wot.wtTable.rowFilter.renderedToSource(D);
                            if (E >= a[0] && E <= a[2]) {
                                w = E;
                                break;
                            }
                        }
                        for (var F = C - 1; F >= 0; F--) {
                            var G = this.wot.wtTable.rowFilter.renderedToSource(F);
                            if (G >= a[0] && G <= a[2]) {
                                y = G;
                                break;
                            }
                        }
                        C = this.wot.wtTable.getRenderedColumnsCount();
                        for (var H = 0; C > H; H++) {
                            var I = this.wot.wtTable.columnFilter.renderedToSource(H);
                            if (I >= a[1] && I <= a[3]) {
                                x = I;
                                break;
                            }
                        }
                        for (var J = C - 1; J >= 0; J--) {
                            var K = this.wot.wtTable.columnFilter.renderedToSource(J);
                            if (K >= a[1] && K <= a[3]) {
                                z = K;
                                break;
                            }
                        }
                        if (void 0 === w || void 0 === x) return void this.disappear();
                        b = w !== y || x !== z, c = this.wot.wtTable.getCell(new s(w, x)), d = b ? this.wot.wtTable.getCell(new s(y, z)) : c, 
                        e = n(c), f = b ? n(d) : e, g = n(this.wot.wtTable.TABLE), i = e.top, u = f.top + o(d) - i, 
                        r = e.left, v = f.left + p(d) - r, h = i - g.top - 1, q = r - g.left - 1;
                        var L = j(c);
                        parseInt(L.borderTopWidth, 10) > 0 && (h += 1, u = u > 0 ? u - 1 : 0), parseInt(L.borderLeftWidth, 10) > 0 && (q += 1, 
                        v = v > 0 ? v - 1 : 0), this.topStyle.top = h + "px", this.topStyle.left = q + "px", 
                        this.topStyle.width = v + "px", this.topStyle.display = "block", this.leftStyle.top = h + "px", 
                        this.leftStyle.left = q + "px", this.leftStyle.height = u + "px", this.leftStyle.display = "block";
                        var M = Math.floor(this.settings.border.width / 2);
                        this.bottomStyle.top = h + u - M + "px", this.bottomStyle.left = q + "px", this.bottomStyle.width = v + "px", 
                        this.bottomStyle.display = "block", this.rightStyle.top = h + "px", this.rightStyle.left = q + v - M + "px", 
                        this.rightStyle.height = u + 1 + "px", this.rightStyle.display = "block", Handsontable.mobileBrowser || !this.hasSetting(this.settings.border.cornerVisible) || this.isPartRange(y, z) ? this.cornerStyle.display = "none" : (this.cornerStyle.top = h + u - 4 + "px", 
                        this.cornerStyle.left = q + v - 4 + "px", this.cornerStyle.borderRightWidth = this.cornerDefaultStyle.borderWidth, 
                        this.cornerStyle.width = this.cornerDefaultStyle.width, this.cornerStyle.display = "block", 
                        A = k(this.wot.wtTable.TABLE), z === this.wot.getSetting("totalColumns") - 1 && (B = d.offsetLeft + p(d) >= l(A), 
                        B && (this.cornerStyle.left = Math.floor(q + v - 3 - parseInt(this.cornerDefaultStyle.width) / 2) + "px", 
                        this.cornerStyle.borderRightWidth = 0)), y === this.wot.getSetting("totalRows") - 1 && (B = d.offsetTop + o(d) >= m(A), 
                        B && (this.cornerStyle.top = Math.floor(h + u - 3 - parseInt(this.cornerDefaultStyle.height) / 2) + "px", 
                        this.cornerStyle.borderBottomWidth = 0))), Handsontable.mobileBrowser && this.updateMultipleSelectionHandlesPosition(w, x, h, q, v, u);
                    }
                },
                disappear: function() {
                    this.topStyle.display = "none", this.leftStyle.display = "none", this.bottomStyle.display = "none", 
                    this.rightStyle.display = "none", this.cornerStyle.display = "none", Handsontable.mobileBrowser && (this.selectionHandles.styles.topLeft.display = "none", 
                    this.selectionHandles.styles.bottomRight.display = "none");
                },
                hasSetting: function(a) {
                    return "function" == typeof a ? a() : !!a;
                }
            }, {}), window.WalkontableBorder = u;
        }, {
            "cell/coords": 5,
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "overlay/_base.js": 11
        } ],
        3: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableViewportColumnsCalculator: {
                    get: function() {
                        return e;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d = new WeakMap(), e = function(a, b, c, e, f, g, h) {
                d.set(this, {
                    viewportWidth: a,
                    scrollOffset: b,
                    totalColumns: c,
                    columnWidthFn: e,
                    overrideFn: f,
                    onlyFullyVisible: g
                }), this.count = 0, this.startColumn = null, this.endColumn = null, this.startPosition = null, 
                this.stretchAllRatio = 0, this.stretchLastWidth = 0, this.stretch = h, this.totalTargetWidth = 0, 
                this.needVerifyLastColumnWidth = !0, this.stretchAllColumnsWidth = [], this.calculate();
            }, f = e;
            $traceurRuntime.createClass(e, {
                calculate: function() {
                    for (var a, b = 0, c = !0, e = [], f = d.get(this), g = f.onlyFullyVisible, h = f.overrideFn, i = f.scrollOffset, j = f.totalColumns, k = f.viewportWidth, l = 0; j > l; l++) if (a = this._getColumnWidth(l), 
                    i >= b && !g && (this.startColumn = l), b >= i && i + k >= b + a && (null == this.startColumn && (this.startColumn = l), 
                    this.endColumn = l), e.push(b), b += a, g || (this.endColumn = l), b >= i + k) {
                        c = !1;
                        break;
                    }
                    if (this.endColumn === j - 1 && c) for (this.startColumn = this.endColumn; this.startColumn > 0; ) {
                        var m = e[this.endColumn] + a - e[this.startColumn - 1];
                        if ((k >= m || !g) && this.startColumn--, m > k) break;
                    }
                    null !== this.startColumn && h && h(this), this.startPosition = e[this.startColumn], 
                    void 0 == this.startPosition && (this.startPosition = null), null !== this.startColumn && (this.count = this.endColumn - this.startColumn + 1);
                },
                refreshStretching: function(a) {
                    if ("none" !== this.stretch) {
                        for (var b, c, e = 0, f = d.get(this), g = f.totalColumns, h = 0; g > h; h++) b = this._getColumnWidth(h), 
                        e += b;
                        this.totalTargetWidth = a, c = e - a, "all" === this.stretch && 0 > c ? (this.stretchAllRatio = a / e, 
                        this.stretchAllColumnsWidth = [], this.needVerifyLastColumnWidth = !0) : "last" === this.stretch && a !== 1 / 0 && (this.stretchLastWidth = -c + this._getColumnWidth(g - 1));
                    }
                },
                getStretchedColumnWidth: function(a, b) {
                    var c = null;
                    return "all" === this.stretch && 0 !== this.stretchAllRatio ? c = this._getStretchedAllColumnWidth(a, b) : "last" === this.stretch && 0 !== this.stretchLastWidth && (c = this._getStretchedLastColumnWidth(a)), 
                    c;
                },
                _getStretchedAllColumnWidth: function(a, b) {
                    var c = 0, e = d.get(this), f = e.totalColumns;
                    if (this.stretchAllColumnsWidth[a] || (this.stretchAllColumnsWidth[a] = Math.round(b * this.stretchAllRatio)), 
                    this.stretchAllColumnsWidth.length === f && this.needVerifyLastColumnWidth) {
                        this.needVerifyLastColumnWidth = !1;
                        for (var g = 0; g < this.stretchAllColumnsWidth.length; g++) c += this.stretchAllColumnsWidth[g];
                        c !== this.totalTargetWidth && (this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length - 1] += this.totalTargetWidth - c);
                    }
                    return this.stretchAllColumnsWidth[a];
                },
                _getStretchedLastColumnWidth: function(a) {
                    var b = d.get(this), c = b.totalColumns;
                    return a === c - 1 ? this.stretchLastWidth : null;
                },
                _getColumnWidth: function(a) {
                    var b = d.get(this).columnWidthFn(a);
                    return void 0 === b && (b = f.DEFAULT_WIDTH), b;
                }
            }, {
                get DEFAULT_WIDTH() {
                    return 50;
                }
            }), window.WalkontableViewportColumnsCalculator = e;
        }, {} ],
        4: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableViewportRowsCalculator: {
                    get: function() {
                        return e;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d = new WeakMap(), e = function(a, b, c, e, f, g, h) {
                d.set(this, {
                    viewportHeight: a,
                    scrollOffset: b,
                    totalRows: c,
                    rowHeightFn: e,
                    overrideFn: f,
                    onlyFullyVisible: g,
                    horizontalScrollbarHeight: h
                }), this.count = 0, this.startRow = null, this.endRow = null, this.startPosition = null, 
                this.calculate();
            }, f = e;
            $traceurRuntime.createClass(e, {
                calculate: function() {
                    for (var a = 0, b = !0, c = [], e = d.get(this), g = e.onlyFullyVisible, h = e.overrideFn, i = e.rowHeightFn, j = e.scrollOffset, k = e.totalRows, l = e.viewportHeight, m = e.horizontalScrollbarHeight || 0, n = 0; k > n; n++) {
                        var o = i(n);
                        if (void 0 === o && (o = f.DEFAULT_HEIGHT), j >= a && !g && (this.startRow = n), 
                        a >= j && j + l - m >= a + o && (null === this.startRow && (this.startRow = n), 
                        this.endRow = n), c.push(a), a += o, g || (this.endRow = n), a >= j + l - m) {
                            b = !1;
                            break;
                        }
                    }
                    if (this.endRow === k - 1 && b) for (this.startRow = this.endRow; this.startRow > 0; ) {
                        var p = c[this.endRow] + o - c[this.startRow - 1];
                        if ((l - m >= p || !g) && this.startRow--, p >= l - m) break;
                    }
                    null !== this.startRow && h && h(this), this.startPosition = c[this.startRow], void 0 == this.startPosition && (this.startPosition = null), 
                    null !== this.startRow && (this.count = this.endRow - this.startRow + 1);
                }
            }, {
                get DEFAULT_HEIGHT() {
                    return 23;
                }
            }), window.WalkontableViewportRowsCalculator = e;
        }, {} ],
        5: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableCellCoords: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d = function(a, b) {
                "undefined" != typeof a && "undefined" != typeof b ? (this.row = a, this.col = b) : (this.row = null, 
                this.col = null);
            };
            $traceurRuntime.createClass(d, {
                isValid: function(a) {
                    return this.row < 0 || this.col < 0 ? !1 : this.row >= a.getSetting("totalRows") || this.col >= a.getSetting("totalColumns") ? !1 : !0;
                },
                isEqual: function(a) {
                    return a === this ? !0 : this.row === a.row && this.col === a.col;
                },
                isSouthEastOf: function(a) {
                    return this.row >= a.row && this.col >= a.col;
                },
                isNorthWestOf: function(a) {
                    return this.row <= a.row && this.col <= a.col;
                },
                isSouthWestOf: function(a) {
                    return this.row >= a.row && this.col <= a.col;
                },
                isNorthEastOf: function(a) {
                    return this.row <= a.row && this.col >= a.col;
                }
            }, {}), window.WalkontableCellCoords = d;
        }, {} ],
        6: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableCellRange: {
                    get: function() {
                        return f;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e = (d = a("cell/coords"), d && d.__esModule && d || {
                "default": d
            }).WalkontableCellCoords, f = function(a, b, c) {
                this.highlight = a, this.from = b, this.to = c;
            }, g = f;
            $traceurRuntime.createClass(f, {
                isValid: function(a) {
                    return this.from.isValid(a) && this.to.isValid(a);
                },
                isSingle: function() {
                    return this.from.row === this.to.row && this.from.col === this.to.col;
                },
                getHeight: function() {
                    return Math.max(this.from.row, this.to.row) - Math.min(this.from.row, this.to.row) + 1;
                },
                getWidth: function() {
                    return Math.max(this.from.col, this.to.col) - Math.min(this.from.col, this.to.col) + 1;
                },
                includes: function(a) {
                    var b = this.getTopLeftCorner(), c = this.getBottomRightCorner();
                    return a.row < 0 && (a.row = 0), a.col < 0 && (a.col = 0), b.row <= a.row && c.row >= a.row && b.col <= a.col && c.col >= a.col;
                },
                includesRange: function(a) {
                    return this.includes(a.getTopLeftCorner()) && this.includes(a.getBottomRightCorner());
                },
                isEqual: function(a) {
                    return Math.min(this.from.row, this.to.row) == Math.min(a.from.row, a.to.row) && Math.max(this.from.row, this.to.row) == Math.max(a.from.row, a.to.row) && Math.min(this.from.col, this.to.col) == Math.min(a.from.col, a.to.col) && Math.max(this.from.col, this.to.col) == Math.max(a.from.col, a.to.col);
                },
                overlaps: function(a) {
                    return a.isSouthEastOf(this.getTopLeftCorner()) && a.isNorthWestOf(this.getBottomRightCorner());
                },
                isSouthEastOf: function(a) {
                    return this.getTopLeftCorner().isSouthEastOf(a) || this.getBottomRightCorner().isSouthEastOf(a);
                },
                isNorthWestOf: function(a) {
                    return this.getTopLeftCorner().isNorthWestOf(a) || this.getBottomRightCorner().isNorthWestOf(a);
                },
                expand: function(a) {
                    var b = this.getTopLeftCorner(), c = this.getBottomRightCorner();
                    return a.row < b.row || a.col < b.col || a.row > c.row || a.col > c.col ? (this.from = new e(Math.min(b.row, a.row), Math.min(b.col, a.col)), 
                    this.to = new e(Math.max(c.row, a.row), Math.max(c.col, a.col)), !0) : !1;
                },
                expandByRange: function(a) {
                    if (this.includesRange(a) || !this.overlaps(a)) return !1;
                    var b = this.getTopLeftCorner(), c = this.getBottomRightCorner(), d = (this.getTopRightCorner(), 
                    this.getBottomLeftCorner(), a.getTopLeftCorner()), f = a.getBottomRightCorner(), h = Math.min(b.row, d.row), i = Math.min(b.col, d.col), j = Math.max(c.row, f.row), k = Math.max(c.col, f.col), l = new e(h, i), m = new e(j, k), n = new g(l, l, m).isCorner(this.from, a), o = a.isEqual(new g(l, l, m));
                    return n && !o && (this.from.col > l.col && (l.col = k, m.col = i), this.from.row > l.row && (l.row = j, 
                    m.row = h)), this.from = l, this.to = m, !0;
                },
                getDirection: function() {
                    return this.from.isNorthWestOf(this.to) ? "NW-SE" : this.from.isNorthEastOf(this.to) ? "NE-SW" : this.from.isSouthEastOf(this.to) ? "SE-NW" : this.from.isSouthWestOf(this.to) ? "SW-NE" : void 0;
                },
                setDirection: function(a) {
                    switch (a) {
                      case "NW-SE":
                        this.from = this.getTopLeftCorner(), this.to = this.getBottomRightCorner();
                        break;

                      case "NE-SW":
                        this.from = this.getTopRightCorner(), this.to = this.getBottomLeftCorner();
                        break;

                      case "SE-NW":
                        this.from = this.getBottomRightCorner(), this.to = this.getTopLeftCorner();
                        break;

                      case "SW-NE":
                        this.from = this.getBottomLeftCorner(), this.to = this.getTopRightCorner();
                    }
                },
                getTopLeftCorner: function() {
                    return new e(Math.min(this.from.row, this.to.row), Math.min(this.from.col, this.to.col));
                },
                getBottomRightCorner: function() {
                    return new e(Math.max(this.from.row, this.to.row), Math.max(this.from.col, this.to.col));
                },
                getTopRightCorner: function() {
                    return new e(Math.min(this.from.row, this.to.row), Math.max(this.from.col, this.to.col));
                },
                getBottomLeftCorner: function() {
                    return new e(Math.max(this.from.row, this.to.row), Math.min(this.from.col, this.to.col));
                },
                isCorner: function(a, b) {
                    return b && b.includes(a) && (this.getTopLeftCorner().isEqual(new e(b.from.row, b.from.col)) || this.getTopRightCorner().isEqual(new e(b.from.row, b.to.col)) || this.getBottomLeftCorner().isEqual(new e(b.to.row, b.from.col)) || this.getBottomRightCorner().isEqual(new e(b.to.row, b.to.col))) ? !0 : a.isEqual(this.getTopLeftCorner()) || a.isEqual(this.getTopRightCorner()) || a.isEqual(this.getBottomLeftCorner()) || a.isEqual(this.getBottomRightCorner());
                },
                getOppositeCorner: function(a, b) {
                    if (!(a instanceof e)) return !1;
                    if (b && b.includes(a)) {
                        if (this.getTopLeftCorner().isEqual(new e(b.from.row, b.from.col))) return this.getBottomRightCorner();
                        if (this.getTopRightCorner().isEqual(new e(b.from.row, b.to.col))) return this.getBottomLeftCorner();
                        if (this.getBottomLeftCorner().isEqual(new e(b.to.row, b.from.col))) return this.getTopRightCorner();
                        if (this.getBottomRightCorner().isEqual(new e(b.to.row, b.to.col))) return this.getTopLeftCorner();
                    }
                    return a.isEqual(this.getBottomRightCorner()) ? this.getTopLeftCorner() : a.isEqual(this.getTopLeftCorner()) ? this.getBottomRightCorner() : a.isEqual(this.getTopRightCorner()) ? this.getBottomLeftCorner() : a.isEqual(this.getBottomLeftCorner()) ? this.getTopRightCorner() : void 0;
                },
                getBordersSharedWith: function(a) {
                    if (!this.includesRange(a)) return [];
                    var b = {
                        top: Math.min(this.from.row, this.to.row),
                        bottom: Math.max(this.from.row, this.to.row),
                        left: Math.min(this.from.col, this.to.col),
                        right: Math.max(this.from.col, this.to.col)
                    }, c = {
                        top: Math.min(a.from.row, a.to.row),
                        bottom: Math.max(a.from.row, a.to.row),
                        left: Math.min(a.from.col, a.to.col),
                        right: Math.max(a.from.col, a.to.col)
                    }, d = [];
                    return b.top == c.top && d.push("top"), b.right == c.right && d.push("right"), b.bottom == c.bottom && d.push("bottom"), 
                    b.left == c.left && d.push("left"), d;
                },
                getInner: function() {
                    for (var a = this.getTopLeftCorner(), b = this.getBottomRightCorner(), c = [], d = a.row; d <= b.row; d++) for (var f = a.col; f <= b.col; f++) this.from.row === d && this.from.col === f || this.to.row === d && this.to.col === f || c.push(new e(d, f));
                    return c;
                },
                getAll: function() {
                    for (var a = this.getTopLeftCorner(), b = this.getBottomRightCorner(), c = [], d = a.row; d <= b.row; d++) for (var f = a.col; f <= b.col; f++) a.row === d && a.col === f ? c.push(a) : b.row === d && b.col === f ? c.push(b) : c.push(new e(d, f));
                    return c;
                },
                forAll: function(a) {
                    for (var b = this.getTopLeftCorner(), c = this.getBottomRightCorner(), d = b.row; d <= c.row; d++) for (var e = b.col; e <= c.col; e++) {
                        var f = a(d, e);
                        if (f === !1) return;
                    }
                }
            }, {}), window.WalkontableCellRange = f;
        }, {
            "cell/coords": 5
        } ],
        7: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                Walkontable: {
                    get: function() {
                        return G;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j, k, l, m, n, o, p, q, r = (d = a("helpers/dom/element"), 
            d && d.__esModule && d || {
                "default": d
            }), s = r.addClass, t = r.fastInnerText, u = r.isVisible, v = r.removeClass, w = (e = a("helpers/object"), 
            e && e.__esModule && e || {
                "default": e
            }).objectEach, x = (f = a("helpers/string"), f && f.__esModule && f || {
                "default": f
            }), y = x.toUpperCaseFirst, z = x.randomString, A = (g = a("event"), g && g.__esModule && g || {
                "default": g
            }).WalkontableEvent, B = (h = a("overlays"), h && h.__esModule && h || {
                "default": h
            }).WalkontableOverlays, C = (i = a("scroll"), i && i.__esModule && i || {
                "default": i
            }).WalkontableScroll, D = (j = a("settings"), j && j.__esModule && j || {
                "default": j
            }).WalkontableSettings, E = (k = a("table"), k && k.__esModule && k || {
                "default": k
            }).WalkontableTable, F = (l = a("viewport"), l && l.__esModule && l || {
                "default": l
            }).WalkontableViewport, G = ((m = a("overlay/_base.js"), m && m.__esModule && m || {
                "default": m
            }).WalkontableOverlay, (n = a("overlay/top.js"), n && n.__esModule && n || {
                "default": n
            }).WalkontableTopOverlay, (o = a("overlay/left.js"), o && o.__esModule && o || {
                "default": o
            }).WalkontableLeftOverlay, (p = a("overlay/debug.js"), p && p.__esModule && p || {
                "default": p
            }).WalkontableDebugOverlay, (q = a("overlay/topLeftCorner.js"), q && q.__esModule && q || {
                "default": q
            }).WalkontableTopLeftCornerOverlay, function(a) {
                var b = [];
                if (this.guid = "wt_" + z(), a.cloneSource ? (this.cloneSource = a.cloneSource, 
                this.cloneOverlay = a.cloneOverlay, this.wtSettings = a.cloneSource.wtSettings, 
                this.wtTable = new E(this, a.table, a.wtRootElement), this.wtScroll = new C(this), 
                this.wtViewport = a.cloneSource.wtViewport, this.wtEvent = new A(this), this.selections = this.cloneSource.selections) : (this.wtSettings = new D(this, a), 
                this.wtTable = new E(this, a.table), this.wtScroll = new C(this), this.wtViewport = new F(this), 
                this.wtEvent = new A(this), this.selections = this.getSetting("selections"), this.wtOverlays = new B(this), 
                this.exportSettingsAsClassNames()), this.wtTable.THEAD.childNodes.length && this.wtTable.THEAD.childNodes[0].childNodes.length) {
                    for (var c = 0, d = this.wtTable.THEAD.childNodes[0].childNodes.length; d > c; c++) b.push(this.wtTable.THEAD.childNodes[0].childNodes[c].innerHTML);
                    this.getSetting("columnHeaders").length || this.update("columnHeaders", [ function(a, c) {
                        t(c, b[a]);
                    } ]);
                }
                this.drawn = !1, this.drawInterrupted = !1;
            });
            $traceurRuntime.createClass(G, {
                draw: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1;
                    return this.drawInterrupted = !1, a || u(this.wtTable.TABLE) ? this.wtTable.draw(a) : this.drawInterrupted = !0, 
                    this;
                },
                getCell: function(a) {
                    var b = void 0 !== arguments[1] ? arguments[1] : !1;
                    if (!b) return this.wtTable.getCell(a);
                    var c = this.wtSettings.getSetting("totalRows"), d = this.wtSettings.getSetting("fixedRowsTop"), e = this.wtSettings.getSetting("fixedRowsBottom"), f = this.wtSettings.getSetting("fixedColumnsLeft");
                    if (a.row < d && a.col < f) return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(a);
                    if (a.row < d) return this.wtOverlays.topOverlay.clone.wtTable.getCell(a);
                    if (a.col < f && a.row >= c - e) {
                        if (this.wtOverlays.bottomLeftCornerOverlay.clone) return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(a);
                    } else {
                        if (a.col < f) return this.wtOverlays.leftOverlay.clone.wtTable.getCell(a);
                        if (a.row >= c - e && this.wtOverlays.bottomOverlay.clone) return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(a);
                    }
                    return this.wtTable.getCell(a);
                },
                update: function(a, b) {
                    return this.wtSettings.update(a, b);
                },
                scrollVertical: function(a) {
                    return this.wtOverlays.topOverlay.scrollTo(a), this.getSetting("onScrollVertically"), 
                    this;
                },
                scrollHorizontal: function(a) {
                    return this.wtOverlays.leftOverlay.scrollTo(a), this.getSetting("onScrollHorizontally"), 
                    this;
                },
                scrollViewport: function(a) {
                    return this.wtScroll.scrollViewport(a), this;
                },
                getViewport: function() {
                    return [ this.wtTable.getFirstVisibleRow(), this.wtTable.getFirstVisibleColumn(), this.wtTable.getLastVisibleRow(), this.wtTable.getLastVisibleColumn() ];
                },
                getOverlayName: function() {
                    return this.cloneOverlay ? this.cloneOverlay.type : "master";
                },
                exportSettingsAsClassNames: function() {
                    var a = this, b = {
                        rowHeaders: [ "array" ],
                        columnHeaders: [ "array" ]
                    }, c = [], d = [];
                    w(b, function(b, e) {
                        b.indexOf("array") > -1 && a.getSetting(e).length && d.push("ht" + y(e)), c.push("ht" + y(e));
                    }), v(this.wtTable.wtRootElement.parentNode, c), s(this.wtTable.wtRootElement.parentNode, d);
                },
                getSetting: function(a, b, c, d, e) {
                    return this.wtSettings.getSetting(a, b, c, d, e);
                },
                hasSetting: function(a) {
                    return this.wtSettings.has(a);
                },
                destroy: function() {
                    this.wtOverlays.destroy(), this.wtEvent.destroy();
                }
            }, {}), window.Walkontable = G;
        }, {
            event: 8,
            "helpers/dom/element": 44,
            "helpers/object": 49,
            "helpers/string": 51,
            "overlay/_base.js": 11,
            "overlay/debug.js": 12,
            "overlay/left.js": 13,
            "overlay/top.js": 14,
            "overlay/topLeftCorner.js": 15,
            overlays: 16,
            scroll: 17,
            settings: 19,
            table: 20,
            viewport: 22
        } ],
        8: [ function(a, b, c) {
            "use strict";
            function d(a) {
                var b = this, c = k(a);
                this.instance = a;
                var d = [ null, null ];
                this.dblClickTimeout = [ null, null ];
                var e, f, g = function(a) {
                    var c = b.parentCell(a.realTarget);
                    i(a.realTarget, "corner") ? b.instance.getSetting("onCellCornerMouseDown", a, a.realTarget) : c.TD && b.instance.hasSetting("onCellMouseDown") && b.instance.getSetting("onCellMouseDown", a, c.coords, c.TD, b.instance), 
                    2 !== a.button && c.TD && (d[0] = c.TD, clearTimeout(b.dblClickTimeout[0]), b.dblClickTimeout[0] = setTimeout(function() {
                        d[0] = null;
                    }, 1e3));
                }, l = function(a) {
                    b.instance.touchMoving = !0;
                }, m = function(a) {
                    c.addEventListener(this, "touchmove", l), b.checkIfTouchMove = setTimeout(function() {
                        return b.instance.touchMoving === !0 ? (b.instance.touchMoving = void 0, void c.removeEventListener("touchmove", l, !1)) : void g(a);
                    }, 30);
                }, n = function(a) {
                    var c, d;
                    b.instance.hasSetting("onCellMouseOver") && (c = b.instance.wtTable.TABLE, d = h(a.realTarget, [ "TD", "TH" ], c), 
                    d && d !== f && j(d, c) && (f = d, b.instance.getSetting("onCellMouseOver", a, b.instance.wtTable.getCoords(d), d, b.instance)));
                }, o = function(a) {
                    if (2 !== a.button) {
                        var c = b.parentCell(a.realTarget);
                        c.TD === d[0] && c.TD === d[1] ? (i(a.realTarget, "corner") ? b.instance.getSetting("onCellCornerDblClick", a, c.coords, c.TD, b.instance) : b.instance.getSetting("onCellDblClick", a, c.coords, c.TD, b.instance), 
                        d[0] = null, d[1] = null) : c.TD === d[0] && (d[1] = c.TD, clearTimeout(b.dblClickTimeout[1]), 
                        b.dblClickTimeout[1] = setTimeout(function() {
                            d[1] = null;
                        }, 500));
                    }
                }, p = function(a) {
                    clearTimeout(e), a.preventDefault(), o(a);
                };
                if (c.addEventListener(this.instance.wtTable.holder, "mousedown", g), c.addEventListener(this.instance.wtTable.TABLE, "mouseover", n), 
                c.addEventListener(this.instance.wtTable.holder, "mouseup", o), this.instance.wtTable.holder.parentNode.parentNode && Handsontable.mobileBrowser && !b.instance.wtTable.isWorkingOnClone()) {
                    var q = "." + this.instance.wtTable.holder.parentNode.className.split(" ").join(".");
                    c.addEventListener(this.instance.wtTable.holder, "touchstart", function(a) {
                        b.instance.touchApplied = !0, j(a.target, q) && m.call(a.target, a);
                    }), c.addEventListener(this.instance.wtTable.holder, "touchend", function(a) {
                        b.instance.touchApplied = !1, j(a.target, q) && p.call(a.target, a);
                    }), b.instance.momentumScrolling || (b.instance.momentumScrolling = {}), c.addEventListener(this.instance.wtTable.holder, "scroll", function(a) {
                        clearTimeout(b.instance.momentumScrolling._timeout), b.instance.momentumScrolling.ongoing || b.instance.getSetting("onBeforeTouchScroll"), 
                        b.instance.momentumScrolling.ongoing = !0, b.instance.momentumScrolling._timeout = setTimeout(function() {
                            b.instance.touchApplied || (b.instance.momentumScrolling.ongoing = !1, b.instance.getSetting("onAfterMomentumScroll"));
                        }, 200);
                    });
                }
                c.addEventListener(window, "resize", function() {
                    "none" !== b.instance.getSetting("stretchH") && b.instance.draw();
                }), this.destroy = function() {
                    clearTimeout(this.dblClickTimeout[0]), clearTimeout(this.dblClickTimeout[1]), c.destroy();
                };
            }
            Object.defineProperties(c, {
                WalkontableEvent: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), h = g.closest, i = g.hasClass, j = g.isChildOf, k = (f = a("eventManager"), 
            f && f.__esModule && f || {
                "default": f
            }).eventManager;
            d.prototype.parentCell = function(a) {
                var b = {}, c = this.instance.wtTable.TABLE, d = h(a, [ "TD", "TH" ], c);
                return d && j(d, c) ? (b.coords = this.instance.wtTable.getCoords(d), b.TD = d) : i(a, "wtBorder") && i(a, "current") ? (b.coords = this.instance.selections.current.cellRange.highlight, 
                b.TD = this.instance.wtTable.getCell(b.coords)) : i(a, "wtBorder") && i(a, "area") && this.instance.selections.area.cellRange && (b.coords = this.instance.selections.area.cellRange.to, 
                b.TD = this.instance.wtTable.getCell(b.coords)), b;
            }, window.WalkontableEvent = d;
        }, {
            eventManager: 40,
            "helpers/dom/element": 44
        } ],
        9: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableColumnFilter: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d = function(a, b, c) {
                this.offset = a, this.total = b, this.countTH = c;
            };
            $traceurRuntime.createClass(d, {
                offsetted: function(a) {
                    return a + this.offset;
                },
                unOffsetted: function(a) {
                    return a - this.offset;
                },
                renderedToSource: function(a) {
                    return this.offsetted(a);
                },
                sourceToRendered: function(a) {
                    return this.unOffsetted(a);
                },
                offsettedTH: function(a) {
                    return a - this.countTH;
                },
                unOffsettedTH: function(a) {
                    return a + this.countTH;
                },
                visibleRowHeadedColumnToSourceColumn: function(a) {
                    return this.renderedToSource(this.offsettedTH(a));
                },
                sourceColumnToVisibleRowHeadedColumn: function(a) {
                    return this.unOffsettedTH(this.sourceToRendered(a));
                }
            }, {}), window.WalkontableColumnFilter = d;
        }, {} ],
        10: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableRowFilter: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d = function(a, b, c) {
                this.offset = a, this.total = b, this.countTH = c;
            };
            $traceurRuntime.createClass(d, {
                offsetted: function(a) {
                    return a + this.offset;
                },
                unOffsetted: function(a) {
                    return a - this.offset;
                },
                renderedToSource: function(a) {
                    return this.offsetted(a);
                },
                sourceToRendered: function(a) {
                    return this.unOffsetted(a);
                },
                offsettedTH: function(a) {
                    return a - this.countTH;
                },
                unOffsettedTH: function(a) {
                    return a + this.countTH;
                },
                visibleColHeadedRowToSourceRow: function(a) {
                    return this.renderedToSource(this.offsettedTH(a));
                },
                sourceRowToVisibleColHeadedRow: function(a) {
                    return this.unOffsettedTH(this.sourceToRendered(a));
                }
            }, {}), window.WalkontableRowFilter = d;
        }, {} ],
        11: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableOverlay: {
                    get: function() {
                        return m;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), h = g.getScrollableElement, i = g.getTrimmingContainer, j = (e = a("helpers/object"), 
            e && e.__esModule && e || {
                "default": e
            }).defineGetter, k = (f = a("eventManager"), f && f.__esModule && f || {
                "default": f
            }).eventManager, l = {}, m = function(a) {
                j(this, "wot", a, {
                    writable: !1
                }), this.instance = this.wot, this.type = "", this.TABLE = this.wot.wtTable.TABLE, 
                this.hider = this.wot.wtTable.hider, this.spreader = this.wot.wtTable.spreader, 
                this.holder = this.wot.wtTable.holder, this.wtRootElement = this.wot.wtTable.wtRootElement, 
                this.trimmingContainer = i(this.hider.parentNode.parentNode), this.mainTableScrollableElement = h(this.wot.wtTable.TABLE), 
                this.needFullRender = this.shouldBeRendered(), this.areElementSizesAdjusted = !1;
            }, n = m;
            $traceurRuntime.createClass(m, {
                shouldBeRendered: function() {
                    return !0;
                },
                makeClone: function(a) {
                    if (-1 === n.CLONE_TYPES.indexOf(a)) throw new Error('Clone type "' + a + '" is not supported.');
                    var b = document.createElement("DIV"), c = document.createElement("TABLE");
                    return b.className = "ht_clone_" + a + " handsontable", b.style.position = "absolute", 
                    b.style.top = 0, b.style.left = 0, b.style.overflow = "hidden", c.className = this.wot.wtTable.TABLE.className, 
                    b.appendChild(c), this.type = a, this.wot.wtTable.wtRootElement.parentNode.appendChild(b), 
                    new Walkontable({
                        cloneSource: this.wot,
                        cloneOverlay: this,
                        table: c
                    });
                },
                refresh: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1, b = this.shouldBeRendered();
                    this.clone && (this.needFullRender || b) && this.clone.draw(a), this.needFullRender = b;
                },
                destroy: function() {
                    k(this.clone).destroy();
                }
            }, {
                get CLONE_TOP() {
                    return "top";
                },
                get CLONE_BOTTOM() {
                    return "bottom";
                },
                get CLONE_LEFT() {
                    return "left";
                },
                get CLONE_TOP_LEFT_CORNER() {
                    return "top_left_corner";
                },
                get CLONE_BOTTOM_LEFT_CORNER() {
                    return "bottom_left_corner";
                },
                get CLONE_DEBUG() {
                    return "debug";
                },
                get CLONE_TYPES() {
                    return [ n.CLONE_TOP, n.CLONE_BOTTOM, n.CLONE_LEFT, n.CLONE_TOP_LEFT_CORNER, n.CLONE_BOTTOM_LEFT_CORNER, n.CLONE_DEBUG ];
                },
                registerOverlay: function(a, b) {
                    if (-1 === n.CLONE_TYPES.indexOf(a)) throw new Error("Unsupported overlay (" + a + ").");
                    l[a] = b;
                },
                createOverlay: function(a, b) {
                    return new l[a](b);
                },
                isOverlayTypeOf: function(a, b) {
                    return a && l[b] ? a instanceof l[b] : !1;
                }
            }), window.WalkontableOverlay = m;
        }, {
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/object": 49
        } ],
        12: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableDebugOverlay: {
                    get: function() {
                        return h;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }).addClass, g = (e = a("_base"), e && e.__esModule && e || {
                "default": e
            }).WalkontableOverlay, h = function(a) {
                $traceurRuntime.superConstructor(i).call(this, a), this.clone = this.makeClone(g.CLONE_DEBUG), 
                this.clone.wtTable.holder.style.opacity = .4, this.clone.wtTable.holder.style.textShadow = "0 0 2px #ff0000", 
                f(this.clone.wtTable.holder.parentNode, "wtDebugVisible");
            }, i = h;
            $traceurRuntime.createClass(h, {}, {}, g), window.WalkontableDebugOverlay = h, g.registerOverlay(g.CLONE_DEBUG, h);
        }, {
            _base: 11,
            "helpers/dom/element": 44
        } ],
        13: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableLeftOverlay: {
                    get: function() {
                        return p;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), g = f.addClass, h = f.getScrollbarWidth, i = f.getScrollLeft, j = f.getWindowScrollTop, k = f.hasClass, l = f.outerWidth, m = f.removeClass, n = f.setOverlayPosition, o = (e = a("_base"), 
            e && e.__esModule && e || {
                "default": e
            }).WalkontableOverlay, p = function(a) {
                $traceurRuntime.superConstructor(q).call(this, a), this.clone = this.makeClone(o.CLONE_LEFT);
            }, q = p;
            $traceurRuntime.createClass(p, {
                shouldBeRendered: function() {
                    return this.wot.getSetting("fixedColumnsLeft") || this.wot.getSetting("rowHeaders").length ? !0 : !1;
                },
                resetFixedPosition: function() {
                    if (this.needFullRender && this.wot.wtTable.holder.parentNode) {
                        var a = this.clone.wtTable.holder.parentNode, b = 0;
                        if (this.trimmingContainer === window) {
                            var c, d, e = this.wot.wtTable.hider.getBoundingClientRect(), f = Math.ceil(e.left), g = Math.ceil(e.right);
                            d = this.wot.wtTable.hider.style.top, d = "" === d ? 0 : d, c = 0 > f && g - a.offsetWidth > 0 ? -f : 0, 
                            b = c, c += "px", n(a, c, d);
                        } else b = this.getScrollPosition();
                        this.adjustHeaderBordersPosition(b), this.adjustElementsSize();
                    }
                },
                setScrollPosition: function(a) {
                    this.mainTableScrollableElement === window ? window.scrollTo(a, j()) : this.mainTableScrollableElement.scrollLeft = a;
                },
                onScroll: function() {
                    this.wot.getSetting("onScrollHorizontally");
                },
                sumCellSizes: function(a, b) {
                    for (var c = 0, d = this.wot.wtSettings.defaultColumnWidth; b > a; ) c += this.wot.wtTable.getStretchedColumnWidth(a) || d, 
                    a++;
                    return c;
                },
                adjustElementsSize: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1;
                    (this.needFullRender || a) && (this.adjustRootElementSize(), this.adjustRootChildrenSize(), 
                    a || (this.areElementSizesAdjusted = !0));
                },
                adjustRootElementSize: function() {
                    var a, b = this.wot.wtTable.holder, c = b.clientHeight === b.offsetHeight ? 0 : h(), d = this.clone.wtTable.holder.parentNode, e = d.style;
                    this.trimmingContainer !== window && (e.height = this.wot.wtViewport.getWorkspaceHeight() - c + "px"), 
                    this.clone.wtTable.holder.style.height = e.height, a = l(this.clone.wtTable.TABLE), 
                    e.width = (0 === a ? a : a + 4) + "px";
                },
                adjustRootChildrenSize: function() {
                    var a = h();
                    this.clone.wtTable.hider.style.height = this.hider.style.height, this.clone.wtTable.holder.style.height = this.clone.wtTable.holder.parentNode.style.height, 
                    0 === a && (a = 30), this.clone.wtTable.holder.style.width = parseInt(this.clone.wtTable.holder.parentNode.style.width, 10) + a + "px";
                },
                applyToDOM: function() {
                    var a = this.wot.getSetting("totalColumns");
                    if (this.areElementSizesAdjusted || this.adjustElementsSize(), "number" == typeof this.wot.wtViewport.columnsRenderCalculator.startPosition) this.spreader.style.left = this.wot.wtViewport.columnsRenderCalculator.startPosition + "px"; else {
                        if (0 !== a) throw new Error("Incorrect value of the columnsRenderCalculator");
                        this.spreader.style.left = "0";
                    }
                    this.spreader.style.right = "", this.needFullRender && this.syncOverlayOffset();
                },
                syncOverlayOffset: function() {
                    "number" == typeof this.wot.wtViewport.rowsRenderCalculator.startPosition ? this.clone.wtTable.spreader.style.top = this.wot.wtViewport.rowsRenderCalculator.startPosition + "px" : this.clone.wtTable.spreader.style.top = "";
                },
                scrollTo: function(a, b) {
                    var c = this.getTableParentOffset(), d = this.wot.cloneSource ? this.wot.cloneSource : this.wot, e = d.wtTable.holder, f = 0;
                    b && e.offsetWidth !== e.clientWidth && (f = h()), b ? (c += this.sumCellSizes(0, a + 1), 
                    c -= this.wot.wtViewport.getViewportWidth()) : c += this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"), a), 
                    c += f, this.setScrollPosition(c);
                },
                getTableParentOffset: function() {
                    return this.trimmingContainer === window ? this.wot.wtTable.holderOffset.left : 0;
                },
                getScrollPosition: function() {
                    return i(this.mainTableScrollableElement);
                },
                adjustHeaderBordersPosition: function(a) {
                    var b = this.wot.wtTable.holder.parentNode, c = this.wot.getSetting("rowHeaders"), d = this.wot.getSetting("fixedColumnsLeft");
                    if (d && !c.length) g(b, "innerBorderLeft"); else if (!d && c.length) {
                        var e = k(b, "innerBorderLeft");
                        a ? g(b, "innerBorderLeft") : m(b, "innerBorderLeft"), (!e && a || e && !a) && this.wot.wtOverlays.adjustElementsSize();
                    }
                }
            }, {}, o), window.WalkontableLeftOverlay = p, o.registerOverlay(o.CLONE_LEFT, p);
        }, {
            _base: 11,
            "helpers/dom/element": 44
        } ],
        14: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableTopOverlay: {
                    get: function() {
                        return p;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), g = f.addClass, h = f.getScrollbarWidth, i = f.getScrollTop, j = f.getWindowScrollLeft, k = f.hasClass, l = f.outerHeight, m = f.removeClass, n = f.setOverlayPosition, o = (e = a("_base"), 
            e && e.__esModule && e || {
                "default": e
            }).WalkontableOverlay, p = function(a) {
                $traceurRuntime.superConstructor(q).call(this, a), this.clone = this.makeClone(o.CLONE_TOP);
            }, q = p;
            $traceurRuntime.createClass(p, {
                shouldBeRendered: function() {
                    return this.wot.getSetting("fixedRowsTop") || this.wot.getSetting("columnHeaders").length ? !0 : !1;
                },
                resetFixedPosition: function() {
                    if (this.needFullRender && this.wot.wtTable.holder.parentNode) {
                        var a = this.clone.wtTable.holder.parentNode, b = 0;
                        if (this.wot.wtOverlays.leftOverlay.trimmingContainer === window) {
                            var c, d, e = this.wot.wtTable.hider.getBoundingClientRect(), f = Math.ceil(e.top), g = Math.ceil(e.bottom);
                            c = this.wot.wtTable.hider.style.left, c = "" === c ? 0 : c, d = 0 > f && g - a.offsetHeight > 0 ? -f : 0, 
                            b = d, d += "px", n(a, c, d);
                        } else b = this.getScrollPosition();
                        this.adjustHeaderBordersPosition(b), this.adjustElementsSize();
                    }
                },
                setScrollPosition: function(a) {
                    this.mainTableScrollableElement === window ? window.scrollTo(j(), a) : this.mainTableScrollableElement.scrollTop = a;
                },
                onScroll: function() {
                    this.wot.getSetting("onScrollVertically");
                },
                sumCellSizes: function(a, b) {
                    for (var c = 0, d = this.wot.wtSettings.settings.defaultRowHeight; b > a; ) c += this.wot.wtTable.getRowHeight(a) || d, 
                    a++;
                    return c;
                },
                adjustElementsSize: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1;
                    (this.needFullRender || a) && (this.adjustRootElementSize(), this.adjustRootChildrenSize(), 
                    a || (this.areElementSizesAdjusted = !0));
                },
                adjustRootElementSize: function() {
                    var a, b = this.wot.wtTable.holder, c = b.clientWidth === b.offsetWidth ? 0 : h(), d = this.clone.wtTable.holder.parentNode, e = d.style;
                    this.trimmingContainer !== window && (e.width = this.wot.wtViewport.getWorkspaceWidth() - c + "px"), 
                    this.clone.wtTable.holder.style.width = e.width, a = l(this.clone.wtTable.TABLE), 
                    e.height = (0 === a ? a : a + 4) + "px";
                },
                adjustRootChildrenSize: function() {
                    var a = h();
                    this.clone.wtTable.hider.style.width = this.hider.style.width, this.clone.wtTable.holder.style.width = this.clone.wtTable.holder.parentNode.style.width, 
                    0 === a && (a = 30), this.clone.wtTable.holder.style.height = parseInt(this.clone.wtTable.holder.parentNode.style.height, 10) + a + "px";
                },
                applyToDOM: function() {
                    var a = this.wot.getSetting("totalRows");
                    if (this.areElementSizesAdjusted || this.adjustElementsSize(), "number" == typeof this.wot.wtViewport.rowsRenderCalculator.startPosition) this.spreader.style.top = this.wot.wtViewport.rowsRenderCalculator.startPosition + "px"; else {
                        if (0 !== a) throw new Error("Incorrect value of the rowsRenderCalculator");
                        this.spreader.style.top = "0";
                    }
                    this.spreader.style.bottom = "", this.needFullRender && this.syncOverlayOffset();
                },
                syncOverlayOffset: function() {
                    "number" == typeof this.wot.wtViewport.columnsRenderCalculator.startPosition ? this.clone.wtTable.spreader.style.left = this.wot.wtViewport.columnsRenderCalculator.startPosition + "px" : this.clone.wtTable.spreader.style.left = "";
                },
                scrollTo: function(a, b) {
                    var c = this.getTableParentOffset(), d = this.wot.cloneSource ? this.wot.cloneSource : this.wot, e = d.wtTable.holder, f = 0;
                    if (b && e.offsetHeight !== e.clientHeight && (f = h()), b) {
                        var g = this.wot.getSetting("fixedRowsBottom"), i = (this.wot.getSetting("fixedRowsTop"), 
                        this.wot.getSetting("totalRows"));
                        c += this.sumCellSizes(0, a + 1), c -= this.wot.wtViewport.getViewportHeight() - this.sumCellSizes(i - g, i), 
                        c += 1;
                    } else c += this.sumCellSizes(this.wot.getSetting("fixedRowsTop"), a);
                    c += f, this.setScrollPosition(c);
                },
                getTableParentOffset: function() {
                    return this.mainTableScrollableElement === window ? this.wot.wtTable.holderOffset.top : 0;
                },
                getScrollPosition: function() {
                    return i(this.mainTableScrollableElement);
                },
                adjustHeaderBordersPosition: function(a) {
                    if (0 === this.wot.getSetting("fixedRowsTop") && this.wot.getSetting("columnHeaders").length > 0) {
                        var b = this.wot.wtTable.holder.parentNode, c = k(b, "innerBorderTop");
                        a ? g(b, "innerBorderTop") : m(b, "innerBorderTop"), (!c && a || c && !a) && this.wot.wtOverlays.adjustElementsSize();
                    }
                    if (0 === this.wot.getSetting("rowHeaders").length) {
                        var d = this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");
                        if (d) for (var e = 0; e < d.length; e++) d[e].style["border-left-width"] = 0;
                    }
                }
            }, {}, o), window.WalkontableTopOverlay = p, o.registerOverlay(o.CLONE_TOP, p);
        }, {
            _base: 11,
            "helpers/dom/element": 44
        } ],
        15: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableTopLeftCornerOverlay: {
                    get: function() {
                        return k;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), g = f.outerHeight, h = f.outerWidth, i = f.setOverlayPosition, j = (e = a("_base"), 
            e && e.__esModule && e || {
                "default": e
            }).WalkontableOverlay, k = function(a) {
                $traceurRuntime.superConstructor(l).call(this, a), this.clone = this.makeClone(j.CLONE_TOP_LEFT_CORNER);
            }, l = k;
            $traceurRuntime.createClass(k, {
                shouldBeRendered: function() {
                    return (this.wot.getSetting("fixedRowsTop") || this.wot.getSetting("columnHeaders").length) && (this.wot.getSetting("fixedColumnsLeft") || this.wot.getSetting("rowHeaders").length) ? !0 : !1;
                },
                resetFixedPosition: function() {
                    if (this.wot.wtTable.holder.parentNode) {
                        var a = this.clone.wtTable.holder.parentNode, b = g(this.clone.wtTable.TABLE), c = h(this.clone.wtTable.TABLE);
                        if (this.trimmingContainer === window) {
                            var d, e, f = this.wot.wtTable.hider.getBoundingClientRect(), j = Math.ceil(f.top), k = Math.ceil(f.left), l = Math.ceil(f.bottom), m = Math.ceil(f.right);
                            d = 0 > k && m - a.offsetWidth > 0 ? -k + "px" : "0", e = 0 > j && l - a.offsetHeight > 0 ? -j + "px" : "0", 
                            i(a, d, e);
                        }
                        a.style.height = (0 === b ? b : b + 4) + "px", a.style.width = (0 === c ? c : c + 4) + "px";
                    }
                }
            }, {}, j), window.WalkontableTopLeftCornerOverlay = k, j.registerOverlay(j.CLONE_TOP_LEFT_CORNER, k);
        }, {
            _base: 11,
            "helpers/dom/element": 44
        } ],
        16: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableOverlays: {
                    get: function() {
                        return n;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), h = g.getScrollableElement, i = g.getScrollbarWidth, j = g.getScrollLeft, k = g.getScrollTop, l = (e = a("helpers/unicode"), 
            e && e.__esModule && e || {
                "default": e
            }).isKey, m = (f = a("eventManager"), f && f.__esModule && f || {
                "default": f
            }).EventManager, n = function(a) {
                this.wot = a, this.instance = this.wot, this.eventManager = new m(this.wot), this.wot.update("scrollbarWidth", i()), 
                this.wot.update("scrollbarHeight", i()), this.mainTableScrollableElement = h(this.wot.wtTable.TABLE), 
                this.topOverlay = WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP, this.wot), 
                "undefined" == typeof WalkontableBottomOverlay ? this.bottomOverlay = {
                    needFullRender: !1
                } : this.bottomOverlay = WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM, this.wot), 
                this.leftOverlay = WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_LEFT, this.wot), 
                this.topOverlay.needFullRender && this.leftOverlay.needFullRender && (this.topLeftCornerOverlay = WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_TOP_LEFT_CORNER, this.wot)), 
                this.bottomOverlay.needFullRender && this.leftOverlay.needFullRender && "undefined" != typeof WalkontableBottomLeftCornerOverlay ? this.bottomLeftCornerOverlay = WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER, this.wot) : this.bottomLeftCornerOverlay = {
                    needFullRender: !1
                }, this.wot.getSetting("debug") && (this.debug = WalkontableOverlay.createOverlay(WalkontableOverlay.CLONE_DEBUG, this.wot)), 
                this.destroyed = !1, this.keyPressed = !1, this.spreaderLastSize = {
                    width: null,
                    height: null
                }, this.overlayScrollPositions = {
                    master: {
                        top: 0,
                        left: 0
                    },
                    top: {
                        top: null,
                        left: 0
                    },
                    bottom: {
                        top: null,
                        left: 0
                    },
                    left: {
                        top: 0,
                        left: null
                    }
                }, this.registerListeners();
            };
            $traceurRuntime.createClass(n, {
                refreshAll: function() {
                    if (this.wot.drawn) {
                        if (!this.wot.wtTable.holder.parentNode) return void this.destroy();
                        this.wot.draw(!0), this.topOverlay.onScroll(), this.leftOverlay.onScroll();
                    }
                },
                registerListeners: function() {
                    var a = this;
                    this.eventManager.addEventListener(document.documentElement, "keydown", function(b) {
                        return a.onKeyDown(b);
                    }), this.eventManager.addEventListener(document.documentElement, "keyup", function() {
                        return a.onKeyUp();
                    }), this.eventManager.addEventListener(document, "visibilitychange", function() {
                        return a.onKeyUp();
                    }), this.eventManager.addEventListener(this.mainTableScrollableElement, "scroll", function(b) {
                        return a.onTableScroll(b);
                    }), this.topOverlay.needFullRender && (this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder, "scroll", function(b) {
                        return a.onTableScroll(b);
                    }), this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder, "wheel", function(b) {
                        return a.onTableScroll(b);
                    })), this.bottomOverlay.needFullRender && (this.eventManager.addEventListener(this.bottomOverlay.clone.wtTable.holder, "scroll", function(b) {
                        return a.onTableScroll(b);
                    }), this.eventManager.addEventListener(this.bottomOverlay.clone.wtTable.holder, "wheel", function(b) {
                        return a.onTableScroll(b);
                    })), this.leftOverlay.needFullRender && (this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder, "scroll", function(b) {
                        return a.onTableScroll(b);
                    }), this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder, "wheel", function(b) {
                        return a.onTableScroll(b);
                    })), this.topOverlay.trimmingContainer !== window && this.leftOverlay.trimmingContainer !== window && this.eventManager.addEventListener(window, "wheel", function(b) {
                        var c, d = b.wheelDeltaY || b.deltaY, e = b.wheelDeltaX || b.deltaX;
                        a.topOverlay.clone.wtTable.holder.contains(b.realTarget) ? c = "top" : a.bottomOverlay.clone && a.bottomOverlay.clone.wtTable.holder.contains(b.realTarget) ? c = "bottom" : a.leftOverlay.clone.wtTable.holder.contains(b.realTarget) && (c = "left"), 
                        "top" == c && 0 !== d ? b.preventDefault() : "left" == c && 0 !== e ? b.preventDefault() : "bottom" == c && 0 !== d && b.preventDefault();
                    });
                },
                onTableScroll: function(a) {
                    Handsontable.mobileBrowser || (!this.keyPressed || this.mainTableScrollableElement === window || a.target.contains(this.mainTableScrollableElement)) && ("scroll" === a.type ? this.syncScrollPositions(a) : this.translateMouseWheelToScroll(a));
                },
                onKeyDown: function(a) {
                    this.keyPressed = l(a.keyCode, "ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT");
                },
                onKeyUp: function() {
                    this.keyPressed = !1;
                },
                translateMouseWheelToScroll: function(a) {
                    for (var b, c = this.topOverlay.clone.wtTable.holder, d = this.bottomOverlay.clone ? this.bottomOverlay.clone.wtTable.holder : null, e = this.leftOverlay.clone.wtTable.holder, f = {
                        type: "wheel"
                    }, g = a.target, h = a.wheelDeltaY || -1 * a.deltaY, i = a.wheelDeltaX || -1 * a.deltaX; g != document && null != g; ) {
                        if (g.className.indexOf("wtHolder") > -1) {
                            b = g;
                            break;
                        }
                        g = g.parentNode;
                    }
                    return f.target = b, b == c ? this.syncScrollPositions(f, -.2 * h) : b == d ? this.syncScrollPositions(f, -.2 * h) : b == e && this.syncScrollPositions(f, -.2 * i), 
                    !1;
                },
                syncScrollPositions: function(a) {
                    var b = void 0 !== arguments[1] ? arguments[1] : null;
                    if (!this.destroyed) {
                        if (0 === arguments.length) return void this.syncScrollWithMaster();
                        var c, d, e, f = this.mainTableScrollableElement, g = a.target, h = 0, i = !1;
                        this.topOverlay.needFullRender && (c = this.topOverlay.clone.wtTable.holder), this.bottomOverlay.needFullRender && (e = this.bottomOverlay.clone.wtTable.holder), 
                        this.leftOverlay.needFullRender && (d = this.leftOverlay.clone.wtTable.holder), 
                        g === document && (g = window), g === f ? (h = j(g), this.overlayScrollPositions.master.left !== h && (this.overlayScrollPositions.master.left = h, 
                        i = !0, c && (c.scrollLeft = h), e && (e.scrollLeft = h)), h = k(g), this.overlayScrollPositions.master.top !== h && (this.overlayScrollPositions.master.top = h, 
                        i = !0, d && (d.scrollTop = h))) : g === e ? (h = j(g), this.overlayScrollPositions.bottom.left !== h && (this.overlayScrollPositions.bottom.left = h, 
                        i = !0, f.scrollLeft = h), null !== b && (i = !0, f.scrollTop += b)) : g === c ? (h = j(g), 
                        this.overlayScrollPositions.top.left !== h && (this.overlayScrollPositions.top.left = h, 
                        i = !0, f.scrollLeft = h), null !== b && (i = !0, f.scrollTop += b)) : g === d && (h = k(g), 
                        this.overlayScrollPositions.left.top !== h && (this.overlayScrollPositions.left.top = h, 
                        i = !0, f.scrollTop = h), null !== b && (i = !0, f.scrollLeft += b)), !this.keyPressed && i && "scroll" === a.type && this.refreshAll();
                    }
                },
                syncScrollWithMaster: function() {
                    var a = this.topOverlay.mainTableScrollableElement;
                    this.topOverlay.needFullRender && (this.topOverlay.clone.wtTable.holder.scrollLeft = a.scrollLeft), 
                    this.leftOverlay.needFullRender && (this.leftOverlay.clone.wtTable.holder.scrollTop = a.scrollTop);
                },
                destroy: function() {
                    this.eventManager.destroy(), this.topOverlay.destroy(), this.bottomOverlay.clone && this.bottomOverlay.destroy(), 
                    this.leftOverlay.destroy(), this.topLeftCornerOverlay && this.topLeftCornerOverlay.destroy(), 
                    this.bottomLeftCornerOverlay && this.bottomLeftCornerOverlay.clone && this.bottomLeftCornerOverlay.destroy(), 
                    this.debug && this.debug.destroy(), this.destroyed = !0;
                },
                refresh: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1;
                    if (this.topOverlay.areElementSizesAdjusted && this.leftOverlay.areElementSizesAdjusted) {
                        var b = this.wot.wtTable.wtRootElement.parentNode || this.wot.wtTable.wtRootElement, c = b.clientWidth, d = b.clientHeight;
                        (c !== this.spreaderLastSize.width || d !== this.spreaderLastSize.height) && (this.spreaderLastSize.width = c, 
                        this.spreaderLastSize.height = d, this.adjustElementsSize());
                    }
                    this.bottomOverlay.clone && this.bottomOverlay.refresh(a), this.leftOverlay.refresh(a), 
                    this.topOverlay.refresh(a), this.topLeftCornerOverlay && this.topLeftCornerOverlay.refresh(a), 
                    this.bottomLeftCornerOverlay && this.bottomLeftCornerOverlay.clone && this.bottomLeftCornerOverlay.refresh(a), 
                    this.debug && this.debug.refresh(a);
                },
                adjustElementsSize: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1, b = this.wot.getSetting("totalColumns"), c = this.wot.getSetting("totalRows"), d = this.wot.wtViewport.getRowHeaderWidth(), e = this.wot.wtViewport.getColumnHeaderHeight(), f = this.wot.wtTable.hider.style;
                    f.width = d + this.leftOverlay.sumCellSizes(0, b) + "px", f.height = e + this.topOverlay.sumCellSizes(0, c) + 1 + "px", 
                    this.topOverlay.adjustElementsSize(a), this.leftOverlay.adjustElementsSize(a), this.bottomOverlay.clone && this.bottomOverlay.adjustElementsSize(a);
                },
                applyToDOM: function() {
                    this.topOverlay.areElementSizesAdjusted && this.leftOverlay.areElementSizesAdjusted || this.adjustElementsSize(), 
                    this.topOverlay.applyToDOM(), this.bottomOverlay.clone && this.bottomOverlay.applyToDOM(), 
                    this.leftOverlay.applyToDOM();
                }
            }, {}), window.WalkontableOverlays = n;
        }, {
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/unicode": 52
        } ],
        17: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableScroll: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d = function(a) {
                this.wot = a, this.instance = a;
            };
            $traceurRuntime.createClass(d, {
                scrollViewport: function(a) {
                    if (this.wot.drawn) {
                        var b = this.wot.getSetting("totalRows"), c = this.wot.getSetting("totalColumns"), d = this.instance.getSetting("fixedRowsTop"), e = this.instance.getSetting("fixedRowsBottom"), f = this.instance.getSetting("fixedColumnsLeft");
                        if (a.row < 0 || a.row > b - 1) throw new Error("row " + a.row + " does not exist");
                        if (a.col < 0 || a.col > c - 1) throw new Error("column " + a.col + " does not exist");
                        a.row > this.instance.wtTable.getLastVisibleRow() && a.row < b - e ? this.wot.wtOverlays.topOverlay.scrollTo(a.row, !0) : a.row >= d && a.row < this.instance.wtTable.getFirstVisibleRow() && this.wot.wtOverlays.topOverlay.scrollTo(a.row), 
                        a.col > this.instance.wtTable.getLastVisibleColumn() ? this.wot.wtOverlays.leftOverlay.scrollTo(a.col, !0) : a.col >= f && a.col < this.instance.wtTable.getFirstVisibleColumn() && this.wot.wtOverlays.leftOverlay.scrollTo(a.col);
                    }
                }
            }, {}), window.WalkontableScroll = d;
        }, {} ],
        18: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableSelection: {
                    get: function() {
                        return l;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }).addClass, i = (e = a("border"), e && e.__esModule && e || {
                "default": e
            }).WalkontableBorder, j = (f = a("cell/coords"), f && f.__esModule && f || {
                "default": f
            }).WalkontableCellCoords, k = (g = a("cell/range"), g && g.__esModule && g || {
                "default": g
            }).WalkontableCellRange, l = function(a, b) {
                this.settings = a, this.cellRange = b || null, this.instanceBorders = {};
            };
            $traceurRuntime.createClass(l, {
                getBorder: function(a) {
                    return this.instanceBorders[a.guid] ? this.instanceBorders[a.guid] : void (this.instanceBorders[a.guid] = new i(a, this.settings));
                },
                isEmpty: function() {
                    return null === this.cellRange;
                },
                add: function(a) {
                    this.isEmpty() ? this.cellRange = new k(a, a, a) : this.cellRange.expand(a);
                },
                replace: function(a, b) {
                    if (!this.isEmpty()) {
                        if (this.cellRange.from.isEqual(a)) return this.cellRange.from = b, !0;
                        if (this.cellRange.to.isEqual(a)) return this.cellRange.to = b, !0;
                    }
                    return !1;
                },
                clear: function() {
                    this.cellRange = null;
                },
                getCorners: function() {
                    var a = this.cellRange.getTopLeftCorner(), b = this.cellRange.getBottomRightCorner();
                    return [ a.row, a.col, b.row, b.col ];
                },
                addClassAtCoords: function(a, b, c, d) {
                    var e = a.wtTable.getCell(new j(b, c));
                    "object" == typeof e && h(e, d);
                },
                draw: function(a) {
                    if (this.isEmpty()) {
                        if (this.settings.border) {
                            var b = this.getBorder(a);
                            b && b.disappear();
                        }
                    } else {
                        for (var c, d, e, f = a.wtTable.getRenderedRowsCount(), g = a.wtTable.getRenderedColumnsCount(), i = this.getCorners(), j = 0; g > j; j++) d = a.wtTable.columnFilter.renderedToSource(j), 
                        d >= i[1] && d <= i[3] && (e = a.wtTable.getColumnHeader(d), e && this.settings.highlightColumnClassName && h(e, this.settings.highlightColumnClassName));
                        for (var k = 0; f > k; k++) {
                            c = a.wtTable.rowFilter.renderedToSource(k), c >= i[0] && c <= i[2] && (e = a.wtTable.getRowHeader(c), 
                            e && this.settings.highlightRowClassName && h(e, this.settings.highlightRowClassName));
                            for (var l = 0; g > l; l++) d = a.wtTable.columnFilter.renderedToSource(l), c >= i[0] && c <= i[2] && d >= i[1] && d <= i[3] ? this.settings.className && this.addClassAtCoords(a, c, d, this.settings.className) : c >= i[0] && c <= i[2] ? this.settings.highlightRowClassName && this.addClassAtCoords(a, c, d, this.settings.highlightRowClassName) : d >= i[1] && d <= i[3] && this.settings.highlightColumnClassName && this.addClassAtCoords(a, c, d, this.settings.highlightColumnClassName);
                        }
                        if (a.getSetting("onBeforeDrawBorders", i, this.settings.className), this.settings.border) {
                            var m = this.getBorder(a);
                            m && m.appear(i);
                        }
                    }
                }
            }, {}), window.WalkontableSelection = l;
        }, {
            border: 2,
            "cell/coords": 5,
            "cell/range": 6,
            "helpers/dom/element": 44
        } ],
        19: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableSettings: {
                    get: function() {
                        return f;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }).fastInnerText, f = function(a, b) {
                var c = this;
                this.wot = a, this.instance = a, this.defaults = {
                    table: void 0,
                    debug: !1,
                    externalRowCalculator: !1,
                    stretchH: "none",
                    currentRowClassName: null,
                    currentColumnClassName: null,
                    data: void 0,
                    fixedColumnsLeft: 0,
                    fixedRowsTop: 0,
                    fixedRowsBottom: 0,
                    minSpareRows: 0,
                    rowHeaders: function() {
                        return [];
                    },
                    columnHeaders: function() {
                        return [];
                    },
                    totalRows: void 0,
                    totalColumns: void 0,
                    cellRenderer: function(a, b, d) {
                        var f = c.getSetting("data", a, b);
                        e(d, void 0 === f || null === f ? "" : f);
                    },
                    columnWidth: function(a) {},
                    rowHeight: function(a) {},
                    defaultRowHeight: 23,
                    defaultColumnWidth: 50,
                    selections: null,
                    hideBorderOnMouseDownOver: !1,
                    viewportRowCalculatorOverride: null,
                    viewportColumnCalculatorOverride: null,
                    onCellMouseDown: null,
                    onCellMouseOver: null,
                    onCellDblClick: null,
                    onCellCornerMouseDown: null,
                    onCellCornerDblClick: null,
                    beforeDraw: null,
                    onDraw: null,
                    onBeforeDrawBorders: null,
                    onScrollVertically: null,
                    onScrollHorizontally: null,
                    onBeforeTouchScroll: null,
                    onAfterMomentumScroll: null,
                    scrollbarWidth: 10,
                    scrollbarHeight: 10,
                    renderAllRows: !1,
                    groups: !1
                }, this.settings = {};
                for (var d in this.defaults) if (this.defaults.hasOwnProperty(d)) if (void 0 !== b[d]) this.settings[d] = b[d]; else {
                    if (void 0 === this.defaults[d]) throw new Error('A required setting "' + d + '" was not provided');
                    this.settings[d] = this.defaults[d];
                }
            };
            $traceurRuntime.createClass(f, {
                update: function(a, b) {
                    if (void 0 === b) for (var c in a) a.hasOwnProperty(c) && (this.settings[c] = a[c]); else this.settings[a] = b;
                    return this.wot;
                },
                getSetting: function(a, b, c, d, e) {
                    return "function" == typeof this.settings[a] ? this.settings[a](b, c, d, e) : void 0 !== b && Array.isArray(this.settings[a]) ? this.settings[a][b] : this.settings[a];
                },
                has: function(a) {
                    return !!this.settings[a];
                }
            }, {}), window.WalkontableSettings = f;
        }, {
            "helpers/dom/element": 44
        } ],
        20: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableTable: {
                    get: function() {
                        return v;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), k = j.getStyle, l = j.getTrimmingContainer, m = j.hasClass, n = j.index, o = j.offset, p = j.removeClass, q = j.removeTextNodes, r = (j.overlayContainsElement, 
            (e = a("cell/coords"), e && e.__esModule && e || {
                "default": e
            }).WalkontableCellCoords), s = ((f = a("cell/range"), f && f.__esModule && f || {
                "default": f
            }).WalkontableCellRange, (g = a("filter/column"), g && g.__esModule && g || {
                "default": g
            }).WalkontableColumnFilter), t = (h = a("filter/row"), h && h.__esModule && h || {
                "default": h
            }).WalkontableRowFilter, u = (i = a("tableRenderer"), i && i.__esModule && i || {
                "default": i
            }).WalkontableTableRenderer, v = function(a, b) {
                this.wot = a, this.instance = this.wot, this.TABLE = b, this.TBODY = null, this.THEAD = null, 
                this.COLGROUP = null, this.tableOffset = 0, this.holderOffset = 0, q(this.TABLE), 
                this.spreader = this.createSpreader(this.TABLE), this.hider = this.createHider(this.spreader), 
                this.holder = this.createHolder(this.hider), this.wtRootElement = this.holder.parentNode, 
                this.alignOverlaysWithTrimmingContainer(), this.fixTableDomTree(), this.colgroupChildrenLength = this.COLGROUP.childNodes.length, 
                this.theadChildrenLength = this.THEAD.firstChild ? this.THEAD.firstChild.childNodes.length : 0, 
                this.tbodyChildrenLength = this.TBODY.childNodes.length, this.rowFilter = null, 
                this.columnFilter = null;
            };
            $traceurRuntime.createClass(v, {
                fixTableDomTree: function() {
                    this.TBODY = this.TABLE.querySelector("tbody"), this.TBODY || (this.TBODY = document.createElement("tbody"), 
                    this.TABLE.appendChild(this.TBODY)), this.THEAD = this.TABLE.querySelector("thead"), 
                    this.THEAD || (this.THEAD = document.createElement("thead"), this.TABLE.insertBefore(this.THEAD, this.TBODY)), 
                    this.COLGROUP = this.TABLE.querySelector("colgroup"), this.COLGROUP || (this.COLGROUP = document.createElement("colgroup"), 
                    this.TABLE.insertBefore(this.COLGROUP, this.THEAD)), this.wot.getSetting("columnHeaders").length && !this.THEAD.childNodes.length && this.THEAD.appendChild(document.createElement("TR"));
                },
                createSpreader: function(a) {
                    var b, c = a.parentNode;
                    return c && 1 === c.nodeType && m(c, "wtHolder") || (b = document.createElement("div"), 
                    b.className = "wtSpreader", c && c.insertBefore(b, a), b.appendChild(a)), b.style.position = "relative", 
                    b;
                },
                createHider: function(a) {
                    var b, c = a.parentNode;
                    return c && 1 === c.nodeType && m(c, "wtHolder") || (b = document.createElement("div"), 
                    b.className = "wtHider", c && c.insertBefore(b, a), b.appendChild(a)), b;
                },
                createHolder: function(a) {
                    var b, c = a.parentNode;
                    return c && 1 === c.nodeType && m(c, "wtHolder") || (b = document.createElement("div"), 
                    b.style.position = "relative", b.className = "wtHolder", c && c.insertBefore(b, a), 
                    this.isWorkingOnClone() || (b.parentNode.className += "ht_master handsontable"), 
                    b.appendChild(a)), b;
                },
                alignOverlaysWithTrimmingContainer: function() {
                    var a = l(this.wtRootElement);
                    this.isWorkingOnClone() || (this.holder.parentNode.style.position = "relative", 
                    a === window ? (this.holder.style.overflow = "visible", this.wtRootElement.style.overflow = "visible") : (this.holder.style.width = k(a, "width"), 
                    this.holder.style.height = k(a, "height"), this.holder.style.overflow = ""));
                },
                isWorkingOnClone: function() {
                    return !!this.wot.cloneSource;
                },
                draw: function(a) {
                    var b = this.instance.getSetting("totalRows");
                    if (this.isWorkingOnClone() || (this.holderOffset = o(this.holder), a = this.wot.wtViewport.createRenderCalculators(a)), 
                    a) this.isWorkingOnClone() || this.wot.wtViewport.createVisibleCalculators(), this.wot.wtOverlays && this.wot.wtOverlays.refresh(!0); else {
                        this.isWorkingOnClone() ? this.tableOffset = this.wot.cloneSource.wtTable.tableOffset : this.tableOffset = o(this.TABLE);
                        var c;
                        c = WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_DEBUG) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_TOP) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_TOP_LEFT_CORNER) ? 0 : WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM) || WalkontableOverlay.isOverlayTypeOf(this.instance.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER) ? b - this.wot.getSetting("fixedRowsBottom") : this.wot.wtViewport.rowsRenderCalculator.startRow;
                        var d;
                        d = WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_DEBUG) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_LEFT) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_TOP_LEFT_CORNER) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER) ? 0 : this.wot.wtViewport.columnsRenderCalculator.startColumn, 
                        this.rowFilter = new t(c, b, this.wot.getSetting("columnHeaders").length), this.columnFilter = new s(d, this.wot.getSetting("totalColumns"), this.wot.getSetting("rowHeaders").length), 
                        this._doDraw(), this.alignOverlaysWithTrimmingContainer();
                    }
                    return this.refreshSelections(a), this.isWorkingOnClone() || (this.wot.wtOverlays.topOverlay.resetFixedPosition(), 
                    this.wot.wtOverlays.bottomOverlay.clone && this.wot.wtOverlays.bottomOverlay.resetFixedPosition(), 
                    this.wot.wtOverlays.leftOverlay.resetFixedPosition(), this.wot.wtOverlays.topLeftCornerOverlay && this.wot.wtOverlays.topLeftCornerOverlay.resetFixedPosition(), 
                    this.instance.wtOverlays.bottomLeftCornerOverlay && this.instance.wtOverlays.bottomLeftCornerOverlay.clone && this.wot.wtOverlays.bottomLeftCornerOverlay.resetFixedPosition()), 
                    this.wot.drawn = !0, this;
                },
                _doDraw: function() {
                    var a = new u(this);
                    a.render();
                },
                removeClassFromCells: function(a) {
                    for (var b = this.TABLE.querySelectorAll("." + a), c = 0, d = b.length; d > c; c++) p(b[c], a);
                },
                refreshSelections: function(a) {
                    if (this.wot.selections) {
                        var b = this.wot.selections.length;
                        if (a) for (var c = 0; b > c; c++) this.wot.selections[c].settings.className && this.removeClassFromCells(this.wot.selections[c].settings.className), 
                        this.wot.selections[c].settings.highlightRowClassName && this.removeClassFromCells(this.wot.selections[c].settings.highlightRowClassName), 
                        this.wot.selections[c].settings.highlightColumnClassName && this.removeClassFromCells(this.wot.selections[c].settings.highlightColumnClassName);
                        for (var d = 0; b > d; d++) this.wot.selections[d].draw(this.wot, a);
                    }
                },
                getCell: function(a) {
                    if (this.isRowBeforeRenderedRows(a.row)) return -1;
                    if (this.isRowAfterRenderedRows(a.row)) return -2;
                    var b = this.TBODY.childNodes[this.rowFilter.sourceToRendered(a.row)];
                    return b ? b.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(a.col)] : void 0;
                },
                getColumnHeader: function(a) {
                    var b = void 0 !== arguments[1] ? arguments[1] : 0, c = this.THEAD.childNodes[b];
                    return c ? c.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(a)] : void 0;
                },
                getRowHeader: function(a) {
                    if (0 === this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0)) return null;
                    var b = this.TBODY.childNodes[this.rowFilter.sourceToRendered(a)];
                    return b ? b.childNodes[0] : void 0;
                },
                getCoords: function(a) {
                    var b = a.parentNode, c = n(b);
                    c = b.parentNode === this.THEAD ? this.rowFilter.visibleColHeadedRowToSourceRow(c) : this.rowFilter.renderedToSource(c);
                    var d = this.columnFilter.visibleRowHeadedColumnToSourceColumn(a.cellIndex);
                    return new r(c, d);
                },
                getTrForRow: function(a) {
                    return this.TBODY.childNodes[this.rowFilter.sourceToRendered(a)];
                },
                getFirstRenderedRow: function() {
                    return this.wot.wtViewport.rowsRenderCalculator.startRow;
                },
                getFirstVisibleRow: function() {
                    return this.wot.wtViewport.rowsVisibleCalculator.startRow;
                },
                getFirstRenderedColumn: function() {
                    return this.wot.wtViewport.columnsRenderCalculator.startColumn;
                },
                getFirstVisibleColumn: function() {
                    return this.wot.wtViewport.columnsVisibleCalculator.startColumn;
                },
                getLastRenderedRow: function() {
                    return this.wot.wtViewport.rowsRenderCalculator.endRow;
                },
                getLastVisibleRow: function() {
                    return this.wot.wtViewport.rowsVisibleCalculator.endRow;
                },
                getLastRenderedColumn: function() {
                    return this.wot.wtViewport.columnsRenderCalculator.endColumn;
                },
                getLastVisibleColumn: function() {
                    return this.wot.wtViewport.columnsVisibleCalculator.endColumn;
                },
                isRowBeforeRenderedRows: function(a) {
                    return this.rowFilter.sourceToRendered(a) < 0 && a >= 0;
                },
                isRowAfterViewport: function(a) {
                    return this.rowFilter.sourceToRendered(a) > this.getLastVisibleRow();
                },
                isRowAfterRenderedRows: function(a) {
                    return this.rowFilter.sourceToRendered(a) > this.getLastRenderedRow();
                },
                isColumnBeforeViewport: function(a) {
                    return this.columnFilter.sourceToRendered(a) < 0 && a >= 0;
                },
                isColumnAfterViewport: function(a) {
                    return this.columnFilter.sourceToRendered(a) > this.getLastVisibleColumn();
                },
                isLastRowFullyVisible: function() {
                    return this.getLastVisibleRow() === this.getLastRenderedRow();
                },
                isLastColumnFullyVisible: function() {
                    return this.getLastVisibleColumn() === this.getLastRenderedColumn();
                },
                getRenderedColumnsCount: function() {
                    return WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_DEBUG) ? this.wot.getSetting("totalColumns") : WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_LEFT) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_TOP_LEFT_CORNER) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER) ? this.wot.getSetting("fixedColumnsLeft") : this.wot.wtViewport.columnsRenderCalculator.count;
                },
                getRenderedRowsCount: function() {
                    return WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_DEBUG) ? this.wot.getSetting("totalRows") : WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_TOP) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_TOP_LEFT_CORNER) ? this.wot.getSetting("fixedRowsTop") : WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER) ? this.instance.getSetting("fixedRowsBottom") : this.wot.wtViewport.rowsRenderCalculator.count;
                },
                getVisibleRowsCount: function() {
                    return this.wot.wtViewport.rowsVisibleCalculator.count;
                },
                allRowsInViewport: function() {
                    return this.wot.getSetting("totalRows") == this.getVisibleRowsCount();
                },
                getRowHeight: function(a) {
                    var b = this.wot.wtSettings.settings.rowHeight(a), c = this.wot.wtViewport.oversizedRows[a];
                    return void 0 !== c && (b = b ? Math.max(b, c) : c), b;
                },
                getColumnHeaderHeight: function(a) {
                    var b = this.wot.wtSettings.settings.defaultRowHeight, c = this.wot.wtViewport.oversizedColumnHeaders[a];
                    return void 0 !== c && (b = b ? Math.max(b, c) : c), b;
                },
                getVisibleColumnsCount: function() {
                    return this.wot.wtViewport.columnsVisibleCalculator.count;
                },
                allColumnsInViewport: function() {
                    return this.wot.getSetting("totalColumns") == this.getVisibleColumnsCount();
                },
                getColumnWidth: function(a) {
                    var b = this.wot.wtSettings.settings.columnWidth;
                    return "function" == typeof b ? b = b(a) : "object" == typeof b && (b = b[a]), b || this.wot.wtSettings.settings.defaultColumnWidth;
                },
                getStretchedColumnWidth: function(a) {
                    var b = this.getColumnWidth(a), c = -1 === [ void 0, null ].indexOf(b) ? b : this.instance.wtSettings.settings.defaultColumnWidth, d = this.wot.wtViewport.columnsRenderCalculator;
                    if (d) {
                        var e = d.getStretchedColumnWidth(a, c);
                        e && (c = e);
                    }
                    return c;
                }
            }, {}), window.WalkontableTable = v;
        }, {
            "cell/coords": 5,
            "cell/range": 6,
            "filter/column": 9,
            "filter/row": 10,
            "helpers/dom/element": 44,
            tableRenderer: 21
        } ],
        21: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                var c = document.createElement("TH");
                return b.insertBefore(c, a), b.removeChild(a), c;
            }
            function e(a, b) {
                var c = document.createElement("TD");
                return b.insertBefore(c, a), b.removeChild(a), c;
            }
            Object.defineProperties(c, {
                WalkontableTableRenderer: {
                    get: function() {
                        return m;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var f, g = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }), h = g.addClass, i = g.empty, j = g.getScrollbarWidth, k = g.hasClass, l = g.innerHeight, m = function(a) {
                this.wtTable = a, this.wot = a.instance, this.instance = a.instance, this.rowFilter = a.rowFilter, 
                this.columnFilter = a.columnFilter, this.TABLE = a.TABLE, this.THEAD = a.THEAD, 
                this.TBODY = a.TBODY, this.COLGROUP = a.COLGROUP, this.rowHeaders = [], this.rowHeaderCount = 0, 
                this.columnHeaders = [], this.columnHeaderCount = 0, this.fixedRowsTop = 0, this.fixedRowsBottom = 0;
            };
            $traceurRuntime.createClass(m, {
                render: function() {
                    this.wtTable.isWorkingOnClone() || this.wot.getSetting("beforeDraw", !0), this.rowHeaders = this.wot.getSetting("rowHeaders"), 
                    this.rowHeaderCount = this.rowHeaders.length, this.fixedRowsTop = this.wot.getSetting("fixedRowsTop"), 
                    this.fixedRowsBottom = this.wot.getSetting("fixedRowsBottom"), this.columnHeaders = this.wot.getSetting("columnHeaders"), 
                    this.columnHeaderCount = this.columnHeaders.length;
                    var a, b = this.wtTable.getRenderedColumnsCount(), c = this.wtTable.getRenderedRowsCount(), d = this.wot.getSetting("totalColumns"), e = this.wot.getSetting("totalRows"), f = !1;
                    if ((WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM) || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM_LEFT_CORNER)) && (this.columnHeaders = [], 
                    this.columnHeaderCount = 0), d > 0 && (this.adjustAvailableNodes(), f = !0, this.renderColumnHeaders(), 
                    this.renderRows(e, c, b), this.wtTable.isWorkingOnClone() || (a = this.wot.wtViewport.getWorkspaceWidth(), 
                    this.wot.wtViewport.containerWidth = null), this.adjustColumnHeaderHeights(), this.adjustColumnWidths(b), 
                    this.markOversizedColumns()), f || this.adjustAvailableNodes(), this.removeRedundantRows(c), 
                    this.wtTable.isWorkingOnClone()) {
                        if (WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM)) {
                            var g = this.wot.cloneOverlay.instance;
                            this.wot.cloneOverlay.markOversizedFixedBottomRows(), g.wtOverlays.adjustElementsSize();
                        }
                    } else {
                        if (this.markOversizedRows(), this.wot.wtViewport.createVisibleCalculators(), this.wot.wtOverlays.refresh(!1), 
                        this.wot.wtOverlays.applyToDOM(), a !== this.wot.wtViewport.getWorkspaceWidth()) {
                            this.wot.wtViewport.containerWidth = null;
                            for (var h = this.wtTable.getFirstRenderedColumn(), i = this.wtTable.getLastRenderedColumn(), j = h; i > j; j++) {
                                var k = this.wtTable.getStretchedColumnWidth(j), l = this.columnFilter.sourceToRendered(j);
                                this.COLGROUP.childNodes[l + this.rowHeaderCount].style.width = k + "px";
                            }
                        }
                        this.wot.getSetting("onDraw", !0);
                    }
                },
                removeRedundantRows: function(a) {
                    for (;this.wtTable.tbodyChildrenLength > a; ) this.TBODY.removeChild(this.TBODY.lastChild), 
                    this.wtTable.tbodyChildrenLength--;
                },
                renderRows: function(a, b, c) {
                    for (var d, e, f = 0, g = this.rowFilter.renderedToSource(f), h = this.wtTable.isWorkingOnClone(); a > g && g >= 0; ) {
                        if (f > 1e3) throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");
                        if (void 0 !== b && f === b) break;
                        if (e = this.getOrCreateTrForRow(f, e), this.renderRowHeaders(g, e), this.adjustColumns(e, c + this.rowHeaderCount), 
                        d = this.renderCells(g, e, c), (!h || WalkontableOverlay.isOverlayTypeOf(this.wot.cloneOverlay, WalkontableOverlay.CLONE_BOTTOM)) && this.resetOversizedRow(g), 
                        e.firstChild) {
                            var i = this.wot.wtTable.getRowHeight(g);
                            i ? (i--, e.firstChild.style.height = i + "px") : e.firstChild.style.height = "";
                        }
                        f++, g = this.rowFilter.renderedToSource(f);
                    }
                },
                resetOversizedRow: function(a) {
                    this.wot.getSetting("externalRowCalculator") || this.wot.wtViewport.oversizedRows && this.wot.wtViewport.oversizedRows[a] && (this.wot.wtViewport.oversizedRows[a] = void 0);
                },
                markOversizedRows: function() {
                    if (!this.wot.getSetting("externalRowCalculator")) {
                        var a, b, c, d, e, f = this.instance.wtTable.TBODY.childNodes.length, g = f * this.instance.wtSettings.settings.defaultRowHeight, h = l(this.instance.wtTable.TBODY) - 1;
                        this.instance.getSetting("totalRows");
                        if (g !== h || this.instance.getSetting("fixedRowsBottom")) for (;f; ) f--, c = this.instance.wtTable.rowFilter.renderedToSource(f), 
                        a = this.instance.wtTable.getRowHeight(c), d = this.instance.wtTable.getTrForRow(c), 
                        e = d.querySelector("th"), b = e ? l(e) : l(d) - 1, (!a && this.instance.wtSettings.settings.defaultRowHeight < b || b > a) && (this.instance.wtViewport.oversizedRows[c] = ++b);
                    }
                },
                markOversizedColumns: function() {
                    var a = this.wot.getOverlayName();
                    if (this.columnHeaderCount && !this.wot.wtViewport.isMarkedOversizedColumn[a] && !this.wtTable.isWorkingOnClone()) {
                        for (var b = this.wtTable.getRenderedColumnsCount(), c = 0; c < this.columnHeaderCount; c++) for (var d = -1 * this.rowHeaderCount; b > d; d++) this.markIfOversizedColumnHeader(d);
                        this.wot.wtViewport.isMarkedOversizedColumn[a] = !0;
                    }
                },
                adjustColumnHeaderHeights: function() {
                    for (var a = this.wot.getSetting("columnHeaders"), b = this.wot.wtTable.THEAD.childNodes, c = this.wot.wtViewport.oversizedColumnHeaders, d = 0, e = a.length; e > d; d++) if (c[d]) {
                        if (0 === b[d].childNodes.length) return;
                        b[d].childNodes[0].style.height = c[d] + "px";
                    }
                },
                markIfOversizedColumnHeader: function(a) {
                    for (var b, c, d, e = this.wot.wtTable.columnFilter.renderedToSource(a), f = this.columnHeaderCount, g = this.wot.wtSettings.settings.defaultRowHeight; f; ) f--, 
                    b = this.wot.wtTable.getColumnHeaderHeight(f), c = this.wot.wtTable.getColumnHeader(e, f), 
                    c && (d = l(c), (!b && d > g || d > b) && (this.wot.wtViewport.oversizedColumnHeaders[f] = d));
                },
                renderCells: function(a, b, c) {
                    for (var d, f, g = 0; c > g; g++) f = this.columnFilter.renderedToSource(g), d = 0 === g ? b.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(f)] : d.nextSibling, 
                    "TH" == d.nodeName && (d = e(d, b)), k(d, "hide") || (d.className = ""), d.removeAttribute("style"), 
                    this.wot.wtSettings.settings.cellRenderer(a, f, d);
                    return d;
                },
                adjustColumnWidths: function(a) {
                    var b = 0, c = this.wot.cloneSource ? this.wot.cloneSource : this.wot, d = c.wtTable.holder;
                    d.offsetHeight < d.scrollHeight && (b = j()), this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth() - b);
                    for (var e = 0; a > e; e++) {
                        var f = this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(e));
                        this.COLGROUP.childNodes[e + this.rowHeaderCount].style.width = f + "px";
                    }
                },
                appendToTbody: function(a) {
                    this.TBODY.appendChild(a), this.wtTable.tbodyChildrenLength++;
                },
                getOrCreateTrForRow: function(a, b) {
                    var c;
                    return a >= this.wtTable.tbodyChildrenLength ? (c = this.createRow(), this.appendToTbody(c)) : c = 0 === a ? this.TBODY.firstChild : b.nextSibling, 
                    c.className && c.removeAttribute("class"), c;
                },
                createRow: function() {
                    for (var a = document.createElement("TR"), b = 0; b < this.rowHeaderCount; b++) a.appendChild(document.createElement("TH"));
                    return a;
                },
                renderRowHeader: function(a, b, c) {
                    c.className = "", c.removeAttribute("style"), this.rowHeaders[b](a, c, b);
                },
                renderRowHeaders: function(a, b) {
                    for (var c = b.firstChild, e = 0; e < this.rowHeaderCount; e++) c ? "TD" == c.nodeName && (c = d(c, b)) : (c = document.createElement("TH"), 
                    b.appendChild(c)), this.renderRowHeader(a, e, c), c = c.nextSibling;
                },
                adjustAvailableNodes: function() {
                    this.adjustColGroups(), this.adjustThead();
                },
                renderColumnHeaders: function() {
                    this.wot.getOverlayName();
                    if (this.columnHeaderCount) for (var a = this.wtTable.getRenderedColumnsCount(), b = 0; b < this.columnHeaderCount; b++) for (var c = this.getTrForColumnHeaders(b), d = -1 * this.rowHeaderCount; a > d; d++) {
                        var e = this.columnFilter.renderedToSource(d);
                        this.renderColumnHeader(b, e, c.childNodes[d + this.rowHeaderCount]);
                    }
                },
                adjustColGroups: function() {
                    for (var a = this.wtTable.getRenderedColumnsCount(); this.wtTable.colgroupChildrenLength < a + this.rowHeaderCount; ) this.COLGROUP.appendChild(document.createElement("COL")), 
                    this.wtTable.colgroupChildrenLength++;
                    for (;this.wtTable.colgroupChildrenLength > a + this.rowHeaderCount; ) this.COLGROUP.removeChild(this.COLGROUP.lastChild), 
                    this.wtTable.colgroupChildrenLength--;
                    this.rowHeaderCount && h(this.COLGROUP.childNodes[0], "rowHeader");
                },
                adjustThead: function() {
                    var a = this.wtTable.getRenderedColumnsCount(), b = this.THEAD.firstChild;
                    if (this.columnHeaders.length) {
                        for (var c = 0, d = this.columnHeaders.length; d > c; c++) {
                            for (b = this.THEAD.childNodes[c], b || (b = document.createElement("TR"), this.THEAD.appendChild(b)), 
                            this.theadChildrenLength = b.childNodes.length; this.theadChildrenLength < a + this.rowHeaderCount; ) b.appendChild(document.createElement("TH")), 
                            this.theadChildrenLength++;
                            for (;this.theadChildrenLength > a + this.rowHeaderCount; ) b.removeChild(b.lastChild), 
                            this.theadChildrenLength--;
                        }
                        var e = this.THEAD.childNodes.length;
                        if (e > this.columnHeaders.length) for (var f = this.columnHeaders.length; e > f; f++) this.THEAD.removeChild(this.THEAD.lastChild);
                    } else b && i(b);
                },
                getTrForColumnHeaders: function(a) {
                    return this.THEAD.childNodes[a];
                },
                renderColumnHeader: function(a, b, c) {
                    return c.className = "", c.removeAttribute("style"), this.columnHeaders[a](b, c, a);
                },
                adjustColumns: function(a, b) {
                    for (var c = a.childNodes.length; b > c; ) {
                        var d = document.createElement("TD");
                        a.appendChild(d), c++;
                    }
                    for (;c > b; ) a.removeChild(a.lastChild), c--;
                },
                removeRedundantColumns: function(a) {
                    for (;this.wtTable.tbodyChildrenLength > a; ) this.TBODY.removeChild(this.TBODY.lastChild), 
                    this.wtTable.tbodyChildrenLength--;
                }
            }, {}), window.WalkontableTableRenderer = m;
        }, {
            "helpers/dom/element": 44
        } ],
        22: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                WalkontableViewport: {
                    get: function() {
                        return r;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), i = h.getScrollbarWidth, j = h.getScrollTop, k = h.getStyle, l = h.offset, m = h.outerHeight, n = h.outerWidth, o = (e = a("eventManager"), 
            e && e.__esModule && e || {
                "default": e
            }).EventManager, p = (f = a("calculator/viewportColumns"), f && f.__esModule && f || {
                "default": f
            }).WalkontableViewportColumnsCalculator, q = (g = a("calculator/viewportRows"), 
            g && g.__esModule && g || {
                "default": g
            }).WalkontableViewportRowsCalculator, r = function(a) {
                var b = this;
                this.wot = a, this.instance = this.wot, this.oversizedRows = [], this.oversizedColumnHeaders = [], 
                this.isMarkedOversizedColumn = {}, this.clientHeight = 0, this.containerWidth = NaN, 
                this.rowHeaderWidth = NaN, this.rowsVisibleCalculator = null, this.columnsVisibleCalculator = null, 
                this.eventManager = new o(this.wot), this.eventManager.addEventListener(window, "resize", function() {
                    b.clientHeight = b.getWorkspaceHeight();
                });
            };
            $traceurRuntime.createClass(r, {
                getWorkspaceHeight: function() {
                    var a, b = this.instance.wtOverlays.topOverlay.trimmingContainer, c = 0;
                    return b === window ? c = document.documentElement.clientHeight : (a = m(b), c = a > 0 && b.clientHeight > 0 ? b.clientHeight : 1 / 0), 
                    c;
                },
                getWorkspaceWidth: function() {
                    var a, b, c = this.instance.getSetting("totalColumns"), d = this.instance.wtOverlays.leftOverlay.trimmingContainer, e = this.instance.getSetting("stretchH"), f = document.documentElement.offsetWidth;
                    return a = Handsontable.freezeOverlays ? Math.min(f - this.getWorkspaceOffset().left, f) : Math.min(this.getContainerFillWidth(), f - this.getWorkspaceOffset().left, f), 
                    d === window && c > 0 && this.sumColumnWidths(0, c - 1) > a ? document.documentElement.clientWidth : d !== window && (b = k(this.instance.wtOverlays.leftOverlay.trimmingContainer, "overflow"), 
                    "scroll" == b || "hidden" == b || "auto" == b) ? Math.max(a, d.clientWidth) : "none" !== e && e ? a : Math.max(a, n(this.instance.wtTable.TABLE));
                },
                hasVerticalScroll: function() {
                    return this.getWorkspaceActualHeight() > this.getWorkspaceHeight();
                },
                hasHorizontalScroll: function() {
                    return this.getWorkspaceActualWidth() > this.getWorkspaceWidth();
                },
                sumColumnWidths: function(a, b) {
                    for (var c = 0; b > a; ) c += this.wot.wtTable.getColumnWidth(a), a++;
                    return c;
                },
                getContainerFillWidth: function() {
                    if (this.containerWidth) return this.containerWidth;
                    var a, b, c = this.instance.wtTable.holder;
                    return b = document.createElement("div"), b.style.width = "100%", b.style.height = "1px", 
                    c.appendChild(b), a = b.offsetWidth, this.containerWidth = a, c.removeChild(b), 
                    a;
                },
                getWorkspaceOffset: function() {
                    return l(this.wot.wtTable.TABLE);
                },
                getWorkspaceActualHeight: function() {
                    return m(this.wot.wtTable.TABLE);
                },
                getWorkspaceActualWidth: function() {
                    return n(this.wot.wtTable.TABLE) || n(this.wot.wtTable.TBODY) || n(this.wot.wtTable.THEAD);
                },
                getColumnHeaderHeight: function() {
                    return isNaN(this.columnHeaderHeight) && (this.columnHeaderHeight = m(this.wot.wtTable.THEAD)), 
                    this.columnHeaderHeight;
                },
                getViewportHeight: function() {
                    var a, b = this.getWorkspaceHeight();
                    return b === 1 / 0 ? b : (a = this.getColumnHeaderHeight(), a > 0 && (b -= a), b);
                },
                getRowHeaderWidth: function() {
                    if (this.wot.cloneSource) return this.wot.cloneSource.wtViewport.getRowHeaderWidth();
                    if (isNaN(this.rowHeaderWidth)) {
                        var a = this.instance.getSetting("rowHeaders");
                        if (a.length) {
                            var b = this.instance.wtTable.TABLE.querySelector("TH");
                            this.rowHeaderWidth = 0;
                            for (var c = 0, d = a.length; d > c; c++) b ? (this.rowHeaderWidth += n(b), b = b.nextSibling) : this.rowHeaderWidth += 50;
                        } else this.rowHeaderWidth = 0;
                    }
                    return this.rowHeaderWidth;
                },
                getViewportWidth: function() {
                    var a, b = this.getWorkspaceWidth();
                    return b === 1 / 0 ? b : (a = this.getRowHeaderWidth(), a > 0 ? b - a : b);
                },
                createRowsCalculator: function() {
                    var a, b, c, d, e, f, g, h = void 0 !== arguments[0] ? arguments[0] : !1, k = this;
                    return this.rowHeaderWidth = NaN, a = this.wot.wtSettings.settings.renderAllRows ? 1 / 0 : this.getViewportHeight(), 
                    b = j(this.wot.wtOverlays.mainTableScrollableElement) - this.wot.wtOverlays.topOverlay.getTableParentOffset(), 
                    0 > b && (b = 0), c = this.wot.getSetting("fixedRowsTop"), e = this.wot.getSetting("fixedRowsBottom"), 
                    g = this.wot.getSetting("totalRows"), c && (f = this.wot.wtOverlays.topOverlay.sumCellSizes(0, c), 
                    b += f, a -= f), e && this.wot.wtOverlays.bottomOverlay.clone && (f = this.wot.wtOverlays.bottomOverlay.sumCellSizes(g - e, g), 
                    a -= f), d = this.wot.wtTable.holder.clientHeight === this.wot.wtTable.holder.offsetHeight ? 0 : i(), 
                    new q(a, b, this.wot.getSetting("totalRows"), function(a) {
                        return k.wot.wtTable.getRowHeight(a);
                    }, h ? null : this.wot.wtSettings.settings.viewportRowCalculatorOverride, h, d);
                },
                createColumnsCalculator: function() {
                    var a, b, c = void 0 !== arguments[0] ? arguments[0] : !1, d = this, e = this.getViewportWidth();
                    if (this.columnHeaderHeight = NaN, a = this.wot.wtOverlays.leftOverlay.getScrollPosition() - this.wot.wtOverlays.leftOverlay.getTableParentOffset(), 
                    0 > a && (a = 0), b = this.wot.getSetting("fixedColumnsLeft")) {
                        var f = this.wot.wtOverlays.leftOverlay.sumCellSizes(0, b);
                        a += f, e -= f;
                    }
                    return this.wot.wtTable.holder.clientWidth !== this.wot.wtTable.holder.offsetWidth && (e -= i()), 
                    new p(e, a, this.wot.getSetting("totalColumns"), function(a) {
                        return d.wot.wtTable.getColumnWidth(a);
                    }, c ? null : this.wot.wtSettings.settings.viewportColumnCalculatorOverride, c, this.wot.getSetting("stretchH"));
                },
                createRenderCalculators: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1;
                    if (a) {
                        var b = this.createRowsCalculator(!0), c = this.createColumnsCalculator(!0);
                        this.areAllProposedVisibleRowsAlreadyRendered(b) && this.areAllProposedVisibleColumnsAlreadyRendered(c) || (a = !1);
                    }
                    return a || (this.rowsRenderCalculator = this.createRowsCalculator(), this.columnsRenderCalculator = this.createColumnsCalculator()), 
                    this.rowsVisibleCalculator = null, this.columnsVisibleCalculator = null, a;
                },
                createVisibleCalculators: function() {
                    this.rowsVisibleCalculator = this.createRowsCalculator(!0), this.columnsVisibleCalculator = this.createColumnsCalculator(!0);
                },
                areAllProposedVisibleRowsAlreadyRendered: function(a) {
                    return this.rowsVisibleCalculator ? a.startRow < this.rowsRenderCalculator.startRow || a.startRow === this.rowsRenderCalculator.startRow && a.startRow > 0 ? !1 : a.endRow > this.rowsRenderCalculator.endRow || a.endRow === this.rowsRenderCalculator.endRow && a.endRow < this.wot.getSetting("totalRows") - 1 ? !1 : !0 : !1;
                },
                areAllProposedVisibleColumnsAlreadyRendered: function(a) {
                    return this.columnsVisibleCalculator ? a.startColumn < this.columnsRenderCalculator.startColumn || a.startColumn === this.columnsRenderCalculator.startColumn && a.startColumn > 0 ? !1 : a.endColumn > this.columnsRenderCalculator.endColumn || a.endColumn === this.columnsRenderCalculator.endColumn && a.endColumn < this.wot.getSetting("totalColumns") - 1 ? !1 : !0 : !1;
                }
            }, {}), window.WalkontableViewport = r;
        }, {
            "calculator/viewportColumns": 3,
            "calculator/viewportRows": 4,
            eventManager: 40,
            "helpers/dom/element": 44
        } ],
        23: [ function(a, b, c) {
            "use strict";
            var d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w = Handsontable.version, x = Handsontable.buildDate;
            window.Handsontable = function M(a, b) {
                var c = new M.Core(a, b || {});
                return c.init(), c;
            }, Handsontable.version = w, Handsontable.buildDate = x, d = a("shims/classes"), 
            d && d.__esModule && d || {
                "default": d
            }, e = a("es6collections"), e && e.__esModule && e || {
                "default": e
            }, Handsontable.plugins = {};
            var y = (f = a("pluginHooks"), f && f.__esModule && f || {
                "default": f
            }).Hooks;
            Handsontable.hooks || (Handsontable.hooks = new y()), g = a("core"), g && g.__esModule && g || {
                "default": g
            }, h = a("renderers/_cellDecorator"), h && h.__esModule && h || {
                "default": h
            }, i = a("cellTypes"), i && i.__esModule && i || {
                "default": i
            }, j = a("plugins/jqueryHandsontable"), j && j.__esModule && j || {
                "default": j
            };
            var z = (k = a("helpers/array"), k && k.__esModule && k || {
                "default": k
            }), A = (l = a("helpers/browser"), l && l.__esModule && l || {
                "default": l
            }), B = (m = a("helpers/data"), m && m.__esModule && m || {
                "default": m
            }), C = (n = a("helpers/function"), n && n.__esModule && n || {
                "default": n
            }), D = (o = a("helpers/mixed"), o && o.__esModule && o || {
                "default": o
            }), E = (p = a("helpers/number"), p && p.__esModule && p || {
                "default": p
            }), F = (q = a("helpers/object"), q && q.__esModule && q || {
                "default": q
            }), G = (r = a("helpers/setting"), r && r.__esModule && r || {
                "default": r
            }), H = (s = a("helpers/string"), s && s.__esModule && s || {
                "default": s
            }), I = (t = a("helpers/unicode"), t && t.__esModule && t || {
                "default": t
            }), J = [ z, A, B, C, D, E, F, G, H, I ];
            Handsontable.helper = {}, z.arrayEach(J, function(a) {
                z.arrayEach(Object.getOwnPropertyNames(a), function(b) {
                    "_" !== b.charAt(0) && (Handsontable.helper[b] = a[b]);
                });
            });
            var K = (u = a("helpers/dom/element"), u && u.__esModule && u || {
                "default": u
            }), L = (v = a("helpers/dom/event"), v && v.__esModule && v || {
                "default": v
            });
            Handsontable.dom = {}, Handsontable.Dom = Handsontable.dom, z.arrayEach([ K, L ], function(a) {
                z.arrayEach(Object.getOwnPropertyNames(a), function(b) {
                    "_" !== b.charAt(0) && (Handsontable.dom[b] = a[b]);
                });
            });
        }, {
            cellTypes: 24,
            core: 25,
            es6collections: "es6collections",
            "helpers/array": 41,
            "helpers/browser": 42,
            "helpers/data": 43,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/function": 46,
            "helpers/mixed": 47,
            "helpers/number": 48,
            "helpers/object": 49,
            "helpers/setting": 50,
            "helpers/string": 51,
            "helpers/unicode": 52,
            pluginHooks: 54,
            "plugins/jqueryHandsontable": 1,
            "renderers/_cellDecorator": 87,
            "shims/classes": 94
        } ],
        24: [ function(a, b, c) {
            "use strict";
            var d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z = (d = a("helpers/browser"), 
            d && d.__esModule && d || {
                "default": d
            }).isMobileBrowser, A = (e = a("editors"), e && e.__esModule && e || {
                "default": e
            }).getEditorConstructor, B = (f = a("renderers"), f && f.__esModule && f || {
                "default": f
            }).getRenderer;
            (g = a("editors/autocompleteEditor"), g && g.__esModule && g || {
                "default": g
            }).AutocompleteEditor, (h = a("editors/checkboxEditor"), h && h.__esModule && h || {
                "default": h
            }).CheckboxEditor, (i = a("editors/dateEditor"), i && i.__esModule && i || {
                "default": i
            }).DateEditor, (j = a("editors/dropdownEditor"), j && j.__esModule && j || {
                "default": j
            }).DropdownEditor, (k = a("editors/handsontableEditor"), k && k.__esModule && k || {
                "default": k
            }).HandsontableEditor, (l = a("editors/mobileTextEditor"), l && l.__esModule && l || {
                "default": l
            }).MobileTextEditor, (m = a("editors/numericEditor"), m && m.__esModule && m || {
                "default": m
            }).NumericEditor, (n = a("editors/passwordEditor"), n && n.__esModule && n || {
                "default": n
            }).PasswordEditor, (o = a("editors/selectEditor"), o && o.__esModule && o || {
                "default": o
            }).SelectEditor, (p = a("editors/textEditor"), p && p.__esModule && p || {
                "default": p
            }).TextEditor, (q = a("renderers/autocompleteRenderer"), q && q.__esModule && q || {
                "default": q
            }).AutocompleteRenderer, (r = a("renderers/checkboxRenderer"), r && r.__esModule && r || {
                "default": r
            }).CheckboxRenderer, (s = a("renderers/htmlRenderer"), s && s.__esModule && s || {
                "default": s
            }).HtmlRenderer, (t = a("renderers/numericRenderer"), t && t.__esModule && t || {
                "default": t
            }).NumericRenderer, (u = a("renderers/passwordRenderer"), u && u.__esModule && u || {
                "default": u
            }).PasswordRenderer, (v = a("renderers/textRenderer"), v && v.__esModule && v || {
                "default": v
            }).TextRenderer, (w = a("validators/autocompleteValidator"), w && w.__esModule && w || {
                "default": w
            }).AutocompleteValidator, (x = a("validators/dateValidator"), x && x.__esModule && x || {
                "default": x
            }).DateValidator, (y = a("validators/numericValidator"), y && y.__esModule && y || {
                "default": y
            }).NumericValidator;
            Handsontable.mobileBrowser = z(), Handsontable.AutocompleteCell = {
                editor: A("autocomplete"),
                renderer: B("autocomplete"),
                validator: Handsontable.AutocompleteValidator
            }, Handsontable.CheckboxCell = {
                editor: A("checkbox"),
                renderer: B("checkbox")
            }, Handsontable.TextCell = {
                editor: A(Handsontable.mobileBrowser ? "mobile" : "text"),
                renderer: B("text")
            }, Handsontable.NumericCell = {
                editor: A("numeric"),
                renderer: B("numeric"),
                validator: Handsontable.NumericValidator,
                dataType: "number"
            }, Handsontable.DateCell = {
                editor: A("date"),
                validator: Handsontable.DateValidator,
                renderer: B("autocomplete")
            }, Handsontable.HandsontableCell = {
                editor: A("handsontable"),
                renderer: B("autocomplete")
            }, Handsontable.PasswordCell = {
                editor: A("password"),
                renderer: B("password"),
                copyable: !1
            }, Handsontable.DropdownCell = {
                editor: A("dropdown"),
                renderer: B("autocomplete"),
                validator: Handsontable.AutocompleteValidator
            }, Handsontable.cellTypes = {
                text: Handsontable.TextCell,
                date: Handsontable.DateCell,
                numeric: Handsontable.NumericCell,
                checkbox: Handsontable.CheckboxCell,
                autocomplete: Handsontable.AutocompleteCell,
                handsontable: Handsontable.HandsontableCell,
                password: Handsontable.PasswordCell,
                dropdown: Handsontable.DropdownCell
            }, Handsontable.cellLookup = {
                validator: {
                    numeric: Handsontable.NumericValidator,
                    autocomplete: Handsontable.AutocompleteValidator
                }
            };
        }, {
            editors: 28,
            "editors/autocompleteEditor": 30,
            "editors/checkboxEditor": 31,
            "editors/dateEditor": 32,
            "editors/dropdownEditor": 33,
            "editors/handsontableEditor": 34,
            "editors/mobileTextEditor": 35,
            "editors/numericEditor": 36,
            "editors/passwordEditor": 37,
            "editors/selectEditor": 38,
            "editors/textEditor": 39,
            "helpers/browser": 42,
            renderers: 86,
            "renderers/autocompleteRenderer": 88,
            "renderers/checkboxRenderer": 89,
            "renderers/htmlRenderer": 90,
            "renderers/numericRenderer": 91,
            "renderers/passwordRenderer": 92,
            "renderers/textRenderer": 93,
            "validators/autocompleteValidator": 98,
            "validators/dateValidator": 99,
            "validators/numericValidator": 100
        } ],
        25: [ function(a, b, c) {
            "use strict";
            var d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v = (d = a("numeral"), 
            d && d.__esModule && d || {
                "default": d
            })["default"], w = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), x = w.addClass, y = w.empty, z = w.isChildOfWebComponentTable, A = w.removeClass, B = (f = a("helpers/setting"), 
            f && f.__esModule && f || {
                "default": f
            }).columnFactory, C = (g = a("dataMap"), g && g.__esModule && g || {
                "default": g
            }).DataMap, D = (h = a("editorManager"), h && h.__esModule && h || {
                "default": h
            }).EditorManager, E = (i = a("eventManager"), i && i.__esModule && i || {
                "default": i
            }).eventManager, F = (j = a("helpers/object"), j && j.__esModule && j || {
                "default": j
            }), G = F.extend, H = F.duckSchema, I = F.isObjectEquals, J = F.deepClone, K = (k = a("helpers/array"), 
            k && k.__esModule && k || {
                "default": k
            }).arrayFlatten, L = (l = a("plugins"), l && l.__esModule && l || {
                "default": l
            }).getPlugin, M = (m = a("renderers"), m && m.__esModule && m || {
                "default": m
            }).getRenderer, N = (n = a("helpers/string"), n && n.__esModule && n || {
                "default": n
            }).randomString, O = (o = a("helpers/number"), o && o.__esModule && o || {
                "default": o
            }).rangeEach, P = (p = a("tableView"), p && p.__esModule && p || {
                "default": p
            }).TableView, Q = (q = a("helpers/data"), q && q.__esModule && q || {
                "default": q
            }), R = Q.translateRowsToColumns, S = Q.cellMethodLookupFactory, T = Q.spreadsheetColumnLabel, U = (r = a("3rdparty/walkontable/src/cell/coords"), 
            r && r.__esModule && r || {
                "default": r
            }).WalkontableCellCoords, V = (s = a("3rdparty/walkontable/src/cell/range"), s && s.__esModule && s || {
                "default": s
            }).WalkontableCellRange, W = ((t = a("3rdparty/walkontable/src/selection"), t && t.__esModule && t || {
                "default": t
            }).WalkontableSelection, (u = a("3rdparty/walkontable/src/calculator/viewportColumns"), 
            u && u.__esModule && u || {
                "default": u
            }).WalkontableViewportColumnsCalculator);
            Handsontable.activeGuid = null, Handsontable.Core = function(a, b) {
                function c() {
                    var a = !1;
                    return {
                        validatorsInQueue: 0,
                        valid: !0,
                        addValidatorToQueue: function() {
                            this.validatorsInQueue++, a = !1;
                        },
                        removeValidatorFormQueue: function() {
                            this.validatorsInQueue = this.validatorsInQueue - 1 < 0 ? 0 : this.validatorsInQueue - 1, 
                            this.checkIfQueueIsEmpty();
                        },
                        onQueueEmpty: function(a) {},
                        checkIfQueueIsEmpty: function() {
                            0 == this.validatorsInQueue && 0 == a && (a = !0, this.onQueueEmpty(this.valid));
                        }
                    };
                }
                function d(a, b, d) {
                    function e() {
                        var c;
                        a.length && (c = Handsontable.hooks.run(p, "beforeChange", a, b), "function" == typeof c ? console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed).") : c === !1 && a.splice(0, a.length)), 
                        d();
                    }
                    var f = new c();
                    f.onQueueEmpty = e;
                    for (var g = a.length - 1; g >= 0; g--) if (null === a[g]) a.splice(g, 1); else {
                        var h = a[g][0], i = l.propToCol(a[g][1]), j = p.runHooks("modifyCol", i), k = p.getCellMeta(h, j);
                        if ("numeric" === k.type && "string" == typeof a[g][3] && a[g][3].length > 0 && (/^-?[\d\s]*(\.|\,)?\d*$/.test(a[g][3]) || k.format)) {
                            var m = a[g][3].length;
                            "undefined" == typeof k.language ? v.language("en") : a[g][3].indexOf(".") === m - 3 && -1 === a[g][3].indexOf(",") ? v.language("en") : v.language(k.language), 
                            v.validate(a[g][3]) && (a[g][3] = v().unformat(a[g][3]));
                        }
                        p.getCellValidator(k) && (f.addValidatorToQueue(), p.validateCell(a[g][3], k, function(b, c) {
                            return function(d) {
                                if ("boolean" != typeof d) throw new Error("Validation error: result is not boolean");
                                d === !1 && c.allowInvalid === !1 && (a.splice(b, 1), c.valid = !0, --b), f.removeValidatorFormQueue();
                            };
                        }(g, k), b));
                    }
                    f.checkIfQueueIsEmpty();
                }
                function e(a, b) {
                    var c = a.length - 1;
                    if (!(0 > c)) {
                        for (;c >= 0; c--) if (null !== a[c]) {
                            if (null != a[c][2] || null != a[c][3]) {
                                if (k.settings.allowInsertRow) for (;a[c][0] > p.countRows() - 1; ) l.createRow();
                                if ("array" === p.dataType && k.settings.allowInsertColumn) for (;l.propToCol(a[c][1]) > p.countCols() - 1; ) l.createCol();
                                l.set(a[c][0], a[c][1], a[c][3]);
                            }
                        } else a.splice(c, 1);
                        p.forceFullRender = !0, m.adjustRowsAndCols(), Handsontable.hooks.run(p, "beforeChangeRender", a, b), 
                        n.refreshBorders(null, !0), p.view.wt.wtOverlays.adjustElementsSize(), Handsontable.hooks.run(p, "afterChange", a, b || "edit");
                    }
                }
                function f(a, b, c) {
                    return "object" == typeof a ? a : [ [ a, b, c ] ];
                }
                function g(a) {
                    if (a.hasOwnProperty("type")) {
                        var b, c = {};
                        if ("object" == typeof a.type) b = a.type; else if ("string" == typeof a.type && (b = Handsontable.cellTypes[a.type], 
                        void 0 === b)) throw new Error('You declared cell type "' + a.type + '" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');
                        for (var d in b) b.hasOwnProperty(d) && !a.hasOwnProperty(d) && (c[d] = b[d]);
                        return c;
                    }
                }
                function h(a) {
                    return Handsontable.hooks.run(p, "modifyRow", a);
                }
                function i(a) {
                    return Handsontable.hooks.run(p, "modifyCol", a);
                }
                function j() {
                    throw new Error("This method cannot be called because this Handsontable instance has been destroyed");
                }
                var k, l, m, n, o, p = this, q = function() {}, r = E(p);
                G(q.prototype, X.prototype), G(q.prototype, b), G(q.prototype, g(b)), this.rootElement = a, 
                this.isHotTableEnv = z(this.rootElement), Handsontable.eventManager.isHotTableEnv = this.isHotTableEnv, 
                this.container = document.createElement("DIV"), this.renderCall = !1, a.insertBefore(this.container, a.firstChild), 
                this.guid = "ht_" + N(), this.rootElement.id && "ht_" !== this.rootElement.id.substring(0, 3) || (this.rootElement.id = this.guid), 
                k = {
                    cellSettings: [],
                    columnSettings: [],
                    columnsSettingConflicts: [ "data", "width" ],
                    settings: new q(),
                    selRange: null,
                    isPopulated: null,
                    scrollable: null,
                    firstRun: !0
                }, m = {
                    alter: function(a, b, c, d, e) {
                        var f;
                        switch (c = c || 1, a) {
                          case "insert_row":
                            if (p.getSettings().maxRows === p.countRows()) return;
                            f = l.createRow(b, c), f && (n.isSelected() && k.selRange.from.row >= b ? (k.selRange.from.row = k.selRange.from.row + f, 
                            n.transformEnd(f, 0)) : n.refreshBorders());
                            break;

                          case "insert_col":
                            if (f = l.createCol(b, c)) {
                                if (Array.isArray(p.getSettings().colHeaders)) {
                                    var g = [ b, 0 ];
                                    g.length += f, Array.prototype.splice.apply(p.getSettings().colHeaders, g);
                                }
                                n.isSelected() && k.selRange.from.col >= b ? (k.selRange.from.col = k.selRange.from.col + f, 
                                n.transformEnd(0, f)) : n.refreshBorders();
                            }
                            break;

                          case "remove_row":
                            b = p.runHooks("modifyCol", b), l.removeRow(b, c), k.cellSettings.splice(b, c);
                            var h = p.countRows(), i = p.getSettings().fixedRowsTop;
                            i >= b + 1 && (p.getSettings().fixedRowsTop -= Math.min(c, i - b));
                            var j = p.getSettings().fixedRowsBottom;
                            j && b + 1 >= h - j && (p.getSettings().fixedRowsBottom -= Math.min(c, j - b)), 
                            m.adjustRowsAndCols(), n.refreshBorders();
                            break;

                          case "remove_col":
                            l.removeCol(b, c);
                            for (var o = 0, q = l.getAll().length; q > o; o++) o in k.cellSettings && k.cellSettings[o].splice(b, c);
                            var r = p.getSettings().fixedColumnsLeft;
                            r >= b + 1 && (p.getSettings().fixedColumnsLeft -= Math.min(c, r - b)), Array.isArray(p.getSettings().colHeaders) && ("undefined" == typeof b && (b = -1), 
                            p.getSettings().colHeaders.splice(b, c)), m.adjustRowsAndCols(), n.refreshBorders();
                            break;

                          default:
                            throw new Error('There is no such action "' + a + '"');
                        }
                        e || m.adjustRowsAndCols();
                    },
                    adjustRowsAndCols: function() {
                        if (k.settings.minRows) {
                            var a = p.countRows();
                            if (a < k.settings.minRows) for (var b = 0, c = k.settings.minRows; c - a > b; b++) l.createRow(p.countRows(), 1, !0);
                        }
                        if (k.settings.minSpareRows) {
                            var d = p.countEmptyRows(!0);
                            if (d < k.settings.minSpareRows) for (;d < k.settings.minSpareRows && p.countRows() < k.settings.maxRows; d++) l.createRow(p.countRows(), 1, !0);
                        }
                        var e;
                        if ((k.settings.minCols || k.settings.minSpareCols) && (e = p.countEmptyCols(!0)), 
                        k.settings.minCols && !k.settings.columns && p.countCols() < k.settings.minCols) for (;p.countCols() < k.settings.minCols; e++) l.createCol(p.countCols(), 1, !0);
                        if (k.settings.minSpareCols && !k.settings.columns && "array" === p.dataType && e < k.settings.minSpareCols) for (;e < k.settings.minSpareCols && p.countCols() < k.settings.maxCols; e++) l.createCol(p.countCols(), 1, !0);
                        var f = p.countRows(), g = p.countCols();
                        if ((0 === f || 0 === g) && n.deselect(), n.isSelected()) {
                            var h = !1, i = k.selRange.from.row, j = k.selRange.from.col, m = k.selRange.to.row, o = k.selRange.to.col;
                            i > f - 1 ? (i = f - 1, h = !0, m > i && (m = i)) : m > f - 1 && (m = f - 1, h = !0, 
                            i > m && (i = m)), j > g - 1 ? (j = g - 1, h = !0, o > j && (o = j)) : o > g - 1 && (o = g - 1, 
                            h = !0, j > o && (j = o)), h && p.selectCell(i, j, m, o);
                        }
                        p.view && p.view.wt.wtOverlays.adjustElementsSize();
                    },
                    populateFromArray: function(a, b, c, d, e, f, g) {
                        var h, i, j, l, m = [], n = {};
                        if (i = b.length, 0 === i) return !1;
                        var o, q, r, s;
                        ({
                            row: null === c ? null : c.row,
                            col: null === c ? null : c.col
                        });
                        switch (e) {
                          case "shift_down":
                            for (o = c ? c.col - a.col + 1 : 0, q = c ? c.row - a.row + 1 : 0, b = R(b), j = 0, 
                            l = b.length, r = Math.max(l, o); r > j; j++) if (l > j) {
                                for (h = 0, i = b[j].length; q - i > h; h++) b[j].push(b[j][h % i]);
                                b[j].unshift(a.col + j, a.row, 0), p.spliceCol.apply(p, b[j]);
                            } else b[j % l][0] = a.col + j, p.spliceCol.apply(p, b[j % l]);
                            break;

                          case "shift_right":
                            for (o = c ? c.col - a.col + 1 : 0, q = c ? c.row - a.row + 1 : 0, h = 0, i = b.length, 
                            s = Math.max(i, q); s > h; h++) if (i > h) {
                                for (j = 0, l = b[h].length; o - l > j; j++) b[h].push(b[h][j % l]);
                                b[h].unshift(a.row + h, a.col, 0), p.spliceRow.apply(p, b[h]);
                            } else b[h % i][0] = a.row + h, p.spliceRow.apply(p, b[h % i]);
                            break;

                          case "overwrite":
                          default:
                            n.row = a.row, n.col = a.col;
                            var t, u = {
                                row: c && a ? c.row - a.row + 1 : 1,
                                col: c && a ? c.col - a.col + 1 : 1
                            }, v = 0, w = 0, x = !0, y = function(a) {
                                var c = void 0 !== arguments[1] ? arguments[1] : null, d = b[a % b.length];
                                return null !== c ? d[c % d.length] : d;
                            }, z = b.length, A = c ? c.row - a.row + 1 : 0;
                            for (i = c ? A : Math.max(z, A), h = 0; i > h && !(c && n.row > c.row && A > z || !k.settings.allowInsertRow && n.row > p.countRows() - 1 || n.row >= k.settings.maxRows); h++) {
                                var B = h - v, C = y(B).length, D = c ? c.col - a.col + 1 : 0;
                                if (l = c ? D : Math.max(C, D), n.col = a.col, t = p.getCellMeta(n.row, n.col), 
                                "paste" !== d && "autofill" !== d || !t.skipRowOnPaste) {
                                    for (w = 0, j = 0; l > j && !(c && n.col > c.col && D > C || !k.settings.allowInsertColumn && n.col > p.countCols() - 1 || n.col >= k.settings.maxCols); j++) if (t = p.getCellMeta(n.row, n.col), 
                                    "paste" !== d && "autofill" !== d || !t.skipColumnOnPaste) if (t.readOnly) n.col++; else {
                                        var E = j - w, F = y(B, E), G = p.getDataAtCell(n.row, n.col), K = {
                                            row: B,
                                            col: E
                                        };
                                        if ("autofill" === d) {
                                            var L = p.runHooks("beforeAutofillInsidePopulate", K, f, b, g, {}, u);
                                            L && (F = "undefined" == typeof L.value ? F : L.value);
                                        }
                                        if (null !== F && "object" == typeof F) if (null === G || "object" != typeof G) x = !1; else {
                                            var M = H(G[0] || G), N = H(F[0] || F);
                                            I(M, N) ? F = J(F) : x = !1;
                                        } else null !== G && "object" == typeof G && (x = !1);
                                        x && m.push([ n.row, n.col, F ]), x = !0, n.col++;
                                    } else w++, n.col++, l++;
                                    n.row++;
                                } else v++, n.row++, i++;
                            }
                            p.setDataAtCell(m, null, null, d || "populateFromArray");
                        }
                    }
                }, this.selection = n = {
                    inProgress: !1,
                    selectedHeader: {
                        cols: !1,
                        rows: !1
                    },
                    setSelectedHeaders: function(a, b) {
                        p.selection.selectedHeader.rows = a, p.selection.selectedHeader.cols = b;
                    },
                    begin: function() {
                        p.selection.inProgress = !0;
                    },
                    finish: function() {
                        var a = p.getSelected();
                        Handsontable.hooks.run(p, "afterSelectionEnd", a[0], a[1], a[2], a[3]), Handsontable.hooks.run(p, "afterSelectionEndByProp", a[0], p.colToProp(a[1]), a[2], p.colToProp(a[3])), 
                        p.selection.inProgress = !1;
                    },
                    isInProgress: function() {
                        return p.selection.inProgress;
                    },
                    setRangeStart: function(a, b) {
                        Handsontable.hooks.run(p, "beforeSetRangeStart", a), k.selRange = new V(a, a, a), 
                        n.setRangeEnd(a, null, b);
                    },
                    setRangeEnd: function(a, b, c) {
                        if (null !== k.selRange) {
                            var d, e = !1, f = !0, g = p.view.wt.wtTable.getFirstVisibleRow(), h = p.view.wt.wtTable.getFirstVisibleColumn(), i = {
                                row: null,
                                col: null
                            };
                            Handsontable.hooks.run(p, "beforeSetRangeEnd", a), p.selection.begin(), i.row = a.row < 0 ? g : a.row, 
                            i.col = a.col < 0 ? h : a.col, k.selRange.to = new U(i.row, i.col), k.settings.multiSelect || (k.selRange.from = a), 
                            p.view.wt.selections.current.clear(), d = p.getCellMeta(k.selRange.highlight.row, k.selRange.highlight.col).disableVisualSelection, 
                            "string" == typeof d && (d = [ d ]), (d === !1 || Array.isArray(d) && -1 === d.indexOf("current")) && p.view.wt.selections.current.add(k.selRange.highlight), 
                            p.view.wt.selections.area.clear(), (d === !1 || Array.isArray(d) && -1 === d.indexOf("area")) && n.isMultiple() && (p.view.wt.selections.area.add(k.selRange.from), 
                            p.view.wt.selections.area.add(k.selRange.to)), (k.settings.currentRowClassName || k.settings.currentColClassName) && (p.view.wt.selections.highlight.clear(), 
                            p.view.wt.selections.highlight.add(k.selRange.from), p.view.wt.selections.highlight.add(k.selRange.to)), 
                            Handsontable.hooks.run(p, "afterSelection", k.selRange.from.row, k.selRange.from.col, k.selRange.to.row, k.selRange.to.col), 
                            Handsontable.hooks.run(p, "afterSelectionByProp", k.selRange.from.row, l.colToProp(k.selRange.from.col), k.selRange.to.row, l.colToProp(k.selRange.to.col)), 
                            (0 === k.selRange.from.row && k.selRange.to.row === p.countRows() - 1 && p.countRows() > 1 || 0 === k.selRange.from.col && k.selRange.to.col === p.countCols() - 1 && p.countCols() > 1) && (e = !0), 
                            (a.row < 0 || a.col < 0) && (f = !1), b !== !1 && !e && f && (k.selRange.from && !n.isMultiple() ? p.view.scrollViewport(k.selRange.from) : p.view.scrollViewport(a)), 
                            n.refreshBorders(null, c);
                        }
                    },
                    refreshBorders: function(a, b) {
                        b || o.destroyEditor(a), p.view.render(), n.isSelected() && !b && o.prepareEditor();
                    },
                    isMultiple: function() {
                        var a = !(k.selRange.to.col === k.selRange.from.col && k.selRange.to.row === k.selRange.from.row), b = Handsontable.hooks.run(p, "afterIsMultipleSelection", a);
                        return a ? b : void 0;
                    },
                    transformStart: function(a, b, c, d) {
                        var e, f, g, h, i = new U(a, b), j = 0, l = 0;
                        p.runHooks("modifyTransformStart", i), e = p.countRows(), f = p.countCols(), h = p.getSettings().fixedRowsBottom, 
                        k.selRange.highlight.row + a > e - 1 ? c && k.settings.minSpareRows > 0 && !(h && k.selRange.highlight.row >= e - h - 1) ? (p.alter("insert_row", e), 
                        e = p.countRows()) : k.settings.autoWrapCol && (i.row = 1 - e, i.col = k.selRange.highlight.col + i.col == f - 1 ? 1 - f : 1) : k.settings.autoWrapCol && k.selRange.highlight.row + i.row < 0 && k.selRange.highlight.col + i.col >= 0 && (i.row = e - 1, 
                        i.col = k.selRange.highlight.col + i.col == 0 ? f - 1 : -1), k.selRange.highlight.col + i.col > f - 1 ? c && k.settings.minSpareCols > 0 ? (p.alter("insert_col", f), 
                        f = p.countCols()) : k.settings.autoWrapRow && (i.row = k.selRange.highlight.row + i.row == e - 1 ? 1 - e : 1, 
                        i.col = 1 - f) : k.settings.autoWrapRow && k.selRange.highlight.col + i.col < 0 && k.selRange.highlight.row + i.row >= 0 && (i.row = k.selRange.highlight.row + i.row == 0 ? e - 1 : -1, 
                        i.col = f - 1), g = new U(k.selRange.highlight.row + i.row, k.selRange.highlight.col + i.col), 
                        g.row < 0 ? (j = -1, g.row = 0) : g.row > 0 && g.row >= e && (j = 1, g.row = e - 1), 
                        g.col < 0 ? (l = -1, g.col = 0) : g.col > 0 && g.col >= f && (l = 1, g.col = f - 1), 
                        p.runHooks("afterModifyTransformStart", g, j, l), n.setRangeStart(g, d);
                    },
                    transformEnd: function(a, b) {
                        var c, d, e, f = new U(a, b), g = 0, h = 0;
                        p.runHooks("modifyTransformEnd", f), c = p.countRows(), d = p.countCols(), e = new U(k.selRange.to.row + f.row, k.selRange.to.col + f.col), 
                        e.row < 0 ? (g = -1, e.row = 0) : e.row > 0 && e.row >= c && (g = 1, e.row = c - 1), 
                        e.col < 0 ? (h = -1, e.col = 0) : e.col > 0 && e.col >= d && (h = 1, e.col = d - 1), 
                        p.runHooks("afterModifyTransformEnd", e, g, h), n.setRangeEnd(e, !0);
                    },
                    isSelected: function() {
                        return null !== k.selRange;
                    },
                    inInSelection: function(a) {
                        return n.isSelected() ? k.selRange.includes(a) : !1;
                    },
                    deselect: function() {
                        n.isSelected() && (p.selection.inProgress = !1, k.selRange = null, p.view.wt.selections.current.clear(), 
                        p.view.wt.selections.area.clear(), (k.settings.currentRowClassName || k.settings.currentColClassName) && p.view.wt.selections.highlight.clear(), 
                        o.destroyEditor(), n.refreshBorders(), Handsontable.hooks.run(p, "afterDeselect"));
                    },
                    selectAll: function() {
                        k.settings.multiSelect && (n.setRangeStart(new U(0, 0)), n.setRangeEnd(new U(p.countRows() - 1, p.countCols() - 1), !1));
                    },
                    empty: function() {
                        if (n.isSelected()) {
                            var a, b, c = k.selRange.getTopLeftCorner(), d = k.selRange.getBottomRightCorner(), e = [];
                            for (a = c.row; a <= d.row; a++) for (b = c.col; b <= d.col; b++) p.getCellMeta(a, b).readOnly || e.push([ a, b, "" ]);
                            p.setDataAtCell(e);
                        }
                    }
                }, this.init = function() {
                    Handsontable.hooks.run(p, "beforeInit"), Handsontable.mobileBrowser && x(p.rootElement, "mobile"), 
                    this.updateSettings(k.settings, !0), this.view = new P(this), o = new D(p, k, n, l), 
                    this.forceFullRender = !0, Handsontable.hooks.run(p, "init"), this.view.render(), 
                    "object" == typeof k.firstRun && (Handsontable.hooks.run(p, "afterChange", k.firstRun[0], k.firstRun[1]), 
                    k.firstRun = !1), Handsontable.hooks.run(p, "afterInit");
                }, this.validateCell = function(a, b, c, d) {
                    function e(a) {
                        var d = b.col, e = b.row, f = p.getCell(e, d, !0);
                        f && p.view.wt.wtSettings.settings.cellRenderer(e, d, f), c(a);
                    }
                    var f = p.getCellValidator(b);
                    "[object RegExp]" === Object.prototype.toString.call(f) && (f = function(a) {
                        return function(b, c) {
                            c(a.test(b));
                        };
                    }(f)), "function" == typeof f ? (a = Handsontable.hooks.run(p, "beforeValidate", a, b.row, b.prop, d), 
                    p._registerTimeout(setTimeout(function() {
                        f.call(b, a, function(c) {
                            c = Handsontable.hooks.run(p, "afterValidate", c, a, b.row, b.prop, d), b.valid = c, 
                            e(c), Handsontable.hooks.run(p, "postAfterValidate", c, a, b.row, b.prop, d);
                        });
                    }, 0))) : (b.valid = !0, e(b.valid));
                }, this.setDataAtCell = function(a, b, c, g) {
                    var h, i, j, k = f(a, b, c), m = [];
                    for (h = 0, i = k.length; i > h; h++) {
                        if ("object" != typeof k[h]) throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");
                        if ("number" != typeof k[h][1]) throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");
                        j = l.colToProp(k[h][1]), m.push([ k[h][0], j, l.get(k[h][0], j), k[h][2] ]);
                    }
                    g || "object" != typeof a || (g = b), d(m, g, function() {
                        e(m, g);
                    });
                }, this.setDataAtRowProp = function(a, b, c, g) {
                    var h, i, j = f(a, b, c), k = [];
                    for (h = 0, i = j.length; i > h; h++) k.push([ j[h][0], j[h][1], l.get(j[h][0], j[h][1]), j[h][2] ]);
                    g || "object" != typeof a || (g = b), d(k, g, function() {
                        e(k, g);
                    });
                }, this.listen = function() {
                    Handsontable.activeGuid = p.guid, document.activeElement && document.activeElement !== document.body ? document.activeElement.blur() : document.activeElement || document.body.focus();
                }, this.unlisten = function() {
                    Handsontable.activeGuid = null;
                }, this.isListening = function() {
                    return Handsontable.activeGuid === p.guid;
                }, this.destroyEditor = function(a) {
                    n.refreshBorders(a);
                }, this.populateFromArray = function(a, b, c, d, e, f, g, h, i) {
                    var j;
                    if ("object" != typeof c || "object" != typeof c[0]) throw new Error("populateFromArray parameter `input` must be an array of arrays");
                    return j = "number" == typeof d ? new U(d, e) : null, m.populateFromArray(new U(a, b), c, j, f, g, h, i);
                }, this.spliceCol = function(a, b, c) {
                    return l.spliceCol.apply(l, arguments);
                }, this.spliceRow = function(a, b, c) {
                    return l.spliceRow.apply(l, arguments);
                }, this.getSelected = function() {
                    return n.isSelected() ? [ k.selRange.from.row, k.selRange.from.col, k.selRange.to.row, k.selRange.to.col ] : void 0;
                }, this.getSelectedRange = function() {
                    return n.isSelected() ? k.selRange : void 0;
                }, this.render = function() {
                    p.view && (p.renderCall = !0, p.forceFullRender = !0, n.refreshBorders(null, !0));
                }, this.loadData = function(a) {
                    function b() {
                        k.cellSettings.length = 0;
                    }
                    if ("object" == typeof a && null !== a) a.push && a.splice || (a = [ a ]); else {
                        if (null !== a) throw new Error("loadData only accepts array of objects or array of arrays (" + typeof a + " given)");
                        a = [];
                        for (var c, d = 0, e = k.settings.startRows; e > d; d++) {
                            c = [];
                            for (var f = 0, g = k.settings.startCols; g > f; f++) c.push(null);
                            a.push(c);
                        }
                    }
                    k.isPopulated = !1, q.prototype.data = a, Array.isArray(k.settings.dataSchema) || Array.isArray(a[0]) ? p.dataType = "array" : "function" == typeof k.settings.dataSchema ? p.dataType = "function" : p.dataType = "object", 
                    l = new C(p, k, q), b(), m.adjustRowsAndCols(), Handsontable.hooks.run(p, "afterLoadData"), 
                    k.firstRun ? k.firstRun = [ null, "loadData" ] : (Handsontable.hooks.run(p, "afterChange", null, "loadData"), 
                    p.render()), k.isPopulated = !0;
                }, this.getData = function(a, b, c, d) {
                    return "undefined" == typeof a ? l.getAll() : l.getRange(new U(a, b), new U(c, d), l.DESTINATION_RENDERER);
                }, this.getCopyableText = function(a, b, c, d) {
                    return l.getCopyableText(new U(a, b), new U(c, d));
                }, this.getCopyableData = function(a, b) {
                    return l.getCopyable(a, l.colToProp(b));
                }, this.getSchema = function() {
                    return l.getSchema();
                }, this.updateSettings = function(a, b) {
                    var c, d;
                    if ("undefined" != typeof a.rows) throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');
                    if ("undefined" != typeof a.cols) throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');
                    for (c in a) "data" !== c && (Handsontable.hooks.getRegistered().indexOf(c) > -1 ? ("function" == typeof a[c] || Array.isArray(a[c])) && p.addHook(c, a[c]) : !b && a.hasOwnProperty(c) && (q.prototype[c] = a[c]));
                    if (void 0 === a.data && void 0 === k.settings.data ? p.loadData(null) : void 0 !== a.data ? p.loadData(a.data) : void 0 !== a.columns && l.createMap(), 
                    d = p.countCols(), k.cellSettings.length = 0, d > 0) {
                        var e, f;
                        for (c = 0; d > c; c++) k.columnSettings[c] = B(q, k.columnsSettingConflicts), e = k.columnSettings[c].prototype, 
                        q.prototype.columns && (f = q.prototype.columns[c], G(e, f), G(e, g(f)));
                    }
                    if ("undefined" != typeof a.cell) for (c in a.cell) if (a.cell.hasOwnProperty(c)) {
                        var h = a.cell[c];
                        p.setCellMetaObject(h.row, h.col, h);
                    }
                    if (Handsontable.hooks.run(p, "afterCellMetaReset"), "undefined" != typeof a.className && (q.prototype.className && A(p.rootElement, q.prototype.className), 
                    a.className && x(p.rootElement, a.className)), "undefined" != typeof a.height) {
                        var i = a.height;
                        "function" == typeof i && (i = i()), p.rootElement.style.height = i + "px";
                    }
                    if ("undefined" != typeof a.width) {
                        var j = a.width;
                        "function" == typeof j && (j = j()), p.rootElement.style.width = j + "px";
                    }
                    i && (p.rootElement.style.overflow = "hidden"), b || Handsontable.hooks.run(p, "afterUpdateSettings"), 
                    m.adjustRowsAndCols(), p.view && !k.firstRun && (p.forceFullRender = !0, n.refreshBorders(null, !0));
                }, this.getValue = function() {
                    var a = p.getSelected();
                    if (q.prototype.getValue) {
                        if ("function" == typeof q.prototype.getValue) return q.prototype.getValue.call(p);
                        if (a) return p.getData()[a[0]][q.prototype.getValue];
                    } else if (a) return p.getDataAtCell(a[0], a[1]);
                }, this.getSettings = function() {
                    return k.settings;
                }, this.clear = function() {
                    n.selectAll(), n.empty();
                }, this.alter = function(a, b, c, d, e) {
                    m.alter(a, b, c, d, e);
                }, this.getCell = function(a, b, c) {
                    return p.view.getCellAtCoords(new U(a, b), c);
                }, this.getCoords = function(a) {
                    return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable, a);
                }, this.colToProp = function(a) {
                    return l.colToProp(a);
                }, this.propToCol = function(a) {
                    return l.propToCol(a);
                }, this.getDataAtCell = function(a, b) {
                    return l.get(a, l.colToProp(b));
                }, this.getDataAtRowProp = function(a, b) {
                    return l.get(a, b);
                }, this.getDataAtCol = function(a) {
                    var b = [];
                    return b.concat.apply(b, l.getRange(new U(0, a), new U(k.settings.data.length - 1, a), l.DESTINATION_RENDERER));
                }, this.getDataAtProp = function(a) {
                    var b, c = [];
                    return b = l.getRange(new U(0, l.propToCol(a)), new U(k.settings.data.length - 1, l.propToCol(a)), l.DESTINATION_RENDERER), 
                    c.concat.apply(c, b);
                }, this.getSourceDataAtCol = function(a) {
                    for (var b = [], c = k.settings.data, d = 0; d < c.length; d++) b.push(c[d][a]);
                    return b;
                }, this.getSourceDataAtRow = function(a) {
                    return k.settings.data[a];
                }, this.getDataAtRow = function(a) {
                    var b = l.getRange(new U(a, 0), new U(a, this.countCols() - 1), l.DESTINATION_RENDERER);
                    return b[0];
                }, this.getDataType = function(a, b, c, d) {
                    var e = this, f = null, g = null;
                    void 0 === a && (a = 0, c = this.countRows(), b = 0, d = this.countCols()), void 0 === c && (c = a), 
                    void 0 === d && (d = b);
                    var h = "mixed";
                    return O(Math.min(a, c), Math.max(a, c), function(a) {
                        var c = !0;
                        return O(Math.min(b, d), Math.max(b, d), function(b) {
                            var d = e.getCellMeta(a, b);
                            return g = d.type, f ? c = f === g : f = g, c;
                        }), h = c ? g : "mixed", c;
                    }), h;
                }, this.removeCellMeta = function(a, b, c) {
                    var d = p.getCellMeta(a, b);
                    void 0 != d[c] && delete k.cellSettings[a][b][c];
                }, this.setCellMetaObject = function(a, b, c) {
                    if ("object" == typeof c) for (var d in c) if (c.hasOwnProperty(d)) {
                        var e = c[d];
                        this.setCellMeta(a, b, d, e);
                    }
                }, this.setCellMeta = function(a, b, c, d) {
                    k.cellSettings[a] || (k.cellSettings[a] = []), k.cellSettings[a][b] || (k.cellSettings[a][b] = new k.columnSettings[b]()), 
                    k.cellSettings[a][b][c] = d, Handsontable.hooks.run(p, "afterSetCellMeta", a, b, c, d);
                }, this.getCellsMeta = function() {
                    return K(k.cellSettings);
                }, this.getCellMeta = function(a, b) {
                    var c, d = l.colToProp(b);
                    if (a = h(a), b = i(b), k.columnSettings[b] || (k.columnSettings[b] = B(q, k.columnsSettingConflicts)), 
                    k.cellSettings[a] || (k.cellSettings[a] = []), k.cellSettings[a][b] || (k.cellSettings[a][b] = new k.columnSettings[b]()), 
                    c = k.cellSettings[a][b], c.row = a, c.col = b, c.prop = d, c.instance = p, Handsontable.hooks.run(p, "beforeGetCellMeta", a, b, c), 
                    G(c, g(c)), c.cells) {
                        var e = c.cells.call(c, a, b, d);
                        e && (G(c, e), G(c, g(e)));
                    }
                    return Handsontable.hooks.run(p, "afterGetCellMeta", a, b, c), c;
                }, this.isColumnModificationAllowed = function() {
                    return !("object" === p.dataType || p.getSettings().columns);
                };
                var s = S("renderer");
                this.getCellRenderer = function(a, b) {
                    var c = s.call(this, a, b);
                    return M(c);
                }, this.getCellEditor = S("editor"), this.getCellValidator = S("validator"), this.validateCells = function(a) {
                    var b = new c();
                    b.onQueueEmpty = a;
                    for (var d = p.countRows() - 1; d >= 0; ) {
                        for (var e = p.countCols() - 1; e >= 0; ) b.addValidatorToQueue(), p.validateCell(p.getDataAtCell(d, e), p.getCellMeta(d, e), function(a) {
                            if ("boolean" != typeof a) throw new Error("Validation error: result is not boolean");
                            a === !1 && (b.valid = !1), b.removeValidatorFormQueue();
                        }, "validateCells"), e--;
                        d--;
                    }
                    b.checkIfQueueIsEmpty();
                }, this.getRowHeader = function(a) {
                    if (void 0 === a) {
                        for (var b = [], c = 0, d = p.countRows(); d > c; c++) b.push(p.getRowHeader(c));
                        return b;
                    }
                    return Array.isArray(k.settings.rowHeaders) && void 0 !== k.settings.rowHeaders[a] ? k.settings.rowHeaders[a] : "function" == typeof k.settings.rowHeaders ? k.settings.rowHeaders(a) : k.settings.rowHeaders && "string" != typeof k.settings.rowHeaders && "number" != typeof k.settings.rowHeaders ? a + 1 : k.settings.rowHeaders;
                }, this.hasRowHeaders = function() {
                    return !!k.settings.rowHeaders;
                }, this.hasColHeaders = function() {
                    if (void 0 !== k.settings.colHeaders && null !== k.settings.colHeaders) return !!k.settings.colHeaders;
                    for (var a = 0, b = p.countCols(); b > a; a++) if (p.getColHeader(a)) return !0;
                    return !1;
                }, this.getColHeader = function(a) {
                    if (void 0 === a) {
                        for (var b = [], c = 0, d = p.countCols(); d > c; c++) b.push(p.getColHeader(c));
                        return b;
                    }
                    var e = a;
                    return a = Handsontable.hooks.run(p, "modifyCol", a), k.settings.columns && k.settings.columns[a] && k.settings.columns[a].title ? k.settings.columns[a].title : Array.isArray(k.settings.colHeaders) && void 0 !== k.settings.colHeaders[a] ? k.settings.colHeaders[a] : "function" == typeof k.settings.colHeaders ? k.settings.colHeaders(a) : k.settings.colHeaders && "string" != typeof k.settings.colHeaders && "number" != typeof k.settings.colHeaders ? T(e) : k.settings.colHeaders;
                }, this._getColWidthFromSettings = function(a) {
                    var b = p.getCellMeta(0, a), c = b.width;
                    if ((void 0 === c || c === k.settings.width) && (c = b.colWidths), void 0 !== c && null !== c) {
                        switch (typeof c) {
                          case "object":
                            c = c[a];
                            break;

                          case "function":
                            c = c(a);
                        }
                        "string" == typeof c && (c = parseInt(c, 10));
                    }
                    return c;
                }, this.getColWidth = function(a) {
                    var b = p._getColWidthFromSettings(a);
                    return b = Handsontable.hooks.run(p, "modifyColWidth", b, a), void 0 === b && (b = W.DEFAULT_WIDTH), 
                    b;
                }, this._getRowHeightFromSettings = function(a) {
                    var b = k.settings.rowHeights;
                    if (void 0 !== b && null !== b) {
                        switch (typeof b) {
                          case "object":
                            b = b[a];
                            break;

                          case "function":
                            b = b(a);
                        }
                        "string" == typeof b && (b = parseInt(b, 10));
                    }
                    return b;
                }, this.getRowHeight = function(a) {
                    var b = p._getRowHeightFromSettings(a);
                    return b = Handsontable.hooks.run(p, "modifyRowHeight", b, a);
                }, this.countRows = function() {
                    return k.settings.data.length;
                }, this.countCols = function() {
                    return "object" === p.dataType || "function" === p.dataType ? k.settings.columns && k.settings.columns.length ? k.settings.columns.length : l.colToPropCache.length : "array" === p.dataType ? k.settings.columns && k.settings.columns.length ? k.settings.columns.length : k.settings.data && k.settings.data[0] && k.settings.data[0].length ? k.settings.data[0].length : 0 : void 0;
                }, this.getColspanOffset = function(a, b) {
                    var c = 0;
                    if (p.colspanArray) {
                        for (var d = 0; a > d; d++) c += p.colspanArray[b][d] - 1 || 0;
                        return c;
                    }
                    for (var c = 0, e = p.view.wt.wtTable.THEAD.childNodes.length - b - 1, f = p.view.wt.wtTable.THEAD.querySelector("tr:nth-child(" + parseInt(e + 1, 10) + ")"), g = p.view.wt.wtSettings.settings.rowHeaders().length, d = g; g + a > d; d++) f.childNodes[d].hasAttribute("colspan") && (c += parseInt(f.childNodes[d].getAttribute("colspan"), 10) - 1);
                    return c;
                }, this.getHeaderColspan = function(a, b) {
                    var c = p.view.wt.wtTable.THEAD.childNodes.length - b - 1, d = p.view.wt.wtSettings.settings.rowHeaders().length, e = p.view.wt.wtTable.THEAD.querySelector("tr:nth-child(" + parseInt(c + 1, 10) + ")"), f = d + a - p.view.wt.wtViewport.columnsRenderCalculator.startColumn;
                    return e.childNodes[f].hasAttribute("colspan") ? parseInt(e.childNodes[f].getAttribute("colspan"), 10) : 0;
                }, this.rowOffset = function() {
                    return p.view.wt.wtTable.getFirstRenderedRow();
                }, this.colOffset = function() {
                    return p.view.wt.wtTable.getFirstRenderedColumn();
                }, this.countRenderedRows = function() {
                    return p.view.wt.drawn ? p.view.wt.wtTable.getRenderedRowsCount() : -1;
                }, this.countVisibleRows = function() {
                    return p.view.wt.drawn ? p.view.wt.wtTable.getVisibleRowsCount() : -1;
                }, this.countRenderedCols = function() {
                    return p.view.wt.drawn ? p.view.wt.wtTable.getRenderedColumnsCount() : -1;
                }, this.countVisibleCols = function() {
                    return p.view.wt.drawn ? p.view.wt.wtTable.getVisibleColumnsCount() : -1;
                }, this.countEmptyRows = function(a) {
                    for (var b, c = p.countRows() - 1, d = 0; c >= 0; ) {
                        if (b = Handsontable.hooks.run(this, "modifyRow", c), p.isEmptyRow(b)) d++; else if (a) break;
                        c--;
                    }
                    return d;
                }, this.countEmptyCols = function(a) {
                    if (p.countRows() < 1) return 0;
                    for (var b = p.countCols() - 1, c = 0; b >= 0; ) {
                        if (p.isEmptyCol(b)) c++; else if (a) break;
                        b--;
                    }
                    return c;
                }, this.isEmptyRow = function(a) {
                    return k.settings.isEmptyRow.call(p, a);
                }, this.isEmptyCol = function(a) {
                    return k.settings.isEmptyCol.call(p, a);
                }, this.selectCell = function(a, b, c, d, e, f) {
                    var g;
                    if (f = "undefined" == typeof f || f === !0, "number" != typeof a || 0 > a || a >= p.countRows()) return !1;
                    if ("number" != typeof b || 0 > b || b >= p.countCols()) return !1;
                    if ("undefined" != typeof c) {
                        if ("number" != typeof c || 0 > c || c >= p.countRows()) return !1;
                        if ("number" != typeof d || 0 > d || d >= p.countCols()) return !1;
                    }
                    return g = new U(a, b), k.selRange = new V(g, g, g), document.activeElement && document.activeElement !== document.documentElement && document.activeElement !== document.body && document.activeElement.blur(), 
                    f && p.listen(), "undefined" == typeof c ? n.setRangeEnd(k.selRange.from, e) : n.setRangeEnd(new U(c, d), e), 
                    p.selection.finish(), !0;
                }, this.selectCellByProp = function(a, b, c, d, e) {
                    return arguments[1] = l.propToCol(arguments[1]), "undefined" != typeof arguments[3] && (arguments[3] = l.propToCol(arguments[3])), 
                    p.selectCell.apply(p, arguments);
                }, this.deselectCell = function() {
                    n.deselect();
                }, this.destroy = function() {
                    p._clearTimeouts(), p.view && p.view.destroy(), y(p.rootElement), r.destroy(), Handsontable.hooks.run(p, "afterDestroy"), 
                    Handsontable.hooks.destroy(p);
                    for (var a in p) p.hasOwnProperty(a) && ("function" == typeof p[a] ? p[a] = j : "guid" !== a && (p[a] = null));
                    k = null, l = null, m = null, n = null, o = null, p = null, q = null;
                }, this.getActiveEditor = function() {
                    return o.getActiveEditor();
                }, this.getPlugin = function(a) {
                    return L(this, a);
                }, this.getInstance = function() {
                    return p;
                }, this.addHook = function(a, b) {
                    Handsontable.hooks.add(a, b, p);
                }, this.addHookOnce = function(a, b) {
                    Handsontable.hooks.once(a, b, p);
                }, this.removeHook = function(a, b) {
                    Handsontable.hooks.remove(a, b, p);
                }, this.runHooks = function(a, b, c, d, e, f, g) {
                    return Handsontable.hooks.run(p, a, b, c, d, e, f, g);
                }, this.timeouts = [], this._registerTimeout = function(a) {
                    this.timeouts.push(a);
                }, this._clearTimeouts = function() {
                    for (var a = 0, b = this.timeouts.length; b > a; a++) clearTimeout(this.timeouts[a]);
                }, this.version = Handsontable.version, Handsontable.hooks.run(p, "construct");
            };
            var X = function() {};
            X.prototype = {
                data: void 0,
                dataSchema: void 0,
                width: void 0,
                height: void 0,
                startRows: 5,
                startCols: 5,
                rowHeaders: null,
                colHeaders: null,
                colWidths: void 0,
                columns: void 0,
                cells: void 0,
                cell: [],
                comments: !1,
                customBorders: !1,
                minRows: 0,
                minCols: 0,
                maxRows: 1 / 0,
                maxCols: 1 / 0,
                minSpareRows: 0,
                minSpareCols: 0,
                allowInsertRow: !0,
                allowInsertColumn: !0,
                allowRemoveRow: !0,
                allowRemoveColumn: !0,
                multiSelect: !0,
                fillHandle: !0,
                fixedRowsTop: 0,
                fixedRowsBottom: 0,
                fixedColumnsLeft: 0,
                outsideClickDeselects: !0,
                enterBeginsEditing: !0,
                enterMoves: {
                    row: 1,
                    col: 0
                },
                tabMoves: {
                    row: 0,
                    col: 1
                },
                autoWrapRow: !1,
                autoWrapCol: !1,
                copyRowsLimit: 1e3,
                copyColsLimit: 1e3,
                pasteMode: "overwrite",
                persistentState: !1,
                currentRowClassName: void 0,
                currentColClassName: void 0,
                className: void 0,
                tableClassName: void 0,
                stretchH: "none",
                isEmptyRow: function(a) {
                    var b, c, d, e;
                    for (b = 0, c = this.countCols(); c > b; b++) if (d = this.getDataAtCell(a, b), 
                    "" !== d && null !== d && "undefined" != typeof d) return "object" == typeof d ? (e = this.getCellMeta(a, b), 
                    I(this.getSchema()[e.prop], d)) : !1;
                    return !0;
                },
                isEmptyCol: function(a) {
                    var b, c, d;
                    for (b = 0, c = this.countRows(); c > b; b++) if (d = this.getDataAtCell(b, a), 
                    "" !== d && null !== d && "undefined" != typeof d) return !1;
                    return !0;
                },
                observeDOMVisibility: !0,
                allowInvalid: !0,
                invalidCellClassName: "htInvalid",
                placeholder: !1,
                placeholderCellClassName: "htPlaceholder",
                readOnlyCellClassName: "htDimmed",
                renderer: void 0,
                commentedCellClassName: "htCommentCell",
                fragmentSelection: !1,
                readOnly: !1,
                skipColumnOnPaste: !1,
                search: !1,
                type: "text",
                copyable: !0,
                editor: void 0,
                autoComplete: void 0,
                visibleRows: 10,
                trimDropdown: !0,
                debug: !1,
                wordWrap: !0,
                noWordWrapClassName: "htNoWrap",
                contextMenu: void 0,
                contextMenuCopyPaste: void 0,
                copyPaste: void 0,
                undo: void 0,
                columnSorting: void 0,
                manualColumnMove: void 0,
                manualColumnResize: void 0,
                manualRowMove: void 0,
                manualRowResize: void 0,
                mergeCells: !1,
                viewportRowRenderingOffset: "auto",
                viewportColumnRenderingOffset: "auto",
                validator: void 0,
                disableVisualSelection: !1,
                sortIndicator: !1,
                manualColumnFreeze: void 0,
                trimWhitespace: !0,
                settings: void 0,
                source: void 0,
                title: void 0,
                checkedTemplate: void 0,
                uncheckedTemplate: void 0,
                label: void 0,
                format: void 0,
                language: void 0,
                selectOptions: void 0,
                autoColumnSize: void 0,
                autoRowSize: void 0,
                dateFormat: void 0,
                correctFormat: !1,
                defaultDate: void 0,
                strict: void 0,
                renderAllRows: void 0
            }, Handsontable.DefaultSettings = X;
        }, {
            "3rdparty/walkontable/src/calculator/viewportColumns": 3,
            "3rdparty/walkontable/src/cell/coords": 5,
            "3rdparty/walkontable/src/cell/range": 6,
            "3rdparty/walkontable/src/selection": 18,
            dataMap: 26,
            editorManager: 27,
            eventManager: 40,
            "helpers/array": 41,
            "helpers/data": 43,
            "helpers/dom/element": 44,
            "helpers/number": 48,
            "helpers/object": 49,
            "helpers/setting": 50,
            "helpers/string": 51,
            numeral: "numeral",
            plugins: 55,
            renderers: 86,
            tableView: 95
        } ],
        26: [ function(a, b, c) {
            "use strict";
            function d(a, b, c) {
                this.instance = a, this.priv = b, this.GridSettings = c, this.dataSource = this.instance.getSettings().data, 
                this.dataSource[0] ? this.duckSchema = this.recursiveDuckSchema(this.dataSource[0]) : this.duckSchema = {}, 
                this.createMap();
            }
            Object.defineProperties(c, {
                DataMap: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i, j, k = (e = a("SheetClip"), e && e.__esModule && e || {
                "default": e
            })["default"], l = (f = a("helpers/data"), f && f.__esModule && f || {
                "default": f
            }).cellMethodLookupFactory, m = (g = a("helpers/setting"), g && g.__esModule && g || {
                "default": g
            }).columnFactory, n = (h = a("helpers/object"), h && h.__esModule && h || {
                "default": h
            }), o = n.duckSchema, p = n.deepExtend, q = (i = a("helpers/array"), i && i.__esModule && i || {
                "default": i
            }), r = q.extendArray, s = q.to2dArray, t = (j = a("multiMap"), j && j.__esModule && j || {
                "default": j
            }).MultiMap;
            d.prototype.DESTINATION_RENDERER = 1, d.prototype.DESTINATION_CLIPBOARD_GENERATOR = 2, 
            d.prototype.recursiveDuckSchema = function(a) {
                return o(a);
            }, d.prototype.recursiveDuckColumns = function(a, b, c) {
                var d, e;
                if ("undefined" == typeof b && (b = 0, c = ""), "object" == typeof a && !Array.isArray(a)) for (e in a) a.hasOwnProperty(e) && (null === a[e] ? (d = c + e, 
                this.colToPropCache.push(d), this.propToColCache.set(d, b), b++) : b = this.recursiveDuckColumns(a[e], b, e + "."));
                return b;
            }, d.prototype.createMap = function() {
                var a, b, c = this.getSchema();
                if ("undefined" == typeof c) throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");
                this.colToPropCache = [], this.propToColCache = new t();
                var d = this.instance.getSettings().columns;
                if (d) for (a = 0, b = d.length; b > a; a++) "undefined" != typeof d[a].data && (this.colToPropCache[a] = d[a].data, 
                this.propToColCache.set(d[a].data, a)); else this.recursiveDuckColumns(c);
            }, d.prototype.colToProp = function(a) {
                return a = Handsontable.hooks.run(this.instance, "modifyCol", a), this.colToPropCache && "undefined" != typeof this.colToPropCache[a] ? this.colToPropCache[a] : a;
            }, d.prototype.propToCol = function(a) {
                var b;
                return b = "undefined" == typeof this.propToColCache.get(a) ? a : this.propToColCache.get(a), 
                b = Handsontable.hooks.run(this.instance, "modifyCol", b);
            }, d.prototype.getSchema = function() {
                var a = this.instance.getSettings().dataSchema;
                return a ? "function" == typeof a ? a() : a : this.duckSchema;
            }, d.prototype.createRow = function(a, b, c) {
                var d, e, f = this.instance.countCols(), g = 0;
                b || (b = 1), ("number" != typeof a || a >= this.instance.countRows()) && (a = this.instance.countRows()), 
                e = a;
                for (var h = this.instance.getSettings().maxRows; b > g && this.instance.countRows() < h; ) {
                    if ("array" === this.instance.dataType) {
                        d = [];
                        for (var i = 0; f > i; i++) d.push(null);
                    } else "function" === this.instance.dataType ? d = this.instance.getSettings().dataSchema(a) : (d = {}, 
                    p(d, this.getSchema()));
                    a === this.instance.countRows() ? this.dataSource.push(d) : this.dataSource.splice(a, 0, d), 
                    g++, e++;
                }
                return Handsontable.hooks.run(this.instance, "afterCreateRow", a, g, c), this.instance.forceFullRender = !0, 
                g;
            }, d.prototype.createCol = function(a, b, c) {
                if (!this.instance.isColumnModificationAllowed()) throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");
                var d, e, f = this.instance.countRows(), g = this.dataSource, h = 0;
                b || (b = 1), e = a;
                for (var i = this.instance.getSettings().maxCols; b > h && this.instance.countCols() < i; ) {
                    if (d = m(this.GridSettings, this.priv.columnsSettingConflicts), "number" != typeof a || a >= this.instance.countCols()) {
                        for (var j = 0; f > j; j++) "undefined" == typeof g[j] && (g[j] = []), g[j].push(null);
                        this.priv.columnSettings.push(d);
                    } else {
                        for (var j = 0; f > j; j++) g[j].splice(e, 0, null);
                        this.priv.columnSettings.splice(e, 0, d);
                    }
                    h++, e++;
                }
                return Handsontable.hooks.run(this.instance, "afterCreateCol", a, h, c), this.instance.forceFullRender = !0, 
                h;
            }, d.prototype.removeRow = function(a, b) {
                b || (b = 1), "number" != typeof a && (a = -b), a = (this.instance.countRows() + a) % this.instance.countRows();
                var c = this.physicalRowsToLogical(a, b), d = Handsontable.hooks.run(this.instance, "beforeRemoveRow", a, b);
                if (d !== !1) {
                    var e = this.dataSource, f = e.filter(function(a, b) {
                        return -1 == c.indexOf(b);
                    });
                    e.length = 0, Array.prototype.push.apply(e, f), Handsontable.hooks.run(this.instance, "afterRemoveRow", a, b), 
                    this.instance.forceFullRender = !0;
                }
            }, d.prototype.removeCol = function(a, b) {
                if ("object" === this.instance.dataType || this.instance.getSettings().columns) throw new Error("cannot remove column with object data source or columns option specified");
                b || (b = 1), "number" != typeof a && (a = -b), a = (this.instance.countCols() + a) % this.instance.countCols();
                var c = Handsontable.hooks.run(this.instance, "beforeRemoveCol", a, b);
                if (c !== !1) {
                    for (var d = this.dataSource, e = 0, f = this.instance.countRows(); f > e; e++) d[e].splice(a, b);
                    this.priv.columnSettings.splice(a, b), Handsontable.hooks.run(this.instance, "afterRemoveCol", a, b), 
                    this.instance.forceFullRender = !0;
                }
            }, d.prototype.spliceCol = function(a, b, c) {
                var d = 4 <= arguments.length ? [].slice.call(arguments, 3) : [], e = this.instance.getDataAtCol(a), f = e.slice(b, b + c), g = e.slice(b + c);
                r(d, g);
                for (var h = 0; c > h; ) d.push(null), h++;
                return s(d), this.instance.populateFromArray(b, a, d, null, null, "spliceCol"), 
                f;
            }, d.prototype.spliceRow = function(a, b, c) {
                var d = 4 <= arguments.length ? [].slice.call(arguments, 3) : [], e = this.instance.getSourceDataAtRow(a), f = e.slice(b, b + c), g = e.slice(b + c);
                r(d, g);
                for (var h = 0; c > h; ) d.push(null), h++;
                return this.instance.populateFromArray(a, b, [ d ], null, null, "spliceRow"), f;
            }, d.prototype.get = function(a, b) {
                if (a = Handsontable.hooks.run(this.instance, "modifyRow", a), "string" == typeof b && b.indexOf(".") > -1) {
                    var c = b.split("."), d = this.dataSource[a];
                    if (!d) return null;
                    for (var e = 0, f = c.length; f > e; e++) if (d = d[c[e]], "undefined" == typeof d) return null;
                    return d;
                }
                return "function" == typeof b ? b(this.dataSource.slice(a, a + 1)[0]) : this.dataSource[a] ? this.dataSource[a][b] : null;
            };
            var u = l("copyable", !1);
            d.prototype.getCopyable = function(a, b) {
                return u.call(this.instance, a, this.propToCol(b)) ? this.get(a, b) : "";
            }, d.prototype.set = function(a, b, c, d) {
                if (a = Handsontable.hooks.run(this.instance, "modifyRow", a, d || "datamapGet"), 
                "string" == typeof b && b.indexOf(".") > -1) {
                    for (var e = b.split("."), f = this.dataSource[a], g = 0, h = e.length - 1; h > g; g++) "undefined" == typeof f[e[g]] && (f[e[g]] = {}), 
                    f = f[e[g]];
                    f[e[g]] = c;
                } else "function" == typeof b ? b(this.dataSource.slice(a, a + 1)[0], c) : this.dataSource[a][b] = c;
            }, d.prototype.physicalRowsToLogical = function(a, b) {
                for (var c, d = this.instance.countRows(), e = (d + a) % d, f = [], g = b; d > e && g; ) c = Handsontable.hooks.run(this.instance, "modifyRow", e), 
                f.push(c), g--, e++;
                return f;
            }, d.prototype.clear = function() {
                for (var a = 0; a < this.instance.countRows(); a++) for (var b = 0; b < this.instance.countCols(); b++) this.set(a, this.colToProp(b), "");
            }, d.prototype.getAll = function() {
                return this.dataSource;
            }, d.prototype.getRange = function(a, b, c) {
                var d, e, f, g, h, i = [], j = c === this.DESTINATION_CLIPBOARD_GENERATOR ? this.getCopyable : this.get;
                for (e = Math.max(a.row, b.row), g = Math.max(a.col, b.col), d = Math.min(a.row, b.row); e >= d; d++) {
                    for (h = [], f = Math.min(a.col, b.col); g >= f; f++) h.push(j.call(this, d, this.colToProp(f)));
                    i.push(h);
                }
                return i;
            }, d.prototype.getText = function(a, b) {
                return k.stringify(this.getRange(a, b, this.DESTINATION_RENDERER));
            }, d.prototype.getCopyableText = function(a, b) {
                return k.stringify(this.getRange(a, b, this.DESTINATION_CLIPBOARD_GENERATOR));
            }, Handsontable.DataMap = d;
        }, {
            SheetClip: "SheetClip",
            "helpers/array": 41,
            "helpers/data": 43,
            "helpers/object": 49,
            "helpers/setting": 50,
            multiMap: 53
        } ],
        27: [ function(a, b, c) {
            "use strict";
            function d(a, b, c) {
                function d(a) {
                    var d = "function" == typeof b.settings.enterMoves ? b.settings.enterMoves(event) : b.settings.enterMoves;
                    a ? c.transformStart(-d.row, -d.col) : c.transformStart(d.row, d.col, !0);
                }
                function e(a) {
                    a ? c.transformEnd(-1, 0) : c.transformStart(-1, 0);
                }
                function f(a) {
                    a ? c.transformEnd(1, 0) : c.transformStart(1, 0);
                }
                function g(a) {
                    a ? c.transformEnd(0, 1) : c.transformStart(0, 1);
                }
                function h(a) {
                    a ? c.transformEnd(0, -1) : c.transformStart(0, -1);
                }
                function i(i) {
                    var k, o;
                    if (a.isListening() && (Handsontable.hooks.run(a, "beforeKeyDown", i), !v && !r(i) && (b.lastKeyCode = i.keyCode, 
                    c.isSelected()))) {
                        if (k = (i.ctrlKey || i.metaKey) && !i.altKey, t && !t.isWaiting() && !(m(i.keyCode) || n(i.keyCode) || k || u.isEditorOpened())) return void u.openEditor("", i);
                        switch (o = i.shiftKey ? c.setRangeEnd : c.setRangeStart, i.keyCode) {
                          case l.A:
                            !u.isEditorOpened() && k && (c.selectAll(), i.preventDefault(), p(i));
                            break;

                          case l.ARROW_UP:
                            u.isEditorOpened() && !t.isWaiting() && u.closeEditorAndSaveChanges(k), e(i.shiftKey), 
                            i.preventDefault(), p(i);
                            break;

                          case l.ARROW_DOWN:
                            u.isEditorOpened() && !t.isWaiting() && u.closeEditorAndSaveChanges(k), f(i.shiftKey), 
                            i.preventDefault(), p(i);
                            break;

                          case l.ARROW_RIGHT:
                            u.isEditorOpened() && !t.isWaiting() && u.closeEditorAndSaveChanges(k), g(i.shiftKey), 
                            i.preventDefault(), p(i);
                            break;

                          case l.ARROW_LEFT:
                            u.isEditorOpened() && !t.isWaiting() && u.closeEditorAndSaveChanges(k), h(i.shiftKey), 
                            i.preventDefault(), p(i);
                            break;

                          case l.TAB:
                            var s = "function" == typeof b.settings.tabMoves ? b.settings.tabMoves(i) : b.settings.tabMoves;
                            i.shiftKey ? c.transformStart(-s.row, -s.col) : c.transformStart(s.row, s.col, !0), 
                            i.preventDefault(), p(i);
                            break;

                          case l.BACKSPACE:
                          case l.DELETE:
                            c.empty(i), u.prepareEditor(), i.preventDefault();
                            break;

                          case l.F2:
                            u.openEditor(null, i), t && t.enableFullEditMode(), i.preventDefault();
                            break;

                          case l.ENTER:
                            u.isEditorOpened() ? (t && t.state !== Handsontable.EditorState.WAITING && u.closeEditorAndSaveChanges(k), 
                            d(i.shiftKey)) : a.getSettings().enterBeginsEditing ? (u.openEditor(null, i), t && t.enableFullEditMode()) : d(i.shiftKey), 
                            i.preventDefault(), q(i);
                            break;

                          case l.ESCAPE:
                            u.isEditorOpened() && u.closeEditorAndRestoreOriginalValue(k), i.preventDefault();
                            break;

                          case l.HOME:
                            o(i.ctrlKey || i.metaKey ? new j(0, b.selRange.from.col) : new j(b.selRange.from.row, 0)), 
                            i.preventDefault(), p(i);
                            break;

                          case l.END:
                            o(i.ctrlKey || i.metaKey ? new j(a.countRows() - 1, b.selRange.from.col) : new j(b.selRange.from.row, a.countCols() - 1)), 
                            i.preventDefault(), p(i);
                            break;

                          case l.PAGE_UP:
                            c.transformStart(-a.countVisibleRows(), 0), i.preventDefault(), p(i);
                            break;

                          case l.PAGE_DOWN:
                            c.transformStart(a.countVisibleRows(), 0), i.preventDefault(), p(i);
                        }
                    }
                }
                function k() {
                    function b(a, b, c) {
                        "TD" == c.nodeName && (u.openEditor(), t && t.enableFullEditMode());
                    }
                    a.addHook("afterDocumentKeyDown", i), o.addEventListener(document.documentElement, "keydown", function(b) {
                        a.runHooks("afterDocumentKeyDown", b);
                    }), a.view.wt.update("onCellDblClick", b), a.addHook("afterDestroy", function() {
                        v = !0;
                    });
                }
                var o, t, u = this, v = !1;
                o = s(a), this.destroyEditor = function(a) {
                    this.closeEditor(a);
                }, this.getActiveEditor = function() {
                    return t;
                }, this.prepareEditor = function() {
                    var c, d, e, f, g, h, i;
                    return t && t.isWaiting() ? void this.closeEditor(!1, !1, function(a) {
                        a && u.prepareEditor();
                    }) : (c = b.selRange.highlight.row, d = b.selRange.highlight.col, e = a.colToProp(d), 
                    f = a.getCell(c, d), g = a.getDataAtCell(c, d), h = a.getCellMeta(c, d), i = a.getCellEditor(h), 
                    void (i ? (t = Handsontable.editors.getEditor(i, a), t.prepare(c, d, e, f, g, h)) : t = void 0));
                }, this.isEditorOpened = function() {
                    return t && t.isOpened();
                }, this.openEditor = function(a, b) {
                    t && !t.cellProperties.readOnly ? t.beginEditing(a, b) : t && t.cellProperties.readOnly && b && b.keyCode === l.ENTER && d();
                }, this.closeEditor = function(a, b, c) {
                    t ? t.finishEditing(a, b, c) : c && c(!1);
                }, this.closeEditorAndSaveChanges = function(a) {
                    return this.closeEditor(!1, a);
                }, this.closeEditorAndRestoreOriginalValue = function(a) {
                    return this.closeEditor(!0, a);
                }, k();
            }
            Object.defineProperties(c, {
                EditorManager: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i, j = (e = a("3rdparty/walkontable/src/cell/coords"), e && e.__esModule && e || {
                "default": e
            }).WalkontableCellCoords, k = (f = a("helpers/unicode"), f && f.__esModule && f || {
                "default": f
            }), l = k.KEY_CODES, m = k.isMetaKey, n = k.isCtrlKey, o = (g = a("helpers/dom/event"), 
            g && g.__esModule && g || {
                "default": g
            }), p = o.stopPropagation, q = o.stopImmediatePropagation, r = o.isImmediatePropagationStopped, s = ((h = a("editors"), 
            h && h.__esModule && h || {
                "default": h
            }).getEditor, (i = a("eventManager"), i && i.__esModule && i || {
                "default": i
            }).eventManager);
            Handsontable.EditorManager = d;
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            editors: 28,
            eventManager: 40,
            "helpers/dom/event": 45,
            "helpers/unicode": 52
        } ],
        28: [ function(a, b, c) {
            "use strict";
            function d(a) {
                var b, c;
                c = {}, b = a, this.getConstructor = function() {
                    return a;
                }, this.getInstance = function(a) {
                    return a.guid in c || (c[a.guid] = new b(a)), c[a.guid];
                };
            }
            function e(a, b) {
                var c = new d(b);
                "string" == typeof a && (k[a] = c, Handsontable.editors[j(a) + "Editor"] = b), l.set(b, c);
            }
            function f(a, b) {
                var c;
                if ("function" == typeof a) l.get(a) || e(null, a), c = l.get(a); else {
                    if ("string" != typeof a) throw Error('Only strings and functions can be passed as "editor" parameter ');
                    c = k[a];
                }
                if (!c) throw Error('No editor registered under name "' + a + '"');
                return c.getInstance(b);
            }
            function g(a) {
                var b;
                if ("string" != typeof a) throw Error('Only strings and functions can be passed as "editor" parameter ');
                if (b = k[a], !b) throw Error('No editor registered under name "' + a + '"');
                return b.getConstructor();
            }
            function h(a) {
                return k[a] ? !0 : !1;
            }
            Object.defineProperties(c, {
                registerEditor: {
                    get: function() {
                        return e;
                    }
                },
                getEditor: {
                    get: function() {
                        return f;
                    }
                },
                hasEditor: {
                    get: function() {
                        return h;
                    }
                },
                getEditorConstructor: {
                    get: function() {
                        return g;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var i, j = (i = a("helpers/string"), i && i.__esModule && i || {
                "default": i
            }).toUpperCaseFirst, k = {}, l = new WeakMap();
            Handsontable.editors = Handsontable.editors || {}, Handsontable.editors.registerEditor = e, 
            Handsontable.editors.getEditor = f;
        }, {
            "helpers/string": 51
        } ],
        29: [ function(a, b, c) {
            "use strict";
            function d(a) {
                this.instance = a, this.state = Handsontable.EditorState.VIRGIN, this._opened = !1, 
                this._fullEditMode = !1, this._closeCallback = null, this.init();
            }
            Object.defineProperties(c, {
                BaseEditor: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g = (e = a("helpers/mixed"), e && e.__esModule && e || {
                "default": e
            }).stringify, h = (f = a("3rdparty/walkontable/src/cell/coords"), f && f.__esModule && f || {
                "default": f
            }).WalkontableCellCoords;
            Handsontable.editors = Handsontable.editors || {}, Handsontable.editors.BaseEditor = d, 
            Handsontable.EditorState = {
                VIRGIN: "STATE_VIRGIN",
                EDITING: "STATE_EDITING",
                WAITING: "STATE_WAITING",
                FINISHED: "STATE_FINISHED"
            }, d.prototype._fireCallbacks = function(a) {
                this._closeCallback && (this._closeCallback(a), this._closeCallback = null);
            }, d.prototype.init = function() {}, d.prototype.getValue = function() {
                throw Error("Editor getValue() method unimplemented");
            }, d.prototype.setValue = function(a) {
                throw Error("Editor setValue() method unimplemented");
            }, d.prototype.open = function() {
                throw Error("Editor open() method unimplemented");
            }, d.prototype.close = function() {
                throw Error("Editor close() method unimplemented");
            }, d.prototype.prepare = function(a, b, c, d, e, f) {
                this.TD = d, this.row = a, this.col = b, this.prop = c, this.originalValue = e, 
                this.cellProperties = f, this.state = Handsontable.EditorState.VIRGIN;
            }, d.prototype.extend = function() {
                function a() {
                    c.apply(this, arguments);
                }
                function b(a, b) {
                    function c() {}
                    return c.prototype = b.prototype, a.prototype = new c(), a.prototype.constructor = a, 
                    a;
                }
                var c = this.constructor;
                return b(a, c);
            }, d.prototype.saveValue = function(a, b) {
                var c, d;
                b ? (c = this.instance.getSelected(), c[0] > c[2] && (d = c[0], c[0] = c[2], c[2] = d), 
                c[1] > c[3] && (d = c[1], c[1] = c[3], c[3] = d), this.instance.populateFromArray(c[0], c[1], a, c[2], c[3], "edit")) : this.instance.populateFromArray(this.row, this.col, a, null, null, "edit");
            }, d.prototype.beginEditing = function(a, b) {
                this.state == Handsontable.EditorState.VIRGIN && (this.instance.view.scrollViewport(new h(this.row, this.col)), 
                this.instance.view.render(), this.state = Handsontable.EditorState.EDITING, a = "string" == typeof a ? a : this.originalValue, 
                this.setValue(g(a)), this.open(b), this._opened = !0, this.focus(), this.instance.view.render());
            }, d.prototype.finishEditing = function(a, b, c) {
                var d, e = this;
                if (c) {
                    var f = this._closeCallback;
                    this._closeCallback = function(a) {
                        f && f(a), c(a);
                    };
                }
                if (!this.isWaiting()) {
                    if (this.state == Handsontable.EditorState.VIRGIN) return void this.instance._registerTimeout(setTimeout(function() {
                        e._fireCallbacks(!0);
                    }, 0));
                    if (this.state == Handsontable.EditorState.EDITING) {
                        if (a) return this.cancelChanges(), void this.instance.view.render();
                        d = this.instance.getSettings().trimWhitespace ? [ [ "string" == typeof this.getValue() ? String.prototype.trim.call(this.getValue() || "") : this.getValue() ] ] : [ [ this.getValue() ] ], 
                        this.state = Handsontable.EditorState.WAITING, this.saveValue(d, b), this.instance.getCellValidator(this.cellProperties) ? this.instance.addHookOnce("postAfterValidate", function(a) {
                            e.state = Handsontable.EditorState.FINISHED, e.discardEditor(a);
                        }) : (this.state = Handsontable.EditorState.FINISHED, this.discardEditor(!0));
                    }
                }
            }, d.prototype.cancelChanges = function() {
                this.state = Handsontable.EditorState.FINISHED, this.discardEditor();
            }, d.prototype.discardEditor = function(a) {
                this.state === Handsontable.EditorState.FINISHED && (a === !1 && this.cellProperties.allowInvalid !== !0 ? (this.instance.selectCell(this.row, this.col), 
                this.focus(), this.state = Handsontable.EditorState.EDITING, this._fireCallbacks(!1)) : (this.close(), 
                this._opened = !1, this._fullEditMode = !1, this.state = Handsontable.EditorState.VIRGIN, 
                this._fireCallbacks(!0)));
            }, d.prototype.enableFullEditMode = function() {
                this._fullEditMode = !0;
            }, d.prototype.isInFullEditMode = function() {
                return this._fullEditMode;
            }, d.prototype.isOpened = function() {
                return this._opened;
            }, d.prototype.isWaiting = function() {
                return this.state === Handsontable.EditorState.WAITING;
            }, d.prototype.checkEditorSection = function() {
                var a = this.instance.countRows(), b = "";
                return this.row < this.instance.getSettings().fixedRowsTop ? b = this.col < this.instance.getSettings().fixedColumnsLeft ? "top-left-corner" : "top" : this.instance.getSettings().fixedRowsBottom && this.row >= a - this.instance.getSettings().fixedRowsBottom ? b = this.col < this.instance.getSettings().fixedColumnsLeft ? "bottom-left-corner" : "bottom" : this.col < this.instance.getSettings().fixedColumnsLeft && (b = "left"), 
                b;
            };
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            "helpers/mixed": 47
        } ],
        30: [ function(a, b, c) {
            "use strict";
            function d(a) {
                A = !1;
                var b = this.getActiveEditor();
                if (m(a.keyCode) || a.keyCode === l.BACKSPACE || a.keyCode === l.DELETE || a.keyCode === l.INSERT) {
                    var c = 0;
                    if (a.keyCode === l.C && (a.ctrlKey || a.metaKey)) return;
                    b.isOpened() || (c += 10), b.htEditor && b.instance._registerTimeout(setTimeout(function() {
                        b.queryChoices(b.TEXTAREA.value), A = !0;
                    }, c));
                }
            }
            Object.defineProperties(c, {
                AutocompleteEditor: {
                    get: function() {
                        return z;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i, j, k = (e = a("helpers/unicode"), e && e.__esModule && e || {
                "default": e
            }), l = k.KEY_CODES, m = k.isPrintableChar, n = (f = a("helpers/mixed"), f && f.__esModule && f || {
                "default": f
            }).stringify, o = (g = a("helpers/array"), g && g.__esModule && g || {
                "default": g
            }).pivot, p = (h = a("helpers/dom/element"), h && h.__esModule && h || {
                "default": h
            }), q = p.addClass, r = p.getCaretPosition, s = p.getScrollbarWidth, t = p.getSelectionEndPosition, u = p.outerWidth, v = p.setCaretPosition, w = (i = a("editors"), 
            i && i.__esModule && i || {
                "default": i
            }), x = (w.getEditorConstructor, w.registerEditor), y = (j = a("handsontableEditor"), 
            j && j.__esModule && j || {
                "default": j
            }).HandsontableEditor, z = y.prototype.extend();
            z.prototype.init = function() {
                y.prototype.init.apply(this, arguments), this.query = null, this.choices = [];
            }, z.prototype.createElements = function() {
                y.prototype.createElements.apply(this, arguments), q(this.htContainer, "autocompleteEditor"), 
                q(this.htContainer, -1 === window.navigator.platform.indexOf("Mac") ? "" : "htMacScroll");
            };
            var A = !1;
            z.prototype.prepare = function() {
                this.instance.addHook("beforeKeyDown", d), y.prototype.prepare.apply(this, arguments);
            }, z.prototype.open = function() {
                this.TEXTAREA_PARENT.style.overflow = "auto", y.prototype.open.apply(this, arguments), 
                this.TEXTAREA_PARENT.style.overflow = "";
                var a = this.htEditor.getInstance(), b = this, c = void 0 === this.cellProperties.trimDropdown ? !0 : this.cellProperties.trimDropdown;
                this.TEXTAREA.style.visibility = "visible", this.focus(), a.updateSettings({
                    colWidths: c ? [ u(this.TEXTAREA) - 2 ] : void 0,
                    width: c ? u(this.TEXTAREA) + s() + 2 : void 0,
                    afterRenderer: function(a, c, d, e, f) {
                        var g, h, i = this.getCellMeta(c, d).filteringCaseSensitive === !0, f = n(f);
                        f && (g = i ? f.indexOf(this.query) : f.toLowerCase().indexOf(b.query.toLowerCase()), 
                        -1 != g && (h = f.substr(g, b.query.length), a.innerHTML = f.replace(h, "<strong>" + h + "</strong>")));
                    },
                    autoColumnSize: !0,
                    modifyColWidth: function(a, b) {
                        var d = this.getPlugin("autoColumnSize").widths;
                        return d[b] && (a = d[b]), c ? a : a + 15;
                    }
                }), this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"] = s() + 2 + "px", 
                A && (A = !1), b.instance._registerTimeout(setTimeout(function() {
                    b.queryChoices(b.TEXTAREA.value);
                }, 0));
            }, z.prototype.close = function() {
                y.prototype.close.apply(this, arguments);
            }, z.prototype.queryChoices = function(a) {
                if (this.query = a, "function" == typeof this.cellProperties.source) {
                    var b = this;
                    this.cellProperties.source(a, function(a) {
                        b.updateChoicesList(a);
                    });
                } else if (Array.isArray(this.cellProperties.source)) {
                    var c;
                    if (a && this.cellProperties.filter !== !1) {
                        var d = this.cellProperties.filteringCaseSensitive === !0, e = a.toLowerCase();
                        c = this.cellProperties.source.filter(function(b) {
                            return d ? -1 != b.indexOf(a) : -1 != b.toLowerCase().indexOf(e);
                        });
                    } else c = this.cellProperties.source;
                    this.updateChoicesList(c);
                } else this.updateChoicesList([]);
            }, z.prototype.updateChoicesList = function(a) {
                var b, c = r(this.TEXTAREA), d = t(this.TEXTAREA), e = z.sortByRelevance(this.getValue(), a, this.cellProperties.filteringCaseSensitive);
                if (0 == this.cellProperties.filter) b = e[0]; else {
                    for (var f = [], g = 0, h = e.length; h > g; g++) f.push(a[e[g]]);
                    b = 0, a = f;
                }
                this.choices = a, this.htEditor.loadData(o([ a ])), this.updateDropdownHeight(), 
                this.cellProperties.strict === !0 && this.highlightBestMatchingChoice(b), this.instance.listen(), 
                this.TEXTAREA.focus(), v(this.TEXTAREA, c, c == d ? void 0 : d);
            }, z.prototype.updateDropdownHeight = function() {
                var a = this.htEditor.getColWidth(0) + s() + 2, b = void 0 === this.cellProperties.trimDropdown ? !0 : this.cellProperties.trimDropdown;
                this.htEditor.updateSettings({
                    height: this.getDropdownHeight(),
                    width: b ? void 0 : a
                }), this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer();
            }, z.prototype.finishEditing = function(a) {
                a || this.instance.removeHook("beforeKeyDown", d), y.prototype.finishEditing.apply(this, arguments);
            }, z.prototype.highlightBestMatchingChoice = function(a) {
                "number" == typeof a ? this.htEditor.selectCell(a, 0) : this.htEditor.deselectCell();
            }, z.sortByRelevance = function(a, b, c) {
                var d, e, f, g, h, i = [], j = a.length, k = [];
                if (0 === j) {
                    for (g = 0, h = b.length; h > g; g++) k.push(g);
                    return k;
                }
                for (g = 0, h = b.length; h > g; g++) d = n(b[g]), e = c ? d.indexOf(a) : d.toLowerCase().indexOf(a.toLowerCase()), 
                -1 != e && (f = d.length - e - j, i.push({
                    baseIndex: g,
                    index: e,
                    charsLeft: f,
                    value: d
                }));
                for (i.sort(function(a, b) {
                    return -1 === b.index ? -1 : -1 === a.index ? 1 : a.index < b.index ? -1 : b.index < a.index ? 1 : a.index === b.index ? a.charsLeft < b.charsLeft ? -1 : a.charsLeft > b.charsLeft ? 1 : 0 : void 0;
                }), g = 0, h = i.length; h > g; g++) k.push(i[g].baseIndex);
                return k;
            }, z.prototype.getDropdownHeight = function() {
                var a = this.htEditor.getInstance().getRowHeight(0) || 23, b = this.cellProperties.visibleRows;
                return this.choices.length >= b ? b * a : this.choices.length * a + 8;
            }, z.prototype.allowKeyEventPropagation = function(a) {
                var b = {
                    row: this.htEditor.getSelectedRange() ? this.htEditor.getSelectedRange().from.row : -1
                }, c = !1;
                return a === l.ARROW_DOWN && b.row < this.htEditor.countRows() - 1 && (c = !0), 
                a === l.ARROW_UP && b.row > -1 && (c = !0), c;
            }, x("autocomplete", z);
        }, {
            editors: 28,
            handsontableEditor: 34,
            "helpers/array": 41,
            "helpers/dom/element": 44,
            "helpers/mixed": 47,
            "helpers/unicode": 52
        } ],
        31: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                CheckboxEditor: {
                    get: function() {
                        return j;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g = (d = a("editors"), d && d.__esModule && d || {
                "default": d
            }).registerEditor, h = (e = a("_baseEditor"), e && e.__esModule && e || {
                "default": e
            }).BaseEditor, i = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }).hasClass, j = function() {
                $traceurRuntime.superConstructor(k).apply(this, arguments);
            }, k = j;
            $traceurRuntime.createClass(j, {
                beginEditing: function() {
                    var a = this.TD.querySelector('input[type="checkbox"]');
                    i(a, "htBadValue") || a.click();
                },
                finishEditing: function() {},
                init: function() {},
                open: function() {},
                close: function() {},
                getValue: function() {},
                setValue: function() {},
                focus: function() {}
            }, {}, h), g("checkbox", j);
        }, {
            _baseEditor: 29,
            editors: 28,
            "helpers/dom/element": 44
        } ],
        32: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                DateEditor: {
                    get: function() {
                        return y;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j, k, l, m = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), n = m.addClass, o = m.outerHeight, p = (e = a("helpers/object"), e && e.__esModule && e || {
                "default": e
            }).deepExtend, q = (f = a("eventManager"), f && f.__esModule && f || {
                "default": f
            }).EventManager, r = (g = a("editors"), g && g.__esModule && g || {
                "default": g
            }), s = (r.getEditor, r.registerEditor), t = (h = a("helpers/unicode"), h && h.__esModule && h || {
                "default": h
            }).isMetaKey, u = (i = a("helpers/dom/event"), i && i.__esModule && i || {
                "default": i
            }).stopPropagation, v = (j = a("textEditor"), j && j.__esModule && j || {
                "default": j
            }).TextEditor, w = (k = a("moment"), k && k.__esModule && k || {
                "default": k
            })["default"], x = (l = a("pikaday"), l && l.__esModule && l || {
                "default": l
            })["default"];
            Handsontable.editors = Handsontable.editors || {}, Handsontable.editors.DateEditor = y;
            var y = function(a) {
                this.$datePicker = null, this.datePicker = null, this.datePickerStyle = null, this.defaultDateFormat = "DD/MM/YYYY", 
                this.isCellEdited = !1, this.parentDestroyed = !1, $traceurRuntime.superConstructor(z).call(this, a);
            }, z = y;
            $traceurRuntime.createClass(y, {
                init: function() {
                    var a = this;
                    if ("function" != typeof w) throw new Error("You need to include moment.js to your project.");
                    if ("function" != typeof x) throw new Error("You need to include Pikaday to your project.");
                    $traceurRuntime.superGet(this, z.prototype, "init").call(this), this.instance.addHook("afterDestroy", function() {
                        a.parentDestroyed = !0, a.destroyElements();
                    });
                },
                createElements: function() {
                    $traceurRuntime.superGet(this, z.prototype, "createElements").call(this), this.datePicker = document.createElement("DIV"), 
                    this.datePickerStyle = this.datePicker.style, this.datePickerStyle.position = "absolute", 
                    this.datePickerStyle.top = 0, this.datePickerStyle.left = 0, this.datePickerStyle.zIndex = 9999, 
                    n(this.datePicker, "htDatepickerHolder"), document.body.appendChild(this.datePicker), 
                    this.$datePicker = new x(this.getDatePickerConfig());
                    var a = new q(this);
                    a.addEventListener(this.datePicker, "mousedown", function(a) {
                        return u(a);
                    }), this.hideDatepicker();
                },
                destroyElements: function() {
                    this.$datePicker.destroy();
                },
                prepare: function(a, b, c, d, e, f) {
                    this._opened = !1, $traceurRuntime.superGet(this, z.prototype, "prepare").call(this, a, b, c, d, e, f);
                },
                open: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null;
                    $traceurRuntime.superGet(this, z.prototype, "open").call(this), this.showDatepicker(a);
                },
                close: function() {
                    var a = this;
                    this._opened = !1, this.instance._registerTimeout(setTimeout(function() {
                        a.instance.selection.refreshBorders();
                    }, 0)), $traceurRuntime.superGet(this, z.prototype, "close").call(this);
                },
                finishEditing: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1, b = void 0 !== arguments[1] ? arguments[1] : !1;
                    if (a) {
                        var c = this.originalValue;
                        void 0 !== c && this.setValue(c);
                    }
                    this.hideDatepicker(), $traceurRuntime.superGet(this, z.prototype, "finishEditing").call(this, a, b);
                },
                showDatepicker: function(a) {
                    this.$datePicker.config(this.getDatePickerConfig());
                    var b, c = this.TD.getBoundingClientRect(), d = this.cellProperties.dateFormat || this.defaultDateFormat, e = this.$datePicker.config(), f = this.instance.view.isMouseDown(), g = a ? t(a.keyCode) : !1;
                    this.datePickerStyle.top = window.pageYOffset + c.top + o(this.TD) + "px", this.datePickerStyle.left = window.pageXOffset + c.left + "px", 
                    this.$datePicker._onInputFocus = function() {}, e.format = d, this.originalValue ? (b = this.originalValue, 
                    w(b, d, !0).isValid() && this.$datePicker.setMoment(w(b, d), !0), g || f || this.setValue("")) : this.cellProperties.defaultDate ? (b = this.cellProperties.defaultDate, 
                    e.defaultDate = b, w(b, d, !0).isValid() && this.$datePicker.setMoment(w(b, d), !0), 
                    g || f || this.setValue("")) : this.$datePicker.gotoToday(), this.datePickerStyle.display = "block", 
                    this.$datePicker.show();
                },
                hideDatepicker: function() {
                    this.datePickerStyle.display = "none", this.$datePicker.hide();
                },
                getDatePickerConfig: function() {
                    var a = this, b = this.TEXTAREA, c = {};
                    this.cellProperties && this.cellProperties.datePickerConfig && p(c, this.cellProperties.datePickerConfig);
                    var d = c.onSelect, e = c.onClose;
                    return c.field = b, c.trigger = b, c.container = this.datePicker, c.bound = !1, 
                    c.format = c.format || this.defaultDateFormat, c.reposition = c.reposition || !1, 
                    c.onSelect = function(b) {
                        isNaN(b.getTime()) || (b = w(b).format(a.cellProperties.dateFormat || a.defaultDateFormat)), 
                        a.setValue(b), a.hideDatepicker(), d && d();
                    }, c.onClose = function() {
                        a.parentDestroyed || a.finishEditing(!1), e && e();
                    }, c;
                }
            }, {}, v), s("date", y);
        }, {
            editors: 28,
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/object": 49,
            "helpers/unicode": 52,
            moment: "moment",
            pikaday: "pikaday",
            textEditor: 39
        } ],
        33: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                DropdownEditor: {
                    get: function() {
                        return i;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = (d = a("editors"), d && d.__esModule && d || {
                "default": d
            }), g = (f.getEditor, f.registerEditor), h = (e = a("autocompleteEditor"), e && e.__esModule && e || {
                "default": e
            }).AutocompleteEditor, i = function() {
                $traceurRuntime.superConstructor(j).apply(this, arguments);
            }, j = i;
            $traceurRuntime.createClass(i, {
                prepare: function(a, b, c, d, e, f) {
                    $traceurRuntime.superGet(this, j.prototype, "prepare").call(this, a, b, c, d, e, f), 
                    this.cellProperties.filter = !1, this.cellProperties.strict = !0;
                }
            }, {}, h), Handsontable.hooks.add("beforeValidate", function(a, b, c, d) {
                var e = this.getCellMeta(b, c);
                e.editor === Handsontable.editors.DropdownEditor && void 0 === e.strict && (e.filter = !1, 
                e.strict = !0);
            }), g("dropdown", i);
        }, {
            autocompleteEditor: 30,
            editors: 28
        } ],
        34: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                HandsontableEditor: {
                    get: function() {
                        return s;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j = (d = a("helpers/unicode"), d && d.__esModule && d || {
                "default": d
            }).KEY_CODES, k = (e = a("helpers/object"), e && e.__esModule && e || {
                "default": e
            }).extend, l = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }).setCaretPosition, m = (g = a("helpers/dom/event"), g && g.__esModule && g || {
                "default": g
            }), n = m.stopImmediatePropagation, o = m.isImmediatePropagationStopped, p = (h = a("editors"), 
            h && h.__esModule && h || {
                "default": h
            }), q = (p.getEditor, p.registerEditor), r = (i = a("textEditor"), i && i.__esModule && i || {
                "default": i
            }).TextEditor, s = r.prototype.extend();
            s.prototype.createElements = function() {
                r.prototype.createElements.apply(this, arguments);
                var a = document.createElement("DIV");
                a.className = "handsontableEditor", this.TEXTAREA_PARENT.appendChild(a), this.htContainer = a, 
                this.assignHooks();
            }, s.prototype.prepare = function(a, b, c, d, e, f) {
                r.prototype.prepare.apply(this, arguments);
                var g = this, h = {
                    startRows: 0,
                    startCols: 0,
                    minRows: 0,
                    minCols: 0,
                    className: "listbox",
                    copyPaste: !1,
                    autoColumnSize: !1,
                    autoRowSize: !1,
                    readOnly: !0,
                    fillHandle: !1,
                    afterOnCellMouseDown: function() {
                        var a = this.getValue();
                        void 0 !== a && g.setValue(a), g.instance.destroyEditor();
                    }
                };
                this.cellProperties.handsontable && k(h, f.handsontable), this.htOptions = h;
            };
            var t = function(a) {
                if (!o(a)) {
                    var b, c = this.getActiveEditor(), d = c.htEditor.getInstance();
                    if (a.keyCode == j.ARROW_DOWN) if (d.getSelected()) {
                        var e = d.getSelected()[0], f = d.countRows() - 1;
                        b = Math.min(f, e + 1);
                    } else b = 0; else if (a.keyCode == j.ARROW_UP && d.getSelected()) {
                        var e = d.getSelected()[0];
                        b = e - 1;
                    }
                    void 0 !== b && (0 > b ? d.deselectCell() : d.selectCell(b, 0), d.getData().length && (a.preventDefault(), 
                    n(a), c.instance.listen(), c.TEXTAREA.focus()));
                }
            };
            s.prototype.open = function() {
                this.instance.addHook("beforeKeyDown", t), r.prototype.open.apply(this, arguments), 
                this.htEditor && this.htEditor.destroy(), this.htEditor = new Handsontable(this.htContainer, this.htOptions), 
                this.cellProperties.strict ? (this.htEditor.selectCell(0, 0), this.TEXTAREA.style.visibility = "hidden") : (this.htEditor.deselectCell(), 
                this.TEXTAREA.style.visibility = "visible"), l(this.TEXTAREA, 0, this.TEXTAREA.value.length);
            }, s.prototype.close = function() {
                this.instance.removeHook("beforeKeyDown", t), this.instance.listen(), r.prototype.close.apply(this, arguments);
            }, s.prototype.focus = function() {
                this.instance.listen(), r.prototype.focus.apply(this, arguments);
            }, s.prototype.beginEditing = function(a) {
                var b = this.instance.getSettings().onBeginEditing;
                b && b() === !1 || r.prototype.beginEditing.apply(this, arguments);
            }, s.prototype.finishEditing = function(a, b) {
                if (this.htEditor && this.htEditor.isListening() && this.instance.listen(), this.htEditor && this.htEditor.getSelected()) {
                    var c = this.htEditor.getInstance().getValue();
                    void 0 !== c && this.setValue(c);
                }
                return r.prototype.finishEditing.apply(this, arguments);
            }, s.prototype.assignHooks = function() {
                var a = this;
                this.instance.addHook("afterDestroy", function() {
                    a.htEditor && a.htEditor.destroy();
                });
            }, q("handsontable", s);
        }, {
            editors: 28,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/object": 49,
            "helpers/unicode": 52,
            textEditor: 39
        } ],
        35: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                MobileTextEditor: {
                    get: function() {
                        return C;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j = (d = a("helpers/unicode"), d && d.__esModule && d || {
                "default": d
            }).KEY_CODES, k = (e = a("helpers/dom/event"), e && e.__esModule && e || {
                "default": e
            }), l = k.stopImmediatePropagation, m = k.isImmediatePropagationStopped, n = (f = a("helpers/dom/element"), 
            f && f.__esModule && f || {
                "default": f
            }), o = n.addClass, p = n.getScrollLeft, q = n.getScrollTop, r = n.hasClass, s = n.isChildOf, t = n.offset, u = n.outerHeight, v = n.outerWidth, w = n.removeClass, x = n.setCaretPosition, y = (g = a("editors"), 
            g && g.__esModule && g || {
                "default": g
            }), z = (y.getEditor, y.registerEditor), A = (h = a("_baseEditor"), h && h.__esModule && h || {
                "default": h
            }).BaseEditor, B = (i = a("eventManager"), i && i.__esModule && i || {
                "default": i
            }).eventManager, C = A.prototype.extend(), D = {}, E = function() {
                this.controls = {}, this.controls.leftButton = document.createElement("DIV"), this.controls.leftButton.className = "leftButton", 
                this.controls.rightButton = document.createElement("DIV"), this.controls.rightButton.className = "rightButton", 
                this.controls.upButton = document.createElement("DIV"), this.controls.upButton.className = "upButton", 
                this.controls.downButton = document.createElement("DIV"), this.controls.downButton.className = "downButton";
                for (var a in this.controls) this.controls.hasOwnProperty(a) && this.positionControls.appendChild(this.controls[a]);
            };
            C.prototype.valueChanged = function() {
                return this.initValue != this.getValue();
            }, C.prototype.init = function() {
                var a = this;
                this.eventManager = B(this.instance), this.createElements(), this.bindEvents(), 
                this.instance.addHook("afterDestroy", function() {
                    a.destroy();
                });
            }, C.prototype.getValue = function() {
                return this.TEXTAREA.value;
            }, C.prototype.setValue = function(a) {
                this.initValue = a, this.TEXTAREA.value = a;
            }, C.prototype.createElements = function() {
                this.editorContainer = document.createElement("DIV"), this.editorContainer.className = "htMobileEditorContainer", 
                this.cellPointer = document.createElement("DIV"), this.cellPointer.className = "cellPointer", 
                this.moveHandle = document.createElement("DIV"), this.moveHandle.className = "moveHandle", 
                this.inputPane = document.createElement("DIV"), this.inputPane.className = "inputs", 
                this.positionControls = document.createElement("DIV"), this.positionControls.className = "positionControls", 
                this.TEXTAREA = document.createElement("TEXTAREA"), o(this.TEXTAREA, "handsontableInput"), 
                this.inputPane.appendChild(this.TEXTAREA), this.editorContainer.appendChild(this.cellPointer), 
                this.editorContainer.appendChild(this.moveHandle), this.editorContainer.appendChild(this.inputPane), 
                this.editorContainer.appendChild(this.positionControls), E.call(this), document.body.appendChild(this.editorContainer);
            }, C.prototype.onBeforeKeyDown = function(a) {
                var b = this, c = b.getActiveEditor();
                if (a.target === c.TEXTAREA && !m(a)) switch (a.keyCode) {
                  case j.ENTER:
                    c.close(), a.preventDefault();
                    break;

                  case j.BACKSPACE:
                    l(a);
                }
            }, C.prototype.open = function() {
                this.instance.addHook("beforeKeyDown", this.onBeforeKeyDown), o(this.editorContainer, "active"), 
                w(this.cellPointer, "hidden"), this.updateEditorPosition();
            }, C.prototype.focus = function() {
                this.TEXTAREA.focus(), x(this.TEXTAREA, this.TEXTAREA.value.length);
            }, C.prototype.close = function() {
                this.TEXTAREA.blur(), this.instance.removeHook("beforeKeyDown", this.onBeforeKeyDown), 
                w(this.editorContainer, "active");
            }, C.prototype.scrollToView = function() {
                var a = this.instance.getSelectedRange().highlight;
                this.instance.view.scrollViewport(a);
            }, C.prototype.hideCellPointer = function() {
                r(this.cellPointer, "hidden") || o(this.cellPointer, "hidden");
            }, C.prototype.updateEditorPosition = function(a, b) {
                if (a && b) a = parseInt(a, 10), b = parseInt(b, 10), this.editorContainer.style.top = b + "px", 
                this.editorContainer.style.left = a + "px"; else {
                    var c = this.instance.getSelected(), d = this.instance.getCell(c[0], c[1]);
                    if (D.cellPointer || (D.cellPointer = {
                        height: u(this.cellPointer),
                        width: v(this.cellPointer)
                    }), D.editorContainer || (D.editorContainer = {
                        width: v(this.editorContainer)
                    }), void 0 !== d) {
                        var e = this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer == window ? 0 : p(this.instance.view.wt.wtOverlays.leftOverlay.holder), f = this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer == window ? 0 : q(this.instance.view.wt.wtOverlays.topOverlay.holder), g = t(d), h = v(d), i = {
                            x: e,
                            y: f
                        };
                        this.editorContainer.style.top = parseInt(g.top + u(d) - i.y + D.cellPointer.height, 10) + "px", 
                        this.editorContainer.style.left = parseInt(window.innerWidth / 2 - D.editorContainer.width / 2, 10) + "px", 
                        g.left + h / 2 > parseInt(this.editorContainer.style.left, 10) + D.editorContainer.width ? this.editorContainer.style.left = window.innerWidth - D.editorContainer.width + "px" : g.left + h / 2 < parseInt(this.editorContainer.style.left, 10) + 20 && (this.editorContainer.style.left = "0px"), 
                        this.cellPointer.style.left = parseInt(g.left - D.cellPointer.width / 2 - t(this.editorContainer).left + h / 2 - i.x, 10) + "px";
                    }
                }
            }, C.prototype.updateEditorData = function() {
                var a = this.instance.getSelected(), b = this.instance.getDataAtCell(a[0], a[1]);
                this.row = a[0], this.col = a[1], this.setValue(b), this.updateEditorPosition();
            }, C.prototype.prepareAndSave = function() {
                var a;
                return this.valueChanged() ? (a = this.instance.getSettings().trimWhitespace ? [ [ String.prototype.trim.call(this.getValue()) ] ] : [ [ this.getValue() ] ], 
                void this.saveValue(a)) : !0;
            }, C.prototype.bindEvents = function() {
                var a = this;
                this.eventManager.addEventListener(this.controls.leftButton, "touchend", function(b) {
                    a.prepareAndSave(), a.instance.selection.transformStart(0, -1, null, !0), a.updateEditorData(), 
                    b.preventDefault();
                }), this.eventManager.addEventListener(this.controls.rightButton, "touchend", function(b) {
                    a.prepareAndSave(), a.instance.selection.transformStart(0, 1, null, !0), a.updateEditorData(), 
                    b.preventDefault();
                }), this.eventManager.addEventListener(this.controls.upButton, "touchend", function(b) {
                    a.prepareAndSave(), a.instance.selection.transformStart(-1, 0, null, !0), a.updateEditorData(), 
                    b.preventDefault();
                }), this.eventManager.addEventListener(this.controls.downButton, "touchend", function(b) {
                    a.prepareAndSave(), a.instance.selection.transformStart(1, 0, null, !0), a.updateEditorData(), 
                    b.preventDefault();
                }), this.eventManager.addEventListener(this.moveHandle, "touchstart", function(b) {
                    if (1 == b.touches.length) {
                        var c = b.touches[0], d = {
                            x: a.editorContainer.offsetLeft,
                            y: a.editorContainer.offsetTop
                        }, e = {
                            x: c.pageX - d.x,
                            y: c.pageY - d.y
                        };
                        a.eventManager.addEventListener(this, "touchmove", function(b) {
                            var c = b.touches[0];
                            a.updateEditorPosition(c.pageX - e.x, c.pageY - e.y), a.hideCellPointer(), b.preventDefault();
                        });
                    }
                }), this.eventManager.addEventListener(document.body, "touchend", function(b) {
                    s(b.target, a.editorContainer) || s(b.target, a.instance.rootElement) || a.close();
                }), this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder, "scroll", function(b) {
                    a.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer != window && a.hideCellPointer();
                }), this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder, "scroll", function(b) {
                    a.instance.view.wt.wtOverlays.topOverlay.trimmingContainer != window && a.hideCellPointer();
                });
            }, C.prototype.destroy = function() {
                this.eventManager.clear(), this.editorContainer.parentNode.removeChild(this.editorContainer);
            }, z("mobile", C);
        }, {
            _baseEditor: 29,
            editors: 28,
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/unicode": 52
        } ],
        36: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                NumericEditor: {
                    get: function() {
                        return k;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g = (d = a("numeral"), d && d.__esModule && d || {
                "default": d
            })["default"], h = (e = a("editors"), e && e.__esModule && e || {
                "default": e
            }), i = (h.getEditor, h.registerEditor), j = (f = a("textEditor"), f && f.__esModule && f || {
                "default": f
            }).TextEditor, k = function() {
                $traceurRuntime.superConstructor(l).apply(this, arguments);
            }, l = k;
            $traceurRuntime.createClass(k, {
                beginEditing: function(a) {
                    if ("undefined" == typeof a && this.originalValue) {
                        "undefined" != typeof this.cellProperties.language && g.language(this.cellProperties.language);
                        var b = g.languageData().delimiters.decimal;
                        a = ("" + this.originalValue).replace(".", b);
                    }
                    $traceurRuntime.superGet(this, l.prototype, "beginEditing").call(this, a);
                }
            }, {}, j), i("numeric", k);
        }, {
            editors: 28,
            numeral: "numeral",
            textEditor: 39
        } ],
        37: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                PasswordEditor: {
                    get: function() {
                        return k;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }).empty, h = (e = a("editors"), e && e.__esModule && e || {
                "default": e
            }), i = (h.getEditor, h.registerEditor), j = (f = a("textEditor"), f && f.__esModule && f || {
                "default": f
            }).TextEditor, k = function() {
                $traceurRuntime.superConstructor(l).apply(this, arguments);
            }, l = k;
            $traceurRuntime.createClass(k, {
                createElements: function() {
                    $traceurRuntime.superGet(this, l.prototype, "createElements").call(this), this.TEXTAREA = document.createElement("input"), 
                    this.TEXTAREA.setAttribute("type", "password"), this.TEXTAREA.className = "handsontableInput", 
                    this.textareaStyle = this.TEXTAREA.style, this.textareaStyle.width = 0, this.textareaStyle.height = 0, 
                    g(this.TEXTAREA_PARENT), this.TEXTAREA_PARENT.appendChild(this.TEXTAREA);
                }
            }, {}, j), i("password", k);
        }, {
            editors: 28,
            "helpers/dom/element": 44,
            textEditor: 39
        } ],
        38: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                SelectEditor: {
                    get: function() {
                        return y;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), j = i.addClass, k = i.empty, l = i.fastInnerHTML, m = i.getComputedStyle, n = i.getCssTransform, o = i.getScrollableElement, p = i.offset, q = i.outerHeight, r = i.outerWidth, s = i.resetCssTransform, t = (e = a("helpers/dom/event"), 
            e && e.__esModule && e || {
                "default": e
            }).stopImmediatePropagation, u = (f = a("helpers/unicode"), f && f.__esModule && f || {
                "default": f
            }).KEY_CODES, v = (g = a("editors"), g && g.__esModule && g || {
                "default": g
            }), w = (v.getEditor, v.registerEditor), x = (h = a("_baseEditor"), h && h.__esModule && h || {
                "default": h
            }).BaseEditor, y = x.prototype.extend();
            y.prototype.init = function() {
                this.select = document.createElement("SELECT"), j(this.select, "htSelectEditor"), 
                this.select.style.display = "none", this.instance.rootElement.appendChild(this.select), 
                this.registerHooks();
            }, y.prototype.registerHooks = function() {
                var a = this;
                this.instance.addHook("afterScrollVertically", function() {
                    return a.refreshDimensions();
                }), this.instance.addHook("afterColumnResize", function() {
                    return a.refreshDimensions();
                }), this.instance.addHook("afterRowResize", function() {
                    return a.refreshDimensions();
                });
            }, y.prototype.prepare = function() {
                x.prototype.prepare.apply(this, arguments);
                var a, b = this.cellProperties.selectOptions;
                a = "function" == typeof b ? this.prepareOptions(b(this.row, this.col, this.prop)) : this.prepareOptions(b), 
                k(this.select);
                for (var c in a) if (a.hasOwnProperty(c)) {
                    var d = document.createElement("OPTION");
                    d.value = c, l(d, a[c]), this.select.appendChild(d);
                }
            }, y.prototype.prepareOptions = function(a) {
                var b = {};
                if (Array.isArray(a)) for (var c = 0, d = a.length; d > c; c++) b[a[c]] = a[c]; else "object" == typeof a && (b = a);
                return b;
            }, y.prototype.getValue = function() {
                return this.select.value;
            }, y.prototype.setValue = function(a) {
                this.select.value = a;
            };
            var z = function(a) {
                var b = this, c = b.getActiveEditor();
                switch (a.keyCode) {
                  case u.ARROW_UP:
                    var d = c.select.selectedIndex - 1;
                    d >= 0 && (c.select[d].selected = !0), t(a), a.preventDefault();
                    break;

                  case u.ARROW_DOWN:
                    var e = c.select.selectedIndex + 1;
                    e <= c.select.length - 1 && (c.select[e].selected = !0), t(a), a.preventDefault();
                }
            };
            y.prototype.open = function() {
                this._opened = !0, this.refreshDimensions(), this.select.style.display = "", this.instance.addHook("beforeKeyDown", z);
            }, y.prototype.close = function() {
                this._opened = !1, this.select.style.display = "none", this.instance.removeHook("beforeKeyDown", z);
            }, y.prototype.focus = function() {
                this.select.focus();
            }, y.prototype.refreshDimensions = function() {
                if (this.state === Handsontable.EditorState.EDITING) {
                    if (this.TD = this.getEditedCell(), !this.TD) return void this.close();
                    var a, b = r(this.TD) + 1, c = q(this.TD) + 1, d = p(this.TD), e = p(this.instance.rootElement), f = o(this.TD), g = d.top - e.top - 1 - (f.scrollTop || 0), h = d.left - e.left - 1 - (f.scrollLeft || 0), i = this.checkEditorSection(), j = this.instance.getSettings();
                    j.rowHeaders ? 1 : 0, j.colHeaders ? 1 : 0;
                    switch (i) {
                      case "top":
                        a = n(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "left":
                        a = n(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "top-left-corner":
                        a = n(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "bottom-left-corner":
                        a = n(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "bottom":
                        a = n(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode);
                    }
                    0 === this.instance.getSelected()[0] && (g += 1), 0 === this.instance.getSelected()[1] && (h += 1);
                    var k = this.select.style;
                    a && -1 != a ? k[a[0]] = a[1] : s(this.select);
                    var l = m(this.TD);
                    parseInt(l.borderTopWidth, 10) > 0 && (c -= 1), parseInt(l.borderLeftWidth, 10) > 0 && (b -= 1), 
                    k.height = c + "px", k.minWidth = b + "px", k.top = g + "px", k.left = h + "px", 
                    k.margin = "0px";
                }
            }, y.prototype.getEditedCell = function() {
                var a, b = this.checkEditorSection();
                switch (b) {
                  case "top":
                    a = this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.select.style.zIndex = 101;
                    break;

                  case "corner":
                    a = this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.select.style.zIndex = 103;
                    break;

                  case "left":
                    a = this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.select.style.zIndex = 102;
                    break;

                  default:
                    a = this.instance.getCell(this.row, this.col), this.select.style.zIndex = "";
                }
                return -1 != a && -2 != a ? a : void 0;
            }, w("select", y);
        }, {
            _baseEditor: 29,
            editors: 28,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/unicode": 52
        } ],
        39: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                TextEditor: {
                    get: function() {
                        return E;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j, k = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), l = k.addClass, m = k.getCaretPosition, n = k.getComputedStyle, o = k.getCssTransform, p = k.getScrollableElement, q = k.innerWidth, r = k.offset, s = k.resetCssTransform, t = k.setCaretPosition, u = (e = a("autoResize"), 
            e && e.__esModule && e || {
                "default": e
            })["default"], v = (f = a("_baseEditor"), f && f.__esModule && f || {
                "default": f
            }).BaseEditor, w = (g = a("eventManager"), g && g.__esModule && g || {
                "default": g
            }).eventManager, x = (h = a("editors"), h && h.__esModule && h || {
                "default": h
            }), y = (x.getEditor, x.registerEditor), z = (i = a("helpers/unicode"), i && i.__esModule && i || {
                "default": i
            }).KEY_CODES, A = (j = a("helpers/dom/event"), j && j.__esModule && j || {
                "default": j
            }), B = A.stopPropagation, C = A.stopImmediatePropagation, D = A.isImmediatePropagationStopped, E = v.prototype.extend();
            E.prototype.init = function() {
                var a = this;
                this.createElements(), this.eventManager = w(this), this.bindEvents(), this.autoResize = u(), 
                this.instance.addHook("afterDestroy", function() {
                    a.destroy();
                });
            }, E.prototype.getValue = function() {
                return this.TEXTAREA.value;
            }, E.prototype.setValue = function(a) {
                this.TEXTAREA.value = a;
            };
            var F = function(a) {
                var b, c = this, d = c.getActiveEditor();
                if (b = (a.ctrlKey || a.metaKey) && !a.altKey, a.target === d.TEXTAREA && !D(a)) {
                    if (17 === a.keyCode || 224 === a.keyCode || 91 === a.keyCode || 93 === a.keyCode) return void C(a);
                    switch (a.keyCode) {
                      case z.ARROW_RIGHT:
                        d.isInFullEditMode() && (!d.isWaiting() && !d.allowKeyEventPropagation || !d.isWaiting() && d.allowKeyEventPropagation && !d.allowKeyEventPropagation(a.keyCode)) && C(a);
                        break;

                      case z.ARROW_LEFT:
                        d.isInFullEditMode() && (!d.isWaiting() && !d.allowKeyEventPropagation || !d.isWaiting() && d.allowKeyEventPropagation && !d.allowKeyEventPropagation(a.keyCode)) && C(a);
                        break;

                      case z.ARROW_UP:
                      case z.ARROW_DOWN:
                        d.isInFullEditMode() && (!d.isWaiting() && !d.allowKeyEventPropagation || !d.isWaiting() && d.allowKeyEventPropagation && !d.allowKeyEventPropagation(a.keyCode)) && C(a);
                        break;

                      case z.ENTER:
                        var e = d.instance.getSelected(), f = !(e[0] === e[2] && e[1] === e[3]);
                        if (b && !f || a.altKey) {
                            if (d.isOpened()) {
                                var g = m(d.TEXTAREA), h = d.getValue(), i = h.slice(0, g) + "\n" + h.slice(g);
                                d.setValue(i), t(d.TEXTAREA, g + 1);
                            } else d.beginEditing(d.originalValue + "\n");
                            C(a);
                        }
                        a.preventDefault();
                        break;

                      case z.A:
                      case z.X:
                      case z.C:
                      case z.V:
                        b && C(a);
                        break;

                      case z.BACKSPACE:
                      case z.DELETE:
                      case z.HOME:
                      case z.END:
                        C(a);
                    }
                    -1 === [ z.ARROW_UP, z.ARROW_RIGHT, z.ARROW_DOWN, z.ARROW_LEFT ].indexOf(a.keyCode) && d.autoResize.resize(String.fromCharCode(a.keyCode));
                }
            };
            E.prototype.open = function() {
                this.refreshDimensions(), this.instance.addHook("beforeKeyDown", F);
            }, E.prototype.close = function(a) {
                this.textareaParentStyle.display = "none", this.autoResize.unObserve(), document.activeElement === this.TEXTAREA && this.instance.listen(), 
                this.instance.removeHook("beforeKeyDown", F);
            }, E.prototype.focus = function() {
                this.TEXTAREA.focus(), t(this.TEXTAREA, this.TEXTAREA.value.length);
            }, E.prototype.createElements = function() {
                this.TEXTAREA = document.createElement("TEXTAREA"), l(this.TEXTAREA, "handsontableInput"), 
                this.textareaStyle = this.TEXTAREA.style, this.textareaStyle.width = 0, this.textareaStyle.height = 0, 
                this.TEXTAREA_PARENT = document.createElement("DIV"), l(this.TEXTAREA_PARENT, "handsontableInputHolder"), 
                this.textareaParentStyle = this.TEXTAREA_PARENT.style, this.textareaParentStyle.top = 0, 
                this.textareaParentStyle.left = 0, this.textareaParentStyle.display = "none", this.TEXTAREA_PARENT.appendChild(this.TEXTAREA), 
                this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);
                var a = this;
                this.instance._registerTimeout(setTimeout(function() {
                    a.refreshDimensions();
                }, 0));
            }, E.prototype.getEditedCell = function() {
                var a, b = this.checkEditorSection();
                switch (b) {
                  case "top":
                    a = this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.textareaParentStyle.zIndex = 101;
                    break;

                  case "top-left-corner":
                    a = this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.textareaParentStyle.zIndex = 103;
                    break;

                  case "bottom-left-corner":
                    a = this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.textareaParentStyle.zIndex = 103;
                    break;

                  case "left":
                    a = this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.textareaParentStyle.zIndex = 102;
                    break;

                  case "bottom":
                    a = this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({
                        row: this.row,
                        col: this.col
                    }), this.textareaParentStyle.zIndex = 102;
                    break;

                  default:
                    a = this.instance.getCell(this.row, this.col), this.textareaParentStyle.zIndex = "";
                }
                return -1 != a && -2 != a ? a : void 0;
            }, E.prototype.refreshDimensions = function() {
                if (this.state === Handsontable.EditorState.EDITING) {
                    if (this.TD = this.getEditedCell(), !this.TD) return void this.close(!0);
                    var a, b = r(this.TD), c = r(this.instance.rootElement), d = p(this.TD), e = this.instance.countRows(), f = b.top - c.top - 1 - (d.scrollTop || 0), g = b.left - c.left - 1 - (d.scrollLeft || 0), h = this.instance.getSettings(), i = (h.rowHeaders ? 1 : 0, 
                    h.colHeaders ? 1 : 0), j = this.checkEditorSection(), k = this.TD.style.backgroundColor;
                    switch (j) {
                      case "top":
                        a = o(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "left":
                        a = o(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "top-left-corner":
                        a = o(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "bottom-left-corner":
                        a = o(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);
                        break;

                      case "bottom":
                        a = o(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode);
                    }
                    (i && 0 === this.instance.getSelected()[0] || h.fixedRowsBottom && this.instance.getSelected()[0] === e - h.fixedRowsBottom) && (f += 1), 
                    0 === this.instance.getSelected()[1] && (g += 1), a && -1 != a ? this.textareaParentStyle[a[0]] = a[1] : s(this.textareaParentStyle), 
                    this.textareaParentStyle.top = f + "px", this.textareaParentStyle.left = g + "px";
                    var l = this.TD.offsetTop - this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(), m = this.TD.offsetLeft - this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(), t = q(this.TD) - 8, u = this.instance.view.maximumVisibleElementWidth(m) - 9, v = this.TD.scrollHeight + 1, w = Math.max(this.instance.view.maximumVisibleElementHeight(l) - 2, 23), x = n(this.TD);
                    this.TEXTAREA.style.fontSize = x.fontSize, this.TEXTAREA.style.fontFamily = x.fontFamily, 
                    this.TEXTAREA.style.backgroundColor = "", this.TEXTAREA.style.backgroundColor = k ? k : n(this.TEXTAREA).backgroundColor, 
                    this.autoResize.init(this.TEXTAREA, {
                        minHeight: Math.min(v, w),
                        maxHeight: w,
                        minWidth: Math.min(t, u),
                        maxWidth: u
                    }, !0), this.textareaParentStyle.display = "block";
                }
            }, E.prototype.bindEvents = function() {
                var a = this;
                this.eventManager.addEventListener(this.TEXTAREA, "cut", function(a) {
                    B(a);
                }), this.eventManager.addEventListener(this.TEXTAREA, "paste", function(a) {
                    B(a);
                }), this.instance.addHook("afterScrollVertically", function() {
                    a.refreshDimensions();
                }), this.instance.addHook("afterColumnResize", function() {
                    a.refreshDimensions(), a.focus();
                }), this.instance.addHook("afterRowResize", function() {
                    a.refreshDimensions(), a.focus();
                }), this.instance.addHook("afterDestroy", function() {
                    a.eventManager.destroy();
                });
            }, E.prototype.destroy = function() {
                this.eventManager.destroy();
            }, y("text", E);
        }, {
            _baseEditor: 29,
            autoResize: "autoResize",
            editors: 28,
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/unicode": 52
        } ],
        40: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                var c, d, e, f, g, h = "HOT-TABLE";
                if (b.isTargetWebComponent = !1, b.realTarget = b.target, !Handsontable.eventManager.isHotTableEnv) return b;
                for (b = i(b), g = b.path ? b.path.length : 0; g--; ) {
                    if (b.path[g].nodeName === h) c = !0; else if (c && b.path[g].shadowRoot) {
                        f = b.path[g];
                        break;
                    }
                    0 !== g || f || (f = b.path[g]);
                }
                return f || (f = b.target), b.isTargetWebComponent = !0, k() ? b.realTarget = b.srcElement || b.toElement : (a instanceof Handsontable.Core || a instanceof Walkontable) && (a instanceof Handsontable.Core ? d = a.view ? a.view.wt.wtTable.TABLE : null : a instanceof Walkontable && (d = a.wtTable.TABLE.parentNode.parentNode), 
                e = j(b.target, [ h ], d), e ? b.realTarget = d.querySelector(h) || b.target : b.realTarget = b.target), 
                Object.defineProperty(b, "target", {
                    get: function() {
                        return i(f);
                    },
                    enumerable: !0,
                    configurable: !0
                }), b;
            }
            function e(a) {
                return new l(a);
            }
            Object.defineProperties(c, {
                EventManager: {
                    get: function() {
                        return l;
                    }
                },
                eventManager: {
                    get: function() {
                        return e;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var f, g, h = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }), i = h.polymerWrap, j = h.closest, k = (g = a("helpers/browser"), g && g.__esModule && g || {
                "default": g
            }).isWebComponentSupportedNatively, l = function() {
                var a = void 0 !== arguments[0] ? arguments[0] : null;
                this.context = a || this, this.context.eventListeners || (this.context.eventListeners = []);
            };
            $traceurRuntime.createClass(l, {
                addEventListener: function(a, b, c) {
                    function e(a) {
                        void 0 == a.target && void 0 != a.srcElement && (a.definePoperty ? a.definePoperty("target", {
                            value: a.srcElement
                        }) : a.target = a.srcElement), void 0 == a.preventDefault && (a.definePoperty ? a.definePoperty("preventDefault", {
                            value: function() {
                                this.returnValue = !1;
                            }
                        }) : a.preventDefault = function() {
                            this.returnValue = !1;
                        }), a = d(g, a), c.call(this, a);
                    }
                    var f = this, g = this.context;
                    return this.context.eventListeners.push({
                        element: a,
                        event: b,
                        callback: c,
                        callbackProxy: e
                    }), window.addEventListener ? a.addEventListener(b, e, !1) : a.attachEvent("on" + b, e), 
                    Handsontable.countEventManagerListeners++, function() {
                        f.removeEventListener(a, b, c);
                    };
                },
                removeEventListener: function(a, b, c) {
                    for (var d, e = this.context.eventListeners.length; e--; ) if (d = this.context.eventListeners[e], 
                    d.event == b && d.element == a) {
                        if (c && c != d.callback) continue;
                        this.context.eventListeners.splice(e, 1), d.element.removeEventListener ? d.element.removeEventListener(d.event, d.callbackProxy, !1) : d.element.detachEvent("on" + d.event, d.callbackProxy), 
                        Handsontable.countEventManagerListeners--;
                    }
                },
                clearEvents: function() {
                    if (this.context) for (var a = this.context.eventListeners.length; a--; ) {
                        var b = this.context.eventListeners[a];
                        b && this.removeEventListener(b.element, b.event, b.callback);
                    }
                },
                clear: function() {
                    this.clearEvents();
                },
                destroy: function() {
                    this.clearEvents(), this.context = null;
                },
                fireEvent: function(a, b) {
                    var c, d = {
                        bubbles: !0,
                        cancelable: "mousemove" !== b,
                        view: window,
                        detail: 0,
                        screenX: 0,
                        screenY: 0,
                        clientX: 1,
                        clientY: 1,
                        ctrlKey: !1,
                        altKey: !1,
                        shiftKey: !1,
                        metaKey: !1,
                        button: 0,
                        relatedTarget: void 0
                    };
                    document.createEvent ? (c = document.createEvent("MouseEvents"), c.initMouseEvent(b, d.bubbles, d.cancelable, d.view, d.detail, d.screenX, d.screenY, d.clientX, d.clientY, d.ctrlKey, d.altKey, d.shiftKey, d.metaKey, d.button, d.relatedTarget || document.body.parentNode)) : c = document.createEventObject(), 
                    a.dispatchEvent ? a.dispatchEvent(c) : a.fireEvent("on" + b, c);
                }
            }, {}), window.Handsontable = window.Handsontable || {}, Handsontable.countEventManagerListeners = 0, 
            Handsontable.eventManager = e;
        }, {
            "helpers/browser": 42,
            "helpers/dom/element": 44
        } ],
        41: [ function(a, b, c) {
            "use strict";
            function d(a) {
                for (var b = 0, c = a.length; c > b; ) a[b] = [ a[b] ], b++;
            }
            function e(a, b) {
                for (var c = 0, d = b.length; d > c; ) a.push(b[c]), c++;
            }
            function f(a) {
                var b = [];
                if (!a || 0 === a.length || !a[0] || 0 === a[0].length) return b;
                for (var c = a.length, d = a[0].length, e = 0; c > e; e++) for (var f = 0; d > f; f++) b[f] || (b[f] = []), 
                b[f][e] = a[e][f];
                return b;
            }
            function g(a, b, c, d) {
                var e = -1, f = a.length;
                for (d && f && (c = a[++e]); ++e < f; ) c = b(c, a[e], e, a);
                return c;
            }
            function h(a, b) {
                for (var c = -1, d = a.length, e = -1, f = []; ++c < d; ) {
                    var g = a[c];
                    b(g, c, a) && (f[++e] = g);
                }
                return f;
            }
            function i(a, b) {
                for (var c = -1, d = a.length, e = -1, f = []; ++c < d; ) {
                    var g = a[c];
                    f[++e] = b(g, c, a);
                }
                return f;
            }
            function j(a, b) {
                for (var c = -1, d = a.length; ++c < d && b(a[c], c, a) !== !1; ) ;
                return a;
            }
            function k(a) {
                return g(a, function(a, b) {
                    return a + b;
                }, 0);
            }
            function l(a) {
                return a.length ? k(a) / a.length : 0;
            }
            function m(a) {
                return g(a, function(a, b) {
                    return a.concat(Array.isArray(b) ? m(b) : b);
                }, []);
            }
            function n(a) {
                var b = [];
                return j(a, function(a) {
                    -1 === b.indexOf(a) && b.push(a);
                }), b;
            }
            Object.defineProperties(c, {
                to2dArray: {
                    get: function() {
                        return d;
                    }
                },
                extendArray: {
                    get: function() {
                        return e;
                    }
                },
                pivot: {
                    get: function() {
                        return f;
                    }
                },
                arrayReduce: {
                    get: function() {
                        return g;
                    }
                },
                arrayFilter: {
                    get: function() {
                        return h;
                    }
                },
                arrayMap: {
                    get: function() {
                        return i;
                    }
                },
                arrayEach: {
                    get: function() {
                        return j;
                    }
                },
                arraySum: {
                    get: function() {
                        return k;
                    }
                },
                arrayAvg: {
                    get: function() {
                        return l;
                    }
                },
                arrayFlatten: {
                    get: function() {
                        return m;
                    }
                },
                arrayUnique: {
                    get: function() {
                        return n;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
        }, {} ],
        42: [ function(a, b, c) {
            "use strict";
            function d() {
                return n;
            }
            function e() {
                return o;
            }
            function f() {
                return p;
            }
            function g() {
                return q;
            }
            function h(a) {
                return a || (a = navigator.userAgent), /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a);
            }
            function i() {
                return "ontouchstart" in window;
            }
            function j() {
                var a = document.createElement("div");
                return a.createShadowRoot && a.createShadowRoot.toString().match(/\[native code\]/) ? !0 : !1;
            }
            function k() {
                var a = document.createElement("TABLE");
                a.style.borderSpacing = 0, a.style.borderWidth = 0, a.style.padding = 0;
                var b = document.createElement("TBODY");
                a.appendChild(b), b.appendChild(document.createElement("TR")), b.firstChild.appendChild(document.createElement("TD")), 
                b.firstChild.firstChild.innerHTML = "<tr><td>t<br>t</td></tr>";
                var c = document.createElement("CAPTION");
                c.innerHTML = "c<br>c<br>c<br>c", c.style.padding = 0, c.style.margin = 0, a.insertBefore(c, b), 
                document.body.appendChild(a), m = a.offsetHeight < 2 * a.lastChild.offsetHeight, 
                document.body.removeChild(a);
            }
            function l() {
                return void 0 === m && k(), m;
            }
            Object.defineProperties(c, {
                isIE8: {
                    get: function() {
                        return d;
                    }
                },
                isIE9: {
                    get: function() {
                        return e;
                    }
                },
                isSafari: {
                    get: function() {
                        return f;
                    }
                },
                isChrome: {
                    get: function() {
                        return g;
                    }
                },
                isMobileBrowser: {
                    get: function() {
                        return h;
                    }
                },
                isTouchSupported: {
                    get: function() {
                        return i;
                    }
                },
                isWebComponentSupportedNatively: {
                    get: function() {
                        return j;
                    }
                },
                hasCaptionProblem: {
                    get: function() {
                        return l;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var m, n = !document.createTextNode("test").textContent, o = !!document.documentMode, p = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor), q = /Chrome/.test(navigator.userAgent) && /Google/.test(navigator.vendor);
        }, {} ],
        43: [ function(a, b, c) {
            "use strict";
            function d(a) {
                for (var b, c = a + 1, d = ""; c > 0; ) b = (c - 1) % 26, d = String.fromCharCode(65 + b) + d, 
                c = parseInt((c - b) / 26, 10);
                return d;
            }
            function e(a, b) {
                a = "number" == typeof a ? a : 100, b = "number" == typeof b ? b : 4;
                var c, e, f = [];
                for (c = 0; a > c; c++) {
                    var g = [];
                    for (e = 0; b > e; e++) g.push(d(e) + (c + 1));
                    f.push(g);
                }
                return f;
            }
            function f(a, b) {
                a = "number" == typeof a ? a : 100, b = "number" == typeof b ? b : 4;
                var c, e, f = [];
                for (c = 0; a > c; c++) {
                    var g = {};
                    for (e = 0; b > e; e++) g["prop" + e] = d(e) + (c + 1);
                    f.push(g);
                }
                return f;
            }
            function g(a) {
                var b, c, d, e, f = [], g = 0;
                for (b = 0, c = a.length; c > b; b++) for (d = 0, e = a[b].length; e > d; d++) d == g && (f.push([]), 
                g++), f[d].push(a[b][d]);
                return f;
            }
            function h(a, b) {
                function c(a) {
                    var b = Handsontable.cellTypes[a];
                    if ("undefined" == typeof b) throw new Error('You declared cell type "' + a + '" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');
                    return b;
                }
                return b = "undefined" == typeof b ? !0 : b, function(d, e) {
                    return function f(d) {
                        if (d) {
                            if (d.hasOwnProperty(a) && void 0 !== d[a]) return d[a];
                            if (d.hasOwnProperty("type") && d.type) {
                                var e;
                                if ("string" != typeof d.type) throw new Error("Cell type must be a string ");
                                if (e = c(d.type), e.hasOwnProperty(a)) return e[a];
                                if (b) return;
                            }
                            return f(j(d));
                        }
                    }("number" == typeof d ? this.getCellMeta(d, e) : d);
                };
            }
            Object.defineProperties(c, {
                spreadsheetColumnLabel: {
                    get: function() {
                        return d;
                    }
                },
                createSpreadsheetData: {
                    get: function() {
                        return e;
                    }
                },
                createSpreadsheetObjectData: {
                    get: function() {
                        return f;
                    }
                },
                translateRowsToColumns: {
                    get: function() {
                        return g;
                    }
                },
                cellMethodLookupFactory: {
                    get: function() {
                        return h;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var i, j = (i = a("object"), i && i.__esModule && i || {
                "default": i
            }).getPrototypeOf;
        }, {
            object: 49
        } ],
        44: [ function(a, b, c) {
            "use strict";
            function d(a, b, c) {
                for (;null != a && a !== c; ) {
                    if (a.nodeType === Node.ELEMENT_NODE && (b.indexOf(a.nodeName) > -1 || b.indexOf(a) > -1)) return a;
                    a = a.host && a.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? a.host : a.parentNode;
                }
                return null;
            }
            function e(a, b) {
                var c = a.parentNode, d = [];
                for ("string" == typeof b ? d = Array.prototype.slice.call(document.querySelectorAll(b), 0) : d.push(b); null != c; ) {
                    if (d.indexOf(c) > -1) return !0;
                    c = c.parentNode;
                }
                return !1;
            }
            function f(a) {
                function b(a) {
                    return a.nodeType === Node.ELEMENT_NODE && a.nodeName === d.toUpperCase();
                }
                var c, d = "hot-table", e = !1;
                for (c = g(a); null != c; ) {
                    if (b(c)) {
                        e = !0;
                        break;
                    }
                    if (c.host && c.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                        if (e = b(c.host)) break;
                        c = c.host;
                    }
                    c = c.parentNode;
                }
                return e;
            }
            function g(a) {
                return "undefined" != typeof Polymer && "function" == typeof wrap ? wrap(a) : a;
            }
            function h(a) {
                return "undefined" != typeof Polymer && "function" == typeof unwrap ? unwrap(a) : a;
            }
            function i(a) {
                var b = 0;
                if (a.previousSibling) for (;a = a.previousSibling; ) ++b;
                return b;
            }
            function j(a, b) {
                var c = document.querySelector(".ht_clone_" + a);
                return c ? c.contains(b) : null;
            }
            function k(a) {
                var b = 0, c = [];
                if (!a || !a.length) return c;
                for (;a[b]; ) c.push(a[b]), b++;
                return c;
            }
            function l(a, b) {
                return V(a, b);
            }
            function m(a, b) {
                return W(a, b);
            }
            function n(a, b) {
                return X(a, b);
            }
            function o(a, b) {
                if (3 === a.nodeType) b.removeChild(a); else if ([ "TABLE", "THEAD", "TBODY", "TFOOT", "TR" ].indexOf(a.nodeName) > -1) for (var c = a.childNodes, d = c.length - 1; d >= 0; d--) o(c[d], a);
            }
            function p(a) {
                for (var b; b = a.lastChild; ) a.removeChild(b);
            }
            function q(a, b) {
                fa.test(b) ? a.innerHTML = b : r(a, b);
            }
            function r(a, b) {
                var c = a.firstChild;
                c && 3 === c.nodeType && null === c.nextSibling ? ga ? c.textContent = b : c.data = b : (p(a), 
                a.appendChild(document.createTextNode(b)));
            }
            function s(a) {
                for (var b = a; h(b) !== document.documentElement; ) {
                    if (null === b) return !1;
                    if (b.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                        if (b.host) {
                            if (b.host.impl) return s(b.host.impl);
                            if (b.host) return s(b.host);
                            throw new Error("Lost in Web Components world");
                        }
                        return !1;
                    }
                    if ("none" === b.style.display) return !1;
                    b = b.parentNode;
                }
                return !0;
            }
            function t(a) {
                var b, c, d, e, f;
                if (e = document.documentElement, aa() && a.firstChild && "CAPTION" === a.firstChild.nodeName) return f = a.getBoundingClientRect(), 
                {
                    top: f.top + (window.pageYOffset || e.scrollTop) - (e.clientTop || 0),
                    left: f.left + (window.pageXOffset || e.scrollLeft) - (e.clientLeft || 0)
                };
                for (b = a.offsetLeft, c = a.offsetTop, d = a; (a = a.offsetParent) && a !== document.body; ) b += a.offsetLeft, 
                c += a.offsetTop, d = a;
                return d && "fixed" === d.style.position && (b += window.pageXOffset || e.scrollLeft, 
                c += window.pageYOffset || e.scrollTop), {
                    left: b,
                    top: c
                };
            }
            function u() {
                var a = window.scrollY;
                return void 0 === a && (a = document.documentElement.scrollTop), a;
            }
            function v() {
                var a = window.scrollX;
                return void 0 === a && (a = document.documentElement.scrollLeft), a;
            }
            function w(a) {
                return a === window ? u() : a.scrollTop;
            }
            function x(a) {
                return a === window ? v() : a.scrollLeft;
            }
            function y(a) {
                for (var b, c, d, e = a.parentNode, f = [ "auto", "scroll" ], g = "", h = "", i = "", j = ""; e && e.style && document.body !== e; ) {
                    if (b = e.style.overflow, c = e.style.overflowX, d = e.style.overflowY, "scroll" == b || "scroll" == c || "scroll" == d) return e;
                    if (window.getComputedStyle && (g = window.getComputedStyle(e), h = g.getPropertyValue("overflow"), 
                    i = g.getPropertyValue("overflow-y"), j = g.getPropertyValue("overflow-x"), "scroll" === h || "scroll" === j || "scroll" === i)) return e;
                    if (e.clientHeight <= e.scrollHeight && (-1 !== f.indexOf(d) || -1 !== f.indexOf(b) || -1 !== f.indexOf(h) || -1 !== f.indexOf(i))) return e;
                    if (e.clientWidth <= e.scrollWidth && (-1 !== f.indexOf(c) || -1 !== f.indexOf(b) || -1 !== f.indexOf(h) || -1 !== f.indexOf(j))) return e;
                    e = e.parentNode;
                }
                return window;
            }
            function z(a) {
                for (var b = a.parentNode; b && b.style && document.body !== b; ) {
                    if ("visible" !== b.style.overflow && "" !== b.style.overflow) return b;
                    if (window.getComputedStyle) {
                        var c = window.getComputedStyle(b);
                        if ("visible" !== c.getPropertyValue("overflow") && "" !== c.getPropertyValue("overflow")) return b;
                    }
                    b = b.parentNode;
                }
                return window;
            }
            function A(a, b) {
                if (a) {
                    if (a !== window) {
                        var c, d = a.style[b];
                        return "" !== d && void 0 !== d ? d : (c = B(a), "" !== c[b] && void 0 !== c[b] ? c[b] : void 0);
                    }
                    if ("width" === b) return window.innerWidth + "px";
                    if ("height" === b) return window.innerHeight + "px";
                }
            }
            function B(a) {
                return a.currentStyle || document.defaultView.getComputedStyle(a);
            }
            function C(a) {
                return a.offsetWidth;
            }
            function D(a) {
                return aa() && a.firstChild && "CAPTION" === a.firstChild.nodeName ? a.offsetHeight + a.firstChild.offsetHeight : a.offsetHeight;
            }
            function E(a) {
                return a.clientHeight || a.innerHeight;
            }
            function F(a) {
                return a.clientWidth || a.innerWidth;
            }
            function G(a, b, c) {
                window.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent("on" + b, c);
            }
            function H(a, b, c) {
                window.removeEventListener ? a.removeEventListener(b, c, !1) : a.detachEvent("on" + b, c);
            }
            function I(a) {
                if (a.selectionStart) return a.selectionStart;
                if (document.selection) {
                    a.focus();
                    var b = document.selection.createRange();
                    if (null == b) return 0;
                    var c = a.createTextRange(), d = c.duplicate();
                    return c.moveToBookmark(b.getBookmark()), d.setEndPoint("EndToStart", c), d.text.length;
                }
                return 0;
            }
            function J(a) {
                if (a.selectionEnd) return a.selectionEnd;
                if (document.selection) {
                    var b = document.selection.createRange();
                    if (null == b) return 0;
                    var c = a.createTextRange();
                    return c.text.indexOf(b.text) + b.text.length;
                }
            }
            function K(a, b, c) {
                if (void 0 === c && (c = b), a.setSelectionRange) {
                    a.focus();
                    try {
                        a.setSelectionRange(b, c);
                    } catch (d) {
                        var e = a.parentNode, f = e.style.display;
                        e.style.display = "block", a.setSelectionRange(b, c), e.style.display = f;
                    }
                } else if (a.createTextRange) {
                    var g = a.createTextRange();
                    g.collapse(!0), g.moveEnd("character", c), g.moveStart("character", b), g.select();
                }
            }
            function L() {
                var a = document.createElement("p");
                a.style.width = "100%", a.style.height = "200px";
                var b = document.createElement("div");
                b.style.position = "absolute", b.style.top = "0px", b.style.left = "0px", b.style.visibility = "hidden", 
                b.style.width = "200px", b.style.height = "150px", b.style.overflow = "hidden", 
                b.appendChild(a), (document.body || document.documentElement).appendChild(b);
                var c = a.offsetWidth;
                b.style.overflow = "scroll";
                var d = a.offsetWidth;
                return c == d && (d = b.clientWidth), (document.body || document.documentElement).removeChild(b), 
                c - d;
            }
            function M() {
                return void 0 === ea && (ea = L()), ea;
            }
            function N(a, b, c) {
                Z() || $() ? (a.style.top = c, a.style.left = b) : _() ? a.style["-webkit-transform"] = "translate3d(" + b + "," + c + ",0)" : a.style.transform = "translate3d(" + b + "," + c + ",0)";
            }
            function O(a) {
                var b;
                return a.style.transform && "" !== (b = a.style.transform) ? [ "transform", b ] : a.style["-webkit-transform"] && "" !== (b = a.style["-webkit-transform"]) ? [ "-webkit-transform", b ] : -1;
            }
            function P(a) {
                a.transform && "" !== a.transform ? a.transform = "" : a["-webkit-transform"] && "" !== a["-webkit-transform"] && (a["-webkit-transform"] = "");
            }
            function Q(a) {
                var b = [ "INPUT", "SELECT", "TEXTAREA" ];
                return b.indexOf(a.nodeName) > -1 || "true" === a.contentEditable;
            }
            function R(a) {
                return Q(a) && -1 == a.className.indexOf("handsontableInput") && -1 == a.className.indexOf("copyPaste");
            }
            function S(a) {
                return ja.call(window, a);
            }
            function T(a) {
                ka.call(window, a);
            }
            Object.defineProperties(c, {
                closest: {
                    get: function() {
                        return d;
                    }
                },
                isChildOf: {
                    get: function() {
                        return e;
                    }
                },
                isChildOfWebComponentTable: {
                    get: function() {
                        return f;
                    }
                },
                polymerWrap: {
                    get: function() {
                        return g;
                    }
                },
                polymerUnwrap: {
                    get: function() {
                        return h;
                    }
                },
                index: {
                    get: function() {
                        return i;
                    }
                },
                overlayContainsElement: {
                    get: function() {
                        return j;
                    }
                },
                hasClass: {
                    get: function() {
                        return l;
                    }
                },
                addClass: {
                    get: function() {
                        return m;
                    }
                },
                removeClass: {
                    get: function() {
                        return n;
                    }
                },
                removeTextNodes: {
                    get: function() {
                        return o;
                    }
                },
                empty: {
                    get: function() {
                        return p;
                    }
                },
                HTML_CHARACTERS: {
                    get: function() {
                        return fa;
                    }
                },
                fastInnerHTML: {
                    get: function() {
                        return q;
                    }
                },
                fastInnerText: {
                    get: function() {
                        return r;
                    }
                },
                isVisible: {
                    get: function() {
                        return s;
                    }
                },
                offset: {
                    get: function() {
                        return t;
                    }
                },
                getWindowScrollTop: {
                    get: function() {
                        return u;
                    }
                },
                getWindowScrollLeft: {
                    get: function() {
                        return v;
                    }
                },
                getScrollTop: {
                    get: function() {
                        return w;
                    }
                },
                getScrollLeft: {
                    get: function() {
                        return x;
                    }
                },
                getScrollableElement: {
                    get: function() {
                        return y;
                    }
                },
                getTrimmingContainer: {
                    get: function() {
                        return z;
                    }
                },
                getStyle: {
                    get: function() {
                        return A;
                    }
                },
                getComputedStyle: {
                    get: function() {
                        return B;
                    }
                },
                outerWidth: {
                    get: function() {
                        return C;
                    }
                },
                outerHeight: {
                    get: function() {
                        return D;
                    }
                },
                innerHeight: {
                    get: function() {
                        return E;
                    }
                },
                innerWidth: {
                    get: function() {
                        return F;
                    }
                },
                addEvent: {
                    get: function() {
                        return G;
                    }
                },
                removeEvent: {
                    get: function() {
                        return H;
                    }
                },
                getCaretPosition: {
                    get: function() {
                        return I;
                    }
                },
                getSelectionEndPosition: {
                    get: function() {
                        return J;
                    }
                },
                setCaretPosition: {
                    get: function() {
                        return K;
                    }
                },
                getScrollbarWidth: {
                    get: function() {
                        return M;
                    }
                },
                setOverlayPosition: {
                    get: function() {
                        return N;
                    }
                },
                getCssTransform: {
                    get: function() {
                        return O;
                    }
                },
                resetCssTransform: {
                    get: function() {
                        return P;
                    }
                },
                isInput: {
                    get: function() {
                        return Q;
                    }
                },
                isOutsideInput: {
                    get: function() {
                        return R;
                    }
                },
                requestAnimationFrame: {
                    get: function() {
                        return S;
                    }
                },
                cancelAnimationFrame: {
                    get: function() {
                        return T;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var U, V, W, X, Y = (U = a("../browser"), U && U.__esModule && U || {
                "default": U
            }), Z = Y.isIE8, $ = Y.isIE9, _ = Y.isSafari, aa = Y.hasCaptionProblem, ba = document.documentElement.classList ? !0 : !1;
            if (ba) {
                var ca = function() {
                    var a = document.createElement("div");
                    return a.classList.add("test", "test2"), a.classList.contains("test2");
                }();
                V = function(a, b) {
                    return "" === b ? !1 : a.classList.contains(b);
                }, W = function(a, b) {
                    var c = 0;
                    if ("string" == typeof b && (b = b.split(" ")), b = k(b), ca) a.classList.add.apply(a.classList, b); else for (;b && b[c]; ) a.classList.add(b[c]), 
                    c++;
                }, X = function(a, b) {
                    var c = 0;
                    if ("string" == typeof b && (b = b.split(" ")), b = k(b), ca) a.classList.remove.apply(a.classList, b); else for (;b && b[c]; ) a.classList.remove(b[c]), 
                    c++;
                };
            } else {
                var da = function(a) {
                    return new RegExp("(\\s|^)" + a + "(\\s|$)");
                };
                V = function(a, b) {
                    return a.className.match(da(b)) ? !0 : !1;
                }, W = function(a, b) {
                    var c = 0, d = a.className;
                    if ("string" == typeof b && (b = b.split(" ")), "" === d) d = b.join(" "); else for (;b && b[c]; ) da(b[c]).test(d) || (d += " " + b[c]), 
                    c++;
                    a.className = d;
                }, X = function(a, b) {
                    var c = 0, d = a.className;
                    for ("string" == typeof b && (b = b.split(" ")); b && b[c]; ) d = d.replace(da(b[c]), " ").trim(), 
                    c++;
                    a.className !== d && (a.className = d);
                };
            }
            for (var ea, fa = /(<(.*)>|&(.*);)/, ga = document.createTextNode("test").textContent ? !0 : !1, ha = 0, ia = [ "ms", "moz", "webkit", "o" ], ja = window.requestAnimationFrame, ka = window.cancelAnimationFrame, la = 0; la < ia.length && !ja; ++la) ja = window[ia[la] + "RequestAnimationFrame"], 
            ka = window[ia[la] + "CancelAnimationFrame"] || window[ia[la] + "CancelRequestAnimationFrame"];
            ja || (ja = function(a) {
                var b = new Date().getTime(), c = Math.max(0, 16 - (b - ha)), d = window.setTimeout(function() {
                    a(b + c);
                }, c);
                return ha = b + c, d;
            }), ka || (ka = function(a) {
                clearTimeout(a);
            });
        }, {
            "../browser": 42
        } ],
        45: [ function(a, b, c) {
            "use strict";
            function d(a) {
                a.isImmediatePropagationEnabled = !1, a.cancelBubble = !0;
            }
            function e(a) {
                return a.isImmediatePropagationEnabled === !1;
            }
            function f(a) {
                "function" == typeof a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0;
            }
            function g(a) {
                if (a.pageX) return a.pageX;
                var b = getWindowScrollLeft(), c = a.clientX + b;
                return c;
            }
            function h(a) {
                if (a.pageY) return a.pageY;
                var b = getWindowScrollTop(), c = a.clientY + b;
                return c;
            }
            Object.defineProperties(c, {
                stopImmediatePropagation: {
                    get: function() {
                        return d;
                    }
                },
                isImmediatePropagationStopped: {
                    get: function() {
                        return e;
                    }
                },
                stopPropagation: {
                    get: function() {
                        return f;
                    }
                },
                pageX: {
                    get: function() {
                        return g;
                    }
                },
                pageY: {
                    get: function() {
                        return h;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
        }, {} ],
        46: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                return function() {
                    return a.apply(b, arguments);
                };
            }
            function e(a) {
                function b() {
                    var b = this, g = arguments, h = Date.now(), i = !1;
                    e.lastCallThrottled = !0, d || (d = h, i = !0);
                    var j = c - (h - d);
                    return i ? (e.lastCallThrottled = !1, a.apply(this, g)) : (f && clearTimeout(f), 
                    f = setTimeout(function() {
                        e.lastCallThrottled = !1, a.apply(b, g), d = 0, f = void 0;
                    }, j)), e;
                }
                var c = void 0 !== arguments[1] ? arguments[1] : 200, d = 0, e = {
                    lastCallThrottled: !0
                }, f = null;
                return b;
            }
            function f(a) {
                function b() {
                    h = f;
                }
                function c() {
                    return h ? (h--, a.apply(this, arguments)) : g.apply(this, arguments);
                }
                var d = void 0 !== arguments[1] ? arguments[1] : 200, f = void 0 !== arguments[2] ? arguments[2] : 10, g = e(a, d), h = f;
                return c.clearHits = b, c;
            }
            Object.defineProperties(c, {
                proxy: {
                    get: function() {
                        return d;
                    }
                },
                throttle: {
                    get: function() {
                        return e;
                    }
                },
                throttleAfterHits: {
                    get: function() {
                        return f;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
        }, {} ],
        47: [ function(a, b, c) {
            "use strict";
            function d(a) {
                switch (typeof a) {
                  case "string":
                  case "number":
                    return a + "";

                  case "object":
                    return null === a ? "" : a.toString();

                  case "undefined":
                    return "";

                  default:
                    return a.toString();
                }
            }
            Object.defineProperties(c, {
                stringify: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
        }, {} ],
        48: [ function(a, b, c) {
            "use strict";
            function d(a) {
                var b = typeof a;
                return "number" == b ? !isNaN(a) && isFinite(a) : "string" == b ? a.length ? 1 == a.length ? /\d/.test(a) : /^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(a) : !1 : "object" == b ? !(!a || "number" != typeof a.valueOf() || a instanceof Date) : !1;
            }
            function e(a, b, c, d) {
                var e = -1, f = b;
                if ("function" == typeof b ? (c = b, f = a) : e = a - 1, d || f >= a) for (;++e <= f && c(e) !== !1; ) ; else for (e = a + 1; --e >= b && c(e) !== !1; ) ;
            }
            function f(a, b) {
                return b = parseInt(b.toString().replace("%", ""), 10), b = parseInt(a * b / 100);
            }
            Object.defineProperties(c, {
                isNumeric: {
                    get: function() {
                        return d;
                    }
                },
                rangeEach: {
                    get: function() {
                        return e;
                    }
                },
                valueAccordingPercent: {
                    get: function() {
                        return f;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
        }, {} ],
        49: [ function(a, b, c) {
            "use strict";
            function d(a) {
                var b;
                return Array.isArray(a) ? b = [] : (b = {}, o(a, function(a, c) {
                    a && "object" == typeof a && !Array.isArray(a) ? b[c] = d(a) : Array.isArray(a) ? a.length && "object" == typeof a[0] && !Array.isArray(a[0]) ? b[c] = [ d(a[0]) ] : b[c] = [] : b[c] = null;
                })), b;
            }
            function e(a, b) {
                return b.prototype.constructor = b, a.prototype = new b(), a.prototype.constructor = a, 
                a;
            }
            function f(a, b) {
                return o(b, function(b, c) {
                    a[c] = b;
                }), a;
            }
            function g(a, b) {
                o(b, function(c, d) {
                    b[d] && "object" == typeof b[d] ? (a[d] || (Array.isArray(b[d]) ? a[d] = [] : a[d] = {}), 
                    g(a[d], b[d])) : a[d] = b[d];
                });
            }
            function h(a) {
                return "object" == typeof a ? JSON.parse(JSON.stringify(a)) : a;
            }
            function i(a) {
                var b = {};
                return o(a, function(a, c) {
                    return b[c] = a;
                }), b;
            }
            function j(a) {
                for (var b = [], c = 1; c < arguments.length; c++) b[c - 1] = arguments[c];
                return q(b, function(b) {
                    o(b, function(b, c) {
                        if ("function" == typeof b) a.prototype[c] = b; else {
                            var d = function(a, b) {
                                a = "_" + a;
                                var c = function(a) {
                                    return (Array.isArray(a) || l(a)) && (a = h(a)), a;
                                };
                                return function() {
                                    return void 0 === this[a] && (this[a] = c(b)), this[a];
                                };
                            }, e = function(a) {
                                return a = "_" + a, function(b) {
                                    this[a] = b;
                                };
                            };
                            Object.defineProperty(a.prototype, c, {
                                get: d(c, b),
                                set: e(c),
                                configurable: !0
                            });
                        }
                    });
                }), a;
            }
            function k(a, b) {
                return JSON.stringify(a) === JSON.stringify(b);
            }
            function l(a) {
                return "[object Object]" == Object.prototype.toString.call(a);
            }
            function m(a) {
                var b;
                if ("object" == typeof a.__proto__) b = a.__proto__; else {
                    var c, d = a.constructor;
                    "function" == typeof a.constructor && (c = d, delete a.constructor && (d = a.constructor, 
                    a.constructor = c)), b = d ? d.prototype : null;
                }
                return b;
            }
            function n(a, b, c, d) {
                d.value = c, d.writable = d.writable === !1 ? !1 : !0, d.enumerable = d.enumerable === !1 ? !1 : !0, 
                d.configurable = d.configurable === !1 ? !1 : !0, Object.defineProperty(a, b, d);
            }
            function o(a, b) {
                for (var c in a) if ((!a.hasOwnProperty || a.hasOwnProperty && a.hasOwnProperty(c)) && b(a[c], c, a) === !1) break;
                return a;
            }
            Object.defineProperties(c, {
                duckSchema: {
                    get: function() {
                        return d;
                    }
                },
                inherit: {
                    get: function() {
                        return e;
                    }
                },
                extend: {
                    get: function() {
                        return f;
                    }
                },
                deepExtend: {
                    get: function() {
                        return g;
                    }
                },
                deepClone: {
                    get: function() {
                        return h;
                    }
                },
                clone: {
                    get: function() {
                        return i;
                    }
                },
                mixin: {
                    get: function() {
                        return j;
                    }
                },
                isObjectEquals: {
                    get: function() {
                        return k;
                    }
                },
                isObject: {
                    get: function() {
                        return l;
                    }
                },
                getPrototypeOf: {
                    get: function() {
                        return m;
                    }
                },
                defineGetter: {
                    get: function() {
                        return n;
                    }
                },
                objectEach: {
                    get: function() {
                        return o;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var p, q = (p = a("array"), p && p.__esModule && p || {
                "default": p
            }).arrayEach;
        }, {
            array: 41
        } ],
        50: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                function c() {}
                f(c, a);
                for (var d = 0, e = b.length; e > d; d++) c.prototype[b[d]] = void 0;
                return c;
            }
            Object.defineProperties(c, {
                columnFactory: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f = (e = a("object"), e && e.__esModule && e || {
                "default": e
            }).inherit;
        }, {
            object: 49
        } ],
        51: [ function(a, b, c) {
            "use strict";
            function d(a) {
                return a[0].toUpperCase() + a.substr(1);
            }
            function e(a, b) {
                var c = !0;
                return m(b.length - 1, function(d) {
                    return a.charAt(d) !== b.charAt(d) ? (c = !1, !1) : void 0;
                }), c;
            }
            function f(a, b) {
                var c = !0, d = b.length - 1, e = a.length - 1;
                return m(d, function(f) {
                    var g = e - f, h = d - f;
                    return a.charAt(g) !== b.charAt(h) ? (c = !1, !1) : void 0;
                }), c;
            }
            function g() {
                for (var a = [], b = 0; b < arguments.length; b++) a[b] = arguments[b];
                for (var c = [], d = a.length; d--; ) {
                    var e = l(a[d]).toLowerCase();
                    -1 === c.indexOf(e) && c.push(e);
                }
                return 1 === c.length;
            }
            function h() {
                function a() {
                    return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);
                }
                return a() + a() + a() + a();
            }
            function i(a) {
                return /^([0-9][0-9]?\%$)|(^100\%$)/.test(a);
            }
            Object.defineProperties(c, {
                toUpperCaseFirst: {
                    get: function() {
                        return d;
                    }
                },
                startsWith: {
                    get: function() {
                        return e;
                    }
                },
                endsWith: {
                    get: function() {
                        return f;
                    }
                },
                equalsIgnoreCase: {
                    get: function() {
                        return g;
                    }
                },
                randomString: {
                    get: function() {
                        return h;
                    }
                },
                isPercentValue: {
                    get: function() {
                        return i;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var j, k, l = (j = a("mixed"), j && j.__esModule && j || {
                "default": j
            }).stringify, m = (k = a("number"), k && k.__esModule && k || {
                "default": k
            }).rangeEach;
        }, {
            mixed: 47,
            number: 48
        } ],
        52: [ function(a, b, c) {
            "use strict";
            function d(a) {
                return 32 == a || a >= 48 && 57 >= a || a >= 96 && 111 >= a || a >= 186 && 192 >= a || a >= 219 && 222 >= a || a >= 226 || a >= 65 && 90 >= a;
            }
            function e(a) {
                var b = [ j.ARROW_DOWN, j.ARROW_UP, j.ARROW_LEFT, j.ARROW_RIGHT, j.HOME, j.END, j.DELETE, j.BACKSPACE, j.F1, j.F2, j.F3, j.F4, j.F5, j.F6, j.F7, j.F8, j.F9, j.F10, j.F11, j.F12, j.TAB, j.PAGE_DOWN, j.PAGE_UP, j.ENTER, j.ESCAPE, j.SHIFT, j.CAPS_LOCK, j.ALT ];
                return -1 !== b.indexOf(a);
            }
            function f(a) {
                return -1 !== [ j.CONTROL_LEFT, 224, j.COMMAND_LEFT, j.COMMAND_RIGHT ].indexOf(a);
            }
            function g(a, b) {
                var c = b.split("|"), d = !1;
                return i(c, function(b) {
                    return a === j[b] ? (d = !0, !1) : void 0;
                }), d;
            }
            Object.defineProperties(c, {
                KEY_CODES: {
                    get: function() {
                        return j;
                    }
                },
                isPrintableChar: {
                    get: function() {
                        return d;
                    }
                },
                isMetaKey: {
                    get: function() {
                        return e;
                    }
                },
                isCtrlKey: {
                    get: function() {
                        return f;
                    }
                },
                isKey: {
                    get: function() {
                        return g;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var h, i = (h = a("array"), h && h.__esModule && h || {
                "default": h
            }).arrayEach, j = {
                MOUSE_LEFT: 1,
                MOUSE_RIGHT: 3,
                MOUSE_MIDDLE: 2,
                BACKSPACE: 8,
                COMMA: 188,
                INSERT: 45,
                DELETE: 46,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                CONTROL_LEFT: 91,
                COMMAND_LEFT: 17,
                COMMAND_RIGHT: 93,
                ALT: 18,
                HOME: 36,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                SPACE: 32,
                SHIFT: 16,
                CAPS_LOCK: 20,
                TAB: 9,
                ARROW_RIGHT: 39,
                ARROW_LEFT: 37,
                ARROW_UP: 38,
                ARROW_DOWN: 40,
                F1: 112,
                F2: 113,
                F3: 114,
                F4: 115,
                F5: 116,
                F6: 117,
                F7: 118,
                F8: 119,
                F9: 120,
                F10: 121,
                F11: 122,
                F12: 123,
                A: 65,
                X: 88,
                C: 67,
                V: 86
            };
        }, {
            array: 41
        } ],
        53: [ function(a, b, c) {
            "use strict";
            function d() {
                function a(a) {
                    return null !== a && !c(a) && ("string" == typeof a || "number" == typeof a);
                }
                function b(a) {
                    return null !== a && ("object" == typeof a || "function" == typeof a);
                }
                function c(a) {
                    return a !== a;
                }
                var d = {
                    arrayMap: [],
                    weakMap: new WeakMap()
                };
                return {
                    get: function(c) {
                        return a(c) ? d.arrayMap[c] : b(c) ? d.weakMap.get(c) : void 0;
                    },
                    set: function(c, e) {
                        if (a(c)) d.arrayMap[c] = e; else {
                            if (!b(c)) throw new Error("Invalid key type");
                            d.weakMap.set(c, e);
                        }
                    },
                    "delete": function(c) {
                        a(c) ? delete d.arrayMap[c] : b(c) && d.weakMap["delete"](c);
                    }
                };
            }
            Object.defineProperties(c, {
                MultiMap: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            }), window.MultiMap = d;
        }, {} ],
        54: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                Hooks: {
                    get: function() {
                        return i;
                    }
                },
                localHooks: {
                    get: function() {
                        return j;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = [ "afterCellMetaReset", "afterChange", "afterChangesObserved", "afterColumnMove", "afterColumnResize", "afterContextMenuDefaultOptions", "afterContextMenuHide", "afterContextMenuShow", "afterCopyLimit", "afterCreateCol", "afterCreateRow", "afterDeselect", "afterDestroy", "afterDocumentKeyDown", "afterGetCellMeta", "afterGetColHeader", "afterGetRowHeader", "afterInit", "afterIsMultipleSelectionCheck", "afterLoadData", "afterMomentumScroll", "afterOnCellCornerMouseDown", "afterOnCellMouseDown", "afterOnCellMouseOver", "afterRemoveCol", "afterRemoveRow", "afterRender", "afterRenderer", "afterScrollHorizontally", "afterScrollVertically", "afterSelection", "afterSelectionByProp", "afterSelectionEnd", "afterSelectionEndByProp", "afterSetCellMeta", "afterUpdateSettings", "afterValidate", "beforeAutofill", "beforeCellAlignment", "beforeChange", "beforeChangeRender", "beforeDrawBorders", "beforeGetCellMeta", "beforeInit", "beforeInitWalkontable", "beforeKeyDown", "beforeOnCellMouseDown", "beforeRemoveCol", "beforeRemoveRow", "beforeRender", "beforeSetRangeEnd", "beforeTouchScroll", "beforeValidate", "construct", "init", "modifyCol", "modifyColWidth", "modifyRow", "modifyRowHeight", "persistentStateLoad", "persistentStateReset", "persistentStateSave", "beforeColumnSort", "afterColumnSort", "afterAutofillApplyValues", "modifyCopyableRange", "beforeColumnMove", "afterColumnMove", "beforeRowMove", "afterRowMove", "beforeColumnResize", "afterColumnResize", "beforeRowResize", "afterRowResize" ], g = (d = a("helpers/array"), 
            d && d.__esModule && d || {
                "default": d
            }).arrayEach, h = (e = a("helpers/object"), e && e.__esModule && e || {
                "default": e
            }).objectEach, i = function() {
                this.globalBucket = this.createEmptyBucket();
            };
            $traceurRuntime.createClass(i, {
                createEmptyBucket: function() {
                    var a = Object.create(null);
                    return g(f, function(b) {
                        return a[b] = [];
                    }), a;
                },
                getBucket: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null;
                    return a ? (a.pluginHookBucket || (a.pluginHookBucket = this.createEmptyBucket()), 
                    a.pluginHookBucket) : this.globalBucket;
                },
                add: function(a, b) {
                    var c = void 0 !== arguments[2] ? arguments[2] : null, d = this;
                    if (Array.isArray(b)) g(b, function(b) {
                        return d.add(a, b, c);
                    }); else {
                        var e = this.getBucket(c);
                        "undefined" == typeof e[a] && (this.register(a), e[a] = []), b.skip = !1, -1 === e[a].indexOf(b) && e[a].push(b);
                    }
                    return this;
                },
                once: function(a, b) {
                    var c = void 0 !== arguments[2] ? arguments[2] : null, d = this;
                    Array.isArray(b) ? g(b, function(b) {
                        return d.once(a, b, c);
                    }) : (b.runOnce = !0, this.add(a, b, c));
                },
                remove: function(a, b) {
                    var c = void 0 !== arguments[2] ? arguments[2] : null, d = this.getBucket(c);
                    return "undefined" != typeof d[a] && d[a].indexOf(b) >= 0 ? (b.skip = !0, !0) : !1;
                },
                run: function(a, b, c, d, e, f, g, h) {
                    var i = this.globalBucket[b], j = -1, k = i ? i.length : 0;
                    if (k) for (;++j < k; ) if (i[j] && !i[j].skip) {
                        var l = i[j].call(a, c, d, e, f, g, h);
                        void 0 !== l && (c = l), i[j] && i[j].runOnce && this.remove(b, i[j]);
                    }
                    var m = this.getBucket(a)[b], n = -1, o = m ? m.length : 0;
                    if (o) for (;++n < o; ) if (m[n] && !m[n].skip) {
                        var p = m[n].call(a, c, d, e, f, g, h);
                        void 0 !== p && (c = p), m[n] && m[n].runOnce && this.remove(b, m[n], a);
                    }
                    return c;
                },
                destroy: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null;
                    h(this.getBucket(a), function(a, b, c) {
                        return c[b].length = 0;
                    });
                },
                register: function(a) {
                    this.isRegistered(a) || f.push(a);
                },
                deregister: function(a) {
                    this.isRegistered(a) && f.splice(f.indexOf(a), 1);
                },
                isRegistered: function(a) {
                    return f.indexOf(a) >= 0;
                },
                getRegistered: function() {
                    return f;
                }
            }, {});
            var j = {
                _localHooks: Object.create(null),
                addLocalHook: function(a, b) {
                    this._localHooks[a] || (this._localHooks[a] = []), this._localHooks[a].push(b);
                },
                runLocalHooks: function(a) {
                    for (var b = [], c = 1; c < arguments.length; c++) b[c - 1] = arguments[c];
                    var d = this;
                    this._localHooks[a] && g(this._localHooks[a], function(a) {
                        return a.apply(d, b);
                    });
                },
                clearLocalHooks: function() {
                    this._localHooks = {};
                }
            };
            Handsontable.utils = Handsontable.utils || {}, Handsontable.utils.Hooks = i, Handsontable.utils.localHooks = j;
        }, {
            "helpers/array": 41,
            "helpers/object": 49
        } ],
        55: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                a = k(a), Handsontable.plugins[a] = b, Handsontable.hooks.add("construct", function() {
                    var c;
                    l.has(this) || l.set(this, {}), c = l.get(this), c[a] || (c[a] = new b(this));
                }), Handsontable.hooks.add("afterDestroy", function() {
                    if (l.has(this)) {
                        var a = l.get(this);
                        j(a, function(a) {
                            return a.destroy();
                        }), l["delete"](this);
                    }
                });
            }
            function e(a, b) {
                if ("string" != typeof b) throw Error('Only strings can be passed as "plugin" parameter');
                var c = k(b);
                if (l.has(a) && l.get(a)[c]) return l.get(a)[c];
            }
            function f(a) {
                return l.has(a) ? Object.keys(l.get(a)) : [];
            }
            function g(a, b) {
                var c = null;
                return l.has(a) && j(l.get(a), function(a, d) {
                    a === b && (c = d);
                }), c;
            }
            Object.defineProperties(c, {
                registerPlugin: {
                    get: function() {
                        return d;
                    }
                },
                getPlugin: {
                    get: function() {
                        return e;
                    }
                },
                getRegistredPluginNames: {
                    get: function() {
                        return f;
                    }
                },
                getPluginName: {
                    get: function() {
                        return g;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var h, i, j = (h = a("helpers/object"), h && h.__esModule && h || {
                "default": h
            }).objectEach, k = (i = a("helpers/string"), i && i.__esModule && i || {
                "default": i
            }).toUpperCaseFirst, l = new WeakMap();
            Handsontable.plugins = Handsontable.plugins || {};
        }, {
            "helpers/object": 49,
            "helpers/string": 51
        } ],
        56: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                "default": {
                    get: function() {
                        return q;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g = (d = a("helpers/object"), d && d.__esModule && d || {
                "default": d
            }), h = g.defineGetter, i = g.objectEach, j = (e = a("helpers/array"), e && e.__esModule && e || {
                "default": e
            }).arrayEach, k = (f = a("plugins"), f && f.__esModule && f || {
                "default": f
            }), l = k.getRegistredPluginNames, m = k.getPluginName, n = new WeakMap(), o = null, p = function(a) {
                var b = this;
                h(this, "hot", a, {
                    writable: !1
                }), n.set(this, {
                    hooks: {}
                }), o = null, this.pluginsInitializedCallbacks = [], this.isPluginsReady = !1, this.pluginName = null, 
                this.enabled = !1, this.initialized = !1, this.hot.addHook("afterPluginsInitialized", function() {
                    return b.onAfterPluginsInitialized();
                }), this.hot.addHook("afterUpdateSettings", function() {
                    return b.onUpdateSettings();
                }), this.hot.addHook("beforeInit", function() {
                    return b.init();
                });
            };
            $traceurRuntime.createClass(p, {
                init: function() {
                    this.pluginName = m(this.hot, this), this.isEnabled && this.isEnabled() && this.enablePlugin(), 
                    o || (o = l(this.hot)), o.indexOf(this.pluginName) >= 0 && o.splice(o.indexOf(this.pluginName), 1), 
                    o.length || this.hot.runHooks("afterPluginsInitialized"), this.initialized = !0;
                },
                enablePlugin: function() {
                    this.enabled = !0;
                },
                disablePlugin: function() {
                    this.eventManager && this.eventManager.clear(), this.clearHooks(), this.enabled = !1;
                },
                addHook: function(a, b) {
                    var c = n.get(this).hooks[a] = n.get(this).hooks[a] || [];
                    this.hot.addHook(a, b), c.push(b), n.get(this).hooks[a] = c;
                },
                removeHooks: function(a) {
                    var b = this;
                    j(n.get(this).hooks[a] || [], function(c) {
                        b.hot.removeHook(a, c);
                    });
                },
                clearHooks: function() {
                    var a = this, b = n.get(this).hooks;
                    i(b, function(b, c) {
                        return a.removeHooks(c);
                    }), b.length = 0;
                },
                callOnPluginsReady: function(a) {
                    this.isPluginsReady ? a() : this.pluginsInitializedCallbacks.push(a);
                },
                onAfterPluginsInitialized: function() {
                    j(this.pluginsInitializedCallbacks, function(a) {
                        return a();
                    }), this.pluginsInitializedCallbacks.length = 0, this.isPluginsReady = !0;
                },
                onUpdateSettings: function() {
                    this.isEnabled && (this.enabled && !this.isEnabled() && this.disablePlugin(), !this.enabled && this.isEnabled() && this.enablePlugin(), 
                    this.enabled && this.isEnabled() && this.updatePlugin && this.updatePlugin());
                },
                updatePlugin: function() {},
                destroy: function() {
                    this.eventManager && this.eventManager.destroy(), this.clearHooks(), delete this.hot;
                }
            }, {});
            var q = p;
        }, {
            "helpers/array": 41,
            "helpers/object": 49,
            plugins: 55
        } ],
        57: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                AutoColumnSize: {
                    get: function() {
                        return F;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j, k, l, m, n = (d = a("_base"), d && d.__esModule && d || {
                "default": d
            })["default"], o = (e = a("helpers/array"), e && e.__esModule && e || {
                "default": e
            }), p = o.arrayEach, q = o.arrayFilter, r = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }), s = r.cancelAnimationFrame, t = r.requestAnimationFrame, u = r.isVisible, v = (g = a("utils/ghostTable"), 
            g && g.__esModule && g || {
                "default": g
            }).GhostTable, w = (h = a("helpers/object"), h && h.__esModule && h || {
                "default": h
            }), x = w.isObject, y = (w.objectEach, i = a("helpers/number"), i && i.__esModule && i || {
                "default": i
            }), z = y.valueAccordingPercent, A = y.rangeEach, B = (j = a("plugins"), j && j.__esModule && j || {
                "default": j
            }).registerPlugin, C = (k = a("utils/samplesGenerator"), k && k.__esModule && k || {
                "default": k
            }).SamplesGenerator, D = (l = a("helpers/string"), l && l.__esModule && l || {
                "default": l
            }).isPercentValue, E = (m = a("3rdparty/walkontable/src/calculator/viewportColumns"), 
            m && m.__esModule && m || {
                "default": m
            }).WalkontableViewportColumnsCalculator, F = function(a) {
                var b = this;
                $traceurRuntime.superConstructor(G).call(this, a), this.widths = [], this.ghostTable = new v(this.hot), 
                this.samplesGenerator = new C(function(a, c) {
                    return b.hot.getDataAtCell(a, c);
                }), this.firstCalculation = !0, this.inProgress = !1, this.addHook("beforeColumnResize", function(a, c, d) {
                    return b.onBeforeColumnResize(a, c, d);
                });
            }, G = F;
            $traceurRuntime.createClass(F, {
                isEnabled: function() {
                    return this.hot.getSettings().autoColumnSize !== !1 && !this.hot.getSettings().colWidths;
                },
                enablePlugin: function() {
                    var a = this;
                    this.enabled || (this.addHook("afterLoadData", function() {
                        return a.onAfterLoadData();
                    }), this.addHook("beforeChange", function(b) {
                        return a.onBeforeChange(b);
                    }), this.addHook("beforeRender", function(b) {
                        return a.onBeforeRender(b);
                    }), this.addHook("modifyColWidth", function(b, c) {
                        return a.getColumnWidth(c, b);
                    }), $traceurRuntime.superGet(this, G.prototype, "enablePlugin").call(this));
                },
                disablePlugin: function() {
                    $traceurRuntime.superGet(this, G.prototype, "disablePlugin").call(this);
                },
                calculateColumnsWidth: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : {
                        from: 0,
                        to: this.hot.countCols() - 1
                    }, b = void 0 !== arguments[1] ? arguments[1] : {
                        from: 0,
                        to: this.hot.countRows() - 1
                    }, c = void 0 !== arguments[2] ? arguments[2] : !1, d = this;
                    "number" == typeof a && (a = {
                        from: a,
                        to: a
                    }), "number" == typeof b && (b = {
                        from: b,
                        to: b
                    }), A(a.from, a.to, function(a) {
                        if (c || void 0 === d.widths[a] && !d.hot._getColWidthFromSettings(a)) {
                            var e = d.samplesGenerator.generateColumnSamples(a, b);
                            e.forEach(function(a, b) {
                                return d.ghostTable.addColumn(b, a);
                            });
                        }
                    }), this.ghostTable.columns.length && (this.ghostTable.getWidths(function(a, b) {
                        return d.widths[a] = b;
                    }), this.ghostTable.clean());
                },
                calculateAllColumnsWidth: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : {
                        from: 0,
                        to: this.hot.countRows() - 1
                    }, b = this, c = 0, d = this.hot.countCols() - 1, e = null;
                    this.inProgress = !0;
                    var f = function() {
                        return b.hot ? (b.calculateColumnsWidth({
                            from: c,
                            to: Math.min(c + G.CALCULATION_STEP, d)
                        }, a), c = c + G.CALCULATION_STEP + 1, void (d > c ? e = t(f) : (s(e), b.inProgress = !1, 
                        b.hot.view.wt.wtOverlays.adjustElementsSize(!0), b.hot.view.wt.wtOverlays.leftOverlay.needFullRender && b.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))) : (s(e), 
                        void (b.inProgress = !1));
                    };
                    this.firstCalculation && this.getSyncCalculationLimit() && (this.calculateColumnsWidth({
                        from: 0,
                        to: this.getSyncCalculationLimit()
                    }, a), this.firstCalculation = !1, c = this.getSyncCalculationLimit() + 1), d > c ? f() : this.inProgress = !1;
                },
                recalculateAllColumnsWidth: function() {
                    this.hot.view && u(this.hot.view.wt.wtTable.TABLE) && (this.clearCache(), this.calculateAllColumnsWidth());
                },
                getSyncCalculationLimit: function() {
                    var a = G.SYNC_CALCULATION_LIMIT, b = this.hot.countCols() - 1;
                    return x(this.hot.getSettings().autoColumnSize) && (a = this.hot.getSettings().autoColumnSize.syncLimit, 
                    D(a) ? a = z(b, a) : a >>= 0), Math.min(a, b);
                },
                getColumnWidth: function(a) {
                    var b = arguments[1], c = void 0 !== arguments[2] ? arguments[2] : !0, d = b;
                    return void 0 === d && (d = this.widths[a], c && "number" == typeof d && (d = Math.max(d, E.DEFAULT_WIDTH))), 
                    d;
                },
                getFirstVisibleColumn: function() {
                    var a = this.hot.view.wt;
                    return a.wtViewport.columnsVisibleCalculator ? a.wtTable.getFirstVisibleColumn() : a.wtViewport.columnsRenderCalculator ? a.wtTable.getFirstRenderedColumn() : -1;
                },
                getLastVisibleColumn: function() {
                    var a = this.hot.view.wt;
                    return a.wtViewport.columnsVisibleCalculator ? a.wtTable.getLastVisibleColumn() : a.wtViewport.columnsRenderCalculator ? a.wtTable.getLastRenderedColumn() : -1;
                },
                clearCache: function() {
                    this.widths.length = 0;
                },
                isNeedRecalculate: function() {
                    return q(this.widths, function(a) {
                        return void 0 === a;
                    }).length ? !0 : !1;
                },
                onBeforeRender: function() {
                    var a = this.hot.renderCall;
                    this.calculateColumnsWidth({
                        from: this.getFirstVisibleColumn(),
                        to: this.getLastVisibleColumn()
                    }, void 0, a), this.isNeedRecalculate() && !this.inProgress && this.calculateAllColumnsWidth();
                },
                onAfterLoadData: function() {
                    var a = this;
                    this.hot.view ? this.recalculateAllColumnsWidth() : setTimeout(function() {
                        a.hot && a.recalculateAllColumnsWidth();
                    }, 0);
                },
                onBeforeChange: function(a) {
                    var b = this;
                    p(a, function(a) {
                        return b.widths[a[1]] = void 0;
                    });
                },
                onBeforeColumnResize: function(a, b, c) {
                    return c && (this.calculateColumnsWidth(a, void 0, !0), b = this.getColumnWidth(a, void 0, !1)), 
                    b;
                },
                destroy: function() {
                    this.ghostTable.clean(), $traceurRuntime.superGet(this, G.prototype, "destroy").call(this);
                }
            }, {
                get CALCULATION_STEP() {
                    return 50;
                },
                get SYNC_CALCULATION_LIMIT() {
                    return 50;
                }
            }, n), B("autoColumnSize", F);
        }, {
            "3rdparty/walkontable/src/calculator/viewportColumns": 3,
            _base: 56,
            "helpers/array": 41,
            "helpers/dom/element": 44,
            "helpers/number": 48,
            "helpers/object": 49,
            "helpers/string": 51,
            plugins: 55,
            "utils/ghostTable": 96,
            "utils/samplesGenerator": 97
        } ],
        58: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                AutoRowSize: {
                    get: function() {
                        return C;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j, k, l, m = (d = a("_base"), d && d.__esModule && d || {
                "default": d
            })["default"], n = (e = a("helpers/array"), e && e.__esModule && e || {
                "default": e
            }), o = (n.arrayEach, n.arrayFilter), p = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }), q = p.cancelAnimationFrame, r = p.requestAnimationFrame, s = p.isVisible, t = (g = a("utils/ghostTable"), 
            g && g.__esModule && g || {
                "default": g
            }).GhostTable, u = (h = a("helpers/object"), h && h.__esModule && h || {
                "default": h
            }), v = u.isObject, w = (u.objectEach, i = a("helpers/number"), i && i.__esModule && i || {
                "default": i
            }), x = w.valueAccordingPercent, y = w.rangeEach, z = (j = a("plugins"), j && j.__esModule && j || {
                "default": j
            }).registerPlugin, A = (k = a("utils/samplesGenerator"), k && k.__esModule && k || {
                "default": k
            }).SamplesGenerator, B = (l = a("helpers/string"), l && l.__esModule && l || {
                "default": l
            }).isPercentValue, C = function(a) {
                var b = this;
                $traceurRuntime.superConstructor(D).call(this, a), this.heights = [], this.ghostTable = new t(this.hot), 
                this.samplesGenerator = new A(function(a, c) {
                    return b.hot.getDataAtCell(a, c);
                }), this.firstCalculation = !0, this.inProgress = !1, this.addHook("beforeRowResize", function(a, c, d) {
                    return b.onBeforeRowResize(a, c, d);
                });
            }, D = C;
            $traceurRuntime.createClass(C, {
                isEnabled: function() {
                    return this.hot.getSettings().autoRowSize === !0 || v(this.hot.getSettings().autoRowSize);
                },
                enablePlugin: function() {
                    var a = this;
                    this.enabled || (this.addHook("afterLoadData", function() {
                        return a.onAfterLoadData();
                    }), this.addHook("beforeChange", function(b) {
                        return a.onBeforeChange(b);
                    }), this.addHook("beforeColumnMove", function() {
                        return a.recalculateAllRowsHeight();
                    }), this.addHook("beforeColumnResize", function() {
                        return a.recalculateAllRowsHeight();
                    }), this.addHook("beforeColumnSort", function() {
                        return a.clearCache();
                    }), this.addHook("beforeRender", function(b) {
                        return a.onBeforeRender(b);
                    }), this.addHook("beforeRowMove", function(b, c) {
                        return a.onBeforeRowMove(b, c);
                    }), this.addHook("modifyRowHeight", function(b, c) {
                        return a.getRowHeight(c, b);
                    }), $traceurRuntime.superGet(this, D.prototype, "enablePlugin").call(this));
                },
                disablePlugin: function() {
                    $traceurRuntime.superGet(this, D.prototype, "disablePlugin").call(this);
                },
                calculateRowsHeight: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : {
                        from: 0,
                        to: this.hot.countRows() - 1
                    }, b = void 0 !== arguments[1] ? arguments[1] : {
                        from: 0,
                        to: this.hot.countCols() - 1
                    }, c = void 0 !== arguments[2] ? arguments[2] : !1, d = this;
                    "number" == typeof a && (a = {
                        from: a,
                        to: a
                    }), "number" == typeof b && (b = {
                        from: b,
                        to: b
                    }), y(a.from, a.to, function(a) {
                        if (c || void 0 === d.heights[a]) {
                            var e = d.samplesGenerator.generateRowSamples(a, b);
                            e.forEach(function(a, b) {
                                return d.ghostTable.addRow(b, a);
                            });
                        }
                    }), this.ghostTable.rows.length && (this.ghostTable.getHeights(function(a, b) {
                        return d.heights[a] = b;
                    }), this.ghostTable.clean());
                },
                calculateAllRowsHeight: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : {
                        from: 0,
                        to: this.hot.countCols() - 1
                    }, b = this, c = 0, d = this.hot.countRows() - 1, e = null;
                    this.inProgress = !0;
                    var f = function() {
                        return b.hot ? (b.calculateRowsHeight({
                            from: c,
                            to: Math.min(c + D.CALCULATION_STEP, d)
                        }, a), c = c + D.CALCULATION_STEP + 1, void (d > c ? e = r(f) : (q(e), b.inProgress = !1, 
                        b.hot.view.wt.wtOverlays.adjustElementsSize(!0), b.hot.view.wt.wtOverlays.leftOverlay.needFullRender && b.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))) : (q(e), 
                        void (b.inProgress = !1));
                    };
                    this.firstCalculation && this.getSyncCalculationLimit() && (this.calculateRowsHeight({
                        from: 0,
                        to: this.getSyncCalculationLimit()
                    }, a), this.firstCalculation = !1, c = this.getSyncCalculationLimit() + 1), d > c ? f() : this.inProgress = !1;
                },
                recalculateAllRowsHeight: function() {
                    s(this.hot.view.wt.wtTable.TABLE) && (this.clearCache(), this.calculateAllRowsHeight());
                },
                getSyncCalculationLimit: function() {
                    var a = D.SYNC_CALCULATION_LIMIT, b = this.hot.countRows() - 1;
                    return v(this.hot.getSettings().autoRowSize) && (a = this.hot.getSettings().autoRowSize.syncLimit, 
                    B(a) ? a = x(b, a) : a >>= 0), Math.min(a, b);
                },
                getRowHeight: function(a) {
                    var b = arguments[1], c = b;
                    return void 0 !== this.heights[a] && this.heights[a] > (b || 0) && (c = this.heights[a]), 
                    c;
                },
                getFirstVisibleRow: function() {
                    var a = this.hot.view.wt;
                    return a.wtViewport.rowsVisibleCalculator ? a.wtTable.getFirstVisibleRow() : a.wtViewport.rowsRenderCalculator ? a.wtTable.getFirstRenderedRow() : -1;
                },
                getLastVisibleRow: function() {
                    var a = this.hot.view.wt;
                    return a.wtViewport.rowsVisibleCalculator ? a.wtTable.getLastVisibleRow() : a.wtViewport.rowsRenderCalculator ? a.wtTable.getLastRenderedRow() : -1;
                },
                clearCache: function() {
                    this.heights.length = 0;
                },
                clearCacheByRange: function(a) {
                    var b = this;
                    "number" == typeof a && (a = {
                        from: a,
                        to: a
                    }), y(Math.min(a.from, a.to), Math.max(a.from, a.to), function(a) {
                        return b.heights[a] = void 0;
                    });
                },
                isNeedRecalculate: function() {
                    return o(this.heights, function(a) {
                        return void 0 === a;
                    }).length ? !0 : !1;
                },
                onBeforeRender: function() {
                    var a = this.hot.renderCall;
                    this.calculateRowsHeight({
                        from: this.getFirstVisibleRow(),
                        to: this.getLastVisibleRow()
                    }, void 0, a), this.isNeedRecalculate() && !this.inProgress && this.calculateAllRowsHeight();
                },
                onBeforeRowMove: function(a, b) {
                    this.clearCacheByRange({
                        from: a,
                        to: b
                    }), this.calculateAllRowsHeight();
                },
                onBeforeRowResize: function(a, b, c) {
                    return c && (this.calculateRowsHeight(a, void 0, !0), b = this.getRowHeight(a)), 
                    b;
                },
                onAfterLoadData: function() {
                    var a = this;
                    this.hot.view ? this.recalculateAllRowsHeight() : setTimeout(function() {
                        a.hot && a.recalculateAllRowsHeight();
                    }, 0);
                },
                onBeforeChange: function(a) {
                    var b = null;
                    1 === a.length ? b = a[0][0] : a.length > 1 && (b = {
                        from: a[0][0],
                        to: a[a.length - 1][0]
                    }), null !== b && this.clearCacheByRange(b);
                },
                destroy: function() {
                    this.ghostTable.clean(), $traceurRuntime.superGet(this, D.prototype, "destroy").call(this);
                }
            }, {
                get CALCULATION_STEP() {
                    return 50;
                },
                get SYNC_CALCULATION_LIMIT() {
                    return 500;
                }
            }, m), z("autoRowSize", C);
        }, {
            _base: 56,
            "helpers/array": 41,
            "helpers/dom/element": 44,
            "helpers/number": 48,
            "helpers/object": 49,
            "helpers/string": 51,
            plugins: 55,
            "utils/ghostTable": 96,
            "utils/samplesGenerator": 97
        } ],
        59: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d) {
                var e, f, g, h, i, j = c.length, k = c ? c[0].length : 0, l = [], m = [];
                if (e = b.row - a.row, f = b.col - a.col, -1 !== [ "down", "up" ].indexOf(d)) {
                    for (var n = 0; f >= n; n++) g = parseInt(c[0][n], 10), h = parseInt(c[j - 1][n], 10), 
                    i = ("down" === d ? h - g : g - h) / (j - 1) || 0, m.push(i);
                    l.push(m);
                }
                if (-1 !== [ "right", "left" ].indexOf(d)) for (var o = 0; e >= o; o++) g = parseInt(c[o][0], 10), 
                h = parseInt(c[o][k - 1], 10), i = ("right" === d ? h - g : g - h) / (k - 1) || 0, 
                m = [], m.push(i), l.push(m);
                return l;
            }
            function e(a) {
                function b(b) {
                    return a.autofill ? void (a.autofill.handle && a.autofill.handle.isDragged && (a.autofill.handle.isDragged > 1 && a.autofill.apply(), 
                    a.autofill.handle.isDragged = 0, h = !1)) : !0;
                }
                function c(a) {
                    var b, c;
                    return g.instance.autofill ? (b = k(g.instance.table).top - (window.pageYOffset || document.documentElement.scrollTop) + l(g.instance.table), 
                    c = k(g.instance.table).left - (window.pageXOffset || document.documentElement.scrollLeft) + m(g.instance.table), 
                    g.addingStarted === !1 && g.instance.autofill.handle.isDragged > 0 && a.clientY > b && a.clientX <= c ? (g.instance.mouseDragOutside = !0, 
                    g.addingStarted = !0) : g.instance.mouseDragOutside = !1, void (g.instance.mouseDragOutside && setTimeout(function() {
                        g.addingStarted = !1, g.instance.alter("insert_row");
                    }, 200))) : !1;
                }
                var d, e, f, g = this, h = !1;
                this.instance = a, this.addingStarted = !1, f = n(a), f.addEventListener(document, "mouseup", b), 
                f.addEventListener(document, "mousemove", c), d = this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown, 
                this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown = function(b) {
                    a.autofill.handle.isDragged = 1, h = !0, d(b);
                }, e = this.instance.view.wt.wtSettings.settings.onCellMouseOver, this.instance.view.wt.wtSettings.settings.onCellMouseOver = function(b, c, d, f) {
                    a.autofill && h && !a.view.isMouseDown() && a.autofill.handle && a.autofill.handle.isDragged && (a.autofill.handle.isDragged++, 
                    a.autofill.showBorder(c), a.autofill.checkIfNewRowNeeded()), e(b, c, d, f);
                }, this.instance.view.wt.wtSettings.settings.onCellCornerDblClick = function() {
                    a.autofill.selectAdjacent();
                };
            }
            Object.defineProperties(c, {
                Autofill: {
                    get: function() {
                        return e;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var f, g, h, i, j = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }), k = j.offset, l = j.outerHeight, m = j.outerWidth, n = (g = a("eventManager"), 
            g && g.__esModule && g || {
                "default": g
            }).eventManager, o = ((h = a("plugins"), h && h.__esModule && h || {
                "default": h
            }).registerPlugin, (i = a("3rdparty/walkontable/src/cell/coords"), i && i.__esModule && i || {
                "default": i
            }).WalkontableCellCoords);
            e.prototype.init = function() {
                this.handle = {};
            }, e.prototype.disable = function() {
                this.handle.disabled = !0;
            }, e.prototype.selectAdjacent = function() {
                var a, b, c, d, e;
                a = this.instance.selection.isMultiple() ? this.instance.view.wt.selections.area.getCorners() : this.instance.view.wt.selections.current.getCorners(), 
                b = this.instance.getData();
                a: for (c = a[2] + 1; c < this.instance.countRows(); c++) {
                    for (e = a[1]; e <= a[3]; e++) if (b[c][e]) break a;
                    (b[c][a[1] - 1] || b[c][a[3] + 1]) && (d = c);
                }
                d && (this.instance.view.wt.selections.fill.clear(), this.instance.view.wt.selections.fill.add(new o(a[0], a[1])), 
                this.instance.view.wt.selections.fill.add(new o(d, a[3])), this.apply());
            }, e.prototype.apply = function() {
                var a, b, c, e, f, g, h, i;
                this.handle.isDragged = 0, this.instance.view.wt.selections.fill.isEmpty() || (a = this.instance.view.wt.selections.fill.getCorners(), 
                this.instance.view.wt.selections.fill.clear(), b = this.instance.selection.isMultiple() ? this.instance.view.wt.selections.area.getCorners() : this.instance.view.wt.selections.current.getCorners(), 
                Handsontable.hooks.run(this.instance, "afterAutofillApplyValues", b, a), a[0] === b[0] && a[1] < b[1] ? (g = "left", 
                c = new o(a[0], a[1]), e = new o(a[2], b[1] - 1)) : a[0] === b[0] && a[3] > b[3] ? (g = "right", 
                c = new o(a[0], b[3] + 1), e = new o(a[2], a[3])) : a[0] < b[0] && a[1] === b[1] ? (g = "up", 
                c = new o(a[0], a[1]), e = new o(b[0] - 1, a[3])) : a[2] > b[2] && a[1] === b[1] && (g = "down", 
                c = new o(b[2] + 1, a[1]), e = new o(a[2], a[3])), c && c.row > -1 && c.col > -1 ? (i = {
                    from: this.instance.getSelectedRange().from,
                    to: this.instance.getSelectedRange().to
                }, f = this.instance.getData(i.from.row, i.from.col, i.to.row, i.to.col), h = d(c, e, f, g), 
                Handsontable.hooks.run(this.instance, "beforeAutofill", c, e, f), this.instance.populateFromArray(c.row, c.col, f, e.row, e.col, "autofill", null, g, h), 
                this.instance.selection.setRangeStart(new o(a[0], a[1])), this.instance.selection.setRangeEnd(new o(a[2], a[3]))) : this.instance.selection.refreshBorders());
            }, e.prototype.showBorder = function(a) {
                var b = this.instance.getSelectedRange().getTopLeftCorner(), c = this.instance.getSelectedRange().getBottomRightCorner();
                if ("horizontal" !== this.instance.getSettings().fillHandle && (c.row < a.row || b.row > a.row)) a = new o(a.row, c.col); else {
                    if ("vertical" === this.instance.getSettings().fillHandle) return;
                    a = new o(c.row, a.col);
                }
                this.instance.view.wt.selections.fill.clear(), this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from), 
                this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to), 
                this.instance.view.wt.selections.fill.add(a), this.instance.view.render();
            }, e.prototype.checkIfNewRowNeeded = function() {
                var a, b, c = this.instance.countRows(), d = this;
                this.instance.view.wt.selections.fill.cellRange && this.addingStarted === !1 && (b = this.instance.getSelected(), 
                a = this.instance.view.wt.selections.fill.getCorners(), b[2] < c - 1 && a[2] === c - 1 && (this.addingStarted = !0, 
                this.instance._registerTimeout(setTimeout(function() {
                    d.instance.alter("insert_row"), d.addingStarted = !1;
                }, 200))));
            }, Handsontable.hooks.add("afterInit", function() {
                var a = new e(this);
                "undefined" != typeof this.getSettings().fillHandle && (a.handle && this.getSettings().fillHandle === !1 ? a.disable() : a.handle || this.getSettings().fillHandle === !1 || (this.autofill = a, 
                this.autofill.init()));
            }), Handsontable.Autofill = e;
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            eventManager: 40,
            "helpers/dom/element": 44,
            plugins: 55
        } ],
        60: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                "default": {
                    get: function() {
                        return s;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), i = h.addClass, j = h.closest, k = h.hasClass, l = h.index, m = h.removeClass, n = (e = a("eventManager"), 
            e && e.__esModule && e || {
                "default": e
            }).eventManager, o = (f = a("_base"), f && f.__esModule && f || {
                "default": f
            })["default"], p = (g = a("plugins"), g && g.__esModule && g || {
                "default": g
            }).registerPlugin;
            Handsontable.hooks.register("beforeColumnSort"), Handsontable.hooks.register("afterColumnSort");
            var q = function(a) {
                $traceurRuntime.superConstructor(r).call(this, a), this.sortIndicators = [];
            }, r = q;
            $traceurRuntime.createClass(q, {
                isEnabled: function() {
                    return !!this.hot.getSettings().columnSorting;
                },
                enablePlugin: function() {
                    var a = this;
                    if (!this.enabled) {
                        var b = this;
                        this.hot.sortIndex = [], this.hot.sort = function() {
                            var a = Array.prototype.slice.call(arguments);
                            return b.sortByColumn.apply(b, a);
                        }, "undefined" == typeof this.hot.getSettings().observeChanges && this.enableObserveChangesPlugin(), 
                        this.bindColumnSortingAfterClick(), this.addHook("modifyRow", function(b) {
                            return a.translateRow(b);
                        }), this.addHook("afterUpdateSettings", function() {
                            return a.onAfterUpdateSettings();
                        }), this.addHook("afterGetColHeader", function(b, c) {
                            return a.getColHeader(b, c);
                        }), this.addHook("afterCreateRow", function() {
                            b.afterCreateRow.apply(b, arguments);
                        }), this.addHook("afterRemoveRow", function() {
                            b.afterRemoveRow.apply(b, arguments);
                        }), this.addHook("afterInit", function() {
                            return a.sortBySettings();
                        }), this.addHook("afterLoadData", function() {
                            a.hot.sortIndex = [], a.hot.view && a.sortBySettings();
                        }), this.hot.view && this.sortBySettings(), $traceurRuntime.superGet(this, r.prototype, "enablePlugin").call(this);
                    }
                },
                disablePlugin: function() {
                    this.hot.sort = void 0, $traceurRuntime.superGet(this, r.prototype, "disablePlugin").call(this);
                },
                onAfterUpdateSettings: function() {
                    this.sortBySettings();
                },
                sortBySettings: function() {
                    var a, b, c = this.hot.getSettings().columnSorting, d = this.loadSortingState();
                    "undefined" == typeof d ? (a = c.column, b = c.sortOrder) : (a = d.sortColumn, b = d.sortOrder), 
                    this.sortByColumn(a, b);
                },
                setSortingColumn: function(a, b) {
                    return "undefined" == typeof a ? (this.hot.sortColumn = void 0, void (this.hot.sortOrder = void 0)) : (this.hot.sortColumn === a && "undefined" == typeof b ? this.hot.sortOrder === !1 ? this.hot.sortOrder = void 0 : this.hot.sortOrder = !this.hot.sortOrder : this.hot.sortOrder = "undefined" == typeof b ? !0 : b, 
                    void (this.hot.sortColumn = a));
                },
                sortByColumn: function(a, b) {
                    this.setSortingColumn(a, b), "undefined" != typeof this.hot.sortColumn && (Handsontable.hooks.run(this.hot, "beforeColumnSort", this.hot.sortColumn, this.hot.sortOrder), 
                    this.sort(), this.hot.render(), this.saveSortingState(), Handsontable.hooks.run(this.hot, "afterColumnSort", this.hot.sortColumn, this.hot.sortOrder));
                },
                saveSortingState: function() {
                    var a = {};
                    "undefined" != typeof this.hot.sortColumn && (a.sortColumn = this.hot.sortColumn), 
                    "undefined" != typeof this.hot.sortOrder && (a.sortOrder = this.hot.sortOrder), 
                    (a.hasOwnProperty("sortColumn") || a.hasOwnProperty("sortOrder")) && Handsontable.hooks.run(this.hot, "persistentStateSave", "columnSorting", a);
                },
                loadSortingState: function() {
                    var a = {};
                    return Handsontable.hooks.run(this.hot, "persistentStateLoad", "columnSorting", a), 
                    a.value;
                },
                bindColumnSortingAfterClick: function() {
                    function a() {
                        var a = d.hot.view.TBODY.querySelector("tr").querySelectorAll("th");
                        return a.length;
                    }
                    function b(b) {
                        var c = j(b, "TH");
                        return d.hot.view.wt.wtTable.getFirstRenderedColumn() + l(c) - a();
                    }
                    if (!this.bindedSortEvent) {
                        var c = n(this.hot), d = this;
                        this.bindedSortEvent = !0, c.addEventListener(this.hot.rootElement, "click", function(a) {
                            if (k(a.target, "columnSorting")) {
                                var c = b(a.target);
                                if (c === this.lastSortedColumn) switch (d.hot.sortOrder) {
                                  case void 0:
                                    d.sortOrderClass = "ascending";
                                    break;

                                  case !0:
                                    d.sortOrderClass = "descending";
                                    break;

                                  case !1:
                                    d.sortOrderClass = void 0;
                                } else d.sortOrderClass = "ascending";
                                this.lastSortedColumn = c, d.sortByColumn(c);
                            }
                        });
                    }
                },
                enableObserveChangesPlugin: function() {
                    var a = this;
                    this.hot._registerTimeout(setTimeout(function() {
                        a.hot.updateSettings({
                            observeChanges: !0
                        });
                    }, 0));
                },
                defaultSort: function(a) {
                    return function(b, c) {
                        return "string" == typeof b[1] && (b[1] = b[1].toLowerCase()), "string" == typeof c[1] && (c[1] = c[1].toLowerCase()), 
                        b[1] === c[1] ? 0 : null === b[1] || "" === b[1] ? 1 : null === c[1] || "" === c[1] ? -1 : isNaN(b[1]) && !isNaN(c[1]) ? a ? 1 : -1 : !isNaN(b[1]) && isNaN(c[1]) ? a ? -1 : 1 : b[1] < c[1] ? a ? -1 : 1 : b[1] > c[1] ? a ? 1 : -1 : 0;
                    };
                },
                dateSort: function(a) {
                    return function(b, c) {
                        if (b[1] === c[1]) return 0;
                        if (null === b[1] || "" === b[1]) return 1;
                        if (null === c[1] || "" === c[1]) return -1;
                        var d = new Date(b[1]), e = new Date(c[1]);
                        return e > d ? a ? -1 : 1 : d > e ? a ? 1 : -1 : 0;
                    };
                },
                sort: function() {
                    if ("undefined" != typeof this.hot.sortOrder) {
                        var a, b;
                        this.hot.sortingEnabled = !1, this.hot.sortIndex.length = 0;
                        for (var c = this.hot.colOffset(), d = 0, e = this.hot.countRows() - this.hot.getSettings().minSpareRows; e > d; d++) this.hot.sortIndex.push([ d, this.hot.getDataAtCell(d, this.hot.sortColumn + c) ]);
                        switch (a = this.hot.getCellMeta(0, this.hot.sortColumn), this.sortIndicators[this.hot.sortColumn] = a.sortIndicator, 
                        a.type) {
                          case "date":
                            b = this.dateSort;
                            break;

                          default:
                            b = this.defaultSort;
                        }
                        this.hot.sortIndex.sort(b(this.hot.sortOrder));
                        for (var d = this.hot.sortIndex.length; d < this.hot.countRows(); d++) this.hot.sortIndex.push([ d, this.hot.getDataAtCell(d, this.hot.sortColumn + c) ]);
                        this.hot.sortingEnabled = !0;
                    }
                },
                translateRow: function(a) {
                    return this.hot.sortingEnabled && "undefined" != typeof this.hot.sortOrder && this.hot.sortIndex && this.hot.sortIndex.length && this.hot.sortIndex[a] ? this.hot.sortIndex[a][0] : a;
                },
                untranslateRow: function(a) {
                    if (this.hot.sortingEnabled && this.hot.sortIndex && this.hot.sortIndex.length) for (var b = 0; b < this.hot.sortIndex.length; b++) if (this.hot.sortIndex[b][0] == a) return b;
                },
                getColHeader: function(a, b) {
                    var c = b.querySelector(".colHeader"), d = (b.getAttribute("colspan"), b.parentNode.parentNode.childNodes), e = Array.prototype.indexOf.call(d, b.parentNode);
                    e -= d.length, c && (this.hot.getSettings().columnSorting && a >= 0 && -1 === e && i(c, "columnSorting"), 
                    m(c, "descending"), m(c, "ascending"), this.sortIndicators[a] && a === this.hot.sortColumn && ("ascending" === this.sortOrderClass ? i(c, "ascending") : "descending" === this.sortOrderClass && i(c, "descending")));
                },
                isSorted: function() {
                    return "undefined" != typeof this.hot.sortColumn;
                },
                afterCreateRow: function(a, b) {
                    if (this.isSorted()) {
                        for (var c = 0; c < this.hot.sortIndex.length; c++) this.hot.sortIndex[c][0] >= a && (this.hot.sortIndex[c][0] += b);
                        for (var c = 0; b > c; c++) this.hot.sortIndex.splice(a + c, 0, [ a + c, this.hot.getData()[a + c][this.hot.sortColumn + this.hot.colOffset()] ]);
                        this.saveSortingState();
                    }
                },
                afterRemoveRow: function(a, b) {
                    if (this.isSorted()) {
                        var c = this.translateRow(a);
                        this.hot.sortIndex.splice(a, b);
                        for (var d = 0; d < this.hot.sortIndex.length; d++) this.hot.sortIndex[d][0] > c && (this.hot.sortIndex[d][0] -= b);
                        this.saveSortingState();
                    }
                }
            }, {}, o);
            var s = q;
            p("columnSorting", q);
        }, {
            _base: 56,
            eventManager: 40,
            "helpers/dom/element": 44,
            plugins: 55
        } ],
        61: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                CommentEditor: {
                    get: function() {
                        return f;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }).addClass, f = function() {
                this.editor = this.createEditor(), this.editorStyle = this.editor.style, this.editorStyle.position = "absolute", 
                this.editorStyle.zIndex = 100, this.hide();
            }, g = f;
            $traceurRuntime.createClass(f, {
                setPosition: function(a, b) {
                    this.editorStyle.left = a + "px", this.editorStyle.top = b + "px";
                },
                show: function() {
                    this.editorStyle.display = "block";
                },
                hide: function() {
                    this.editorStyle.display = "none";
                },
                isVisible: function() {
                    return "block" === this.editorStyle.display;
                },
                setValue: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : "";
                    a = a || "", this.getInputElement().value = a;
                },
                getValue: function() {
                    return this.getInputElement().value;
                },
                isFocused: function() {
                    return document.activeElement === this.getInputElement();
                },
                focus: function() {
                    this.getInputElement().focus();
                },
                createEditor: function() {
                    var a, b, c = document.querySelector("." + g.CLASS_EDITOR_CONTAINER);
                    return c || (c = document.createElement("div"), e(c, g.CLASS_EDITOR_CONTAINER), 
                    document.body.appendChild(c)), a = document.createElement("div"), e(a, g.CLASS_EDITOR), 
                    b = document.createElement("textarea"), e(b, g.CLASS_INPUT), a.appendChild(b), c.appendChild(a), 
                    a;
                },
                getInputElement: function() {
                    return this.editor.querySelector("." + g.CLASS_INPUT);
                },
                destroy: function() {
                    this.editor.parentNode.removeChild(this.editor), this.editor = null, this.editorStyle = null;
                }
            }, {
                get CLASS_EDITOR_CONTAINER() {
                    return "htCommentsContainer";
                },
                get CLASS_EDITOR() {
                    return "htComments";
                },
                get CLASS_INPUT() {
                    return "htCommentTextArea";
                },
                get CLASS_CELL() {
                    return "htCommentCell";
                }
            });
        }, {
            "helpers/dom/element": 44
        } ],
        62: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                Comments: {
                    get: function() {
                        return w;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), k = j.addClass, l = j.closest, m = j.getWindowScrollLeft, n = j.getWindowScrollTop, o = j.hasClass, p = j.offset, q = (e = a("eventManager"), 
            e && e.__esModule && e || {
                "default": e
            }).EventManager, r = (f = a("3rdparty/walkontable/src/cell/coords"), f && f.__esModule && f || {
                "default": f
            }).WalkontableCellCoords, s = (g = a("plugins"), g && g.__esModule && g || {
                "default": g
            }), t = s.registerPlugin, u = (s.getPlugin, (h = a("_base"), h && h.__esModule && h || {
                "default": h
            })["default"]), v = (i = a("commentEditor"), i && i.__esModule && i || {
                "default": i
            }).CommentEditor, w = function(a) {
                $traceurRuntime.superConstructor(x).call(this, a), this.editor = null, this.eventManager = null, 
                this.range = {}, this.mouseDown = !1, this.contextMenuEvent = !1, this.timer = null;
            }, x = w;
            $traceurRuntime.createClass(w, {
                isEnabled: function() {
                    return this.hot.getSettings().comments;
                },
                enablePlugin: function() {
                    var a = this;
                    this.enabled || (this.editor || (this.editor = new v()), this.eventManager || (this.eventManager = new q(this)), 
                    this.addHook("afterContextMenuDefaultOptions", function(b) {
                        return a.addToContextMenu(b);
                    }), this.addHook("afterRenderer", function(b, c, d, e, f, g) {
                        return a.onAfterRenderer(b, g);
                    }), this.addHook("afterScrollVertically", function() {
                        return a.refreshEditorPosition();
                    }), this.addHook("afterColumnResize", function() {
                        return a.refreshEditorPosition();
                    }), this.addHook("afterRowResize", function() {
                        return a.refreshEditorPosition();
                    }), this.registerListeners(), $traceurRuntime.superGet(this, x.prototype, "enablePlugin").call(this));
                },
                disablePlugin: function() {
                    $traceurRuntime.superGet(this, x.prototype, "disablePlugin").call(this);
                },
                registerListeners: function() {
                    var a = this;
                    this.eventManager.addEventListener(document, "mouseover", function(b) {
                        return a.onMouseOver(b);
                    }), this.eventManager.addEventListener(document, "mousedown", function(b) {
                        return a.onMouseDown(b);
                    }), this.eventManager.addEventListener(document, "mousemove", function(b) {
                        return a.onMouseMove(b);
                    }), this.eventManager.addEventListener(document, "mouseup", function(b) {
                        return a.onMouseUp(b);
                    }), this.eventManager.addEventListener(this.editor.getInputElement(), "blur", function(b) {
                        return a.onEditorBlur(b);
                    });
                },
                setRange: function(a) {
                    this.range = a;
                },
                clearRange: function() {
                    this.range = {};
                },
                targetIsCellWithComment: function(a) {
                    return o(a.target, "htCommentCell") && l(a.target, [ this.hot.rootElement ]) ? !0 : !1;
                },
                targetIsCommentTextArea: function(a) {
                    return this.editor.getInputElement() === a.target;
                },
                saveComment: function() {
                    if (!this.range.from) throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');
                    var a = this.editor.getValue(), b = this.range.from.row, c = this.range.from.col;
                    this.hot.setCellMeta(b, c, "comment", a), this.hot.render();
                },
                saveCommentAtCell: function(a, b) {
                    this.setRange({
                        from: new r(a, b)
                    }), this.saveComment();
                },
                removeComment: function() {
                    if (!this.range.from) throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');
                    this.hot.removeCellMeta(this.range.from.row, this.range.from.col, "comment"), this.hot.render(), 
                    this.hide();
                },
                removeCommentAtCell: function(a, b) {
                    this.setRange({
                        from: new r(a, b)
                    }), this.removeComment();
                },
                show: function() {
                    if (!this.range.from) throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');
                    var a = this.hot.getCellMeta(this.range.from.row, this.range.from.col);
                    return this.refreshEditorPosition(!0), this.editor.setValue(a.comment || ""), this.editor.show(), 
                    !0;
                },
                showAtCell: function(a, b) {
                    return this.setRange({
                        from: new r(a, b)
                    }), this.show();
                },
                hide: function() {
                    this.editor.hide();
                },
                refreshEditorPosition: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1;
                    if (a || this.range.from && this.editor.isVisible()) {
                        var b = this.hot.view.wt.wtTable.getCell(this.range.from), c = p(b), d = this.hot.getColWidth(this.range.from.col), e = c.top, f = c.left, g = 0, h = 0;
                        this.hot.view.wt.wtViewport.hasVerticalScroll() && (e -= this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition(), 
                        g = 20), this.hot.view.wt.wtViewport.hasHorizontalScroll() && (f -= this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition(), 
                        h = 20);
                        var i = f + d, j = e, k = this.hot.view.wt.wtTable.holder.getBoundingClientRect(), l = {
                            left: k.left + m() + h,
                            right: k.right + m() - 15,
                            top: k.top + n() + g,
                            bottom: k.bottom + n()
                        };
                        i <= l.left || i > l.right || j <= l.top || j > l.bottom ? this.hide() : this.editor.setPosition(i, j);
                    }
                },
                onMouseDown: function(a) {
                    this.mouseDown = !0, this.hot.view && this.hot.view.wt && (this.contextMenuEvent || this.targetIsCommentTextArea(a) || this.targetIsCellWithComment(a) || this.hide(), 
                    this.contextMenuEvent = !1);
                },
                onMouseOver: function(a) {
                    if (!this.mouseDown && !this.editor.isFocused()) if (this.targetIsCellWithComment(a)) {
                        var b = this.hot.view.wt.wtTable.getCoords(a.target), c = {
                            from: new r(b.row, b.col)
                        };
                        this.setRange(c), this.show();
                    } else this.targetIsCommentTextArea(a) || this.editor.isFocused() || this.hide();
                },
                onMouseMove: function(a) {
                    var b = this;
                    this.targetIsCommentTextArea(a) && (this.mouseDown = !0, clearTimeout(this.timer), 
                    this.timer = setTimeout(function() {
                        b.mouseDown = !1;
                    }, 200));
                },
                onMouseUp: function(a) {
                    this.mouseDown = !1;
                },
                onAfterRenderer: function(a, b) {
                    b.comment && k(a, b.commentedCellClassName);
                },
                onEditorBlur: function(a) {
                    this.saveComment();
                },
                checkSelectionCommentsConsistency: function() {
                    var a = this.hot.getSelectedRange();
                    if (!a) return !1;
                    var b = !1, c = a.from;
                    return this.hot.getCellMeta(c.row, c.col).comment && (b = !0), b;
                },
                onContextMenuAddComment: function() {
                    var a = this, b = this.hot.getSelectedRange();
                    this.contextMenuEvent = !0, this.setRange({
                        from: b.from
                    }), this.show(), setTimeout(function() {
                        a.hot && (a.hot.deselectCell(), a.editor.focus());
                    }, 10);
                },
                onContextMenuRemoveComment: function(a, b) {
                    this.contextMenuEvent = !0, this.removeCommentAtCell(b.start.row, b.start.col);
                },
                addToContextMenu: function(a) {
                    var b = this;
                    a.items.push(Handsontable.plugins.ContextMenu.SEPARATOR, {
                        key: "commentsAddEdit",
                        name: function() {
                            return b.checkSelectionCommentsConsistency() ? "Edit Comment" : "Add Comment";
                        },
                        callback: function() {
                            return b.onContextMenuAddComment();
                        },
                        disabled: function() {
                            return this.getSelected() ? !1 : !0;
                        }
                    }, {
                        key: "commentsRemove",
                        name: function() {
                            return "Delete Comment";
                        },
                        callback: function(a, c) {
                            return b.onContextMenuRemoveComment(a, c);
                        },
                        disabled: function() {
                            return !b.checkSelectionCommentsConsistency();
                        }
                    });
                },
                destroy: function() {
                    this.editor && this.editor.destroy(), $traceurRuntime.superGet(this, x.prototype, "destroy").call(this);
                }
            }, {}, u), t("comments", w);
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            _base: 56,
            commentEditor: 61,
            eventManager: 40,
            "helpers/dom/element": 44,
            plugins: 55
        } ],
        63: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                var c;
                return f(b, function(b) {
                    var d = b.key ? b.key.split(":") : null;
                    return Array.isArray(d) && d[1] === a ? (c = b, !1) : void 0;
                }), c;
            }
            Object.defineProperties(c, {
                CommandExecutor: {
                    get: function() {
                        return g;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f = (e = a("helpers/array"), e && e.__esModule && e || {
                "default": e
            }).arrayEach, g = function(a) {
                this.hot = a, this.commands = {}, this.commonCallback = null;
            };
            $traceurRuntime.createClass(g, {
                registerCommand: function(a, b) {
                    this.commands[a] = b;
                },
                setCommonCallback: function(a) {
                    this.commonCallback = a;
                },
                execute: function(a) {
                    for (var b = [], c = 1; c < arguments.length; c++) b[c - 1] = arguments[c];
                    var e = this, g = a.split(":");
                    a = g[0];
                    var h = 2 === g.length ? g[1] : null, i = this.commands[a];
                    if (!i) throw new Error("Menu command '" + a + "' not exists.");
                    if (h && i.submenu && (i = d(h, i.submenu.items)), i.disabled !== !0 && ("function" != typeof i.disabled || i.disabled.call(this.hot) !== !0) && !i.hasOwnProperty("submenu")) {
                        var j = [];
                        "function" == typeof i.callback && j.push(i.callback), "function" == typeof this.commonCallback && j.push(this.commonCallback), 
                        b.unshift(g.join(":")), f(j, function(a) {
                            return a.apply(e.hot, b);
                        });
                    }
                }
            }, {});
        }, {
            "helpers/array": 41
        } ],
        64: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                ContextMenu: {
                    get: function() {
                        return K;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j, k, l, m, n, o = (d = a("_base"), d && d.__esModule && d || {
                "default": d
            })["default"], p = (e = a("helpers/array"), e && e.__esModule && e || {
                "default": e
            }).arrayEach, q = (f = a("commandExecutor"), f && f.__esModule && f || {
                "default": f
            }).CommandExecutor, r = (g = a("eventManager"), g && g.__esModule && g || {
                "default": g
            }).EventManager, s = (h = a("helpers/dom/element"), h && h.__esModule && h || {
                "default": h
            }).hasClass, t = (i = a("itemsFactory"), i && i.__esModule && i || {
                "default": i
            }).ItemsFactory, u = (j = a("menu"), j && j.__esModule && j || {
                "default": j
            }).Menu, v = (k = a("helpers/object"), k && k.__esModule && k || {
                "default": k
            }), w = (v.objectEach, v.mixin, (l = a("plugins"), l && l.__esModule && l || {
                "default": l
            }).registerPlugin), x = (m = a("helpers/dom/event"), m && m.__esModule && m || {
                "default": m
            }).stopPropagation, y = (n = a("predefinedItems"), n && n.__esModule && n || {
                "default": n
            }), z = y.ROW_ABOVE, A = y.ROW_BELOW, B = y.COLUMN_LEFT, C = y.COLUMN_RIGHT, D = y.REMOVE_ROW, E = y.REMOVE_COLUMN, F = y.UNDO, G = y.REDO, H = y.READ_ONLY, I = y.ALIGNMENT, J = y.SEPARATOR, K = (y.predefinedItems, 
            function(a) {
                $traceurRuntime.superConstructor(L).call(this, a), this.eventManager = new r(this), 
                this.commandExecutor = new q(this.hot), this.itemsFactory = null, this.menu = null;
            }), L = K;
            $traceurRuntime.createClass(K, {
                isEnabled: function() {
                    return this.hot.getSettings().contextMenu;
                },
                enablePlugin: function() {
                    var a = this;
                    if (!this.enabled) {
                        this.itemsFactory = new t(this.hot, L.DEFAULT_ITEMS);
                        var b = this.hot.getSettings().contextMenu, c = {
                            items: this.itemsFactory.getVisibleItems(b)
                        };
                        this.registerEvents(), "function" == typeof b.callback && this.commandExecutor.setCommonCallback(b.callback), 
                        $traceurRuntime.superGet(this, L.prototype, "enablePlugin").call(this), this.callOnPluginsReady(function() {
                            a.hot.runHooks("afterContextMenuDefaultOptions", c), a.itemsFactory.setPredefinedItems(c.items);
                            var d = a.itemsFactory.getVisibleItems(b);
                            a.menu = new u(a.hot, {
                                className: "htContextMenu"
                            }), a.menu.setMenuItems(d), a.menu.addLocalHook("afterOpen", function() {
                                return a.hot.runHooks("afterContextMenuShow", a);
                            }), a.menu.addLocalHook("afterClose", function() {
                                return a.hot.runHooks("afterContextMenuHide", a);
                            }), a.menu.addLocalHook("executeCommand", function() {
                                for (var b = [], c = 0; c < arguments.length; c++) b[c] = arguments[c];
                                return a.executeCommand.apply(a, b);
                            }), p(d, function(b) {
                                return a.commandExecutor.registerCommand(b.key, b);
                            });
                        });
                    }
                },
                disablePlugin: function() {
                    this.close(), this.menu && (this.menu.destroy(), this.menu = null), $traceurRuntime.superGet(this, L.prototype, "disablePlugin").call(this);
                },
                registerEvents: function() {
                    var a = this;
                    this.eventManager.addEventListener(this.hot.rootElement, "contextmenu", function(b) {
                        return a.onContextMenu(b);
                    });
                },
                open: function(a) {
                    this.menu && (this.menu.open(), this.menu.setPosition(a), this.menu.hotMenu.isHotTableEnv = this.hot.isHotTableEnv, 
                    Handsontable.eventManager.isHotTableEnv = this.hot.isHotTableEnv);
                },
                close: function() {
                    this.menu && this.menu.close();
                },
                executeCommand: function() {
                    for (var a = [], b = 0; b < arguments.length; b++) a[b] = arguments[b];
                    this.commandExecutor.execute.apply(this.commandExecutor, a);
                },
                destroy: function() {
                    this.close(), this.menu && this.menu.destroy(), $traceurRuntime.superGet(this, L.prototype, "destroy").call(this);
                },
                onContextMenu: function(a) {
                    function b(a) {
                        return "TD" === a.nodeName || "TD" === a.parentNode.nodeName;
                    }
                    var c = this.hot.getSettings(), d = c.rowHeaders, e = c.colHeaders, f = a.realTarget;
                    if (this.close(), a.preventDefault(), x(a), d || e) {
                        if (d && e) {
                            var g = f.parentNode.querySelectorAll(".cornerHeader").length > 0;
                            if (g) return;
                        }
                    } else if (!(b(f) || s(f, "current") && s(f, "wtBorder"))) return;
                    this.open(a);
                }
            }, {
                get DEFAULT_ITEMS() {
                    return [ z, A, J, B, C, J, D, E, J, F, G, J, H, J, I ];
                }
            }, o), K.SEPARATOR = {
                name: J
            }, Handsontable.hooks.register("afterContextMenuDefaultOptions"), Handsontable.hooks.register("afterContextMenuShow"), 
            Handsontable.hooks.register("afterContextMenuHide"), Handsontable.hooks.register("afterContextMenuExecute"), 
            w("contextMenu", K);
        }, {
            _base: 56,
            commandExecutor: 63,
            eventManager: 40,
            "helpers/array": 41,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/object": 49,
            itemsFactory: 66,
            menu: 67,
            plugins: 55,
            predefinedItems: 68
        } ],
        65: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                Cursor: {
                    get: function() {
                        return l;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), g = f.getWindowScrollLeft, h = f.getWindowScrollTop, i = (e = a("helpers/dom/event"), 
            e && e.__esModule && e || {
                "default": e
            }), j = i.pageX, k = i.pageY, l = function(a) {
                var b, c, d, e, f, i, l, m, n = h(), o = g();
                this.type = this.getSourceType(a), "literal" === this.type ? (b = parseInt(a.top, 10), 
                d = parseInt(a.left, 10), l = a.height, m = a.width) : "event" === this.type && (b = parseInt(k(a), 10), 
                d = parseInt(j(a), 10), l = a.target.clientHeight, m = a.target.clientWidth), c = b - n, 
                e = d - o, f = n, i = o, this.top = b, this.topRelative = c, this.left = d, this.leftRelative = e, 
                this.scrollTop = f, this.scrollLeft = i, this.cellHeight = l, this.cellWidth = m;
            };
            $traceurRuntime.createClass(l, {
                getSourceType: function(a) {
                    var b = "literal";
                    return a instanceof Event && (b = "event"), b;
                },
                fitsAbove: function(a) {
                    return this.topRelative >= a.offsetHeight;
                },
                fitsBelow: function(a) {
                    var b = void 0 !== arguments[1] ? arguments[1] : window.innerHeight;
                    return this.topRelative + a.offsetHeight <= b;
                },
                fitsOnRight: function(a) {
                    var b = void 0 !== arguments[1] ? arguments[1] : window.innerWidth;
                    return this.leftRelative + this.cellWidth + a.offsetWidth <= b;
                },
                fitsOnLeft: function(a) {
                    return this.leftRelative >= a.offsetWidth;
                }
            }, {}), Handsontable.plugins.utils = Handsontable.plugins.utils || {}, Handsontable.plugins.utils.Cursor = l;
        }, {
            "helpers/dom/element": 44,
            "helpers/dom/event": 45
        } ],
        66: [ function(a, b, c) {
            "use strict";
            function d() {
                var a = void 0 !== arguments[0] ? arguments[0] : null, b = void 0 !== arguments[1] ? arguments[1] : [], c = void 0 !== arguments[2] ? arguments[2] : {}, d = [];
                return a && a.items ? a = a.items : Array.isArray(a) || (a = b), j(a) ? i(a, function(a, b) {
                    var e = c["string" == typeof a ? a : b];
                    e || (e = a), j(a) ? k(e, a) : "string" == typeof e && (e = {
                        name: e
                    }), void 0 === e.key && (e.key = b), d.push(e);
                }) : l(a, function(a, b) {
                    var e = c[a];
                    !e && o.indexOf(a) >= 0 || (e || (e = {
                        name: a,
                        key: b + ""
                    }), j(a) && k(e, a), void 0 === e.key && (e.key = b), d.push(e));
                }), d[0].name === n && d.shift(), d;
            }
            Object.defineProperties(c, {
                ItemsFactory: {
                    get: function() {
                        return q;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h = (e = a("helpers/object"), e && e.__esModule && e || {
                "default": e
            }), i = h.objectEach, j = h.isObject, k = h.extend, l = (f = a("helpers/array"), 
            f && f.__esModule && f || {
                "default": f
            }).arrayEach, m = (g = a("predefinedItems"), g && g.__esModule && g || {
                "default": g
            }), n = m.SEPARATOR, o = m.ITEMS, p = m.predefinedItems, q = function(a) {
                var b = void 0 !== arguments[1] ? arguments[1] : null;
                this.hot = a, this.predefinedItems = p(), this.defaultOrderPattern = b;
            };
            $traceurRuntime.createClass(q, {
                setPredefinedItems: function(a) {
                    var b = this, c = {};
                    this.defaultOrderPattern.length = 0, i(a, function(a, d) {
                        var e = "";
                        a.name === n ? (c[n] = a, e = n) : isNaN(parseInt(d, 10)) ? (a.key = void 0 === a.key ? d : a.key, 
                        c[d] = a, e = a.key) : (c[a.key] = a, e = a.key), b.defaultOrderPattern.push(e);
                    }), this.predefinedItems = c;
                },
                getVisibleItems: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null, b = this, c = {};
                    return i(this.predefinedItems, function(a, d) {
                        (!a.hidden || a.hidden && !a.hidden.apply(b.hot)) && (c[d] = a);
                    }), d(a, this.defaultOrderPattern, c);
                },
                getItems: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null;
                    return d(a, this.defaultOrderPattern, this.predefinedItems);
                }
            }, {});
        }, {
            "helpers/array": 41,
            "helpers/object": 49,
            predefinedItems: 68
        } ],
        67: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                Menu: {
                    get: function() {
                        return L;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j, k, l, m, n = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), o = n.addClass, p = n.empty, q = n.fastInnerHTML, r = (n.getComputedStyle, n.getScrollbarWidth), s = (n.getWindowScrollLeft, 
            n.getWindowScrollTop, n.hasClass, n.isChildOf), t = n.removeClass, u = (e = a("helpers/array"), 
            e && e.__esModule && e || {
                "default": e
            }).arrayEach, v = (f = a("cursor"), f && f.__esModule && f || {
                "default": f
            }).Cursor, w = (g = a("eventManager"), g && g.__esModule && g || {
                "default": g
            }).EventManager, x = (h = a("helpers/object"), h && h.__esModule && h || {
                "default": h
            }), y = (x.extend, x.isObject, x.objectEach, x.mixin), z = (i = a("utils"), i && i.__esModule && i || {
                "default": i
            }), A = z.isSeparator, B = z.isDisabled, C = z.isSelectionDisabled, D = z.hasSubMenu, E = z.normalizeSelection, F = (j = a("helpers/unicode"), 
            j && j.__esModule && j || {
                "default": j
            }).KEY_CODES, G = (k = a("pluginHooks"), k && k.__esModule && k || {
                "default": k
            }).localHooks, H = (l = a("predefinedItems"), l && l.__esModule && l || {
                "default": l
            }), I = H.SEPARATOR, J = (H.predefinedItems, m = a("helpers/dom/event"), m && m.__esModule && m || {
                "default": m
            }), K = (J.stopPropagation, J.stopImmediatePropagation), L = (J.pageX, J.pageY, 
            function(a) {
                var b = void 0 !== arguments[1] ? arguments[1] : {
                    parent: null,
                    name: null,
                    className: "",
                    keepInViewport: !0
                };
                this.hot = a, this.options = b, this.eventManager = new w(this), this.container = this.createContainer(this.options.name), 
                this.hotMenu = null, this.hotSubMenus = {}, this.parentMenu = this.options.parent || null, 
                this.menuItems = null, this.origOutsideClickDeselects = null, this._afterScrollCallback = null, 
                this.registerEvents();
            }), M = L;
            $traceurRuntime.createClass(L, {
                registerEvents: function() {
                    var a = this;
                    this.eventManager.addEventListener(document.documentElement, "mousedown", function(b) {
                        return a.onDocumentMouseDown(b);
                    });
                },
                setMenuItems: function(a) {
                    this.menuItems = a;
                },
                isSubMenu: function() {
                    return null !== this.parentMenu;
                },
                open: function() {
                    var a = this;
                    this.container.removeAttribute("style"), this.container.style.display = "block";
                    var b = {
                        data: this.menuItems,
                        colHeaders: !1,
                        colWidths: [ 200 ],
                        autoRowSize: !1,
                        readOnly: !0,
                        copyPaste: !1,
                        columns: [ {
                            data: "name",
                            renderer: function(b, c, d, e, f, g) {
                                return a.menuItemRenderer(b, c, d, e, f, g);
                            }
                        } ],
                        renderAllRows: !0,
                        beforeKeyDown: function(b) {
                            return a.onBeforeKeyDown(b);
                        },
                        afterOnCellMouseOver: function(b, c, d) {
                            return a.openSubMenu(c.row);
                        }
                    };
                    this.origOutsideClickDeselects = this.hot.getSettings().outsideClickDeselects, this.hot.getSettings().outsideClickDeselects = !1, 
                    this.hotMenu = new Handsontable.Core(this.container, b), this.hotMenu.addHook("afterInit", function() {
                        return a.onAfterInit();
                    }), this.hotMenu.init(), this.hotMenu.listen(), this.blockMainTableCallbacks(), 
                    this.runLocalHooks("afterOpen");
                },
                close: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : !1;
                    this.isOpened() && (a && this.parentMenu ? this.parentMenu.close() : (this.closeAllSubMenus(), 
                    this.container.style.display = "none", this.releaseMainTableCallbacks(), this.hotMenu.destroy(), 
                    this.hotMenu = null, this.hot.getSettings().outsideClickDeselects = this.origOutsideClickDeselects, 
                    this.hot.listen(), this.runLocalHooks("afterClose")));
                },
                openSubMenu: function(a) {
                    var b = this.hotMenu.getCell(a, 0);
                    if (this.closeAllSubMenus(), !b || !D(b)) return !1;
                    var c = this.hotMenu.getData()[a], d = new M(this.hot, {
                        parent: this,
                        name: c.name,
                        className: this.options.className
                    });
                    return d.setMenuItems(c.submenu.items), d.open(), d.setPosition(b.getBoundingClientRect()), 
                    this.hotSubMenus[c.key] = d, d;
                },
                closeSubMenu: function(a) {
                    var b = this.hotMenu.getData()[a], c = this.hotSubMenus[b.key];
                    c && (c.destroy(), delete this.hotSubMenus[b.key]);
                },
                closeAllSubMenus: function() {
                    var a = this;
                    u(this.hotMenu.getData(), function(b, c) {
                        return a.closeSubMenu(c);
                    });
                },
                isAllSubMenusClosed: function() {
                    return 0 === Object.keys(this.hotSubMenus).length;
                },
                destroy: function() {
                    this.clearLocalHooks(), this.close(), this.parentMenu = null, this.eventManager.destroy();
                },
                isOpened: function() {
                    return null !== this.hotMenu;
                },
                executeCommand: function() {
                    var a = arguments[0];
                    if (this.isOpened() && this.hotMenu.getSelected()) {
                        var b = this.hotMenu.getData()[this.hotMenu.getSelected()[0]];
                        if (this.runLocalHooks("select", b, a), b.isCommand !== !1) {
                            var c = this.hot.getSelectedRange(), d = c ? E(c) : {};
                            this.runLocalHooks("executeCommand", b.key, d, a), this.isSubMenu() && this.parentMenu.runLocalHooks("executeCommand", b.key, d, a), 
                            this.close(!0);
                        }
                    }
                },
                setPosition: function(a) {
                    var b = new v(a);
                    this.options.keepInViewport ? (b.fitsBelow(this.container) ? this.setPositionBelowCursor(b) : b.fitsAbove(this.container) ? this.setPositionAboveCursor(b) : this.setPositionBelowCursor(b), 
                    b.fitsOnRight(this.container) ? this.setPositionOnRightOfCursor(b) : this.setPositionOnLeftOfCursor(b)) : (this.setPositionBelowCursor(b), 
                    this.setPositionOnRightOfCursor(b));
                },
                setPositionAboveCursor: function(a) {
                    var b = a.top - this.container.offsetHeight;
                    this.isSubMenu() && (b = window.scrollY + a.top + a.cellHeight - this.container.offsetHeight + 3), 
                    this.container.style.top = b + "px";
                },
                setPositionBelowCursor: function(a) {
                    var b = a.top - 1;
                    this.isSubMenu() && (b = a.top + window.scrollY - 1), this.container.style.top = b + "px";
                },
                setPositionOnRightOfCursor: function(a) {
                    var b;
                    b = this.isSubMenu() ? window.scrollX + 1 + a.left + a.cellWidth : 1 + a.left, this.container.style.left = b + "px";
                },
                setPositionOnLeftOfCursor: function(a) {
                    this.container.style.left = a.left - this.container.offsetWidth + r() + 4 + "px";
                },
                selectFirstCell: function() {
                    var a = this.hotMenu.getCell(0, 0);
                    A(a) || B(a) || C(a) ? this.selectNextCell(0, 0) : this.hotMenu.selectCell(0, 0);
                },
                selectLastCell: function() {
                    var a = this.hotMenu.countRows() - 1, b = this.hotMenu.getCell(a, 0);
                    A(b) || B(b) || C(b) ? this.selectPrevCell(a, 0) : this.hotMenu.selectCell(a, 0);
                },
                selectNextCell: function(a, b) {
                    var c = a + 1, d = c < this.hotMenu.countRows() ? this.hotMenu.getCell(c, b) : null;
                    d && (A(d) || B(d) || C(d) ? this.selectNextCell(c, b) : this.hotMenu.selectCell(c, b));
                },
                selectPrevCell: function(a, b) {
                    var c = a - 1, d = c >= 0 ? this.hotMenu.getCell(c, b) : null;
                    d && (A(d) || B(d) || C(d) ? this.selectPrevCell(c, b) : this.hotMenu.selectCell(c, b));
                },
                menuItemRenderer: function(a, b, c, d, e, f) {
                    var g = this, h = a.getData()[c], i = document.createElement("div"), j = function(a) {
                        return a.hasOwnProperty("submenu");
                    }, k = function(a) {
                        return new RegExp(I, "i").test(a.name);
                    }, l = function(a) {
                        return a.disabled === !0 || "function" == typeof a.disabled && a.disabled.call(g.hot) === !0;
                    }, m = function(a) {
                        return a.disableSelection;
                    };
                    "function" == typeof f && (f = f.call(this.hot)), p(b), o(i, "htItemWrapper"), b.appendChild(i), 
                    k(h) ? o(b, "htSeparator") : "function" == typeof h.renderer ? (o(b, "htCustomMenuRenderer"), 
                    b.appendChild(h.renderer(a, i, c, d, e, f))) : q(i, f), l(h) ? (o(b, "htDisabled"), 
                    this.eventManager.addEventListener(i, "mouseenter", function() {
                        return a.deselectCell();
                    })) : m(h) ? (o(b, "htSelectionDisabled"), this.eventManager.addEventListener(i, "mouseenter", function() {
                        return a.deselectCell();
                    })) : j(h) ? (o(b, "htSubmenu"), m(h) ? this.eventManager.addEventListener(i, "mouseenter", function() {
                        return a.deselectCell();
                    }) : this.eventManager.addEventListener(i, "mouseenter", function() {
                        return a.selectCell(c, d);
                    })) : (t(b, "htSubmenu"), t(b, "htDisabled"), m(h) ? this.eventManager.addEventListener(i, "mouseenter", function() {
                        return a.deselectCell();
                    }) : this.eventManager.addEventListener(i, "mouseenter", function() {
                        return a.selectCell(c, d);
                    }));
                },
                createContainer: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null;
                    a && (a = a.replace(/ /g, "_"), a = this.options.className + "Sub_" + a);
                    var b;
                    return b = a ? document.querySelector("." + this.options.className + "." + a) : document.querySelector("." + this.options.className), 
                    b || (b = document.createElement("div"), o(b, "htMenu " + this.options.className), 
                    a && o(b, a), document.getElementsByTagName("body")[0].appendChild(b)), b;
                },
                blockMainTableCallbacks: function() {
                    this._afterScrollCallback = function() {}, this.hot.addHook("afterScrollVertically", this._afterScrollCallback), 
                    this.hot.addHook("afterScrollHorizontally", this._afterScrollCallback);
                },
                releaseMainTableCallbacks: function() {
                    this._afterScrollCallback && (this.hot.removeHook("afterScrollVertically", this._afterScrollCallback), 
                    this.hot.removeHook("afterScrollHorizontally", this._afterScrollCallback), this._afterScrollCallback = null);
                },
                onBeforeKeyDown: function(a) {
                    var b = this.hotMenu.getSelected(), c = !1;
                    switch (a.keyCode) {
                      case F.ESCAPE:
                        this.close(), c = !0;
                        break;

                      case F.ENTER:
                        b && (this.hotMenu.getData()[b[0]].submenu ? c = !0 : (this.executeCommand(a), this.close(!0)));
                        break;

                      case F.ARROW_DOWN:
                        b ? this.selectNextCell(b[0], b[1]) : this.selectFirstCell(), c = !0;
                        break;

                      case F.ARROW_UP:
                        b ? this.selectPrevCell(b[0], b[1]) : this.selectLastCell(), c = !0;
                        break;

                      case F.ARROW_RIGHT:
                        if (b) {
                            var d = this.openSubMenu(b[0]);
                            d && d.selectFirstCell();
                        }
                        c = !0;
                        break;

                      case F.ARROW_LEFT:
                        b && this.isSubMenu() && (this.close(), this.parentMenu && this.parentMenu.hotMenu.listen(), 
                        c = !0);
                    }
                    c && (a.preventDefault(), K(a));
                },
                onAfterInit: function() {
                    var a = this.hotMenu.getSettings().data, b = this.hotMenu.view.wt.wtTable.hider.style, c = this.hotMenu.view.wt.wtTable.holder.style, d = parseInt(b.width, 10), e = 0;
                    u(a, function(a) {
                        return e += a.name === I ? 1 : 26;
                    }), c.width = d + 22 + "px", c.height = e + 4 + "px";
                },
                onDocumentMouseDown: function(a) {
                    this.isOpened() && (this.container && s(a.target, this.container) && this.executeCommand(a), 
                    (this.isAllSubMenusClosed() || this.isSubMenu()) && !s(a.target, ".htMenu") && s(a.target, document) && this.close(!0));
                }
            }, {}), y(L, G);
        }, {
            cursor: 65,
            eventManager: 40,
            "helpers/array": 41,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/object": 49,
            "helpers/unicode": 52,
            pluginHooks: 54,
            predefinedItems: 68,
            utils: 69
        } ],
        68: [ function(a, b, c) {
            "use strict";
            function d() {
                var a = {};
                return k(F, function(b, c) {
                    return a[c] = l(b);
                }), a;
            }
            function e(a, b) {
                -1 === E.indexOf(a) && (F[a] = b);
            }
            var f;
            Object.defineProperties(c, {
                ROW_ABOVE: {
                    get: function() {
                        return s;
                    }
                },
                ROW_BELOW: {
                    get: function() {
                        return t;
                    }
                },
                COLUMN_LEFT: {
                    get: function() {
                        return u;
                    }
                },
                COLUMN_RIGHT: {
                    get: function() {
                        return v;
                    }
                },
                CLEAR_COLUMN: {
                    get: function() {
                        return w;
                    }
                },
                REMOVE_ROW: {
                    get: function() {
                        return x;
                    }
                },
                REMOVE_COLUMN: {
                    get: function() {
                        return y;
                    }
                },
                UNDO: {
                    get: function() {
                        return z;
                    }
                },
                REDO: {
                    get: function() {
                        return A;
                    }
                },
                READ_ONLY: {
                    get: function() {
                        return B;
                    }
                },
                ALIGNMENT: {
                    get: function() {
                        return C;
                    }
                },
                SEPARATOR: {
                    get: function() {
                        return D;
                    }
                },
                ITEMS: {
                    get: function() {
                        return E;
                    }
                },
                predefinedItems: {
                    get: function() {
                        return d;
                    }
                },
                addItem: {
                    get: function() {
                        return e;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var g, h, i, j = (g = a("helpers/object"), g && g.__esModule && g || {
                "default": g
            }), k = j.objectEach, l = j.clone, m = ((h = a("helpers/number"), h && h.__esModule && h || {
                "default": h
            }).rangeEach, i = a("utils"), i && i.__esModule && i || {
                "default": i
            }), n = m.align, o = m.getAlignmentClasses, p = m.getValidSelection, q = m.checkSelectionConsistency, r = m.markLabelAsSelected, s = "row_above", t = "row_below", u = "col_left", v = "col_right", w = "clear_column", x = "remove_row", y = "remove_col", z = "undo", A = "redo", B = "make_read_only", C = "alignment", D = "---------", E = [ s, t, u, v, w, x, y, z, A, B, C, D ], F = (f = {}, 
            Object.defineProperty(f, D, {
                value: {
                    name: D
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, s, {
                value: {
                    key: s,
                    name: "Insert row above",
                    callback: function(a, b) {
                        this.alter("insert_row", b.start.row);
                    },
                    disabled: function() {
                        var a = p(this);
                        if (!a) return !0;
                        var b = this.countRows(), c = [ 0, a[1], b - 1, a[1] ];
                        return c.join(",") === a.join(",") && b > 1;
                    },
                    hidden: function() {
                        return !this.getSettings().allowInsertRow;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, t, {
                value: {
                    key: t,
                    name: "Insert row below",
                    callback: function(a, b) {
                        this.alter("insert_row", b.end.row + 1);
                    },
                    disabled: function() {
                        var a = p(this);
                        if (!a) return !0;
                        var b = this.countRows(), c = [ 0, a[1], b - 1, a[1] ];
                        return c.join(",") === a.join(",") && b > 1;
                    },
                    hidden: function() {
                        return !this.getSettings().allowInsertRow;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, u, {
                value: {
                    key: u,
                    name: "Insert column on the left",
                    callback: function(a, b) {
                        this.alter("insert_col", b.start.col);
                    },
                    disabled: function() {
                        var a = p(this);
                        if (!a) return !0;
                        if (!this.isColumnModificationAllowed()) return !0;
                        var b = [ a[0], 0, a[0], this.countCols() - 1 ], c = b.join(",") == a.join(",");
                        return a[1] < 0 || this.countCols() >= this.getSettings().maxCols || c;
                    },
                    hidden: function() {
                        return !this.getSettings().allowInsertColumn;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, v, {
                value: {
                    key: v,
                    name: "Insert column on the right",
                    callback: function(a, b) {
                        this.alter("insert_col", b.end.col + 1);
                    },
                    disabled: function() {
                        var a = p(this);
                        if (!a) return !0;
                        if (!this.isColumnModificationAllowed()) return !0;
                        var b = [ a[0], 0, a[0], this.countCols() - 1 ], c = b.join(",") == a.join(",");
                        return a[1] < 0 || this.countCols() >= this.getSettings().maxCols || c;
                    },
                    hidden: function() {
                        return !this.getSettings().allowInsertColumn;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, w, {
                value: {
                    key: w,
                    name: "Clear column",
                    callback: function(a, b) {
                        var c = b.start.col;
                        this.populateFromArray(0, c, [ [ null ] ], Math.max(b.start.row, b.end.row), c);
                    },
                    disabled: function() {
                        var a = p(this);
                        if (!a) return !0;
                        var b = [ a[0], 0, a[0], this.countCols() - 1 ], c = b.join(",") == a.join(",");
                        return a[1] < 0 || this.countCols() >= this.getSettings().maxCols || c;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, x, {
                value: {
                    key: x,
                    name: "Remove row",
                    callback: function(a, b) {
                        var c = b.end.row - b.start.row + 1;
                        this.alter("remove_row", b.start.row, c);
                    },
                    disabled: function() {
                        var a = p(this);
                        if (!a) return !0;
                        var b = [ 0, a[1], this.countRows() - 1, a[1] ];
                        return b.join(",") === a.join(",");
                    },
                    hidden: function() {
                        return !this.getSettings().allowRemoveRow;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, y, {
                value: {
                    key: y,
                    name: "Remove column",
                    callback: function(a, b) {
                        var c = b.end.col - b.start.col + 1;
                        this.alter("remove_col", b.start.col, c);
                    },
                    disabled: function() {
                        var a = p(this);
                        if (!a) return !0;
                        if (!this.isColumnModificationAllowed()) return !0;
                        var b = [ a[0], 0, a[0], this.countCols() - 1 ], c = b.join(",") == a.join(",");
                        return a[1] < 0 || c;
                    },
                    hidden: function() {
                        return !this.getSettings().allowRemoveColumn;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, z, {
                value: {
                    key: z,
                    name: "Undo",
                    callback: function() {
                        this.undo();
                    },
                    disabled: function() {
                        return this.undoRedo && !this.undoRedo.isUndoAvailable();
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, A, {
                value: {
                    key: A,
                    name: "Redo",
                    callback: function() {
                        this.redo();
                    },
                    disabled: function() {
                        return this.undoRedo && !this.undoRedo.isRedoAvailable();
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, B, {
                value: {
                    key: B,
                    name: function() {
                        var a = this, b = "Read only", c = q(this.getSelectedRange(), function(b, c) {
                            return a.getCellMeta(b, c).readOnly;
                        });
                        return c && (b = r(b)), b;
                    },
                    callback: function() {
                        var a = this, b = this.getSelectedRange(), c = q(b, function(b, c) {
                            return a.getCellMeta(b, c).readOnly;
                        });
                        b.forAll(function(b, d) {
                            a.getCellMeta(b, d).readOnly = c ? !1 : !0;
                        }), this.render();
                    },
                    disabled: function() {
                        return this.getSelectedRange() ? !1 : !0;
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(f, C, {
                value: {
                    key: C,
                    name: "Alignment",
                    disabled: function() {
                        return this.getSelectedRange() ? !1 : !0;
                    },
                    submenu: {
                        items: [ {
                            key: C + ":left",
                            name: function() {
                                var a = this, b = "Left", c = q(this.getSelectedRange(), function(b, c) {
                                    var d = a.getCellMeta(b, c).className;
                                    return d && -1 !== d.indexOf("htLeft") ? !0 : void 0;
                                });
                                return c && (b = r(b)), b;
                            },
                            callback: function() {
                                var a = this, b = this.getSelectedRange(), c = o(b, function(b, c) {
                                    return a.getCellMeta(b, c).className;
                                }), d = "horizontal", e = "htLeft";
                                this.runHooks("beforeCellAlignment", c, b, d, e), n(b, d, e, function(b, c) {
                                    return a.getCellMeta(b, c);
                                }), this.render();
                            },
                            disabled: !1
                        }, {
                            key: C + ":center",
                            name: function() {
                                var a = this, b = "Center", c = q(this.getSelectedRange(), function(b, c) {
                                    var d = a.getCellMeta(b, c).className;
                                    return d && -1 !== d.indexOf("htCenter") ? !0 : void 0;
                                });
                                return c && (b = r(b)), b;
                            },
                            callback: function() {
                                var a = this, b = this.getSelectedRange(), c = o(b, function(b, c) {
                                    return a.getCellMeta(b, c).className;
                                }), d = "horizontal", e = "htCenter";
                                this.runHooks("beforeCellAlignment", c, b, d, e), n(b, d, e, function(b, c) {
                                    return a.getCellMeta(b, c);
                                }), this.render();
                            },
                            disabled: !1
                        }, {
                            key: C + ":right",
                            name: function() {
                                var a = this, b = "Right", c = q(this.getSelectedRange(), function(b, c) {
                                    var d = a.getCellMeta(b, c).className;
                                    return d && -1 !== d.indexOf("htRight") ? !0 : void 0;
                                });
                                return c && (b = r(b)), b;
                            },
                            callback: function() {
                                var a = this, b = this.getSelectedRange(), c = o(b, function(b, c) {
                                    return a.getCellMeta(b, c).className;
                                }), d = "horizontal", e = "htRight";
                                this.runHooks("beforeCellAlignment", c, b, d, e), n(b, d, e, function(b, c) {
                                    return a.getCellMeta(b, c);
                                }), this.render();
                            },
                            disabled: !1
                        }, {
                            key: C + ":justify",
                            name: function() {
                                var a = this, b = "Justify", c = q(this.getSelectedRange(), function(b, c) {
                                    var d = a.getCellMeta(b, c).className;
                                    return d && -1 !== d.indexOf("htJustify") ? !0 : void 0;
                                });
                                return c && (b = r(b)), b;
                            },
                            callback: function() {
                                var a = this, b = this.getSelectedRange(), c = o(b, function(b, c) {
                                    return a.getCellMeta(b, c).className;
                                }), d = "horizontal", e = "htJustify";
                                this.runHooks("beforeCellAlignment", c, b, d, e), n(b, d, e, function(b, c) {
                                    return a.getCellMeta(b, c);
                                }), this.render();
                            },
                            disabled: !1
                        }, {
                            name: D
                        }, {
                            key: C + ":top",
                            name: function() {
                                var a = this, b = "Top", c = q(this.getSelectedRange(), function(b, c) {
                                    var d = a.getCellMeta(b, c).className;
                                    return d && -1 !== d.indexOf("htTop") ? !0 : void 0;
                                });
                                return c && (b = r(b)), b;
                            },
                            callback: function() {
                                var a = this, b = this.getSelectedRange(), c = o(b, function(b, c) {
                                    return a.getCellMeta(b, c).className;
                                }), d = "vertical", e = "htTop";
                                this.runHooks("beforeCellAlignment", c, b, d, e), n(b, d, e, function(b, c) {
                                    return a.getCellMeta(b, c);
                                }), this.render();
                            },
                            disabled: !1
                        }, {
                            key: C + ":middle",
                            name: function() {
                                var a = this, b = "Middle", c = q(this.getSelectedRange(), function(b, c) {
                                    var d = a.getCellMeta(b, c).className;
                                    return d && -1 !== d.indexOf("htMiddle") ? !0 : void 0;
                                });
                                return c && (b = r(b)), b;
                            },
                            callback: function() {
                                var a = this, b = this.getSelectedRange(), c = o(b, function(b, c) {
                                    return a.getCellMeta(b, c).className;
                                }), d = "vertical", e = "htMiddle";
                                this.runHooks("beforeCellAlignment", c, b, d, e), n(b, d, e, function(b, c) {
                                    return a.getCellMeta(b, c);
                                }), this.render();
                            },
                            disabled: !1
                        }, {
                            key: C + ":bottom",
                            name: function() {
                                var a = this, b = "Bottom", c = q(this.getSelectedRange(), function(b, c) {
                                    var d = a.getCellMeta(b, c).className;
                                    return d && -1 !== d.indexOf("htBottom") ? !0 : void 0;
                                });
                                return c && (b = r(b)), b;
                            },
                            callback: function() {
                                var a = this, b = this.getSelectedRange(), c = o(b, function(b, c) {
                                    return a.getCellMeta(b, c).className;
                                }), d = "vertical", e = "htBottom";
                                this.runHooks("beforeCellAlignment", c, b, d, e), n(b, d, e, function(b, c) {
                                    return a.getCellMeta(b, c);
                                }), this.render();
                            },
                            disabled: !1
                        } ]
                    }
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), f);
        }, {
            "helpers/number": 48,
            "helpers/object": 49,
            utils: 69
        } ],
        69: [ function(a, b, c) {
            "use strict";
            function d(a) {
                return {
                    start: a.getTopLeftCorner(),
                    end: a.getBottomRightCorner()
                };
            }
            function e(a) {
                return r(a, "htSeparator");
            }
            function f(a) {
                return r(a, "htSubmenu");
            }
            function g(a) {
                return r(a, "htDisabled");
            }
            function h(a) {
                return r(a, "htSelectionDisabled");
            }
            function i(a) {
                var b = a.getSelected();
                return b ? b[0] < 0 ? null : a.countRows() >= a.getSettings().maxRows ? null : b : null;
            }
            function j(a, b) {
                return -1 != a.indexOf(b) ? a : (a = a.replace("htTop", "").replace("htMiddle", "").replace("htBottom", "").replace("  ", ""), 
                a += " " + b);
            }
            function k(a, b) {
                return -1 != a.indexOf(b) ? a : (a = a.replace("htLeft", "").replace("htCenter", "").replace("htRight", "").replace("htJustify", "").replace("  ", ""), 
                a += " " + b);
            }
            function l(a, b) {
                for (var c = {}, d = a.from.row; d <= a.to.row; d++) for (var e = a.from.col; e <= a.to.col; e++) c[d] || (c[d] = []), 
                c[d][e] = b(d, e);
                return c;
            }
            function m(a, b, c, d) {
                if (a.from.row == a.to.row && a.from.col == a.to.col) n(a.from.row, a.from.col, b, c, d); else for (var e = a.from.row; e <= a.to.row; e++) for (var f = a.from.col; f <= a.to.col; f++) n(e, f, b, c, d);
            }
            function n(a, b, c, d, e) {
                var f = e(a, b), g = d;
                f.className && (g = "vertical" === c ? j(f.className, d) : k(f.className, d)), f.className = g;
            }
            function o(a, b) {
                var c = !1;
                return a && a.forAll(function(a, d) {
                    return b(a, d) ? (c = !0, !1) : void 0;
                }), c;
            }
            function p(a) {
                return '<span class="selected">' + String.fromCharCode(10003) + "</span>" + a;
            }
            Object.defineProperties(c, {
                normalizeSelection: {
                    get: function() {
                        return d;
                    }
                },
                isSeparator: {
                    get: function() {
                        return e;
                    }
                },
                hasSubMenu: {
                    get: function() {
                        return f;
                    }
                },
                isDisabled: {
                    get: function() {
                        return g;
                    }
                },
                isSelectionDisabled: {
                    get: function() {
                        return h;
                    }
                },
                getValidSelection: {
                    get: function() {
                        return i;
                    }
                },
                prepareVerticalAlignClass: {
                    get: function() {
                        return j;
                    }
                },
                prepareHorizontalAlignClass: {
                    get: function() {
                        return k;
                    }
                },
                getAlignmentClasses: {
                    get: function() {
                        return l;
                    }
                },
                align: {
                    get: function() {
                        return m;
                    }
                },
                checkSelectionConsistency: {
                    get: function() {
                        return o;
                    }
                },
                markLabelAsSelected: {
                    get: function() {
                        return p;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var q, r = (q = a("helpers/dom/element"), q && q.__esModule && q || {
                "default": q
            }).hasClass;
        }, {
            "helpers/dom/element": 44
        } ],
        70: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                ContextMenuCopyPaste: {
                    get: function() {
                        return p;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i, j = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }).removeClass, k = (e = a("helpers/array"), e && e.__esModule && e || {
                "default": e
            }).arrayEach, l = (f = a("eventManager"), f && f.__esModule && f || {
                "default": f
            }).EventManager, m = (g = a("plugins"), g && g.__esModule && g || {
                "default": g
            }).registerPlugin, n = (h = a("_base"), h && h.__esModule && h || {
                "default": h
            })["default"], o = (i = a("zeroclipboard"), i && i.__esModule && i || {
                "default": i
            })["default"], p = function(a) {
                $traceurRuntime.superConstructor(q).call(this, a), this.eventManager = new l(this), 
                this.swfPath = null, this.outsideClickDeselectsCache = null;
            }, q = p;
            $traceurRuntime.createClass(p, {
                isEnabled: function() {
                    return this.hot.getSettings().contextMenuCopyPaste;
                },
                enablePlugin: function() {
                    var a = this;
                    if (!this.enabled) {
                        "object" == typeof this.hot.getSettings().contextMenuCopyPaste && (this.swfPath = this.hot.getSettings().contextMenuCopyPaste.swfPath), 
                        "undefined" == typeof o && console.error("To be able to use the Copy/Paste feature from the context menu, you need to manually include ZeroClipboard.js file to your website.");
                        try {
                            new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
                        } catch (b) {
                            "undefined" == typeof navigator.mimeTypes["application/x-shockwave-flash"] && console.error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.");
                        }
                        this.swfPath && o.config({
                            swfPath: this.swfPath
                        }), this.hot.addHook("afterContextMenuShow", function() {
                            return a.onAfterContextMenuShow();
                        }), this.hot.addHook("afterContextMenuDefaultOptions", function(b) {
                            return a.onAfterContextMenuDefaultOptions(b);
                        }), this.registerEvents(), $traceurRuntime.superGet(this, q.prototype, "enablePlugin").call(this);
                    }
                },
                disablePlugin: function() {
                    $traceurRuntime.superGet(this, q.prototype, "disablePlugin").call(this);
                },
                registerEvents: function() {
                    var a = this;
                    this.eventManager.addEventListener(document, "mouseenter", function() {
                        return a.removeCurrentClass();
                    }), this.eventManager.addEventListener(document, "mouseleave", function() {
                        return a.removeZeroClipboardClass();
                    });
                },
                getCopyValue: function() {
                    return this.hot.copyPaste.setCopyableText(), this.hot.copyPaste.copyPasteInstance.elTextarea.value;
                },
                onAfterContextMenuDefaultOptions: function(a) {
                    a.items.unshift({
                        key: "copy",
                        name: "Copy"
                    }, {
                        key: "paste",
                        name: "Paste",
                        callback: function() {
                            this.copyPaste.triggerPaste();
                        }
                    }, Handsontable.plugins.ContextMenu.SEPARATOR);
                },
                onAfterContextMenuShow: function() {
                    var a = this, b = this.hot.getPlugin("contextMenu"), c = b.menu.hotMenu.getData();
                    k(c, function(c, d) {
                        if ("copy" === c.key) {
                            var e = new o(b.menu.hotMenu.getCell(d, 0));
                            return e.off(), e.on("copy", function(b) {
                                var c = b.clipboardData;
                                c.setData("text/plain", a.getCopyValue()), a.hot.getSettings().outsideClickDeselects = a.outsideClickDeselectsCache;
                            }), !1;
                        }
                    });
                },
                removeCurrentClass: function() {
                    var a = this.hot.getPlugin("contextMenu");
                    if (a.menu.isOpened()) {
                        var b = a.menu.hotMenu.rootElement.querySelector("td.current");
                        b && j(b, "current");
                    }
                    this.outsideClickDeselectsCache = this.hot.getSettings().outsideClickDeselects, 
                    this.hot.getSettings().outsideClickDeselects = !1;
                },
                removeZeroClipboardClass: function() {
                    var a = this.hot.getPlugin("contextMenu");
                    if (a.menu.isOpened()) {
                        var b = a.menu.hotMenu.rootElement.querySelector("td.zeroclipboard-is-hover");
                        b && j(b, "zeroclipboard-is-hover");
                    }
                    this.hot.getSettings().outsideClickDeselects = this.outsideClickDeselectsCache;
                }
            }, {}, n), m("contextMenuCopyPaste", p);
        }, {
            _base: 56,
            eventManager: 40,
            "helpers/array": 41,
            "helpers/dom/element": 44,
            plugins: 55,
            zeroclipboard: "zeroclipboard"
        } ],
        71: [ function(a, b, c) {
            "use strict";
            function d(a) {
                function b() {
                    a.isListening() && a.selection.empty();
                }
                function c(b) {
                    var c, d, e, f, g, h, i, j, k, l;
                    if (a.isListening() && a.selection.isSelected()) {
                        c = b, d = q.parse(c), e = a.getSelected(), f = new y(e[0], e[1]), g = new y(e[2], e[3]), 
                        h = new z(f, f, g), i = h.getTopLeftCorner(), j = h.getBottomRightCorner(), k = i, 
                        l = new y(Math.max(j.row, d.length - 1 + i.row), Math.max(j.col, d[0].length - 1 + i.col));
                        var m = g.row - f.row >= d.length - 1, n = g.col - f.col >= d[0].length - 1;
                        a.addHookOnce("afterChange", function(b, c) {
                            var d = b ? b.length : 0;
                            if (d) {
                                var e = {
                                    row: 0,
                                    col: 0
                                }, f = -1;
                                u(b, function(a, c) {
                                    var g = d > c + 1 ? b[c + 1] : null;
                                    g && (m || (e.row = e.row + Math.max(g[0] - a[0] - 1, 0)), !n && a[1] > f && (f = a[1], 
                                    e.col = e.col + Math.max(g[1] - a[1] - 1, 0)));
                                }), a.selectCell(k.row, k.col, l.row + e.row, l.col + e.col);
                            }
                        }), a.populateFromArray(k.row, k.col, d, l.row, l.col, "paste", a.getSettings().pasteMode);
                    }
                }
                function d(b) {
                    if (a.getSelected() && (!a.getActiveEditor() || !a.getActiveEditor().isOpened())) {
                        if (t(b.keyCode)) return e.setCopyableText(), void w(b);
                        var c = (b.ctrlKey || b.metaKey) && !b.altKey;
                        b.keyCode == s.A && c && a._registerTimeout(setTimeout(x(e.setCopyableText, e), 0));
                    }
                }
                var e = this;
                this.copyPasteInstance = p(), this.copyPasteInstance.onCut(b), this.copyPasteInstance.onPaste(c), 
                this.onPaste = c, a.addHook("beforeKeyDown", d), this.destroy = function() {
                    this.copyPasteInstance && (this.copyPasteInstance.removeCallback(b), this.copyPasteInstance.removeCallback(c), 
                    this.copyPasteInstance.destroy(), this.copyPasteInstance = null), a.removeHook("beforeKeyDown", d);
                }, a.addHook("afterDestroy", x(this.destroy, this)), this.triggerPaste = x(this.copyPasteInstance.triggerPaste, this.copyPasteInstance), 
                this.triggerCut = x(this.copyPasteInstance.triggerCut, this.copyPasteInstance), 
                this.setCopyableText = function() {
                    var b = a.getSettings(), c = b.copyRowsLimit, d = b.copyColsLimit, e = a.getSelectedRange(), f = e.getTopLeftCorner(), g = e.getBottomRightCorner(), h = f.row, i = f.col, j = g.row, k = g.col, l = Math.min(j, h + c - 1), m = Math.min(k, i + d - 1), n = [];
                    n.push({
                        startRow: h,
                        startCol: i,
                        endRow: l,
                        endCol: m
                    }), n = Handsontable.hooks.run(a, "modifyCopyableRange", n);
                    var o = this.getRangedCopyableData(n);
                    a.copyPaste.copyPasteInstance.copyable(o), (j !== l || k !== m) && Handsontable.hooks.run(a, "afterCopyLimit", j - h + 1, k - i + 1, c, d);
                }, this.getRangedCopyableData = function(b) {
                    var c = [], d = [], e = [];
                    return u(b, function(a) {
                        v(a.startRow, a.endRow, function(a) {
                            -1 === d.indexOf(a) && d.push(a);
                        }), v(a.startCol, a.endCol, function(a) {
                            -1 === e.indexOf(a) && e.push(a);
                        });
                    }), u(d, function(b) {
                        var d = [];
                        u(e, function(c) {
                            d.push(a.getCopyableData(b, c));
                        }), c.push(d);
                    }), q.stringify(c);
                };
            }
            function e() {
                var a = this, b = a.getSettings().copyPaste !== !1;
                b && !a.copyPaste ? a.copyPaste = new d(a) : !b && a.copyPaste && (a.copyPaste.destroy(), 
                a.copyPaste = null);
            }
            Object.defineProperties(c, {
                CopyPastePlugin: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var f, g, h, i, j, k, l, m, n, o, p = (f = a("copyPaste"), f && f.__esModule && f || {
                "default": f
            })["default"], q = (g = a("SheetClip"), g && g.__esModule && g || {
                "default": g
            })["default"], r = (h = a("helpers/unicode"), h && h.__esModule && h || {
                "default": h
            }), s = r.KEY_CODES, t = r.isCtrlKey, u = (i = a("helpers/array"), i && i.__esModule && i || {
                "default": i
            }).arrayEach, v = (j = a("helpers/number"), j && j.__esModule && j || {
                "default": j
            }).rangeEach, w = (k = a("helpers/dom/event"), k && k.__esModule && k || {
                "default": k
            }).stopImmediatePropagation, x = (l = a("helpers/function"), l && l.__esModule && l || {
                "default": l
            }).proxy, y = ((m = a("plugins"), m && m.__esModule && m || {
                "default": m
            }).registerPlugin, (n = a("3rdparty/walkontable/src/cell/coords"), n && n.__esModule && n || {
                "default": n
            }).WalkontableCellCoords), z = (o = a("3rdparty/walkontable/src/cell/range"), o && o.__esModule && o || {
                "default": o
            }).WalkontableCellRange;
            Handsontable.hooks.add("afterInit", e), Handsontable.hooks.add("afterUpdateSettings", e), 
            Handsontable.hooks.register("afterCopyLimit"), Handsontable.hooks.register("modifyCopyableRange");
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            "3rdparty/walkontable/src/cell/range": 6,
            SheetClip: "SheetClip",
            copyPaste: "copyPaste",
            "helpers/array": 41,
            "helpers/dom/event": 45,
            "helpers/function": 46,
            "helpers/number": 48,
            "helpers/unicode": 52,
            plugins: 55
        } ],
        72: [ function(a, b, c) {
            "use strict";
            function d() {}
            var e, f, g, h, i = ((e = a("plugins"), e && e.__esModule && e || {
                "default": e
            }).registerPlugin, (f = a("3rdparty/walkontable/src/cell/range"), f && f.__esModule && f || {
                "default": f
            }).WalkontableCellRange), j = (g = a("3rdparty/walkontable/src/selection"), g && g.__esModule && g || {
                "default": g
            }).WalkontableSelection, k = function(a) {
                return "boolean" == typeof a && a === !0 ? !0 : "object" == typeof a && a.length > 0 ? !0 : !1;
            }, l = function() {
                k(this.getSettings().customBorders) && (this.customBorders || (h = this, this.customBorders = new d()));
            }, m = function(a) {
                for (var b = 0; b < h.view.wt.selections.length; b++) if (h.view.wt.selections[b].settings.className == a) return b;
                return -1;
            }, n = function(a) {
                var b = {
                    row: a.row,
                    col: a.col
                }, c = new j(a, new i(b, b, b)), d = m(a.className);
                d >= 0 ? h.view.wt.selections[d] = c : h.view.wt.selections.push(c);
            }, o = function(a, b, c) {
                var d = u(a, b);
                d = v(d, c), this.setCellMeta(a, b, "borders", d), n(d);
            }, p = function(a) {
                for (var b = a.range, c = b.from.row; c <= b.to.row; c++) for (var d = b.from.col; d <= b.to.col; d++) {
                    var e = u(c, d), f = 0;
                    c == b.from.row && (f++, a.hasOwnProperty("top") && (e.top = a.top)), c == b.to.row && (f++, 
                    a.hasOwnProperty("bottom") && (e.bottom = a.bottom)), d == b.from.col && (f++, a.hasOwnProperty("left") && (e.left = a.left)), 
                    d == b.to.col && (f++, a.hasOwnProperty("right") && (e.right = a.right)), f > 0 && (this.setCellMeta(c, d, "borders", e), 
                    n(e));
                }
            }, q = function(a, b) {
                return "border_row" + a + "col" + b;
            }, r = function() {
                return {
                    width: 1,
                    color: "#000"
                };
            }, s = function() {
                return {
                    hide: !0
                };
            }, t = function() {
                return {
                    width: 1,
                    color: "#000",
                    cornerVisible: !1
                };
            }, u = function(a, b) {
                return {
                    className: q(a, b),
                    border: t(),
                    row: a,
                    col: b,
                    top: s(),
                    right: s(),
                    bottom: s(),
                    left: s()
                };
            }, v = function(a, b) {
                return b.hasOwnProperty("border") && (a.border = b.border), b.hasOwnProperty("top") && (a.top = b.top), 
                b.hasOwnProperty("right") && (a.right = b.right), b.hasOwnProperty("bottom") && (a.bottom = b.bottom), 
                b.hasOwnProperty("left") && (a.left = b.left), a;
            }, w = function(a) {
                for (var b = document.querySelectorAll("." + a), c = 0; c < b.length; c++) if (b[c] && "TD" != b[c].nodeName) {
                    var d = b[c].parentNode;
                    d.parentNode && d.parentNode.removeChild(d);
                }
            }, x = function(a, b) {
                var c = q(a, b);
                w(c), this.removeCellMeta(a, b, "borders");
            }, y = function(a, b, c, d) {
                var e = this.getCellMeta(a, b).borders;
                e && void 0 != e.border || (e = u(a, b)), d ? e[c] = s() : e[c] = r(), this.setCellMeta(a, b, "borders", e);
                var f = q(a, b);
                w(f), n(e), this.render();
            }, z = function(a, b, c) {
                if (a.from.row == a.to.row && a.from.col == a.to.col) "noBorders" == b ? x.call(this, a.from.row, a.from.col) : y.call(this, a.from.row, a.from.col, b, c); else switch (b) {
                  case "noBorders":
                    for (var d = a.from.col; d <= a.to.col; d++) for (var e = a.from.row; e <= a.to.row; e++) x.call(this, e, d);
                    break;

                  case "top":
                    for (var f = a.from.col; f <= a.to.col; f++) y.call(this, a.from.row, f, b, c);
                    break;

                  case "right":
                    for (var g = a.from.row; g <= a.to.row; g++) y.call(this, g, a.to.col, b);
                    break;

                  case "bottom":
                    for (var h = a.from.col; h <= a.to.col; h++) y.call(this, a.to.row, h, b);
                    break;

                  case "left":
                    for (var i = a.from.row; i <= a.to.row; i++) y.call(this, i, a.from.col, b);
                }
            }, A = function(a, b) {
                var c = !1;
                return a.getSelectedRange().forAll(function(d, e) {
                    var f = a.getCellMeta(d, e).borders;
                    if (f) {
                        if (!b) return c = !0, !1;
                        if (!f[b].hasOwnProperty("hide")) return c = !0, !1;
                    }
                }), c;
            }, B = function(a) {
                return '<span class="selected">' + String.fromCharCode(10003) + "</span>" + a;
            }, C = function(a) {
                this.getSettings().customBorders && (a.items.push(Handsontable.plugins.ContextMenu.SEPARATOR), 
                a.items.push({
                    key: "borders",
                    name: "Borders",
                    submenu: {
                        items: [ {
                            key: "borders:top",
                            name: function() {
                                var a = "Top", b = A(this, "top");
                                return b && (a = B(a)), a;
                            },
                            callback: function() {
                                var a = A(this, "top");
                                z.call(this, this.getSelectedRange(), "top", a);
                            },
                            disabled: !1
                        }, {
                            key: "borders:right",
                            name: function() {
                                var a = "Right", b = A(this, "right");
                                return b && (a = B(a)), a;
                            },
                            callback: function() {
                                var a = A(this, "right");
                                z.call(this, this.getSelectedRange(), "right", a);
                            },
                            disabled: !1
                        }, {
                            key: "borders:bottom",
                            name: function() {
                                var a = "Bottom", b = A(this, "bottom");
                                return b && (a = B(a)), a;
                            },
                            callback: function() {
                                var a = A(this, "bottom");
                                z.call(this, this.getSelectedRange(), "bottom", a);
                            },
                            disabled: !1
                        }, {
                            key: "borders:left",
                            name: function() {
                                var a = "Left", b = A(this, "left");
                                return b && (a = B(a)), a;
                            },
                            callback: function() {
                                var a = A(this, "left");
                                z.call(this, this.getSelectedRange(), "left", a);
                            },
                            disabled: !1
                        }, {
                            key: "borders:no_borders",
                            name: "Remove border(s)",
                            callback: function() {
                                z.call(this, this.getSelectedRange(), "noBorders");
                            },
                            disabled: function() {
                                return !A(this);
                            }
                        } ]
                    }
                }));
            };
            Handsontable.hooks.add("beforeInit", l), Handsontable.hooks.add("afterContextMenuDefaultOptions", C), 
            Handsontable.hooks.add("afterInit", function() {
                var a = this.getSettings().customBorders;
                if (a) {
                    for (var b = 0; b < a.length; b++) a[b].range ? p.call(this, a[b]) : o.call(this, a[b].row, a[b].col, a[b]);
                    this.render(), this.view.wt.draw(!0);
                }
            }), Handsontable.CustomBorders = d;
        }, {
            "3rdparty/walkontable/src/cell/range": 6,
            "3rdparty/walkontable/src/selection": 18,
            plugins: 55
        } ],
        73: [ function(a, b, c) {
            "use strict";
            function d() {
                this.boundaries = null, this.callback = null;
            }
            Object.defineProperties(c, {
                DragToScroll: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g = (e = a("eventManager"), e && e.__esModule && e || {
                "default": e
            }).eventManager;
            (f = a("plugins"), f && f.__esModule && f || {
                "default": f
            }).registerPlugin;
            Handsontable.plugins.DragToScroll = d, d.prototype.setBoundaries = function(a) {
                this.boundaries = a;
            }, d.prototype.setCallback = function(a) {
                this.callback = a;
            }, d.prototype.check = function(a, b) {
                var c = 0, d = 0;
                b < this.boundaries.top ? d = b - this.boundaries.top : b > this.boundaries.bottom && (d = b - this.boundaries.bottom), 
                a < this.boundaries.left ? c = a - this.boundaries.left : a > this.boundaries.right && (c = a - this.boundaries.right), 
                this.callback(c, d);
            };
            var h, i = function(a) {
                a.dragToScrollListening = !1;
                var b = a.view.wt.wtTable.holder;
                h = new d(), b !== window && (h.setBoundaries(b.getBoundingClientRect()), h.setCallback(function(a, c) {
                    0 > a ? b.scrollLeft -= 50 : a > 0 && (b.scrollLeft += 50), 0 > c ? b.scrollTop -= 20 : c > 0 && (b.scrollTop += 20);
                }), a.dragToScrollListening = !0);
            };
            Handsontable.hooks.add("afterInit", function() {
                var a = this, b = g(this);
                b.addEventListener(document, "mouseup", function() {
                    a.dragToScrollListening = !1;
                }), b.addEventListener(document, "mousemove", function(b) {
                    a.dragToScrollListening && h.check(b.clientX, b.clientY);
                });
            }), Handsontable.hooks.add("afterDestroy", function() {
                g(this).clear();
            }), Handsontable.hooks.add("afterOnCellMouseDown", function() {
                i(this);
            }), Handsontable.hooks.add("afterOnCellCornerMouseDown", function() {
                i(this);
            }), Handsontable.plugins.DragToScroll = d;
        }, {
            eventManager: 40,
            plugins: 55
        } ],
        74: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                ManualColumnFreeze: {
                    get: function() {
                        return h;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f = (d = a("_base"), d && d.__esModule && d || {
                "default": d
            })["default"], g = (e = a("plugins"), e && e.__esModule && e || {
                "default": e
            }).registerPlugin, h = function(a) {
                $traceurRuntime.superConstructor(i).call(this, a);
            }, i = h;
            $traceurRuntime.createClass(h, {
                isEnabled: function() {
                    return !!this.hot.getSettings().manualColumnFreeze;
                },
                enablePlugin: function() {
                    var a = this;
                    this.enabled || (this.addHook("modifyCol", function(b) {
                        return a.onModifyCol(b);
                    }), this.addHook("afterContextMenuDefaultOptions", function(b) {
                        return a.addContextMenuEntry(b);
                    }), $traceurRuntime.superGet(this, i.prototype, "enablePlugin").call(this));
                },
                disablePlugin: function() {
                    $traceurRuntime.superGet(this, i.prototype, "disablePlugin").call(this);
                },
                init: function() {
                    $traceurRuntime.superGet(this, i.prototype, "init").call(this), "undefined" == typeof this.hot.manualColumnPositionsPluginUsages ? this.hot.manualColumnPositionsPluginUsages = [ "manualColumnFreeze" ] : this.hot.manualColumnPositionsPluginUsages.push("manualColumnFreeze"), 
                    this.fixedColumnsCount = this.hot.getSettings().fixedColumnsLeft;
                },
                onModifyCol: function(a) {
                    return this.hot.manualColumnPositionsPluginUsages.length > 1 ? a : this.getModifiedColumnIndex(a);
                },
                getModifiedColumnIndex: function(a) {
                    return this.hot.manualColumnPositions[a];
                },
                addContextMenuEntry: function(a) {
                    var b = this;
                    a.items.push(Handsontable.plugins.ContextMenu.SEPARATOR, {
                        key: "freeze_column",
                        name: function() {
                            var a = b.hot.getSelected()[1];
                            return a > b.fixedColumnsCount - 1 ? "Freeze this column" : "Unfreeze this column";
                        },
                        disabled: function() {
                            var a = b.hot.getSelected();
                            return a[1] !== a[3];
                        },
                        callback: function() {
                            var a = b.hot.getSelected()[1];
                            a > b.fixedColumnsCount - 1 ? b.freezeColumn(a) : b.unfreezeColumn(a);
                        }
                    });
                },
                freezeColumn: function(a) {
                    if (!(a <= this.fixedColumnsCount - 1)) {
                        var b = this.getModifiedColumnIndex(a) || a;
                        this.checkPositionData(b), this.modifyColumnOrder(b, a, null, "freeze"), this.addFixedColumn(), 
                        this.hot.view.wt.wtOverlays.leftOverlay.refresh(), this.hot.view.wt.wtOverlays.adjustElementsSize();
                    }
                },
                unfreezeColumn: function(a) {
                    if (!(a > this.fixedColumnsCount - 1)) {
                        var b = this.getBestColumnReturnPosition(a), c = this.getModifiedColumnIndex(a) || a;
                        this.checkPositionData(c), this.modifyColumnOrder(c, a, b, "unfreeze"), this.removeFixedColumn(), 
                        this.hot.view.wt.wtOverlays.leftOverlay.refresh(), this.hot.view.wt.wtOverlays.adjustElementsSize();
                    }
                },
                addFixedColumn: function() {
                    this.hot.updateSettings({
                        fixedColumnsLeft: this.fixedColumnsCount + 1
                    }), this.fixedColumnsCount++;
                },
                removeFixedColumn: function() {
                    this.hot.updateSettings({
                        fixedColumnsLeft: this.fixedColumnsCount - 1
                    }), this.fixedColumnsCount--;
                },
                checkPositionData: function(a) {
                    this.hot.manualColumnPositions && 0 !== this.hot.manualColumnPositions.length || this.hot.manualColumnPositions || (this.hot.manualColumnPositions = []), 
                    a ? this.hot.manualColumnPositions[a] || this.createPositionData(a + 1) : this.createPositionData(this.hot.countCols());
                },
                createPositionData: function(a) {
                    if (this.hot.manualColumnPositions.length < a) for (var b = this.hot.manualColumnPositions.length; a > b; b++) this.hot.manualColumnPositions[b] = b;
                },
                modifyColumnOrder: function(a, b, c, d) {
                    null == c && (c = a), "freeze" === d ? this.hot.manualColumnPositions.splice(this.fixedColumnsCount, 0, this.hot.manualColumnPositions.splice(b, 1)[0]) : "unfreeze" === d && this.hot.manualColumnPositions.splice(c, 0, this.hot.manualColumnPositions.splice(b, 1)[0]);
                },
                getBestColumnReturnPosition: function(a) {
                    for (var b = this.fixedColumnsCount, c = this.getModifiedColumnIndex(b), d = this.getModifiedColumnIndex(a); d > c; ) b++, 
                    c = this.getModifiedColumnIndex(b);
                    return b - 1;
                }
            }, {}, f), g("manualColumnFreeze", h);
        }, {
            _base: 56,
            plugins: 55
        } ],
        75: [ function(a, b, c) {
            "use strict";
            function d() {
                function a(a) {
                    p = this, q = a;
                    var b = this.view.wt.wtTable.getCoords(a).col;
                    if (b >= 0) {
                        n = b;
                        var c = q.getBoundingClientRect();
                        i = c.left, r.style.top = c.top + "px", r.style.left = i + "px", p.rootElement.appendChild(r);
                    }
                }
                function b(a, b) {
                    var c = a.getBoundingClientRect(), d = 6;
                    b > 0 ? r.style.left = c.left + c.width - d + "px" : r.style.left = c.left + "px";
                }
                function c() {
                    var a = this;
                    j(r, "active"), j(s, "active");
                    var b = q.getBoundingClientRect();
                    s.style.width = b.width + "px", s.style.height = a.view.maximumVisibleElementHeight(0) + "px", 
                    s.style.top = r.style.top, s.style.left = i + "px", a.rootElement.appendChild(s);
                }
                function d(a) {
                    s.style.left = i + a + "px";
                }
                function e() {
                    l(r, "active"), l(s, "active");
                }
                var f, g, h, i, n, p, q, r = document.createElement("DIV"), s = document.createElement("DIV"), t = m(this);
                r.className = "manualColumnMover", s.className = "manualColumnMoverGuide";
                var u = function() {
                    var a = this;
                    Handsontable.hooks.run(a, "persistentStateSave", "manualColumnPositions", a.manualColumnPositions);
                }, v = function() {
                    var a = this, b = {};
                    return Handsontable.hooks.run(a, "persistentStateLoad", "manualColumnPositions", b), 
                    b.value;
                }, w = function(a) {
                    return "BODY" != a.tagName ? "THEAD" == a.parentNode.tagName ? !0 : (a = a.parentNode, 
                    w(a)) : !1;
                }, x = function(a) {
                    return "TABLE" != a.tagName ? "TH" == a.tagName ? a : x(a.parentNode) : null;
                }, y = function() {
                    var i, j = this;
                    t.addEventListener(j.rootElement, "mouseover", function(c) {
                        if (w(c.target)) {
                            var d = x(c.target);
                            if (d) if (i) {
                                var e = j.view.wt.wtTable.getCoords(d).col;
                                e >= 0 && (g = e, b(c.target, g - f));
                            } else a.call(j, d);
                        }
                    }), t.addEventListener(j.rootElement, "mousedown", function(a) {
                        k(a.target, "manualColumnMover") && (h = o(a), c.call(j), i = j, f = n, g = n);
                    }), t.addEventListener(window, "mousemove", function(a) {
                        i && d(o(a) - h);
                    }), t.addEventListener(window, "mouseup", function(b) {
                        i && (e(), i = !1, A(j.manualColumnPositions, j.countCols()), j.manualColumnPositions.splice(g, 0, j.manualColumnPositions.splice(f, 1)[0]), 
                        Handsontable.hooks.run(j, "beforeColumnMove", f, g), j.forceFullRender = !0, j.view.render(), 
                        u.call(j), Handsontable.hooks.run(j, "afterColumnMove", f, g), a.call(j, q));
                    }), j.addHook("afterDestroy", z);
                }, z = function() {
                    t.clear();
                }, A = function(a, b) {
                    if (a.length < b) for (var c = a.length; b > c; c++) a[c] = c;
                };
                this.beforeInit = function() {
                    this.manualColumnPositions = [];
                }, this.init = function(a) {
                    var b = this, c = !!this.getSettings().manualColumnMove;
                    if (c) {
                        var d = this.getSettings().manualColumnMove, e = v.call(b);
                        "undefined" != typeof e ? this.manualColumnPositions = e : Array.isArray(d) ? this.manualColumnPositions = d : this.manualColumnPositions = [], 
                        ("afterInit" === a || "afterUpdateSettings" === a && 0 === t.context.eventListeners.length) && ("undefined" == typeof b.manualColumnPositionsPluginUsages ? b.manualColumnPositionsPluginUsages = [ "manualColumnMove" ] : b.manualColumnPositionsPluginUsages.push("manualColumnMove"), 
                        y.call(this), this.manualColumnPositions.length > 0 && (this.forceFullRender = !0, 
                        this.render()));
                    } else {
                        var f = b.manualColumnPositionsPluginUsages ? b.manualColumnPositionsPluginUsages.indexOf("manualColumnMove") : -1;
                        f > -1 && (z.call(this), this.manualColumnPositions = [], b.manualColumnPositionsPluginUsages[f] = void 0);
                    }
                }, this.modifyCol = function(a) {
                    return this.getSettings().manualColumnMove ? ("undefined" == typeof this.manualColumnPositions[a] && A(this.manualColumnPositions, a + 1), 
                    this.manualColumnPositions[a]) : a;
                }, this.afterRemoveCol = function(a, b) {
                    if (this.getSettings().manualColumnMove) {
                        var c, d = this.manualColumnPositions;
                        c = d.splice(a, b), d = d.map(function(a) {
                            var b, d = a;
                            for (b = 0; b < c.length; b++) a > c[b] && d--;
                            return d;
                        }), this.manualColumnPositions = d;
                    }
                }, this.afterCreateCol = function(a, b) {
                    if (this.getSettings().manualColumnMove) {
                        var c = this.manualColumnPositions;
                        if (c.length) {
                            for (var d = [], e = 0; b > e; e++) d.push(a + e);
                            a >= c.length ? c.concat(d) : (c = c.map(function(c) {
                                return c >= a ? c + b : c;
                            }), c.splice.apply(c, [ a, 0 ].concat(d))), this.manualColumnPositions = c;
                        }
                    }
                };
            }
            Object.defineProperties(c, {
                ManualColumnMove: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), j = i.addClass, k = i.hasClass, l = i.removeClass, m = (f = a("eventManager"), 
            f && f.__esModule && f || {
                "default": f
            }).eventManager, n = (g = a("helpers/dom/event"), g && g.__esModule && g || {
                "default": g
            }), o = n.pageX, p = (n.pageY, (h = a("plugins"), h && h.__esModule && h || {
                "default": h
            }).registerPlugin, new d());
            Handsontable.hooks.add("beforeInit", p.beforeInit), Handsontable.hooks.add("afterInit", function() {
                p.init.call(this, "afterInit");
            }), Handsontable.hooks.add("afterUpdateSettings", function() {
                p.init.call(this, "afterUpdateSettings");
            }), Handsontable.hooks.add("modifyCol", p.modifyCol), Handsontable.hooks.add("afterRemoveCol", p.afterRemoveCol), 
            Handsontable.hooks.add("afterCreateCol", p.afterCreateCol), Handsontable.hooks.register("beforeColumnMove"), 
            Handsontable.hooks.register("afterColumnMove");
        }, {
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            plugins: 55
        } ],
        76: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                ManualColumnResize: {
                    get: function() {
                        return r;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i = (d = a("_base.js"), d && d.__esModule && d || {
                "default": d
            })["default"], j = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), k = j.addClass, l = j.hasClass, m = j.removeClass, n = (f = a("eventManager"), 
            f && f.__esModule && f || {
                "default": f
            }).eventManager, o = (g = a("helpers/dom/event"), g && g.__esModule && g || {
                "default": g
            }), p = o.pageX, q = (o.pageY, (h = a("plugins"), h && h.__esModule && h || {
                "default": h
            }).registerPlugin), r = function(a) {
                $traceurRuntime.superConstructor(s).call(this, a), this.currentTH = null, this.currentCol = null, 
                this.currentWidth = null, this.newSize = null, this.startY = null, this.startWidth = null, 
                this.startOffset = null, this.handle = document.createElement("DIV"), this.guide = document.createElement("DIV"), 
                this.eventManager = n(this), this.pressed = null, this.dblclick = 0, this.autoresizeTimeout = null, 
                this.manualColumnWidths = [], k(this.handle, "manualColumnResizer"), k(this.guide, "manualColumnResizerGuide");
            }, s = r;
            $traceurRuntime.createClass(r, {
                isEnabled: function() {
                    return this.hot.getSettings().manualColumnResize;
                },
                enablePlugin: function() {
                    var a = this;
                    if (!this.enabled) {
                        this.manualColumnWidths = [];
                        var b = this.hot.getSettings().manualColumnResize, c = this.loadManualColumnWidths();
                        this.addHook("modifyColWidth", function(b, c) {
                            return a.onModifyColWidth(b, c);
                        }), "undefined" != typeof c ? this.manualColumnWidths = c : Array.isArray(b) ? this.manualColumnWidths = b : this.manualColumnWidths = [], 
                        Handsontable.hooks.register("beforeColumnResize"), Handsontable.hooks.register("afterColumnResize"), 
                        this.bindEvents(), $traceurRuntime.superGet(this, s.prototype, "enablePlugin").call(this);
                    }
                },
                updatePlugin: function() {
                    var a = this.hot.getSettings().manualColumnResize;
                    Array.isArray(a) ? this.manualColumnWidths = a : this.manualColumnWidths = [];
                },
                disablePlugin: function() {
                    $traceurRuntime.superGet(this, s.prototype, "disablePlugin").call(this);
                },
                saveManualColumnWidths: function() {
                    this.hot.runHooks("persistentStateSave", "manualColumnWidths", this.manualColumnWidths);
                },
                loadManualColumnWidths: function() {
                    var a = {};
                    return this.hot.runHooks("persistentStateLoad", "manualColumnWidths", a), a.value;
                },
                setupHandlePosition: function(a) {
                    this.currentTH = a;
                    var b = this.hot.view.wt.wtTable.getCoords(a).col;
                    if (b >= 0) {
                        var c = this.currentTH.getBoundingClientRect();
                        this.currentCol = b, this.startOffset = c.left - 6, this.startWidth = parseInt(c.width, 10), 
                        this.handle.style.top = c.top + "px", this.handle.style.left = this.startOffset + this.startWidth + "px", 
                        this.hot.rootElement.appendChild(this.handle);
                    }
                },
                refreshHandlePosition: function() {
                    this.handle.style.left = this.startOffset + this.currentWidth + "px";
                },
                setupGuidePosition: function() {
                    k(this.handle, "active"), k(this.guide, "active"), this.guide.style.top = this.handle.style.top, 
                    this.guide.style.left = this.handle.style.left, this.guide.style.height = this.hot.view.maximumVisibleElementHeight(0) + "px", 
                    this.hot.rootElement.appendChild(this.guide);
                },
                refreshGuidePosition: function() {
                    this.guide.style.left = this.handle.style.left;
                },
                hideHandleAndGuide: function() {
                    m(this.handle, "active"), m(this.guide, "active");
                },
                checkIfColumnHeader: function(a) {
                    return "BODY" != a.tagName ? "THEAD" == a.parentNode.tagName ? !0 : (a = a.parentNode, 
                    this.checkIfColumnHeader(a)) : !1;
                },
                getTHFromTargetElement: function(a) {
                    return "TABLE" != a.tagName ? "TH" == a.tagName ? a : this.getTHFromTargetElement(a.parentNode) : null;
                },
                onMouseOver: function(a) {
                    if (this.checkIfColumnHeader(a.target)) {
                        var b = this.getTHFromTargetElement(a.target);
                        if (!b) return;
                        var c = b.getAttribute("colspan");
                        !b || null !== c && 1 !== c || this.pressed || this.setupHandlePosition(b);
                    }
                },
                afterMouseDownTimeout: function() {
                    if (this.dblclick >= 2) {
                        var a = this.hot.runHooks("beforeColumnResize", this.currentCol, this.newSize, !0);
                        void 0 !== a && (this.newSize = a), this.setManualSize(this.currentCol, this.newSize), 
                        this.hot.forceFullRender = !0, this.hot.view.render(), this.hot.view.wt.wtOverlays.adjustElementsSize(!0), 
                        this.hot.runHooks("afterColumnResize", this.currentCol, this.newSize, !0);
                    }
                    this.dblclick = 0, this.autoresizeTimeout = null;
                },
                onMouseDown: function(a) {
                    var b = this;
                    l(a.target, "manualColumnResizer") && (this.setupGuidePosition(), this.pressed = this.hot, 
                    null === this.autoresizeTimeout && (this.autoresizeTimeout = setTimeout(function() {
                        return b.afterMouseDownTimeout();
                    }, 500), this.hot._registerTimeout(this.autoresizeTimeout)), this.dblclick++, this.startX = p(a), 
                    this.newSize = this.startWidth);
                },
                onMouseMove: function(a) {
                    this.pressed && (this.currentWidth = this.startWidth + (p(a) - this.startX), this.newSize = this.setManualSize(this.currentCol, this.currentWidth), 
                    this.refreshHandlePosition(), this.refreshGuidePosition());
                },
                onMouseUp: function(a) {
                    this.pressed && (this.hideHandleAndGuide(), this.pressed = !1, this.newSize != this.startWidth && (this.hot.runHooks("beforeColumnResize", this.currentCol, this.newSize), 
                    this.hot.forceFullRender = !0, this.hot.view.render(), this.hot.view.wt.wtOverlays.adjustElementsSize(!0), 
                    this.saveManualColumnWidths(), this.hot.runHooks("afterColumnResize", this.currentCol, this.newSize)), 
                    this.setupHandlePosition(this.currentTH));
                },
                bindEvents: function() {
                    var a = this;
                    this.eventManager.addEventListener(this.hot.rootElement, "mouseover", function(b) {
                        return a.onMouseOver(b);
                    }), this.eventManager.addEventListener(this.hot.rootElement, "mousedown", function(b) {
                        return a.onMouseDown(b);
                    }), this.eventManager.addEventListener(window, "mousemove", function(b) {
                        return a.onMouseMove(b);
                    }), this.eventManager.addEventListener(window, "mouseup", function(b) {
                        return a.onMouseUp(b);
                    });
                },
                setManualSize: function(a, b) {
                    return b = Math.max(b, 20), a = this.hot.runHooks("modifyCol", a), this.manualColumnWidths[a] = b, 
                    b;
                },
                onModifyColWidth: function(a, b) {
                    return this.enabled && (b = this.hot.runHooks("modifyCol", b), this.hot.getSettings().manualColumnResize && this.manualColumnWidths[b]) ? this.manualColumnWidths[b] : a;
                }
            }, {}, i), q("manualColumnResize", r);
        }, {
            "_base.js": 56,
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            plugins: 55
        } ],
        77: [ function(a, b, c) {
            "use strict";
            function d() {
                function a(a) {
                    var b = this;
                    p = a;
                    var c = this.view.wt.wtTable.getCoords(a).row;
                    if (c >= 0) {
                        n = c;
                        var d = p.getBoundingClientRect();
                        i = d.top, q.style.top = i + "px", q.style.left = d.left + "px", b.rootElement.appendChild(q);
                    }
                }
                function b(a, b) {
                    var c = a.getBoundingClientRect(), d = 6;
                    b > 0 ? q.style.top = c.top + c.height - d + "px" : q.style.top = c.top + "px";
                }
                function c() {
                    var a = this;
                    j(q, "active"), j(r, "active");
                    var b = p.getBoundingClientRect();
                    r.style.width = a.view.maximumVisibleElementWidth(0) + "px", r.style.height = b.height + "px", 
                    r.style.top = i + "px", r.style.left = q.style.left, a.rootElement.appendChild(r);
                }
                function d(a) {
                    r.style.top = i + a + "px";
                }
                function e() {
                    l(q, "active"), l(r, "active");
                }
                var f, g, h, i, n, p, q = document.createElement("DIV"), r = document.createElement("DIV"), s = m(this);
                q.className = "manualRowMover", r.className = "manualRowMoverGuide";
                var t = function() {
                    var a = this;
                    Handsontable.hooks.run(a, "persistentStateSave", "manualRowPositions", a.manualRowPositions);
                }, u = function() {
                    var a = this, b = {};
                    return Handsontable.hooks.run(a, "persistentStateLoad", "manualRowPositions", b), 
                    b.value;
                }, v = function(a) {
                    return "BODY" != a.tagName ? "TBODY" == a.parentNode.tagName ? !0 : (a = a.parentNode, 
                    v(a)) : !1;
                }, w = function(a) {
                    return "TABLE" != a.tagName ? "TH" == a.tagName ? a : w(a.parentNode) : null;
                }, x = function() {
                    var i, j = this;
                    s.addEventListener(j.rootElement, "mouseover", function(c) {
                        if (v(c.target)) {
                            var d = w(c.target);
                            d && (i ? (g = j.view.wt.wtTable.getCoords(d).row, b(d, g - f)) : a.call(j, d));
                        }
                    }), s.addEventListener(j.rootElement, "mousedown", function(a) {
                        k(a.target, "manualRowMover") && (h = o(a), c.call(j), i = j, f = n, g = n);
                    }), s.addEventListener(window, "mousemove", function(a) {
                        i && d(o(a) - h);
                    }), s.addEventListener(window, "mouseup", function(b) {
                        i && (e(), i = !1, z(j.manualRowPositions, j.countRows()), j.manualRowPositions.splice(g, 0, j.manualRowPositions.splice(f, 1)[0]), 
                        Handsontable.hooks.run(j, "beforeRowMove", f, g), j.forceFullRender = !0, j.view.render(), 
                        t.call(j), Handsontable.hooks.run(j, "afterRowMove", f, g), a.call(j, p));
                    }), j.addHook("afterDestroy", y);
                }, y = function() {
                    s.clear();
                }, z = function(a, b) {
                    if (a.length < b) for (var c = a.length; b > c; c++) a[c] = c;
                };
                this.beforeInit = function() {
                    this.manualRowPositions = [];
                }, this.init = function(a) {
                    var b = this, c = !!b.getSettings().manualRowMove;
                    if (c) {
                        var d = b.getSettings().manualRowMove, e = u.call(b);
                        "undefined" == typeof b.manualRowPositionsPluginUsages ? b.manualRowPositionsPluginUsages = [ "manualColumnMove" ] : b.manualRowPositionsPluginUsages.push("manualColumnMove"), 
                        "undefined" != typeof e ? this.manualRowPositions = e : Array.isArray(d) ? this.manualRowPositions = d : this.manualRowPositions = [], 
                        ("afterInit" === a || "afterUpdateSettings" === a && 0 === s.context.eventListeners.length) && (x.call(this), 
                        this.manualRowPositions.length > 0 && (b.forceFullRender = !0, b.render()));
                    } else {
                        var f = b.manualRowPositionsPluginUsages ? b.manualRowPositionsPluginUsages.indexOf("manualColumnMove") : -1;
                        f > -1 && (y.call(this), b.manualRowPositions = [], b.manualRowPositionsPluginUsages[f] = void 0);
                    }
                }, this.modifyRow = function(a) {
                    var b = this;
                    return b.getSettings().manualRowMove ? ("undefined" == typeof b.manualRowPositions[a] && z(this.manualRowPositions, a + 1), 
                    b.manualRowPositions[a]) : a;
                };
            }
            Object.defineProperties(c, {
                ManualRowMove: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), j = i.addClass, k = i.hasClass, l = i.removeClass, m = (f = a("eventManager"), 
            f && f.__esModule && f || {
                "default": f
            }).eventManager, n = (g = a("helpers/dom/event"), g && g.__esModule && g || {
                "default": g
            }), o = (n.pageX, n.pageY), p = ((h = a("plugins"), h && h.__esModule && h || {
                "default": h
            }).registerPlugin, new d());
            Handsontable.hooks.add("beforeInit", p.beforeInit), Handsontable.hooks.add("afterInit", function() {
                p.init.call(this, "afterInit");
            }), Handsontable.hooks.add("afterUpdateSettings", function() {
                p.init.call(this, "afterUpdateSettings");
            }), Handsontable.hooks.add("modifyRow", p.modifyRow), Handsontable.hooks.register("beforeRowMove"), 
            Handsontable.hooks.register("afterRowMove");
        }, {
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            plugins: 55
        } ],
        78: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                ManualRowResize: {
                    get: function() {
                        return r;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i = (d = a("_base.js"), d && d.__esModule && d || {
                "default": d
            })["default"], j = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), k = j.addClass, l = j.hasClass, m = j.removeClass, n = (f = a("eventManager"), 
            f && f.__esModule && f || {
                "default": f
            }).eventManager, o = (g = a("helpers/dom/event"), g && g.__esModule && g || {
                "default": g
            }), p = (o.pageX, o.pageY), q = (h = a("plugins"), h && h.__esModule && h || {
                "default": h
            }).registerPlugin, r = function(a) {
                $traceurRuntime.superConstructor(s).call(this, a), this.currentTH = null, this.currentRow = null, 
                this.currentHeight = null, this.newSize = null, this.startY = null, this.startHeight = null, 
                this.startOffset = null, this.handle = document.createElement("DIV"), this.guide = document.createElement("DIV"), 
                this.eventManager = n(this), this.pressed = null, this.dblclick = 0, this.autoresizeTimeout = null, 
                this.manualRowHeights = [], k(this.handle, "manualRowResizer"), k(this.guide, "manualRowResizerGuide");
            }, s = r;
            $traceurRuntime.createClass(r, {
                isEnabled: function() {
                    return this.hot.getSettings().manualRowResize;
                },
                enablePlugin: function() {
                    var a = this;
                    if (!this.enabled) {
                        this.manualRowHeights = [];
                        var b = this.hot.getSettings().manualRowResize, c = this.loadManualRowHeights();
                        "undefined" != typeof c ? this.manualRowHeights = c : Array.isArray(b) ? this.manualRowHeights = b : this.manualRowHeights = [], 
                        this.addHook("modifyRowHeight", function(b, c) {
                            return a.onModifyRowHeight(b, c);
                        }), Handsontable.hooks.register("beforeRowResize"), Handsontable.hooks.register("afterRowResize"), 
                        this.bindEvents(), $traceurRuntime.superGet(this, s.prototype, "enablePlugin").call(this);
                    }
                },
                updatePlugin: function() {
                    var a = this.hot.getSettings().manualRowResize;
                    Array.isArray(a) ? this.manualRowHeights = a : this.manualRowHeights = [];
                },
                disablePlugin: function() {
                    $traceurRuntime.superGet(this, s.prototype, "disablePlugin").call(this);
                },
                saveManualRowHeights: function() {
                    this.hot.runHooks("persistentStateSave", "manualRowHeights", this.manualRowHeights);
                },
                loadManualRowHeights: function() {
                    var a = {};
                    return this.hot.runHooks("persistentStateLoad", "manualRowHeights", a), a.value;
                },
                setupHandlePosition: function(a) {
                    this.currentTH = a;
                    var b = this.hot.view.wt.wtTable.getCoords(a).row;
                    if (b >= 0) {
                        var c = this.currentTH.getBoundingClientRect();
                        this.currentRow = b, this.startOffset = c.top - 6, this.startHeight = parseInt(c.height, 10), 
                        this.handle.style.left = c.left + "px", this.handle.style.top = this.startOffset + this.startHeight + "px", 
                        this.hot.rootElement.appendChild(this.handle);
                    }
                },
                refreshHandlePosition: function() {
                    this.handle.style.top = this.startOffset + this.currentHeight + "px";
                },
                setupGuidePosition: function() {
                    k(this.handle, "active"), k(this.guide, "active"), this.guide.style.top = this.handle.style.top, 
                    this.guide.style.left = this.handle.style.left, this.guide.style.width = this.hot.view.maximumVisibleElementWidth(0) + "px", 
                    this.hot.rootElement.appendChild(this.guide);
                },
                refreshGuidePosition: function() {
                    this.guide.style.top = this.handle.style.top;
                },
                hideHandleAndGuide: function() {
                    m(this.handle, "active"), m(this.guide, "active");
                },
                checkIfRowHeader: function(a) {
                    return "BODY" != a.tagName ? "TBODY" == a.parentNode.tagName ? !0 : (a = a.parentNode, 
                    this.checkIfRowHeader(a)) : !1;
                },
                getTHFromTargetElement: function(a) {
                    return "TABLE" != a.tagName ? "TH" == a.tagName ? a : this.getTHFromTargetElement(a.parentNode) : null;
                },
                onMouseOver: function(a) {
                    if (this.checkIfRowHeader(a.target)) {
                        var b = this.getTHFromTargetElement(a.target);
                        b && (this.pressed || this.setupHandlePosition(b));
                    }
                },
                afterMouseDownTimeout: function() {
                    if (this.dblclick >= 2) {
                        var a = this.hot.runHooks("beforeRowResize", this.currentRow, this.newSize, !0);
                        void 0 !== a && (this.newSize = a), this.setManualSize(this.currentRow, this.newSize), 
                        this.hot.forceFullRender = !0, this.hot.view.render(), this.hot.view.wt.wtOverlays.adjustElementsSize(!0), 
                        this.hot.runHooks("afterRowResize", this.currentRow, this.newSize, !0);
                    }
                    this.dblclick = 0, this.autoresizeTimeout = null;
                },
                onMouseDown: function(a) {
                    var b = this;
                    l(a.target, "manualRowResizer") && (this.setupGuidePosition(), this.pressed = this.hot, 
                    null == this.autoresizeTimeout && (this.autoresizeTimeout = setTimeout(function() {
                        return b.afterMouseDownTimeout();
                    }, 500), this.hot._registerTimeout(this.autoresizeTimeout)), this.dblclick++, this.startY = p(a), 
                    this.newSize = this.startHeight);
                },
                onMouseMove: function(a) {
                    this.pressed && (this.currentHeight = this.startHeight + (p(a) - this.startY), this.newSize = this.setManualSize(this.currentRow, this.currentHeight), 
                    this.refreshHandlePosition(), this.refreshGuidePosition());
                },
                onMouseUp: function(a) {
                    this.pressed && (this.hideHandleAndGuide(), this.pressed = !1, this.newSize != this.startHeight && (this.hot.runHooks("beforeRowResize", this.currentRow, this.newSize), 
                    this.hot.forceFullRender = !0, this.hot.view.render(), this.hot.view.wt.wtOverlays.adjustElementsSize(!0), 
                    this.saveManualRowHeights(), this.hot.runHooks("afterRowResize", this.currentRow, this.newSize)), 
                    this.setupHandlePosition(this.currentTH));
                },
                bindEvents: function() {
                    var a = this;
                    this.eventManager.addEventListener(this.hot.rootElement, "mouseover", function(b) {
                        return a.onMouseOver(b);
                    }), this.eventManager.addEventListener(this.hot.rootElement, "mousedown", function(b) {
                        return a.onMouseDown(b);
                    }), this.eventManager.addEventListener(window, "mousemove", function(b) {
                        return a.onMouseMove(b);
                    }), this.eventManager.addEventListener(window, "mouseup", function(b) {
                        return a.onMouseUp(b);
                    });
                },
                setManualSize: function(a, b) {
                    return a = this.hot.runHooks("modifyRow", a), this.manualRowHeights[a] = b, b;
                },
                onModifyRowHeight: function(a, b) {
                    if (this.enabled) {
                        var c = this.hot.getPlugin("autoRowSize"), d = c ? c.heights[b] : null;
                        b = this.hot.runHooks("modifyRow", b);
                        var e = this.manualRowHeights[b];
                        if (void 0 !== e && (e === d || e > (a || 0))) return e;
                    }
                    return a;
                }
            }, {}, i), q("manualRowResize", r);
        }, {
            "_base.js": 56,
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            plugins: 55
        } ],
        79: [ function(a, b, c) {
            "use strict";
            function d() {
                var a = [];
                return a.getInfo = function(a, b) {
                    for (var c = 0, d = this.length; d > c; c++) if (this[c].row <= a && this[c].row + this[c].rowspan - 1 >= a && this[c].col <= b && this[c].col + this[c].colspan - 1 >= b) return this[c];
                }, a.setInfo = function(a) {
                    for (var b = 0, c = this.length; c > b; b++) if (this[b].row === a.row && this[b].col === a.col) return void (this[b] = a);
                    this.push(a);
                }, a.removeInfo = function(a, b) {
                    for (var c = 0, d = this.length; d > c; c++) if (this[c].row === a && this[c].col === b) {
                        this.splice(c, 1);
                        break;
                    }
                }, a;
            }
            function e(a) {
                if (this.mergedCellInfoCollection = new d(), Array.isArray(a)) for (var b = 0, c = a.length; c > b; b++) this.mergedCellInfoCollection.setInfo(a[b]);
            }
            function f(a, b) {
                var c = this.getSettings().mergeCells;
                if (c && !this.selection.isMultiple()) {
                    var d = this.mergeCells.mergedCellInfoCollection.getInfo(a[0], a[1]);
                    d && (a[0] = d.row, a[1] = d.col, a[2] = d.row + d.rowspan - 1, a[3] = d.col + d.colspan - 1);
                }
            }
            function g(a, b) {
                this.mergeCells && this.mergeCells.shiftCollection("right", a, b);
            }
            function h(a, b) {
                this.mergeCells && this.mergeCells.shiftCollection("left", a, b);
            }
            function i(a, b) {
                this.mergeCells && this.mergeCells.shiftCollection("down", a, b);
            }
            function j(a, b) {
                this.mergeCells && this.mergeCells.shiftCollection("up", a, b);
            }
            Object.defineProperties(c, {
                MergeCells: {
                    get: function() {
                        return e;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var k, l, m, n, o, p = ((k = a("plugins"), k && k.__esModule && k || {
                "default": k
            }).registerPlugin, (l = a("helpers/dom/event"), l && l.__esModule && l || {
                "default": l
            }).stopImmediatePropagation), q = (m = a("3rdparty/walkontable/src/cell/coords"), 
            m && m.__esModule && m || {
                "default": m
            }).WalkontableCellCoords, r = (n = a("3rdparty/walkontable/src/cell/range"), n && n.__esModule && n || {
                "default": n
            }).WalkontableCellRange, s = (o = a("3rdparty/walkontable/src/table"), o && o.__esModule && o || {
                "default": o
            }).WalkontableTable;
            e.prototype.canMergeRange = function(a) {
                return !a.isSingle();
            }, e.prototype.mergeRange = function(a) {
                if (this.canMergeRange(a)) {
                    var b = a.getTopLeftCorner(), c = a.getBottomRightCorner(), d = {};
                    d.row = b.row, d.col = b.col, d.rowspan = c.row - b.row + 1, d.colspan = c.col - b.col + 1, 
                    this.mergedCellInfoCollection.setInfo(d);
                }
            }, e.prototype.mergeOrUnmergeSelection = function(a) {
                var b = this.mergedCellInfoCollection.getInfo(a.from.row, a.from.col);
                b ? this.unmergeSelection(a.from) : this.mergeSelection(a);
            }, e.prototype.mergeSelection = function(a) {
                this.mergeRange(a);
            }, e.prototype.unmergeSelection = function(a) {
                var b = this.mergedCellInfoCollection.getInfo(a.row, a.col);
                this.mergedCellInfoCollection.removeInfo(b.row, b.col);
            }, e.prototype.applySpanProperties = function(a, b, c) {
                var d = this.mergedCellInfoCollection.getInfo(b, c);
                d ? d.row === b && d.col === c ? (a.setAttribute("rowspan", d.rowspan), a.setAttribute("colspan", d.colspan)) : (a.removeAttribute("rowspan"), 
                a.removeAttribute("colspan"), a.style.display = "none") : (a.removeAttribute("rowspan"), 
                a.removeAttribute("colspan"));
            }, e.prototype.modifyTransform = function(a, b, c) {
                var d = function(a, b) {
                    return b.row >= a.row && b.row <= a.row + a.rowspan - 1 ? !0 : !1;
                }, e = function(a, b) {
                    return b.col >= a.col && b.col <= a.col + a.colspan - 1 ? !0 : !1;
                }, f = function(a) {
                    return new q(b.to.row + a.row, b.to.col + a.col);
                }, g = {
                    row: c.row,
                    col: c.col
                };
                if ("modifyTransformStart" == a) {
                    this.lastDesiredCoords || (this.lastDesiredCoords = new q(null, null));
                    for (var h, i = new q(b.highlight.row, b.highlight.col), j = this.mergedCellInfoCollection.getInfo(i.row, i.col), k = 0, l = this.mergedCellInfoCollection.length; l > k; k++) {
                        var m = this.mergedCellInfoCollection[k];
                        if (m = new q(m.row + m.rowspan - 1, m.col + m.colspan - 1), b.includes(m)) {
                            h = !0;
                            break;
                        }
                    }
                    if (j) {
                        var n = new q(j.row, j.col), o = new q(j.row + j.rowspan - 1, j.col + j.colspan - 1), p = new r(n, n, o);
                        p.includes(this.lastDesiredCoords) || (this.lastDesiredCoords = new q(null, null)), 
                        g.row = this.lastDesiredCoords.row ? this.lastDesiredCoords.row - i.row : g.row, 
                        g.col = this.lastDesiredCoords.col ? this.lastDesiredCoords.col - i.col : g.col, 
                        c.row > 0 ? g.row = j.row + j.rowspan - 1 - i.row + c.row : c.row < 0 && (g.row = i.row - j.row + c.row), 
                        c.col > 0 ? g.col = j.col + j.colspan - 1 - i.col + c.col : c.col < 0 && (g.col = i.col - j.col + c.col);
                    }
                    var s = new q(b.highlight.row + g.row, b.highlight.col + g.col), t = this.mergedCellInfoCollection.getInfo(s.row, s.col);
                    t && (this.lastDesiredCoords = s, g = {
                        row: t.row - i.row,
                        col: t.col - i.col
                    });
                } else if ("modifyTransformEnd" == a) for (var k = 0, l = this.mergedCellInfoCollection.length; l > k; k++) {
                    var u = this.mergedCellInfoCollection[k], n = new q(u.row, u.col), o = new q(u.row + u.rowspan - 1, u.col + u.colspan - 1), v = new r(n, n, o), w = b.getBordersSharedWith(v);
                    if (v.isEqual(b)) b.setDirection("NW-SE"); else if (w.length > 0) {
                        var x = b.highlight.isEqual(v.from);
                        w.indexOf("top") > -1 ? b.to.isSouthEastOf(v.from) && x ? b.setDirection("NW-SE") : b.to.isSouthWestOf(v.from) && x && b.setDirection("NE-SW") : w.indexOf("bottom") > -1 && (b.to.isNorthEastOf(v.from) && x ? b.setDirection("SW-NE") : b.to.isNorthWestOf(v.from) && x && b.setDirection("SE-NW"));
                    }
                    var s = f(g), y = d(u, s), z = e(u, s);
                    b.includesRange(v) && (v.includes(s) || y || z) && (y && (g.row < 0 ? g.row -= u.rowspan - 1 : g.row > 0 && (g.row += u.rowspan - 1)), 
                    z && (g.col < 0 ? g.col -= u.colspan - 1 : g.col > 0 && (g.col += u.colspan - 1)));
                }
                0 !== g.row && (c.row = g.row), 0 !== g.col && (c.col = g.col);
            }, e.prototype.shiftCollection = function(a, b, c) {
                var d = [ 0, 0 ];
                switch (a) {
                  case "right":
                    d[0] += 1;
                    break;

                  case "left":
                    d[0] -= 1;
                    break;

                  case "down":
                    d[1] += 1;
                    break;

                  case "up":
                    d[1] -= 1;
                }
                for (var e = 0; e < this.mergedCellInfoCollection.length; e++) {
                    var f = this.mergedCellInfoCollection[e];
                    "right" === a || "left" === a ? b <= f.col && (f.col += d[0]) : b <= f.row && (f.row += d[1]);
                }
            };
            var t = function() {
                var a = this, b = a.getSettings().mergeCells;
                b && (a.mergeCells || (a.mergeCells = new e(b)));
            }, u = function() {
                var a = this;
                a.mergeCells && (a.view.wt.wtTable.getCell = function(b) {
                    if (a.getSettings().mergeCells) {
                        var c = a.mergeCells.mergedCellInfoCollection.getInfo(b.row, b.col);
                        c && (b = c);
                    }
                    return s.prototype.getCell.call(this, b);
                });
            }, v = function() {
                var a = this, b = a.getSettings().mergeCells;
                if (b) if (a.mergeCells) {
                    if (a.mergeCells.mergedCellInfoCollection = new d(), Array.isArray(b)) for (var c = 0, f = b.length; f > c; c++) a.mergeCells.mergedCellInfoCollection.setInfo(b[c]);
                } else a.mergeCells = new e(b); else a.mergeCells && (a.mergeCells.mergedCellInfoCollection = new d());
            }, w = function(a) {
                if (this.mergeCells) {
                    var b = (a.ctrlKey || a.metaKey) && !a.altKey;
                    b && 77 === a.keyCode && (this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()), 
                    this.render(), p(a));
                }
            }, x = function(a) {
                this.getSettings().mergeCells && (a.items.push(Handsontable.plugins.ContextMenu.SEPARATOR), 
                a.items.push({
                    key: "mergeCells",
                    name: function() {
                        var a = this.getSelected(), b = this.mergeCells.mergedCellInfoCollection.getInfo(a[0], a[1]);
                        return b ? "Unmerge cells" : "Merge cells";
                    },
                    callback: function() {
                        this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()), this.render();
                    },
                    disabled: function() {
                        return !1;
                    }
                }));
            }, y = function(a, b, c, d, e, f) {
                this.mergeCells && this.mergeCells.applySpanProperties(a, b, c);
            }, z = function(a) {
                return function(b) {
                    var c = this.getSettings().mergeCells;
                    if (c) {
                        var d = this.getSelectedRange();
                        if (this.mergeCells.modifyTransform(a, d, b), "modifyTransformEnd" === a) {
                            var e = this.countRows(), f = this.countCols();
                            d.from.row < 0 ? d.from.row = 0 : d.from.row > 0 && d.from.row >= e && (d.from.row = d.from - 1), 
                            d.from.col < 0 ? d.from.col = 0 : d.from.col > 0 && d.from.col >= f && (d.from.col = f - 1);
                        }
                    }
                };
            }, A = function(a) {
                this.lastDesiredCoords = null;
                var b = this.getSettings().mergeCells;
                if (b) {
                    var c = this.getSelectedRange();
                    c.highlight = new q(c.highlight.row, c.highlight.col), c.to = a;
                    var d = !1;
                    do {
                        d = !1;
                        for (var e = 0, f = this.mergeCells.mergedCellInfoCollection.length; f > e; e++) {
                            var g = this.mergeCells.mergedCellInfoCollection[e], h = new q(g.row, g.col), i = new q(g.row + g.rowspan - 1, g.col + g.colspan - 1), j = new r(h, h, i);
                            c.expandByRange(j) && (a.row = c.to.row, a.col = c.to.col, d = !0);
                        }
                    } while (d);
                }
            }, B = function(a, b) {
                if (b && "area" == b) {
                    var c = this.getSettings().mergeCells;
                    if (c) for (var d = this.getSelectedRange(), e = new r(d.from, d.from, d.from), f = new r(d.to, d.to, d.to), g = 0, h = this.mergeCells.mergedCellInfoCollection.length; h > g; g++) {
                        var i = this.mergeCells.mergedCellInfoCollection[g], j = new q(i.row, i.col), k = new q(i.row + i.rowspan - 1, i.col + i.colspan - 1), l = new r(j, j, k);
                        e.expandByRange(l) && (a[0] = e.from.row, a[1] = e.from.col), f.expandByRange(l) && (a[2] = f.from.row, 
                        a[3] = f.from.col);
                    }
                }
            }, C = function(a, b, c) {
                var d = this.getSettings().mergeCells;
                if (d) {
                    var e = this.mergeCells.mergedCellInfoCollection.getInfo(a, b);
                    !e || e.row == a && e.col == b || (c.copyable = !1);
                }
            }, D = function(a) {
                var b = this.getSettings().mergeCells;
                if (b) for (var c, d = this.countCols(), e = 0; d > e; e++) {
                    if (c = this.mergeCells.mergedCellInfoCollection.getInfo(a.startRow, e), c && c.row < a.startRow) return a.startRow = c.row, 
                    D.call(this, a);
                    if (c = this.mergeCells.mergedCellInfoCollection.getInfo(a.endRow, e)) {
                        var f = c.row + c.rowspan - 1;
                        if (f > a.endRow) return a.endRow = f, D.call(this, a);
                    }
                }
            }, E = function(a) {
                var b = this.getSettings().mergeCells;
                if (b) for (var c, d = this.countRows(), e = 0; d > e; e++) {
                    if (c = this.mergeCells.mergedCellInfoCollection.getInfo(e, a.startColumn), c && c.col < a.startColumn) return a.startColumn = c.col, 
                    E.call(this, a);
                    if (c = this.mergeCells.mergedCellInfoCollection.getInfo(e, a.endColumn)) {
                        var f = c.col + c.colspan - 1;
                        if (f > a.endColumn) return a.endColumn = f, E.call(this, a);
                    }
                }
            }, F = function(a) {
                if (a && this.mergeCells) {
                    var b = this.mergeCells.mergedCellInfoCollection, c = this.getSelectedRange();
                    for (var d in b) if (c.highlight.row == b[d].row && c.highlight.col == b[d].col && c.to.row == b[d].row + b[d].rowspan - 1 && c.to.col == b[d].col + b[d].colspan - 1) return !1;
                }
                return a;
            };
            Handsontable.hooks.add("beforeInit", t), Handsontable.hooks.add("afterInit", u), 
            Handsontable.hooks.add("afterUpdateSettings", v), Handsontable.hooks.add("beforeKeyDown", w), 
            Handsontable.hooks.add("modifyTransformStart", z("modifyTransformStart")), Handsontable.hooks.add("modifyTransformEnd", z("modifyTransformEnd")), 
            Handsontable.hooks.add("beforeSetRangeEnd", A), Handsontable.hooks.add("beforeDrawBorders", B), 
            Handsontable.hooks.add("afterIsMultipleSelection", F), Handsontable.hooks.add("afterRenderer", y), 
            Handsontable.hooks.add("afterContextMenuDefaultOptions", x), Handsontable.hooks.add("afterGetCellMeta", C), 
            Handsontable.hooks.add("afterViewportRowCalculatorOverride", D), Handsontable.hooks.add("afterViewportColumnCalculatorOverride", E), 
            Handsontable.hooks.add("afterAutofillApplyValues", f), Handsontable.hooks.add("afterCreateCol", g), 
            Handsontable.hooks.add("afterRemoveCol", h), Handsontable.hooks.add("afterCreateRow", i), 
            Handsontable.hooks.add("afterRemoveRow", j), Handsontable.MergeCells = e;
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            "3rdparty/walkontable/src/cell/range": 6,
            "3rdparty/walkontable/src/table": 20,
            "helpers/dom/event": 45,
            plugins: 55
        } ],
        80: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                MultipleSelectionHandles: {
                    get: function() {
                        return o;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), i = h.getWindowScrollTop, j = h.hasClass, k = h.getWindowScrollLeft, l = (e = a("_base"), 
            e && e.__esModule && e || {
                "default": e
            })["default"], m = (f = a("eventManager"), f && f.__esModule && f || {
                "default": f
            }).EventManager, n = (g = a("plugins"), g && g.__esModule && g || {
                "default": g
            }).registerPlugin, o = function(a) {
                $traceurRuntime.superConstructor(p).call(this, a), this.dragged = [], this.eventManager = null, 
                this.lastSetCell = null;
            }, p = o;
            $traceurRuntime.createClass(o, {
                isEnabled: function() {
                    return Handsontable.mobileBrowser;
                },
                enablePlugin: function() {
                    this.enabled || (this.eventManager || (this.eventManager = new m(this)), this.registerListeners(), 
                    $traceurRuntime.superGet(this, p.prototype, "enablePlugin").call(this));
                },
                registerListeners: function() {
                    function a(a) {
                        if (1 === b.dragged.length) return b.dragged.splice(0, b.dragged.length), !0;
                        var c = b.dragged.indexOf(a);
                        return -1 == c ? !1 : void (0 === c ? b.dragged = b.dragged.slice(0, 1) : 1 == c && (b.dragged = b.dragged.slice(-1)));
                    }
                    var b = this;
                    this.eventManager.addEventListener(this.hot.rootElement, "touchstart", function(a) {
                        var c;
                        return j(a.target, "topLeftSelectionHandle-HitArea") ? (c = b.hot.getSelectedRange(), 
                        b.dragged.push("topLeft"), b.touchStartRange = {
                            width: c.getWidth(),
                            height: c.getHeight(),
                            direction: c.getDirection()
                        }, a.preventDefault(), !1) : j(a.target, "bottomRightSelectionHandle-HitArea") ? (c = b.hot.getSelectedRange(), 
                        b.dragged.push("bottomRight"), b.touchStartRange = {
                            width: c.getWidth(),
                            height: c.getHeight(),
                            direction: c.getDirection()
                        }, a.preventDefault(), !1) : void 0;
                    }), this.eventManager.addEventListener(this.hot.rootElement, "touchend", function(c) {
                        return j(c.target, "topLeftSelectionHandle-HitArea") ? (a.call(b, "topLeft"), b.touchStartRange = void 0, 
                        c.preventDefault(), !1) : j(c.target, "bottomRightSelectionHandle-HitArea") ? (a.call(b, "bottomRight"), 
                        b.touchStartRange = void 0, c.preventDefault(), !1) : void 0;
                    }), this.eventManager.addEventListener(this.hot.rootElement, "touchmove", function(a) {
                        var c, d, e, f, g, h, j, l = i(), m = k();
                        0 !== b.dragged.length && (c = document.elementFromPoint(a.touches[0].screenX - m, a.touches[0].screenY - l), 
                        c && c !== b.lastSetCell && (("TD" == c.nodeName || "TH" == c.nodeName) && (d = b.hot.getCoords(c), 
                        -1 == d.col && (d.col = 0), e = b.hot.getSelectedRange(), f = e.getWidth(), g = e.getHeight(), 
                        h = e.getDirection(), 1 == f && 1 == g && b.hot.selection.setRangeEnd(d), j = b.getCurrentRangeCoords(e, d, b.touchStartRange.direction, h, b.dragged[0]), 
                        null !== j.start && b.hot.selection.setRangeStart(j.start), b.hot.selection.setRangeEnd(j.end), 
                        b.lastSetCell = c), a.preventDefault()));
                    });
                },
                getCurrentRangeCoords: function(a, b, c, d, e) {
                    var f = a.getTopLeftCorner(), g = a.getBottomRightCorner(), h = a.getBottomLeftCorner(), i = a.getTopRightCorner(), j = {
                        start: null,
                        end: null
                    };
                    switch (c) {
                      case "NE-SW":
                        switch (d) {
                          case "NE-SW":
                          case "NW-SE":
                            j = "topLeft" == e ? {
                                start: new WalkontableCellCoords(b.row, a.highlight.col),
                                end: new WalkontableCellCoords(h.row, b.col)
                            } : {
                                start: new WalkontableCellCoords(a.highlight.row, b.col),
                                end: new WalkontableCellCoords(b.row, f.col)
                            };
                            break;

                          case "SE-NW":
                            "bottomRight" == e && (j = {
                                start: new WalkontableCellCoords(g.row, b.col),
                                end: new WalkontableCellCoords(b.row, f.col)
                            });
                        }
                        break;

                      case "NW-SE":
                        switch (d) {
                          case "NE-SW":
                            "topLeft" == e ? j = {
                                start: b,
                                end: h
                            } : j.end = b;
                            break;

                          case "NW-SE":
                            "topLeft" == e ? j = {
                                start: b,
                                end: g
                            } : j.end = b;
                            break;

                          case "SE-NW":
                            "topLeft" == e ? j = {
                                start: b,
                                end: f
                            } : j.end = b;
                            break;

                          case "SW-NE":
                            "topLeft" == e ? j = {
                                start: b,
                                end: i
                            } : j.end = b;
                        }
                        break;

                      case "SW-NE":
                        switch (d) {
                          case "NW-SE":
                            j = "bottomRight" == e ? {
                                start: new WalkontableCellCoords(b.row, f.col),
                                end: new WalkontableCellCoords(h.row, b.col)
                            } : {
                                start: new WalkontableCellCoords(f.row, b.col),
                                end: new WalkontableCellCoords(b.row, g.col)
                            };
                            break;

                          case "SW-NE":
                            j = "topLeft" == e ? {
                                start: new WalkontableCellCoords(a.highlight.row, b.col),
                                end: new WalkontableCellCoords(b.row, g.col)
                            } : {
                                start: new WalkontableCellCoords(b.row, f.col),
                                end: new WalkontableCellCoords(f.row, b.col)
                            };
                            break;

                          case "SE-NW":
                            "bottomRight" == e ? j = {
                                start: new WalkontableCellCoords(b.row, i.col),
                                end: new WalkontableCellCoords(f.row, b.col)
                            } : "topLeft" == e && (j = {
                                start: h,
                                end: b
                            });
                        }
                        break;

                      case "SE-NW":
                        switch (d) {
                          case "NW-SE":
                          case "NE-SW":
                          case "SW-NE":
                            "topLeft" == e && (j.end = b);
                            break;

                          case "SE-NW":
                            "topLeft" == e ? j.end = b : j = {
                                start: b,
                                end: f
                            };
                        }
                    }
                    return j;
                },
                isDragged: function() {
                    return this.dragged.length > 0;
                }
            }, {}, l), n("multipleSelectionHandles", o);
        }, {
            _base: 56,
            eventManager: 40,
            "helpers/dom/element": 44,
            plugins: 55
        } ],
        81: [ function(a, b, c) {
            "use strict";
            function d() {}
            function e() {
                var a = this, b = a.getSettings().observeChanges;
                b ? (a.observer && h.call(a), f.call(a), j.call(a)) : b || h.call(a);
            }
            function f() {
                var a = this;
                a.observeChangesActive = !0, a.pauseObservingChanges = function() {
                    a.observeChangesActive = !1;
                }, a.resumeObservingChanges = function() {
                    a.observeChangesActive = !0;
                }, a.observedData = a.getData(), a.observer = o.observe(a.observedData, function(b) {
                    a.observeChangesActive && (g.call(a, b), a.render()), a.runHooks("afterChangesObserved");
                });
            }
            function g(a) {
                function b(a) {
                    var b;
                    return b = d(a), b = c(b);
                }
                function c(a) {
                    var b = [];
                    return a.filter(function(a) {
                        var c = e(a.path);
                        if (-1 != [ "add", "remove" ].indexOf(a.op) && !isNaN(c.col)) {
                            if (-1 != b.indexOf(c.col)) return !1;
                            b.push(c.col);
                        }
                        return !0;
                    });
                }
                function d(a) {
                    return a.filter(function(a) {
                        return !/[/]length/gi.test(a.path);
                    });
                }
                function e(a) {
                    var b = a.match(/^\/(\d+)\/?(.*)?$/);
                    return {
                        row: parseInt(b[1], 10),
                        col: /^\d*$/.test(b[2]) ? parseInt(b[2], 10) : b[2]
                    };
                }
                for (var f = this, g = b(a), h = 0, i = g.length; i > h; h++) {
                    var j = g[h], k = e(j.path);
                    switch (j.op) {
                      case "add":
                        isNaN(k.col) ? f.runHooks("afterCreateRow", k.row) : f.runHooks("afterCreateCol", k.col);
                        break;

                      case "remove":
                        isNaN(k.col) ? f.runHooks("afterRemoveRow", k.row, 1) : f.runHooks("afterRemoveCol", k.col, 1);
                        break;

                      case "replace":
                        f.runHooks("afterChange", [ k.row, k.col, null, j.value ], "external");
                    }
                }
            }
            function h() {
                var a = this;
                a.observer && (i.call(a), k.call(a));
            }
            function i() {
                var a = this;
                o.unobserve(a.observedData, a.observer), delete a.observedData, delete a.observeChangesActive, 
                delete a.pauseObservingChanges, delete a.resumeObservingChanges;
            }
            function j() {
                var a = this;
                a.addHook("afterDestroy", h), a.addHook("afterCreateRow", l), a.addHook("afterRemoveRow", l), 
                a.addHook("afterCreateCol", l), a.addHook("afterRemoveCol", l), a.addHook("afterChange", function(a, b) {
                    "loadData" != b && l.call(this);
                });
            }
            function k() {
                var a = this;
                a.removeHook("afterDestroy", h), a.removeHook("afterCreateRow", l), a.removeHook("afterRemoveRow", l), 
                a.removeHook("afterCreateCol", l), a.removeHook("afterRemoveCol", l), a.removeHook("afterChange", l);
            }
            function l() {
                var a = this;
                a.pauseObservingChanges(), a.addHookOnce("afterChangesObserved", function() {
                    a.resumeObservingChanges();
                });
            }
            Object.defineProperties(c, {
                ObserveChanges: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var m, n, o = ((m = a("plugins"), m && m.__esModule && m || {
                "default": m
            }).registerPlugin, (n = a("jsonpatch"), n && n.__esModule && n || {
                "default": n
            })["default"]);
            Handsontable.hooks.add("afterLoadData", e), Handsontable.hooks.add("afterUpdateSettings", e), 
            Handsontable.hooks.register("afterChangesObserved");
        }, {
            jsonpatch: "jsonpatch",
            plugins: 55
        } ],
        82: [ function(a, b, c) {
            "use strict";
            function d(a) {
                var b, c = function() {
                    window.localStorage[a + "__persistentStateKeys"] = JSON.stringify(b);
                }, d = function() {
                    var c = window.localStorage[a + "__persistentStateKeys"], d = "string" == typeof c ? JSON.parse(c) : void 0;
                    b = d ? d : [];
                }, e = function() {
                    b = [], c();
                };
                d(), this.saveValue = function(d, e) {
                    window.localStorage[a + "_" + d] = JSON.stringify(e), -1 == b.indexOf(d) && (b.push(d), 
                    c());
                }, this.loadValue = function(b, c) {
                    b = "undefined" == typeof b ? c : b;
                    var d = window.localStorage[a + "_" + b];
                    return "undefined" == typeof d ? void 0 : JSON.parse(d);
                }, this.reset = function(b) {
                    window.localStorage.removeItem(a + "_" + b);
                }, this.resetAll = function() {
                    for (var c = 0; c < b.length; c++) window.localStorage.removeItem(a + "_" + b[c]);
                    e();
                };
            }
            function e() {
                function a() {
                    var a = this;
                    for (var b in e) e.hasOwnProperty(b) && a.addHook(b, e[b]);
                }
                function b() {
                    var a = this;
                    for (var b in e) e.hasOwnProperty(b) && a.removeHook(b, e[b]);
                }
                var c = this;
                this.init = function() {
                    var e = this, f = e.getSettings().persistentState;
                    return c.enabled = !!f, c.enabled ? (e.storage || (e.storage = new d(e.rootElement.id)), 
                    e.resetState = c.resetValue, void a.call(e)) : void b.call(e);
                }, this.saveValue = function(a, b) {
                    var c = this;
                    c.storage.saveValue(a, b);
                }, this.loadValue = function(a, b) {
                    var c = this;
                    b.value = c.storage.loadValue(a);
                }, this.resetValue = function(a) {
                    var b = this;
                    "undefined" == typeof a ? b.storage.resetAll() : b.storage.reset(a);
                };
                var e = {
                    persistentStateSave: c.saveValue,
                    persistentStateLoad: c.loadValue,
                    persistentStateReset: c.resetValue
                };
                for (var f in e) e.hasOwnProperty(f) && Handsontable.hooks.register(f);
            }
            Object.defineProperties(c, {
                HandsontablePersistentState: {
                    get: function() {
                        return e;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var f, g = ((f = a("plugins"), f && f.__esModule && f || {
                "default": f
            }).registerPlugin, new e());
            Handsontable.hooks.add("beforeInit", g.init), Handsontable.hooks.add("afterUpdateSettings", g.init);
        }, {
            plugins: 55
        } ],
        83: [ function(a, b, c) {
            "use strict";
            function d() {
                var a = this, b = !!a.getSettings().search;
                b ? a.search = new Handsontable.Search(a) : delete a.search;
            }
            var e, f, g = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), h = g.addClass, i = g.removeClass, j = (f = a("renderers"), f && f.__esModule && f || {
                "default": f
            }), k = j.registerRenderer, l = j.getRenderer;
            Handsontable.Search = function(a) {
                this.query = function(b, c, d) {
                    var e = a.countRows(), f = a.countCols(), g = [];
                    c || (c = Handsontable.Search.global.getDefaultCallback()), d || (d = Handsontable.Search.global.getDefaultQueryMethod());
                    for (var h = 0; e > h; h++) for (var i = 0; f > i; i++) {
                        var j = a.getDataAtCell(h, i), k = a.getCellMeta(h, i), l = k.search.callback || c, m = k.search.queryMethod || d, n = m(b, j);
                        if (n) {
                            var o = {
                                row: h,
                                col: i,
                                data: j
                            };
                            g.push(o);
                        }
                        l && l(a, h, i, j, n);
                    }
                    return g;
                };
            }, Handsontable.Search.DEFAULT_CALLBACK = function(a, b, c, d, e) {
                a.getCellMeta(b, c).isSearchResult = e;
            }, Handsontable.Search.DEFAULT_QUERY_METHOD = function(a, b) {
                return "undefined" != typeof a && null != a && a.toLowerCase && 0 !== a.length ? "undefined" == typeof b || null == b ? !1 : -1 != b.toString().toLowerCase().indexOf(a.toLowerCase()) : !1;
            }, Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS = "htSearchResult", Handsontable.Search.global = function() {
                var a = Handsontable.Search.DEFAULT_CALLBACK, b = Handsontable.Search.DEFAULT_QUERY_METHOD, c = Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS;
                return {
                    getDefaultCallback: function() {
                        return a;
                    },
                    setDefaultCallback: function(b) {
                        a = b;
                    },
                    getDefaultQueryMethod: function() {
                        return b;
                    },
                    setDefaultQueryMethod: function(a) {
                        b = a;
                    },
                    getDefaultSearchResultClass: function() {
                        return c;
                    },
                    setDefaultSearchResultClass: function(a) {
                        c = a;
                    }
                };
            }(), Handsontable.SearchCellDecorator = function(a, b, c, d, e, f, g) {
                var j = null !== g.search && "object" == typeof g.search && g.search.searchResultClass || Handsontable.Search.global.getDefaultSearchResultClass();
                g.isSearchResult ? h(b, j) : i(b, j);
            };
            var m = l("base");
            k("base", function(a, b, c, d, e, f, g) {
                m.apply(this, arguments), Handsontable.SearchCellDecorator.apply(this, arguments);
            }), Handsontable.hooks.add("afterInit", d), Handsontable.hooks.add("afterUpdateSettings", d);
        }, {
            "helpers/dom/element": 44,
            renderers: 86
        } ],
        84: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                TouchScroll: {
                    get: function() {
                        return l;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), h = g.addClass, i = g.removeClass, j = (e = a("_base"), e && e.__esModule && e || {
                "default": e
            })["default"], k = (f = a("plugins"), f && f.__esModule && f || {
                "default": f
            }).registerPlugin, l = function(a) {
                var b = this;
                $traceurRuntime.superConstructor(m).call(this, a), this.hot.addHook("afterInit", function() {
                    return b.afterInit();
                }), this.hot.addHook("afterUpdateSettings", function() {
                    return b.onAfterUpdateSettings();
                }), this.scrollbars = [], this.clones = [];
            }, m = l;
            $traceurRuntime.createClass(l, {
                afterInit: function() {
                    this.registerEvents(), this.onAfterUpdateSettings();
                },
                onAfterUpdateSettings: function() {
                    var a = this;
                    this.hot.addHookOnce("afterRender", function() {
                        var b = a.hot.view.wt.wtOverlays;
                        a.scrollbars = [], a.scrollbars.push(b.topOverlay), b.bottomOverlay.clone && a.scrollbars.push(b.bottomOverlay), 
                        a.scrollbars.push(b.leftOverlay), b.topLeftCornerOverlay && a.scrollbars.push(b.topLeftCornerOverlay), 
                        b.bottomLeftCornerOverlay && b.bottomLeftCornerOverlay.clone && a.scrollbars.push(b.bottomLeftCornerOverlay), 
                        a.clones = [], b.topOverlay.needFullRender && a.clones.push(b.topOverlay.clone.wtTable.holder.parentNode), 
                        b.bottomOverlay.needFullRender && a.clones.push(b.bottomOverlay.clone.wtTable.holder.parentNode), 
                        b.leftOverlay.needFullRender && a.clones.push(b.leftOverlay.clone.wtTable.holder.parentNode), 
                        b.topLeftCornerOverlay && a.clones.push(b.topLeftCornerOverlay.clone.wtTable.holder.parentNode), 
                        b.bottomLeftCornerOverlay && b.bottomLeftCornerOverlay.clone && a.clones.push(b.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);
                    });
                },
                registerEvents: function() {
                    var a = this;
                    this.hot.addHook("beforeTouchScroll", function() {
                        return a.onBeforeTouchScroll();
                    }), this.hot.addHook("afterMomentumScroll", function() {
                        return a.onAfterMomentumScroll();
                    });
                },
                onBeforeTouchScroll: function() {
                    Handsontable.freezeOverlays = !0;
                    for (var a = 0, b = this.clones.length; b > a; a++) h(this.clones[a], "hide-tween");
                },
                onAfterMomentumScroll: function() {
                    Handsontable.freezeOverlays = !1;
                    for (var a = this, b = 0, c = this.clones.length; c > b; b++) i(this.clones[b], "hide-tween");
                    for (var d = 0, e = this.clones.length; e > d; d++) h(this.clones[d], "show-tween");
                    setTimeout(function() {
                        for (var b = 0, c = a.clones.length; c > b; b++) i(a.clones[b], "show-tween");
                    }, 400);
                    for (var f = 0, g = this.scrollbars.length; g > f; f++) this.scrollbars[f].refresh(), 
                    this.scrollbars[f].resetFixedPosition();
                    this.hot.view.wt.wtOverlays.syncScrollWithMaster();
                }
            }, {}, j), k("touchScroll", l);
        }, {
            _base: 56,
            "helpers/dom/element": 44,
            plugins: 55
        } ],
        85: [ function(a, b, c) {
            "use strict";
            function d() {
                var a = this, b = "undefined" == typeof a.getSettings().undo || a.getSettings().undo;
                b ? a.undoRedo || (a.undoRedo = new Handsontable.UndoRedo(a), g(a), a.addHook("beforeKeyDown", e), 
                a.addHook("afterChange", f)) : a.undoRedo && (delete a.undoRedo, h(a), a.removeHook("beforeKeyDown", e), 
                a.removeHook("afterChange", f));
            }
            function e(a) {
                var b = this, c = (a.ctrlKey || a.metaKey) && !a.altKey;
                c && (89 === a.keyCode || a.shiftKey && 90 === a.keyCode ? (b.undoRedo.redo(), n(a)) : 90 === a.keyCode && (b.undoRedo.undo(), 
                n(a)));
            }
            function f(a, b) {
                var c = this;
                return "loadData" == b ? c.undoRedo.clear() : void 0;
            }
            function g(a) {
                a.undo = function() {
                    return a.undoRedo.undo();
                }, a.redo = function() {
                    return a.undoRedo.redo();
                }, a.isUndoAvailable = function() {
                    return a.undoRedo.isUndoAvailable();
                }, a.isRedoAvailable = function() {
                    return a.undoRedo.isRedoAvailable();
                }, a.clearUndo = function() {
                    return a.undoRedo.clear();
                };
            }
            function h(a) {
                delete a.undo, delete a.redo, delete a.isUndoAvailable, delete a.isRedoAvailable, 
                delete a.clearUndo;
            }
            var i, j, k = (i = a("helpers/object"), i && i.__esModule && i || {
                "default": i
            }), l = k.inherit, m = k.deepClone, n = (j = a("helpers/dom/event"), j && j.__esModule && j || {
                "default": j
            }).stopImmediatePropagation;
            Handsontable.UndoRedo = function(a) {
                var b = this;
                this.instance = a, this.doneActions = [], this.undoneActions = [], this.ignoreNewActions = !1, 
                a.addHook("afterChange", function(a, c) {
                    if (a) {
                        var d = new Handsontable.UndoRedo.ChangeAction(a);
                        b.done(d);
                    }
                }), a.addHook("afterCreateRow", function(a, c, d) {
                    if (!d) {
                        var e = new Handsontable.UndoRedo.CreateRowAction(a, c);
                        b.done(e);
                    }
                }), a.addHook("beforeRemoveRow", function(a, c) {
                    var d = b.instance.getData();
                    a = (d.length + a) % d.length;
                    var e = d.slice(a, a + c), f = new Handsontable.UndoRedo.RemoveRowAction(a, e);
                    b.done(f);
                }), a.addHook("afterCreateCol", function(a, c, d) {
                    if (!d) {
                        var e = new Handsontable.UndoRedo.CreateColumnAction(a, c);
                        b.done(e);
                    }
                }), a.addHook("beforeRemoveCol", function(c, d) {
                    var e = b.instance.getData();
                    c = (b.instance.countCols() + c) % b.instance.countCols();
                    for (var f = [], g = 0, h = e.length; h > g; g++) f[g] = e[g].slice(c, c + d);
                    var i;
                    Array.isArray(a.getSettings().colHeaders) && (i = a.getSettings().colHeaders.slice(c, c + f.length));
                    var j = new Handsontable.UndoRedo.RemoveColumnAction(c, f, i);
                    b.done(j);
                }), a.addHook("beforeCellAlignment", function(a, c, d, e) {
                    var f = new Handsontable.UndoRedo.CellAlignmentAction(a, c, d, e);
                    b.done(f);
                });
            }, Handsontable.UndoRedo.prototype.done = function(a) {
                this.ignoreNewActions || (this.doneActions.push(a), this.undoneActions.length = 0);
            }, Handsontable.UndoRedo.prototype.undo = function() {
                if (this.isUndoAvailable()) {
                    var a = this.doneActions.pop();
                    this.ignoreNewActions = !0;
                    var b = this;
                    a.undo(this.instance, function() {
                        b.ignoreNewActions = !1, b.undoneActions.push(a);
                    });
                }
            }, Handsontable.UndoRedo.prototype.redo = function() {
                if (this.isRedoAvailable()) {
                    var a = this.undoneActions.pop();
                    this.ignoreNewActions = !0;
                    var b = this;
                    a.redo(this.instance, function() {
                        b.ignoreNewActions = !1, b.doneActions.push(a);
                    });
                }
            }, Handsontable.UndoRedo.prototype.isUndoAvailable = function() {
                return this.doneActions.length > 0;
            }, Handsontable.UndoRedo.prototype.isRedoAvailable = function() {
                return this.undoneActions.length > 0;
            }, Handsontable.UndoRedo.prototype.clear = function() {
                this.doneActions.length = 0, this.undoneActions.length = 0;
            }, Handsontable.UndoRedo.Action = function() {}, Handsontable.UndoRedo.Action.prototype.undo = function() {}, 
            Handsontable.UndoRedo.Action.prototype.redo = function() {}, Handsontable.UndoRedo.ChangeAction = function(a) {
                this.changes = a;
            }, l(Handsontable.UndoRedo.ChangeAction, Handsontable.UndoRedo.Action), Handsontable.UndoRedo.ChangeAction.prototype.undo = function(a, b) {
                for (var c = m(this.changes), d = a.countEmptyRows(!0), e = a.countEmptyCols(!0), f = 0, g = c.length; g > f; f++) c[f].splice(3, 1);
                a.addHookOnce("afterChange", b), a.setDataAtRowProp(c, null, null, "undo");
                for (var f = 0, g = c.length; g > f; f++) a.getSettings().minSpareRows && c[f][0] + 1 + a.getSettings().minSpareRows === a.countRows() && d == a.getSettings().minSpareRows && (a.alter("remove_row", parseInt(c[f][0] + 1, 10), a.getSettings().minSpareRows), 
                a.undoRedo.doneActions.pop()), a.getSettings().minSpareCols && c[f][1] + 1 + a.getSettings().minSpareCols === a.countCols() && e == a.getSettings().minSpareCols && (a.alter("remove_col", parseInt(c[f][1] + 1, 10), a.getSettings().minSpareCols), 
                a.undoRedo.doneActions.pop());
            }, Handsontable.UndoRedo.ChangeAction.prototype.redo = function(a, b) {
                for (var c = m(this.changes), d = 0, e = c.length; e > d; d++) c[d].splice(2, 1);
                a.addHookOnce("afterChange", b), a.setDataAtRowProp(c, null, null, "redo");
            }, Handsontable.UndoRedo.CreateRowAction = function(a, b) {
                this.index = a, this.amount = b;
            }, l(Handsontable.UndoRedo.CreateRowAction, Handsontable.UndoRedo.Action), Handsontable.UndoRedo.CreateRowAction.prototype.undo = function(a, b) {
                var c = a.countRows(), d = a.getSettings().minSpareRows;
                this.index >= c && this.index - d < c && (this.index -= d), a.addHookOnce("afterRemoveRow", b), 
                a.alter("remove_row", this.index, this.amount);
            }, Handsontable.UndoRedo.CreateRowAction.prototype.redo = function(a, b) {
                a.addHookOnce("afterCreateRow", b), a.alter("insert_row", this.index + 1, this.amount);
            }, Handsontable.UndoRedo.RemoveRowAction = function(a, b) {
                this.index = a, this.data = b;
            }, l(Handsontable.UndoRedo.RemoveRowAction, Handsontable.UndoRedo.Action), Handsontable.UndoRedo.RemoveRowAction.prototype.undo = function(a, b) {
                var c = [ this.index, 0 ];
                Array.prototype.push.apply(c, this.data), Array.prototype.splice.apply(a.getData(), c), 
                a.addHookOnce("afterRender", b), a.render();
            }, Handsontable.UndoRedo.RemoveRowAction.prototype.redo = function(a, b) {
                a.addHookOnce("afterRemoveRow", b), a.alter("remove_row", this.index, this.data.length);
            }, Handsontable.UndoRedo.CreateColumnAction = function(a, b) {
                this.index = a, this.amount = b;
            }, l(Handsontable.UndoRedo.CreateColumnAction, Handsontable.UndoRedo.Action), Handsontable.UndoRedo.CreateColumnAction.prototype.undo = function(a, b) {
                a.addHookOnce("afterRemoveCol", b), a.alter("remove_col", this.index, this.amount);
            }, Handsontable.UndoRedo.CreateColumnAction.prototype.redo = function(a, b) {
                a.addHookOnce("afterCreateCol", b), a.alter("insert_col", this.index + 1, this.amount);
            }, Handsontable.UndoRedo.CellAlignmentAction = function(a, b, c, d) {
                this.stateBefore = a, this.range = b, this.type = c, this.alignment = d;
            }, Handsontable.UndoRedo.CellAlignmentAction.prototype.undo = function(a, b) {
                if (a.getPlugin("contextMenu").isEnabled()) {
                    for (var c = this.range.from.row; c <= this.range.to.row; c++) for (var d = this.range.from.col; d <= this.range.to.col; d++) a.setCellMeta(c, d, "className", this.stateBefore[c][d] || " htLeft");
                    a.addHookOnce("afterRender", b), a.render();
                }
            }, Handsontable.UndoRedo.CellAlignmentAction.prototype.redo = function(a, b) {
                a.getPlugin("contextMenu").isEnabled() && (a.selectCell(this.range.from.row, this.range.from.col, this.range.to.row, this.range.to.col), 
                a.getPlugin("contextMenu").executeCommand("alignment:" + this.alignment.replace("ht", "").toLowerCase()), 
                a.addHookOnce("afterRender", b), a.render());
            }, Handsontable.UndoRedo.RemoveColumnAction = function(a, b, c) {
                this.index = a, this.data = b, this.amount = this.data[0].length, this.headers = c;
            }, l(Handsontable.UndoRedo.RemoveColumnAction, Handsontable.UndoRedo.Action), Handsontable.UndoRedo.RemoveColumnAction.prototype.undo = function(a, b) {
                for (var c, d, e = 0, f = a.getData().length; f > e; e++) c = a.getSourceDataAtRow(e), 
                d = [ this.index, 0 ], Array.prototype.push.apply(d, this.data[e]), Array.prototype.splice.apply(c, d);
                "undefined" != typeof this.headers && (d = [ this.index, 0 ], Array.prototype.push.apply(d, this.headers), 
                Array.prototype.splice.apply(a.getSettings().colHeaders, d)), a.addHookOnce("afterRender", b), 
                a.render();
            }, Handsontable.UndoRedo.RemoveColumnAction.prototype.redo = function(a, b) {
                a.addHookOnce("afterRemoveCol", b), a.alter("remove_col", this.index, this.amount);
            }, Handsontable.hooks.add("afterInit", d), Handsontable.hooks.add("afterUpdateSettings", d);
        }, {
            "helpers/dom/event": 45,
            "helpers/object": 49
        } ],
        86: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                var c;
                i[a] = b, c = h(a) + "Renderer", Handsontable.renderers[c] = b, Handsontable[c] = b;
            }
            function e(a) {
                if ("function" == typeof a) return a;
                if ("string" != typeof a) throw Error('Only strings and functions can be passed as "renderer" parameter');
                if (!(a in i)) throw Error('No editor registered under name "' + a + '"');
                return i[a];
            }
            function f(a) {
                return a in i;
            }
            Object.defineProperties(c, {
                registerRenderer: {
                    get: function() {
                        return d;
                    }
                },
                getRenderer: {
                    get: function() {
                        return e;
                    }
                },
                hasRenderer: {
                    get: function() {
                        return f;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var g, h = (g = a("helpers/string"), g && g.__esModule && g || {
                "default": g
            }).toUpperCaseFirst, i = {};
            Handsontable.renderers = Handsontable.renderers || {}, Handsontable.renderers.registerRenderer = d, 
            Handsontable.renderers.getRenderer = e;
        }, {
            "helpers/string": 51
        } ],
        87: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d, e, f, g) {
                g.className && (b.className ? b.className = b.className + " " + g.className : b.className = g.className), 
                g.readOnly && h(b, g.readOnlyCellClassName), g.valid === !1 && g.invalidCellClassName ? h(b, g.invalidCellClassName) : i(b, g.invalidCellClassName), 
                g.wordWrap === !1 && g.noWordWrapClassName && h(b, g.noWordWrapClassName), !f && g.placeholder && h(b, g.placeholderCellClassName);
            }
            Object.defineProperties(c, {
                cellDecorator: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), h = g.addClass, i = g.removeClass, j = (f = a("renderers"), f && f.__esModule && f || {
                "default": f
            }).registerRenderer;
            j("base", d), Handsontable.renderers.cellDecorator = d;
        }, {
            "helpers/dom/element": 44,
            renderers: 86
        } ],
        88: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d, e, f, g) {
                var h = (q.cloneNode(!0), r.cloneNode(!0));
                if (n("text")(a, b, c, d, e, f, g), b.appendChild(h), j(b, "htAutocomplete"), b.firstChild || b.appendChild(document.createTextNode(String.fromCharCode(160))), 
                !a.acArrowListener) {
                    var i = l(a);
                    a.acArrowListener = function(e) {
                        k(e.target, "htAutocompleteArrow") && a.view.wt.getSetting("onCellDblClick", null, new p(c, d), b);
                    }, i.addEventListener(a.rootElement, "mousedown", a.acArrowListener), a.addHookOnce("afterDestroy", function() {
                        i.destroy();
                    });
                }
            }
            Object.defineProperties(c, {
                autocompleteRenderer: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), j = i.addClass, k = i.hasClass, l = (i.empty, (f = a("eventManager"), f && f.__esModule && f || {
                "default": f
            }).eventManager), m = (g = a("renderers"), g && g.__esModule && g || {
                "default": g
            }), n = m.getRenderer, o = m.registerRenderer, p = (h = a("3rdparty/walkontable/src/cell/coords"), 
            h && h.__esModule && h || {
                "default": h
            }).WalkontableCellCoords, q = document.createElement("DIV");
            q.className = "htAutocompleteWrapper";
            var r = document.createElement("DIV");
            r.className = "htAutocompleteArrow", r.appendChild(document.createTextNode(String.fromCharCode(9660)));
            o("autocomplete", d);
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            eventManager: 40,
            "helpers/dom/element": 44,
            renderers: 86
        } ],
        89: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d, h, i, j) {
                function k(a) {
                    var b = [ v.SPACE, v.ENTER, v.DELETE, v.BACKSPACE ];
                    -1 === b.indexOf(a.keyCode) || z(a) || n(function() {
                        y(a), a.preventDefault();
                    }), (a.keyCode == v.SPACE || a.keyCode == v.ENTER) && l(), (a.keyCode == v.DELETE || a.keyCode == v.BACKSPACE) && l(!1);
                }
                function l() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null;
                    n(function(b) {
                        for (var c = 0, d = b.length; d > c; c++) {
                            if (q(b[c], B) && null === a) return;
                            m(b[c], a);
                        }
                    });
                }
                function m(a) {
                    var b = void 0 !== arguments[1] ? arguments[1] : null;
                    null === b ? a.checked = !a.checked : a.checked = b, t.fireEvent(a, "change");
                }
                function n(b) {
                    for (var c = a.getSelectedRange(), d = c.getTopLeftCorner(), e = c.getBottomRightCorner(), f = d.row; f <= e.row; f++) for (var g = d.col; g <= e.col; g++) {
                        var h = a.getCell(f, g), i = a.getCellMeta(f, g), j = h.querySelectorAll("input[type=checkbox]");
                        j.length > 0 && !i.readOnly && b(j);
                    }
                }
                var t = new s(a), u = e(), w = j.label, C = !1;
                if ("undefined" == typeof j.checkedTemplate && (j.checkedTemplate = !0), "undefined" == typeof j.uncheckedTemplate && (j.uncheckedTemplate = !1), 
                o(b), i === j.checkedTemplate || r(i, j.checkedTemplate) ? u.checked = !0 : i === j.uncheckedTemplate || r(i, j.uncheckedTemplate) ? u.checked = !1 : null === i ? p(u, "noValue") : (u.style.display = "none", 
                p(u, B), C = !0), !C && w) {
                    var D = "";
                    w.value ? D = "function" == typeof w.value ? w.value.call(this, c, d, h, i) : w.value : w.property && (D = a.getDataAtRowProp(c, w.property));
                    var E = f(D);
                    "before" === w.position ? E.appendChild(u) : E.insertBefore(u, E.firstChild), u = E;
                }
                b.appendChild(u), C && b.appendChild(document.createTextNode("#bad-value#")), j.readOnly ? t.addEventListener(u, "click", g) : (t.addEventListener(u, "mousedown", x), 
                t.addEventListener(u, "mouseup", x), t.addEventListener(u, "change", function(b) {
                    a.setDataAtRowProp(c, h, b.target.checked ? j.checkedTemplate : j.uncheckedTemplate);
                })), A.has(a) || (A.set(a, !0), a.addHook("beforeKeyDown", k));
            }
            function e() {
                var a = document.createElement("input");
                return a.className = "htCheckboxRendererInput", a.type = "checkbox", a.setAttribute("autocomplete", "off"), 
                a.cloneNode(!1);
            }
            function f(a) {
                var b = document.createElement("label");
                return b.className = "htCheckboxRendererLabel", b.appendChild(document.createTextNode(a)), 
                b.cloneNode(!0);
            }
            function g(a) {
                a.preventDefault();
            }
            Object.defineProperties(c, {
                checkboxRenderer: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var h, i, j, k, l, m, n = (h = a("helpers/dom/element"), h && h.__esModule && h || {
                "default": h
            }), o = n.empty, p = n.addClass, q = n.hasClass, r = (i = a("helpers/string"), i && i.__esModule && i || {
                "default": i
            }).equalsIgnoreCase, s = (j = a("eventManager"), j && j.__esModule && j || {
                "default": j
            }).EventManager, t = (k = a("renderers"), k && k.__esModule && k || {
                "default": k
            }), u = (t.getRenderer, t.registerRenderer), v = (l = a("helpers/unicode"), l && l.__esModule && l || {
                "default": l
            }).KEY_CODES, w = (m = a("helpers/dom/event"), m && m.__esModule && m || {
                "default": m
            }), x = w.stopPropagation, y = w.stopImmediatePropagation, z = w.isImmediatePropagationStopped, A = new WeakMap(), B = "htBadValue";
            u("checkbox", d);
        }, {
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45,
            "helpers/string": 51,
            "helpers/unicode": 52,
            renderers: 86
        } ],
        90: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d, e, f, h) {
                i("base").apply(this, arguments), g(b, f);
            }
            Object.defineProperties(c, {
                htmlRenderer: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }).fastInnerHTML, h = (f = a("renderers"), f && f.__esModule && f || {
                "default": f
            }), i = h.getRenderer, j = h.registerRenderer;
            j("html", d);
        }, {
            "helpers/dom/element": 44,
            renderers: 86
        } ],
        91: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d, e, f, g) {
                n(f) && ("undefined" != typeof g.language && i.language(g.language), f = i(f).format(g.format || "0"), 
                j(b, "htNumeric")), l("text")(a, b, c, d, e, f, g);
            }
            Object.defineProperties(c, {
                numericRenderer: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i = (e = a("numeral"), e && e.__esModule && e || {
                "default": e
            })["default"], j = (f = a("helpers/dom/element"), f && f.__esModule && f || {
                "default": f
            }).addClass, k = (g = a("renderers"), g && g.__esModule && g || {
                "default": g
            }), l = k.getRenderer, m = k.registerRenderer, n = (h = a("helpers/number"), h && h.__esModule && h || {
                "default": h
            }).isNumeric;
            m("numeric", d);
        }, {
            "helpers/dom/element": 44,
            "helpers/number": 48,
            numeral: "numeral",
            renderers: 86
        } ],
        92: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d, e, f, h) {
                i("text").apply(this, arguments), f = b.innerHTML;
                var j, k = h.hashLength || f.length, l = h.hashSymbol || "*";
                for (j = ""; j.split(l).length - 1 < k; j += l) ;
                g(b, j);
            }
            Object.defineProperties(c, {
                passwordRenderer: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }).fastInnerHTML, h = (f = a("renderers"), f && f.__esModule && f || {
                "default": f
            }), i = h.getRenderer, j = h.registerRenderer;
            j("password", d);
        }, {
            "helpers/dom/element": 44,
            renderers: 86
        } ],
        93: [ function(a, b, c) {
            "use strict";
            function d(a, b, c, d, e, f, g) {
                m("base").apply(this, arguments), !f && g.placeholder && (f = g.placeholder);
                var h = k(f);
                if (a.getSettings().trimWhitespace || (h = h.replace(/ /g, String.fromCharCode(160))), 
                g.rendererTemplate) {
                    i(b);
                    var l = document.createElement("TEMPLATE");
                    l.setAttribute("bind", "{{}}"), l.innerHTML = g.rendererTemplate, HTMLTemplateElement.decorate(l), 
                    l.model = a.getSourceDataAtRow(c), b.appendChild(l);
                } else j(b, h);
            }
            Object.defineProperties(c, {
                textRenderer: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), i = h.empty, j = h.fastInnerText, k = (f = a("helpers/mixed"), f && f.__esModule && f || {
                "default": f
            }).stringify, l = (g = a("renderers"), g && g.__esModule && g || {
                "default": g
            }), m = l.getRenderer, n = l.registerRenderer;
            n("text", d);
        }, {
            "helpers/dom/element": 44,
            "helpers/mixed": 47,
            renderers: 86
        } ],
        94: [ function(a, b, c) {
            "use strict";
            !function(a) {
                function b(a) {
                    return {
                        configurable: !0,
                        enumerable: !1,
                        value: a,
                        writable: !0
                    };
                }
                function c() {
                    return "__$" + Math.floor(1e9 * Math.random()) + "$" + ++S + "$__";
                }
                function d(a) {
                    return X[a];
                }
                function e() {
                    var a = c();
                    return X[a] = !0, a;
                }
                function f(a) {
                    return "object" == typeof a && a instanceof i;
                }
                function g(a) {
                    return f(a) ? "symbol" : typeof a;
                }
                function h(a) {
                    var b = new i(a);
                    if (!(this instanceof h)) return b;
                    throw new TypeError("Symbol cannot be new'ed");
                }
                function i(a) {
                    var b = c();
                    I(this, V, {
                        value: this
                    }), I(this, T, {
                        value: b
                    }), I(this, U, {
                        value: a
                    }), k(this), W[b] = this;
                }
                function j(a) {
                    var b = a[Y];
                    return b && b.self === a ? b : Q(a) ? ($.hash.value = _++, $.self.value = a, Z.value = G(null, $), 
                    I(a, Y, Z), Z.value) : void 0;
                }
                function k(a) {
                    return j(a), J.apply(this, arguments);
                }
                function l(a) {
                    return j(a), O.apply(this, arguments);
                }
                function m(a) {
                    return j(a), P.apply(this, arguments);
                }
                function n(a) {
                    return W[a] || X[a];
                }
                function o(a) {
                    return f(a) ? a[T] : a;
                }
                function p(a) {
                    for (var b = [], c = 0; c < a.length; c++) n(a[c]) || b.push(a[c]);
                    return b;
                }
                function q(a) {
                    return p(L(a));
                }
                function r(a) {
                    return p(M(a));
                }
                function s(a) {
                    for (var b = [], c = L(a), d = 0; d < c.length; d++) {
                        var e = W[c[d]];
                        e && b.push(e);
                    }
                    return b;
                }
                function t(a, b) {
                    return K(a, o(b));
                }
                function u(a) {
                    return N.call(this, o(a));
                }
                function v(b) {
                    return a.traceur && a.traceur.options[b];
                }
                function w(a, b, c) {
                    return f(b) && (b = b[T]), I(a, b, c), a;
                }
                function x(a) {
                    I(a, "defineProperty", {
                        value: w
                    }), I(a, "getOwnPropertyNames", {
                        value: q
                    }), I(a, "getOwnPropertyDescriptor", {
                        value: t
                    }), I(a.prototype, "hasOwnProperty", {
                        value: u
                    }), I(a, "freeze", {
                        value: k
                    }), I(a, "preventExtensions", {
                        value: l
                    }), I(a, "seal", {
                        value: m
                    }), I(a, "keys", {
                        value: r
                    });
                }
                function y(a) {
                    for (var b = 1; b < arguments.length; b++) for (var c = L(arguments[b]), d = 0; d < c.length; d++) {
                        var e = c[d];
                        n(e) || !function(b, c) {
                            I(a, c, {
                                get: function() {
                                    return b[c];
                                },
                                enumerable: !0
                            });
                        }(arguments[b], c[d]);
                    }
                    return a;
                }
                function z(a) {
                    return null != a && ("object" == typeof a || "function" == typeof a);
                }
                function A(a) {
                    if (null == a) throw F();
                    return E(a);
                }
                function B(a) {
                    if (null == a) throw new TypeError("Value cannot be converted to an Object");
                    return a;
                }
                function C(a, b) {
                    a.Symbol || (a.Symbol = b, Object.getOwnPropertySymbols = s), a.Symbol.iterator || (a.Symbol.iterator = b("Symbol.iterator"));
                }
                function D(a) {
                    C(a, h), a.Reflect = a.Reflect || {}, a.Reflect.global = a.Reflect.global || a, 
                    x(a.Object);
                }
                if (!a.$traceurRuntime) {
                    var E = Object, F = TypeError, G = E.create, H = E.defineProperties, I = E.defineProperty, J = E.freeze, K = E.getOwnPropertyDescriptor, L = E.getOwnPropertyNames, M = E.keys, N = E.prototype.hasOwnProperty, O = Object.preventExtensions, P = Object.seal, Q = Object.isExtensible, R = b, S = 0, T = c(), U = c(), V = c(), W = G(null), X = G(null);
                    I(h.prototype, "constructor", b(h)), I(h.prototype, "toString", R(function() {
                        var a = this[V];
                        if (!v("symbols")) return a[T];
                        if (!a) throw TypeError("Conversion from symbol to string");
                        var b = a[U];
                        return void 0 === b && (b = ""), "Symbol(" + b + ")";
                    })), I(h.prototype, "valueOf", R(function() {
                        var a = this[V];
                        if (!a) throw TypeError("Conversion from symbol to string");
                        return v("symbols") ? a : a[T];
                    })), I(i.prototype, "constructor", b(h)), I(i.prototype, "toString", {
                        value: h.prototype.toString,
                        enumerable: !1
                    }), I(i.prototype, "valueOf", {
                        value: h.prototype.valueOf,
                        enumerable: !1
                    });
                    var Y = e(), Z = {
                        value: void 0
                    }, $ = {
                        hash: {
                            value: void 0
                        },
                        self: {
                            value: void 0
                        }
                    }, _ = 0;
                    k(i.prototype), D(a), a.$traceurRuntime = {
                        checkObjectCoercible: B,
                        createPrivateName: e,
                        defineProperties: H,
                        defineProperty: I,
                        exportStar: y,
                        getOwnHashObject: j,
                        getOwnPropertyDescriptor: K,
                        getOwnPropertyNames: L,
                        isObject: z,
                        isPrivateName: d,
                        isSymbolString: n,
                        keys: M,
                        setupGlobals: D,
                        toObject: A,
                        toProperty: o,
                        "typeof": g
                    };
                }
            }(window), function() {
                function a() {
                    for (var a, c = [], d = 0, e = 0; e < arguments.length; e++) {
                        var f = $traceurRuntime.checkObjectCoercible(arguments[e]);
                        if ("function" != typeof f[b(Symbol.iterator)]) throw new TypeError("Cannot spread non-iterable object.");
                        for (var g = f[b(Symbol.iterator)](); !(a = g.next()).done; ) c[d++] = a.value;
                    }
                    return c;
                }
                var b = $traceurRuntime.toProperty;
                $traceurRuntime.spread = a;
            }(), function() {
                function a(a, b) {
                    var c = p(a);
                    do {
                        var d = o(c, b);
                        if (d) return d;
                        c = p(c);
                    } while (c);
                }
                function b(a) {
                    return a.__proto__;
                }
                function c(a, b, c, e) {
                    return d(a, b, c).apply(a, e);
                }
                function d(b, c, d) {
                    var e = a(c, d);
                    return e ? e.get ? e.get.call(b) : e.value : void 0;
                }
                function e(b, c, d, e) {
                    var f = a(c, d);
                    if (f && f.set) return f.set.call(b, e), e;
                    throw k("super has no setter '" + d + "'.");
                }
                function f(a) {
                    for (var b = {}, c = s(a), d = 0; d < c.length; d++) {
                        var e = c[d];
                        b[e] = o(a, e);
                    }
                    for (var f = t(a), d = 0; d < f.length; d++) {
                        var g = f[d];
                        b[q(g)] = o(a, q(g));
                    }
                    return b;
                }
                function g(a, b, c, d) {
                    return n(b, "constructor", {
                        value: a,
                        configurable: !0,
                        enumerable: !1,
                        writable: !0
                    }), arguments.length > 3 ? ("function" == typeof d && (a.__proto__ = d), a.prototype = l(h(d), f(b))) : a.prototype = b, 
                    n(a, "prototype", {
                        configurable: !1,
                        writable: !1
                    }), m(a, f(c));
                }
                function h(a) {
                    if ("function" == typeof a) {
                        var b = a.prototype;
                        if (j(b) === b || null === b) return a.prototype;
                        throw new k("super prototype must be an Object or null");
                    }
                    if (null === a) return null;
                    throw new k("Super expression must either be null or a function, not " + typeof a + ".");
                }
                function i(a, b, d) {
                    null !== p(b) && c(a, b, "constructor", d);
                }
                var j = Object, k = TypeError, l = j.create, m = $traceurRuntime.defineProperties, n = $traceurRuntime.defineProperty, o = $traceurRuntime.getOwnPropertyDescriptor, p = Object.getPrototypeOf, q = $traceurRuntime.toProperty, r = Object, s = r.getOwnPropertyNames, t = r.getOwnPropertySymbols;
                $traceurRuntime.createClass = g, $traceurRuntime.defaultSuperCall = i, $traceurRuntime.superCall = c, 
                $traceurRuntime.superConstructor = b, $traceurRuntime.superGet = d, $traceurRuntime.superSet = e;
            }();
        }, {} ],
        95: [ function(a, b, c) {
            "use strict";
            function d(a) {
                var b = this;
                this.eventManager = u(a), this.instance = a, this.settings = a.getSettings();
                var c = a.rootElement.getAttribute("style");
                c && a.rootElement.setAttribute("data-originalstyle", c), l(a.rootElement, "handsontable");
                var d = document.createElement("TABLE");
                l(d, "htCore"), a.getSettings().tableClassName && l(d, a.getSettings().tableClassName), 
                this.THEAD = document.createElement("THEAD"), d.appendChild(this.THEAD), this.TBODY = document.createElement("TBODY"), 
                d.appendChild(this.TBODY), a.table = d, a.container.insertBefore(d, a.container.firstChild), 
                this.eventManager.addEventListener(a.rootElement, "mousedown", function(a) {
                    b.isTextSelectionAllowed(a.target) || (f(), a.preventDefault(), window.focus());
                }), this.eventManager.addEventListener(document.documentElement, "keyup", function(b) {
                    a.selection.isInProgress() && !b.shiftKey && a.selection.finish();
                });
                var e;
                this.isMouseDown = function() {
                    return e;
                }, this.eventManager.addEventListener(document.documentElement, "mouseup", function(b) {
                    a.selection.isInProgress() && 1 === b.which && a.selection.finish(), e = !1, t(document.activeElement) && a.unlisten();
                }), this.eventManager.addEventListener(document.documentElement, "mousedown", function(c) {
                    var d = c.target, f = c.x || c.clientX, g = c.y || c.clientY;
                    if (!e && a.rootElement) {
                        if (d === a.view.wt.wtTable.holder) {
                            var h = p();
                            if (document.elementFromPoint(f + h, g) !== a.view.wt.wtTable.holder || document.elementFromPoint(f, g + h) !== a.view.wt.wtTable.holder) return;
                        } else for (;d !== document.documentElement; ) {
                            if (null === d) {
                                if (c.isTargetWebComponent) break;
                                return;
                            }
                            if (d === a.rootElement) return;
                            d = d.parentNode;
                        }
                        b.settings.outsideClickDeselects ? a.deselectCell() : a.destroyEditor();
                    }
                }), this.eventManager.addEventListener(d, "selectstart", function(a) {
                    b.settings.fragmentSelection || a.preventDefault();
                });
                var f = function() {
                    window.getSelection ? window.getSelection().empty ? window.getSelection().empty() : window.getSelection().removeAllRanges && window.getSelection().removeAllRanges() : document.selection && document.selection.empty();
                }, g = [ new z({
                    className: "current",
                    border: {
                        width: 2,
                        color: "#5292F7",
                        cornerVisible: function() {
                            return b.settings.fillHandle && !b.isCellEdited() && !a.selection.isMultiple();
                        },
                        multipleSelectionHandlesVisible: function() {
                            return !b.isCellEdited() && !a.selection.isMultiple();
                        }
                    }
                }), new z({
                    className: "area",
                    border: {
                        width: 1,
                        color: "#89AFF9",
                        cornerVisible: function() {
                            return b.settings.fillHandle && !b.isCellEdited() && a.selection.isMultiple();
                        },
                        multipleSelectionHandlesVisible: function() {
                            return !b.isCellEdited() && a.selection.isMultiple();
                        }
                    }
                }), new z({
                    className: "highlight",
                    highlightRowClassName: b.settings.currentRowClassName,
                    highlightColumnClassName: b.settings.currentColClassName
                }), new z({
                    className: "fill",
                    border: {
                        width: 1,
                        color: "red"
                    }
                }) ];
                g.current = g[0], g.area = g[1], g.highlight = g[2], g.fill = g[3];
                var h = {
                    debug: function() {
                        return b.settings.debug;
                    },
                    externalRowCalculator: this.instance.getPlugin("autoRowSize") && this.instance.getPlugin("autoRowSize").isEnabled(),
                    table: d,
                    stretchH: this.settings.stretchH,
                    data: a.getDataAtCell,
                    totalRows: a.countRows,
                    totalColumns: a.countCols,
                    fixedColumnsLeft: function() {
                        return b.settings.fixedColumnsLeft;
                    },
                    fixedRowsTop: function() {
                        return b.settings.fixedRowsTop;
                    },
                    fixedRowsBottom: function() {
                        return b.settings.fixedRowsBottom;
                    },
                    minSpareRows: function() {
                        return b.settings.minSpareRows;
                    },
                    renderAllRows: b.settings.renderAllRows,
                    rowHeaders: function() {
                        var c = [];
                        return a.hasRowHeaders() && c.push(function(a, c) {
                            b.appendRowHeader(a, c);
                        }), Handsontable.hooks.run(a, "afterGetRowHeaderRenderers", c), c;
                    },
                    columnHeaders: function() {
                        var c = [];
                        return a.hasColHeaders() && c.push(function(a, c) {
                            b.appendColHeader(a, c);
                        }), Handsontable.hooks.run(a, "afterGetColumnHeaderRenderers", c), c;
                    },
                    columnWidth: a.getColWidth,
                    rowHeight: a.getRowHeight,
                    cellRenderer: function(a, c, d) {
                        var e = b.instance.colToProp(c), f = b.instance.getCellMeta(a, c), g = b.instance.getCellRenderer(f), h = b.instance.getDataAtRowProp(a, e);
                        g(b.instance, d, a, c, e, h, f), Handsontable.hooks.run(b.instance, "afterRenderer", d, a, c, e, h, f);
                    },
                    selections: g,
                    hideBorderOnMouseDownOver: function() {
                        return b.settings.fragmentSelection;
                    },
                    onCellMouseDown: function(c, d, f, g) {
                        var h, i, j = f.parentNode, k = j.parentNode;
                        if (a.listen(), b.activeWt = g, e = !0, Handsontable.hooks.run(a, "beforeOnCellMouseDown", c, d, f), 
                        a.selection.setSelectedHeaders(!1, !1), !x(c)) {
                            if (2 === c.button && a.selection.inInSelection(d)) ; else c.shiftKey ? d.row >= 0 && d.col >= 0 && a.selection.setRangeEnd(d) : (d.row < 0 || d.col < 0) && (d.row >= 0 || d.col >= 0) ? (d.row < 0 && (h = k.childNodes.length - Array.prototype.indexOf.call(k.childNodes, j) - 1, 
                            i = a.getHeaderColspan(d.col, h), a.selection.setSelectedHeaders(!1, !0), a.selectCell(0, d.col, a.countRows() - 1, d.col + Math.max(0, i - 1))), 
                            d.col < 0 && (a.selection.setSelectedHeaders(!0, !1), a.selectCell(d.row, 0, d.row, a.countCols() - 1))) : (d.row = d.row < 0 ? 0 : d.row, 
                            d.col = d.col < 0 ? 0 : d.col, a.selection.setRangeStart(d));
                            Handsontable.hooks.run(a, "afterOnCellMouseDown", c, d, f), b.activeWt = b.wt;
                        }
                    },
                    onCellMouseOver: function(c, d, f, g) {
                        b.activeWt = g, d.row >= 0 && d.col >= 0 ? e && a.selection.setRangeEnd(d) : e && (d.row < 0 && (a.selection.selectedHeader.cols ? (a.selection.setRangeEnd(new y(a.countRows() - 1, d.col)), 
                        a.selection.setSelectedHeaders(!1, !0)) : a.selection.setRangeEnd(new y(d.row, d.col))), 
                        d.col < 0 && (a.selection.selectedHeader.rows ? (a.selection.setRangeEnd(new y(d.row, a.countCols() - 1)), 
                        a.selection.setSelectedHeaders(!0, !1)) : a.selection.setRangeEnd(new y(d.row, d.col)))), 
                        Handsontable.hooks.run(a, "afterOnCellMouseOver", c, d, f), b.activeWt = b.wt;
                    },
                    onCellCornerMouseDown: function(b) {
                        b.preventDefault(), Handsontable.hooks.run(a, "afterOnCellCornerMouseDown", b);
                    },
                    beforeDraw: function(a) {
                        b.beforeRender(a);
                    },
                    onDraw: function(a) {
                        b.onDraw(a);
                    },
                    onScrollVertically: function() {
                        a.runHooks("afterScrollVertically");
                    },
                    onScrollHorizontally: function() {
                        a.runHooks("afterScrollHorizontally");
                    },
                    onBeforeDrawBorders: function(b, c) {
                        a.runHooks("beforeDrawBorders", b, c);
                    },
                    onBeforeTouchScroll: function() {
                        a.runHooks("beforeTouchScroll");
                    },
                    onAfterMomentumScroll: function() {
                        a.runHooks("afterMomentumScroll");
                    },
                    viewportRowCalculatorOverride: function(c) {
                        var d = a.countRows(), e = b.settings.viewportRowRenderingOffset;
                        if ("auto" === e && b.settings.fixedRowsTop && (e = 10), "number" == typeof e && (c.startRow = Math.max(c.startRow - e, 0), 
                        c.endRow = Math.min(c.endRow + e, d - 1)), "auto" === e) {
                            var f = c.startRow + c.endRow - c.startRow, g = Math.ceil(f / d * 12);
                            c.startRow = Math.max(c.startRow - g, 0), c.endRow = Math.min(c.endRow + g, d - 1);
                        }
                        a.runHooks("afterViewportRowCalculatorOverride", c);
                    },
                    viewportColumnCalculatorOverride: function(c) {
                        var d = a.countCols(), e = b.settings.viewportColumnRenderingOffset;
                        if ("auto" === e && b.settings.fixedColumnsLeft && (e = 10), "number" == typeof e && (c.startColumn = Math.max(c.startColumn - e, 0), 
                        c.endColumn = Math.min(c.endColumn + e, d - 1)), "auto" === e) {
                            var f = c.startColumn + c.endColumn - c.startColumn, g = Math.ceil(f / d * 12);
                            c.startRow = Math.max(c.startColumn - g, 0), c.endColumn = Math.min(c.endColumn + g, d - 1);
                        }
                        a.runHooks("afterViewportColumnCalculatorOverride", c);
                    }
                };
                Handsontable.hooks.run(a, "beforeInitWalkontable", h), this.wt = new A(h), this.activeWt = this.wt, 
                this.eventManager.addEventListener(b.wt.wtTable.spreader, "mousedown", function(a) {
                    a.target === b.wt.wtTable.spreader && 3 === a.which && w(a);
                }), this.eventManager.addEventListener(b.wt.wtTable.spreader, "contextmenu", function(a) {
                    a.target === b.wt.wtTable.spreader && 3 === a.which && w(a);
                }), this.eventManager.addEventListener(document.documentElement, "click", function() {
                    b.settings.observeDOMVisibility && b.wt.drawInterrupted && (b.instance.forceFullRender = !0, 
                    b.render());
                });
            }
            Object.defineProperties(c, {
                TableView: {
                    get: function() {
                        return d;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i, j, k = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), l = k.addClass, m = k.empty, n = k.fastInnerHTML, o = k.fastInnerText, p = k.getScrollbarWidth, q = k.hasClass, r = k.isChildOf, s = k.isInput, t = k.isOutsideInput, u = (f = a("eventManager"), 
            f && f.__esModule && f || {
                "default": f
            }).eventManager, v = (g = a("helpers/dom/event"), g && g.__esModule && g || {
                "default": g
            }), w = v.stopPropagation, x = v.isImmediatePropagationStopped, y = (h = a("3rdparty/walkontable/src/cell/coords"), 
            h && h.__esModule && h || {
                "default": h
            }).WalkontableCellCoords, z = (i = a("3rdparty/walkontable/src/selection"), i && i.__esModule && i || {
                "default": i
            }).WalkontableSelection, A = (j = a("3rdparty/walkontable/src/core"), j && j.__esModule && j || {
                "default": j
            }).Walkontable;
            Handsontable.TableView = d, d.prototype.isTextSelectionAllowed = function(a) {
                return s(a) ? !0 : this.settings.fragmentSelection && r(a, this.TBODY) ? !0 : !1;
            }, d.prototype.isCellEdited = function() {
                var a = this.instance.getActiveEditor();
                return a && a.isOpened();
            }, d.prototype.beforeRender = function(a) {
                a && Handsontable.hooks.run(this.instance, "beforeRender", this.instance.forceFullRender);
            }, d.prototype.onDraw = function(a) {
                a && Handsontable.hooks.run(this.instance, "afterRender", this.instance.forceFullRender);
            }, d.prototype.render = function() {
                this.wt.draw(!this.instance.forceFullRender), this.instance.forceFullRender = !1, 
                this.instance.renderCall = !1;
            }, d.prototype.getCellAtCoords = function(a, b) {
                var c = this.wt.getCell(a, b);
                return 0 > c ? null : c;
            }, d.prototype.scrollViewport = function(a) {
                this.wt.scrollViewport(a);
            }, d.prototype.appendRowHeader = function(a, b) {
                if (b.firstChild) {
                    var c = b.firstChild;
                    if (!q(c, "relative")) return m(b), void this.appendRowHeader(a, b);
                    this.updateCellHeader(c.querySelector(".rowHeader"), a, this.instance.getRowHeader);
                } else {
                    var d = document.createElement("div"), e = document.createElement("span");
                    d.className = "relative", e.className = "rowHeader", this.updateCellHeader(e, a, this.instance.getRowHeader), 
                    d.appendChild(e), b.appendChild(d);
                }
                Handsontable.hooks.run(this.instance, "afterGetRowHeader", a, b);
            }, d.prototype.appendColHeader = function(a, b) {
                if (b.firstChild) {
                    var c = b.firstChild;
                    if (!q(c, "relative")) return m(b), void this.appendRowHeader(a, b);
                    this.updateCellHeader(c.querySelector(".colHeader"), a, this.instance.getColHeader);
                } else {
                    var d = document.createElement("div"), e = document.createElement("span");
                    d.className = "relative", e.className = "colHeader", this.updateCellHeader(e, a, this.instance.getColHeader), 
                    d.appendChild(e), b.appendChild(d);
                }
                Handsontable.hooks.run(this.instance, "afterGetColHeader", a, b);
            }, d.prototype.updateCellHeader = function(a, b, c) {
                b > -1 ? n(a, c(b)) : (o(a, String.fromCharCode(160)), l(a, "cornerHeader"));
            }, d.prototype.maximumVisibleElementWidth = function(a) {
                var b = this.wt.wtViewport.getWorkspaceWidth(), c = b - a;
                return c > 0 ? c : 0;
            }, d.prototype.maximumVisibleElementHeight = function(a) {
                var b = this.wt.wtViewport.getWorkspaceHeight(), c = b - a;
                return c > 0 ? c : 0;
            }, d.prototype.mainViewIsActive = function() {
                return this.wt === this.activeWt;
            }, d.prototype.destroy = function() {
                this.wt.destroy(), this.eventManager.destroy();
            };
        }, {
            "3rdparty/walkontable/src/cell/coords": 5,
            "3rdparty/walkontable/src/core": 7,
            "3rdparty/walkontable/src/selection": 18,
            eventManager: 40,
            "helpers/dom/element": 44,
            "helpers/dom/event": 45
        } ],
        96: [ function(a, b, c) {
            "use strict";
            Object.defineProperties(c, {
                GhostTable: {
                    get: function() {
                        return n;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var d, e, f, g, h, i = (d = a("helpers/dom/element"), d && d.__esModule && d || {
                "default": d
            }), j = i.addClass, k = i.outerHeight, l = i.outerWidth, m = (e = a("helpers/array"), 
            e && e.__esModule && e || {
                "default": e
            }).arrayEach, n = ((f = a("helpers/object"), f && f.__esModule && f || {
                "default": f
            }).objectEach, (g = a("helpers/number"), g && g.__esModule && g || {
                "default": g
            }).rangeEach, (h = a("helpers/mixed"), h && h.__esModule && h || {
                "default": h
            }).stringify, function(a) {
                this.hot = a, this.container = null, this.injected = !1, this.rows = [], this.columns = [], 
                this.samples = null;
            });
            $traceurRuntime.createClass(n, {
                addRow: function(a, b) {
                    if (this.columns.length) throw new Error("Doesn't support multi-dimensional table");
                    this.rows.length || (this.container = this.createContainer(this.hot.rootElement.className));
                    var c = {
                        row: a
                    };
                    this.rows.push(c), this.samples = b, this.table = this.createTable(this.hot.table.className), 
                    this.table.colGroup.appendChild(this.createColGroupsCol()), this.table.tr.appendChild(this.createRow(a)), 
                    this.container.container.appendChild(this.table.fragment), c.table = this.table.table;
                },
                addColumn: function(a, b) {
                    if (this.rows.length) throw new Error("Doesn't support multi-dimensional table");
                    this.columns.length || (this.container = this.createContainer(this.hot.rootElement.className));
                    var c = {
                        col: a
                    };
                    this.columns.push(c), this.samples = b, this.table = this.createTable(this.hot.table.className), 
                    null !== this.hot.getColHeader(a) && this.hot.view.appendColHeader(a, this.table.th), 
                    this.table.tBody.appendChild(this.createCol(a)), this.container.container.appendChild(this.table.fragment), 
                    c.table = this.table.table;
                },
                getHeights: function(a) {
                    this.injected || this.injectTable(), m(this.rows, function(b) {
                        a(b.row, k(b.table) - 1);
                    });
                },
                getWidths: function(a) {
                    this.injected || this.injectTable(), m(this.columns, function(b) {
                        a(b.col, l(b.table));
                    });
                },
                createColGroupsCol: function() {
                    var a = this, b = document, c = b.createDocumentFragment();
                    return c.appendChild(this.createColElement(-1)), this.samples.forEach(function(b) {
                        m(b.strings, function(b) {
                            c.appendChild(a.createColElement(b.col));
                        });
                    }), c;
                },
                createRow: function(a) {
                    var b = this, c = document, d = c.createDocumentFragment(), e = c.createElement("th");
                    return null !== this.hot.getRowHeader(a) && this.hot.view.appendRowHeader(a, e), 
                    d.appendChild(e), this.samples.forEach(function(e) {
                        m(e.strings, function(e) {
                            var f = e.col, g = b.hot.getCellMeta(a, f);
                            g.col = f, g.row = a;
                            var h = b.hot.getCellRenderer(g), i = c.createElement("td");
                            h(b.hot, i, a, f, b.hot.colToProp(f), e.value, g), d.appendChild(i);
                        });
                    }), d;
                },
                createCol: function(a) {
                    var b = this, c = document, d = c.createDocumentFragment();
                    return this.samples.forEach(function(e) {
                        m(e.strings, function(e) {
                            var f = e.row, g = b.hot.getCellMeta(f, a);
                            g.col = a, g.row = f;
                            var h = b.hot.getCellRenderer(g), i = c.createElement("td"), j = c.createElement("tr");
                            h(b.hot, i, f, a, b.hot.colToProp(f), e.value, g), j.appendChild(i), d.appendChild(j);
                        });
                    }), d;
                },
                clean: function() {
                    this.rows.length = 0, this.columns.length = 0, this.samples && this.samples.clear(), 
                    this.samples = null, this.removeTable();
                },
                injectTable: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : null;
                    this.injected || ((a || this.hot.rootElement).appendChild(this.container.fragment), 
                    this.injected = !0);
                },
                removeTable: function() {
                    this.injected && this.container.container.parentNode && (this.container.container.parentNode.removeChild(this.container.container), 
                    this.container = null, this.injected = !1);
                },
                createColElement: function(a) {
                    var b = document, c = b.createElement("col");
                    return c.style.width = this.hot.view.wt.wtTable.getStretchedColumnWidth(a) + "px", 
                    c;
                },
                createTable: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : "", b = document, c = b.createDocumentFragment(), d = b.createElement("table"), e = b.createElement("thead"), f = b.createElement("tbody"), g = b.createElement("colgroup"), h = b.createElement("tr"), i = b.createElement("th");
                    return this.isVertical() && d.appendChild(g), this.isHorizontal() && (h.appendChild(i), 
                    e.appendChild(h), d.style.tableLayout = "auto", d.style.width = "auto"), d.appendChild(e), 
                    this.isVertical() && f.appendChild(h), d.appendChild(f), j(d, a), c.appendChild(d), 
                    {
                        fragment: c,
                        table: d,
                        tHead: e,
                        tBody: f,
                        colGroup: g,
                        tr: h,
                        th: i
                    };
                },
                createContainer: function() {
                    var a = void 0 !== arguments[0] ? arguments[0] : "", b = document, c = b.createDocumentFragment(), d = b.createElement("div");
                    return a = "htGhostTable htAutoSize " + a.trim(), j(d, a), c.appendChild(d), {
                        fragment: c,
                        container: d
                    };
                },
                isVertical: function() {
                    return this.rows.length && !this.columns.length ? !0 : !1;
                },
                isHorizontal: function() {
                    return this.columns.length && !this.rows.length ? !0 : !1;
                }
            }, {}), Handsontable.utils = Handsontable.utils || {}, Handsontable.utils.GhostTable = n;
        }, {
            "helpers/array": 41,
            "helpers/dom/element": 44,
            "helpers/mixed": 47,
            "helpers/number": 48,
            "helpers/object": 49
        } ],
        97: [ function(a, b, c) {
            "use strict";
            var d;
            Object.defineProperties(c, {
                SamplesGenerator: {
                    get: function() {
                        return m;
                    }
                },
                __esModule: {
                    value: !0
                }
            });
            var e, f, g, h, i, j = (e = a("helpers/dom/element"), e && e.__esModule && e || {
                "default": e
            }), k = (j.addClass, j.outerHeight, j.outerWidth, (f = a("helpers/array"), f && f.__esModule && f || {
                "default": f
            }).arrayEach, (g = a("helpers/object"), g && g.__esModule && g || {
                "default": g
            }).objectEach, (h = a("helpers/number"), h && h.__esModule && h || {
                "default": h
            }).rangeEach), l = (i = a("helpers/mixed"), i && i.__esModule && i || {
                "default": i
            }).stringify, m = function(a) {
                this.samples = null, this.dataFactory = a;
            }, n = m;
            $traceurRuntime.createClass(m, (d = {}, Object.defineProperty(d, "generateRowSamples", {
                value: function(a, b) {
                    return this.generateSamples("row", b, a);
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(d, "generateColumnSamples", {
                value: function(a, b) {
                    return this.generateSamples("col", b, a);
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(d, "generateSamples", {
                value: function(a, b, c) {
                    var d = this, e = new Map();
                    return "number" == typeof c && (c = {
                        from: c,
                        to: c
                    }), k(c.from, c.to, function(c) {
                        var f = d.generateSample(a, b, c);
                        e.set(c, f);
                    }), e;
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), Object.defineProperty(d, "generateSample", {
                value: function(a, b, c) {
                    var d = this, e = new Map();
                    return k(b.from, b.to, function(b) {
                        var f, g;
                        if ("row" === a) g = d.dataFactory(c, b); else {
                            if ("col" !== a) throw new Error("Unsupported sample type");
                            g = d.dataFactory(b, c);
                        }
                        Array.isArray(g) || (g = l(g));
                        var h = g.length;
                        e.has(h) || e.set(h, {
                            needed: n.SAMPLE_COUNT,
                            strings: []
                        });
                        var i = e.get(h);
                        if (i.needed) {
                            var j = "row" === a ? "col" : "row";
                            i.strings.push((f = {}, Object.defineProperty(f, "value", {
                                value: g,
                                configurable: !0,
                                enumerable: !0,
                                writable: !0
                            }), Object.defineProperty(f, j, {
                                value: b,
                                configurable: !0,
                                enumerable: !0,
                                writable: !0
                            }), f)), i.needed--;
                        }
                    }), e;
                },
                configurable: !0,
                enumerable: !0,
                writable: !0
            }), d), {
                get SAMPLE_COUNT() {
                    return 3;
                }
            }), Handsontable.utils = Handsontable.utils || {}, Handsontable.utils.SamplesGenerator = m;
        }, {
            "helpers/array": 41,
            "helpers/dom/element": 44,
            "helpers/mixed": 47,
            "helpers/number": 48,
            "helpers/object": 49
        } ],
        98: [ function(a, b, c) {
            "use strict";
            function d(a, b) {
                var c = a, d = "string" == typeof c ? c.toLowerCase() : null;
                return function(a) {
                    for (var e = !1, g = 0, h = a.length; h > g; g++) {
                        if (c === a[g]) {
                            e = !0;
                            break;
                        }
                        if (d === f(a[g]).toLowerCase()) {
                            e = !0;
                            break;
                        }
                    }
                    b(e);
                };
            }
            var e, f = (e = a("helpers/mixed"), e && e.__esModule && e || {
                "default": e
            }).stringify;
            Handsontable.AutocompleteValidator = function(a, b) {
                this.strict && this.source ? "function" == typeof this.source ? this.source(a, d(a, b)) : d(a, b)(this.source) : b(!0);
            };
        }, {
            "helpers/mixed": 47
        } ],
        99: [ function(a, b, c) {
            "use strict";
            var d, e, f = (d = a("moment"), d && d.__esModule && d || {
                "default": d
            })["default"], g = (e = a("editors"), e && e.__esModule && e || {
                "default": e
            }).getEditor;
            Handsontable.DateValidator = function(a, b) {
                var c = !0, d = g("date", this.instance);
                null === a && (a = "");
                var e = f(new Date(a)).isValid(), i = f(a, this.dateFormat || d.defaultDateFormat, !0).isValid();
                if (e || (c = !1), !e && i && (c = !0), e && !i) if (this.correctFormat === !0) {
                    var j = h(a, this.dateFormat);
                    this.instance.setDataAtCell(this.row, this.col, j, "dateValidator"), c = !0;
                } else c = !1;
                b(c);
            };
            var h = function(a, b) {
                var c = f(new Date(a)), d = c.format("YYYY"), e = f().format("YYYY");
                return d.substr(0, 2) !== e.substr(0, 2) ? a.match(new RegExp(d)) || c.year(d.replace(d.substr(0, 2), e.substr(0, 2))) : d.length > 4 && c.year((c.year() + "").substr(0, 4)), 
                c.format(b);
            };
        }, {
            editors: 28,
            moment: "moment"
        } ],
        100: [ function(a, b, c) {
            "use strict";
            Handsontable.NumericValidator = function(a, b) {
                null === a && (a = ""), b(/^-?\d*(\.|\,)?\d*$/.test(a));
            };
        }, {} ],
        SheetClip: [ function(a, b, c) {
            "use strict";
            !function(a) {
                function b(a) {
                    return a.split('"').length - 1;
                }
                var d = {
                    parse: function(a) {
                        var c, d, e, f, g, h, i, j = [], k = 0;
                        for (e = a.split("\n"), e.length > 1 && "" === e[e.length - 1] && e.pop(), c = 0, 
                        d = e.length; d > c; c += 1) {
                            for (e[c] = e[c].split("	"), f = 0, g = e[c].length; g > f; f += 1) j[k] || (j[k] = []), 
                            h && 0 === f ? (i = j[k].length - 1, j[k][i] = j[k][i] + "\n" + e[c][0], h && 1 & b(e[c][0]) && (h = !1, 
                            j[k][i] = j[k][i].substring(0, j[k][i].length - 1).replace(/""/g, '"'))) : f === g - 1 && 0 === e[c][f].indexOf('"') && 1 & b(e[c][f]) ? (j[k].push(e[c][f].substring(1).replace(/""/g, '"')), 
                            h = !0) : (j[k].push(e[c][f].replace(/""/g, '"')), h = !1);
                            h || (k += 1);
                        }
                        return j;
                    },
                    stringify: function(a) {
                        var b, c, d, e, f, g = "";
                        for (b = 0, c = a.length; c > b; b += 1) {
                            for (e = a[b].length, d = 0; e > d; d += 1) d > 0 && (g += "	"), f = a[b][d], g += "string" == typeof f ? f.indexOf("\n") > -1 ? '"' + f.replace(/"/g, '""') + '"' : f : null === f || void 0 === f ? "" : f;
                            g += "\n";
                        }
                        return g;
                    }
                };
                "undefined" != typeof c ? (c.parse = d.parse, c.stringify = d.stringify) : a.SheetClip = d;
            }(window);
        }, {} ],
        autoResize: [ function(a, b, c) {
            "use strict";
            function d() {
                var a, b = {
                    minHeight: 200,
                    maxHeight: 300,
                    minWidth: 100,
                    maxWidth: 300
                }, c = document.body, d = document.createTextNode(""), e = document.createElement("SPAN"), f = function(a, b, c) {
                    window.attachEvent ? a.attachEvent("on" + b, c) : a.addEventListener(b, c, !1);
                }, g = function(a, b, c) {
                    window.removeEventListener ? a.removeEventListener(b, c, !1) : a.detachEvent("on" + b, c);
                }, h = function(f) {
                    var g, h;
                    f ? /^[a-zA-Z \.,\\\/\|0-9]$/.test(f) || (f = ".") : f = "", void 0 !== d.textContent ? d.textContent = a.value + f : d.data = a.value + f, 
                    e.style.fontSize = Handsontable.Dom.getComputedStyle(a).fontSize, e.style.fontFamily = Handsontable.Dom.getComputedStyle(a).fontFamily, 
                    e.style.whiteSpace = "pre", c.appendChild(e), g = e.clientWidth + 2, c.removeChild(e), 
                    a.style.height = b.minHeight + "px", b.minWidth > g ? a.style.width = b.minWidth + "px" : g > b.maxWidth ? a.style.width = b.maxWidth + "px" : a.style.width = g + "px", 
                    h = a.scrollHeight ? a.scrollHeight - 1 : 0, b.minHeight > h ? a.style.height = b.minHeight + "px" : b.maxHeight < h ? (a.style.height = b.maxHeight + "px", 
                    a.style.overflowY = "visible") : a.style.height = h + "px";
                }, i = function() {
                    window.setTimeout(h, 0);
                }, j = function(c) {
                    if (c && c.minHeight) if ("inherit" == c.minHeight) b.minHeight = a.clientHeight; else {
                        var f = parseInt(c.minHeight);
                        isNaN(f) || (b.minHeight = f);
                    }
                    if (c && c.maxHeight) if ("inherit" == c.maxHeight) b.maxHeight = a.clientHeight; else {
                        var g = parseInt(c.maxHeight);
                        isNaN(g) || (b.maxHeight = g);
                    }
                    if (c && c.minWidth) if ("inherit" == c.minWidth) b.minWidth = a.clientWidth; else {
                        var h = parseInt(c.minWidth);
                        isNaN(h) || (b.minWidth = h);
                    }
                    if (c && c.maxWidth) if ("inherit" == c.maxWidth) b.maxWidth = a.clientWidth; else {
                        var i = parseInt(c.maxWidth);
                        isNaN(i) || (b.maxWidth = i);
                    }
                    e.firstChild || (e.className = "autoResize", e.style.display = "inline-block", e.appendChild(d));
                }, k = function(c, d, e) {
                    a = c, j(d), "TEXTAREA" == a.nodeName && (a.style.resize = "none", a.style.overflowY = "", 
                    a.style.height = b.minHeight + "px", a.style.minWidth = b.minWidth + "px", a.style.maxWidth = b.maxWidth + "px", 
                    a.style.overflowY = "hidden"), e && (f(a, "change", h), f(a, "cut", i), f(a, "paste", i), 
                    f(a, "drop", i), f(a, "keydown", i)), h();
                };
                return {
                    init: function(a, b, c) {
                        k(a, b, c);
                    },
                    unObserve: function() {
                        g(a, "change", h), g(a, "cut", i), g(a, "paste", i), g(a, "drop", i), g(a, "keydown", i);
                    },
                    resize: h
                };
            }
            "undefined" != typeof c && (b.exports = d);
        }, {} ],
        copyPaste: [ function(a, b, c) {
            "use strict";
            function d() {
                return f ? f.hasBeenDestroyed() && f.init() : f = new e(), f.refCounter++, f;
            }
            function e() {
                this.refCounter = 0, this.init();
            }
            var f;
            "undefined" != typeof c && (b.exports = d), e.prototype.init = function() {
                var a, b;
                this.copyCallbacks = [], this.cutCallbacks = [], this.pasteCallbacks = [], b = document.body, 
                document.getElementById("CopyPasteDiv") ? (this.elDiv = document.getElementById("CopyPasteDiv"), 
                this.elTextarea = this.elDiv.firstChild) : (this.elDiv = document.createElement("div"), 
                this.elDiv.id = "CopyPasteDiv", a = this.elDiv.style, a.position = "fixed", a.top = "-10000px", 
                a.left = "-10000px", b.appendChild(this.elDiv), this.elTextarea = document.createElement("textarea"), 
                this.elTextarea.className = "copyPaste", this.elTextarea.onpaste = function(a) {
                    var b, c;
                    return "WebkitAppearance" in document.documentElement.style ? (b = a.clipboardData.getData("Text"), 
                    -1 !== navigator.userAgent.indexOf("Safari") && -1 === navigator.userAgent.indexOf("Chrome") && (c = b.split("\n"), 
                    "" === c[c.length - 1] && c.pop(), b = c.join("\n")), this.value = b, !1) : void 0;
                }, a = this.elTextarea.style, a.width = "10000px", a.height = "10000px", a.overflow = "hidden", 
                this.elDiv.appendChild(this.elTextarea), "undefined" != typeof a.opacity && (a.opacity = 0)), 
                this.onKeyDownRef = this.onKeyDown.bind(this), document.documentElement.addEventListener("keydown", this.onKeyDownRef, !1);
            }, e.prototype.onKeyDown = function(a) {
                function b() {
                    var a = document.activeElement;
                    return a.shadowRoot && a.shadowRoot.activeElement && (a = a.shadowRoot.activeElement), 
                    [ "INPUT", "SELECT", "TEXTAREA" ].indexOf(a.nodeName) > -1 || "true" === a.contentEditable;
                }
                var c = this, d = !1;
                if (a.metaKey ? d = !0 : a.ctrlKey && -1 === navigator.userAgent.indexOf("Mac") && (d = !0), 
                d) {
                    if (document.activeElement !== this.elTextarea && ("" !== this.getSelectionText() || b())) return;
                    this.selectNodeText(this.elTextarea), setTimeout(function() {
                        document.activeElement !== c.elTextarea && c.selectNodeText(c.elTextarea);
                    }, 0);
                }
                !d || 67 !== a.keyCode && 86 !== a.keyCode && 88 !== a.keyCode || (88 === a.keyCode ? setTimeout(function() {
                    c.triggerCut(a);
                }, 0) : 86 === a.keyCode && setTimeout(function() {
                    c.triggerPaste(a);
                }, 0));
            }, e.prototype.selectNodeText = function(a) {
                a && a.select();
            }, e.prototype.getSelectionText = function() {
                var a = "";
                return window.getSelection ? a = window.getSelection().toString() : document.selection && "Control" !== document.selection.type && (a = document.selection.createRange().text), 
                a;
            }, e.prototype.copyable = function(a) {
                if ("string" != typeof a && void 0 === a.toString) throw new Error("copyable requires string parameter");
                this.elTextarea.value = a, this.selectNodeText(this.elTextarea);
            }, e.prototype.onCut = function(a) {
                this.cutCallbacks.push(a);
            }, e.prototype.onPaste = function(a) {
                this.pasteCallbacks.push(a);
            }, e.prototype.removeCallback = function(a) {
                var b, c;
                for (b = 0, c = this.copyCallbacks.length; c > b; b++) if (this.copyCallbacks[b] === a) return this.copyCallbacks.splice(b, 1), 
                !0;
                for (b = 0, c = this.cutCallbacks.length; c > b; b++) if (this.cutCallbacks[b] === a) return this.cutCallbacks.splice(b, 1), 
                !0;
                for (b = 0, c = this.pasteCallbacks.length; c > b; b++) if (this.pasteCallbacks[b] === a) return this.pasteCallbacks.splice(b, 1), 
                !0;
                return !1;
            }, e.prototype.triggerCut = function(a) {
                var b = this;
                b.cutCallbacks && setTimeout(function() {
                    for (var c = 0, d = b.cutCallbacks.length; d > c; c++) b.cutCallbacks[c](a);
                }, 50);
            }, e.prototype.triggerPaste = function(a, b) {
                var c = this;
                c.pasteCallbacks && setTimeout(function() {
                    for (var d = b || c.elTextarea.value, e = 0, f = c.pasteCallbacks.length; f > e; e++) c.pasteCallbacks[e](d, a);
                }, 50);
            }, e.prototype.destroy = function() {
                this.hasBeenDestroyed() || 0 !== --this.refCounter || (this.elDiv && this.elDiv.parentNode && (this.elDiv.parentNode.removeChild(this.elDiv), 
                this.elDiv = null, this.elTextarea = null), document.documentElement.removeEventListener("keydown", this.onKeyDownRef), 
                this.onKeyDownRef = null);
            }, e.prototype.hasBeenDestroyed = function() {
                return !this.refCounter;
            };
        }, {} ],
        es6collections: [ function(a, b, c) {
            "use strict";
            !function(a) {
                function b(a, b) {
                    function d(a) {
                        return this && this.constructor === d ? (this._keys = [], this._values = [], this._itp = [], 
                        this.objectOnly = b, void (a && c.call(this, a))) : new d(a);
                    }
                    return b || t(a, "size", {
                        get: q
                    }), a.constructor = d, d.prototype = a, d;
                }
                function c(a) {
                    this.add ? a.forEach(this.add, this) : a.forEach(function(a) {
                        this.set(a[0], a[1]);
                    }, this);
                }
                function d(a) {
                    return this.has(a) && (this._keys.splice(s, 1), this._values.splice(s, 1), this._itp.forEach(function(a) {
                        s < a[0] && a[0]--;
                    })), s > -1;
                }
                function e(a) {
                    return this.has(a) ? this._values[s] : void 0;
                }
                function f(a, b) {
                    if (this.objectOnly && b !== Object(b)) throw new TypeError("Invalid value used as weak collection key");
                    if (b != b || 0 === b) for (s = a.length; s-- && !u(a[s], b); ) ; else s = a.indexOf(b);
                    return s > -1;
                }
                function g(a) {
                    return f.call(this, this._values, a);
                }
                function h(a) {
                    return f.call(this, this._keys, a);
                }
                function i(a, b) {
                    return this.has(a) ? this._values[s] = b : this._values[this._keys.push(a) - 1] = b, 
                    this;
                }
                function j(a) {
                    return this.has(a) || this._values.push(a), this;
                }
                function k() {
                    this._values.length = 0;
                }
                function l() {
                    return p(this._itp, this._keys);
                }
                function m() {
                    return p(this._itp, this._values);
                }
                function n() {
                    return p(this._itp, this._keys, this._values);
                }
                function o() {
                    return p(this._itp, this._values, this._values);
                }
                function p(a, b, c) {
                    var d = [ 0 ], e = !1;
                    return a.push(d), {
                        next: function() {
                            var f, g = d[0];
                            return !e && g < b.length ? (f = c ? [ b[g], c[g] ] : b[g], d[0]++) : (e = !0, a.splice(a.indexOf(d), 1)), 
                            {
                                done: e,
                                value: f
                            };
                        }
                    };
                }
                function q() {
                    return this._values.length;
                }
                function r(a, b) {
                    for (var c = this.entries(); ;) {
                        var d = c.next();
                        if (d.done) break;
                        a.call(b, d.value[1], d.value[0], this);
                    }
                }
                var s, t = Object.defineProperty, u = function(a, b) {
                    return isNaN(a) ? isNaN(b) : a === b;
                };
                "undefined" == typeof WeakMap && (a.WeakMap = b({
                    "delete": d,
                    clear: k,
                    get: e,
                    has: h,
                    set: i
                }, !0)), "undefined" == typeof Map && (a.Map = b({
                    "delete": d,
                    has: h,
                    get: e,
                    set: i,
                    keys: l,
                    values: m,
                    entries: n,
                    forEach: r,
                    clear: k
                })), "undefined" == typeof Set && (a.Set = b({
                    has: g,
                    add: j,
                    "delete": d,
                    clear: k,
                    keys: m,
                    values: m,
                    entries: o,
                    forEach: r
                })), "undefined" == typeof WeakSet && (a.WeakSet = b({
                    "delete": d,
                    add: j,
                    clear: k,
                    has: g
                }, !0));
            }("undefined" != typeof c && "undefined" != typeof global ? global : window);
        }, {} ],
        jsonpatch: [ function(a, b, c) {
            "use strict";
            var d;
            !function(a) {
                function b(a) {
                    return -1 === a.indexOf("/") && -1 === a.indexOf("~") ? a : a.replace(/~/g, "~0").replace(/\//g, "~1");
                }
                function c(a, d) {
                    var e;
                    for (var f in a) if (a.hasOwnProperty(f)) {
                        if (a[f] === d) return b(f) + "/";
                        if ("object" == typeof a[f] && (e = c(a[f], d), "" != e)) return b(f) + "/" + e;
                    }
                    return "";
                }
                function d(a, b) {
                    if (a === b) return "/";
                    var d = c(a, b);
                    if ("" === d) throw new Error("Object not found in root");
                    return "/" + d;
                }
                function e(a) {
                    for (var b = 0, c = s.length; c > b; b++) if (s[b].obj === a) return s[b];
                }
                function f(a) {
                    for (var b = 0, c = s.length; c > b; b++) s[b] === a && s.splice(b, 1);
                }
                function g(a, b) {
                    for (var c = 0, d = a.observers.length; d > c; c++) if (a.observers[c].callback === b) return a.observers[c].observer;
                }
                function h(a, b) {
                    for (var c = 0, d = a.observers.length; d > c; c++) if (a.observers[c].observer === b) return a.observers.splice(c, 1), 
                    void (a.observers.length || f(a));
                }
                function i(a, b) {
                    m(b), Object.observe ? l(b, a) : clearTimeout(b.next);
                    var c = e(a);
                    h(c, b);
                }
                function j(a, b) {
                    var c, f = [], h = a, i = e(a);
                    if (i ? c = g(i, b) : (i = new t(a), s.push(i)), c) return c;
                    if (Object.observe) c = function(e) {
                        l(c, a), k(c, a);
                        for (var g = 0, i = e.length; i > g; ) {
                            if (("length" !== e[g].name || !w(e[g].object)) && "__Jasmine_been_here_before__" !== e[g].name) {
                                var j = e[g].type;
                                switch (j) {
                                  case "new":
                                    j = "add";
                                    break;

                                  case "deleted":
                                    j = "delete";
                                    break;

                                  case "updated":
                                    j = "update";
                                }
                                r[j].call(e[g], f, d(h, e[g].object));
                            }
                            g++;
                        }
                        f && b && b(f), c.patches = f, f = [];
                    }; else if (c = {}, i.value = JSON.parse(JSON.stringify(a)), b) {
                        c.callback = b, c.next = null;
                        var j = this.intervals || [ 100, 1e3, 1e4, 6e4 ], n = 0, o = function() {
                            m(c);
                        }, p = function() {
                            clearTimeout(c.next), c.next = setTimeout(function() {
                                o(), n = 0, c.next = setTimeout(q, j[n++]);
                            }, 0);
                        }, q = function() {
                            o(), n == j.length && (n = j.length - 1), c.next = setTimeout(q, j[n++]);
                        };
                        "undefined" != typeof window && (window.addEventListener ? (window.addEventListener("mousedown", p), 
                        window.addEventListener("mouseup", p), window.addEventListener("keydown", p)) : (window.attachEvent("onmousedown", p), 
                        window.attachEvent("onmouseup", p), window.attachEvent("onkeydown", p))), c.next = setTimeout(q, j[n++]);
                    }
                    return c.patches = f, c.object = a, i.observers.push(new u(b, c)), k(c, a);
                }
                function k(a, b) {
                    if (Object.observe) {
                        Object.observe(b, a);
                        for (var c in b) if (b.hasOwnProperty(c)) {
                            var d = b[c];
                            d && "object" == typeof d && k(a, d);
                        }
                    }
                    return a;
                }
                function l(a, b) {
                    if (Object.observe) {
                        Object.unobserve(b, a);
                        for (var c in b) if (b.hasOwnProperty(c)) {
                            var d = b[c];
                            d && "object" == typeof d && l(a, d);
                        }
                    }
                    return a;
                }
                function m(a) {
                    if (Object.observe) Object.deliverChangeRecords(a); else {
                        for (var b, c = 0, d = s.length; d > c; c++) if (s[c].obj === a.object) {
                            b = s[c];
                            break;
                        }
                        b && n(b.value, a.object, a.patches, "");
                    }
                    var e = a.patches;
                    return e.length > 0 && (a.patches = [], a.callback && a.callback(e)), e;
                }
                function n(a, c, d, e) {
                    for (var f = v(c), g = v(a), h = !1, i = !1, j = g.length - 1; j >= 0; j--) {
                        var k = g[j], l = a[k];
                        if (c.hasOwnProperty(k)) {
                            var m = c[k];
                            l instanceof Object ? n(l, m, d, e + "/" + b(k)) : l != m && (h = !0, d.push({
                                op: "replace",
                                path: e + "/" + b(k),
                                value: m
                            }), a[k] = m);
                        } else d.push({
                            op: "remove",
                            path: e + "/" + b(k)
                        }), delete a[k], i = !0;
                    }
                    if (i || f.length != g.length) for (var j = 0; j < f.length; j++) {
                        var k = f[j];
                        a.hasOwnProperty(k) || (d.push({
                            op: "add",
                            path: e + "/" + b(k),
                            value: c[k]
                        }), a[k] = JSON.parse(JSON.stringify(c[k])));
                    }
                }
                function o(a, b) {
                    for (var c, d = !1, e = 0, f = b.length; f > e; ) {
                        c = b[e];
                        for (var g = c.path.split("/"), h = a, i = 1, j = g.length; ;) if (w(h)) {
                            var k = parseInt(g[i], 10);
                            if (i++, i >= j) {
                                d = q[c.op].call(c, h, k, a);
                                break;
                            }
                            h = h[k];
                        } else {
                            var l = g[i];
                            if (-1 != l.indexOf("~") && (l = l.replace(/~1/g, "/").replace(/~0/g, "~")), i++, 
                            i >= j) {
                                d = p[c.op].call(c, h, l, a);
                                break;
                            }
                            h = h[l];
                        }
                        e++;
                    }
                    return d;
                }
                var p = {
                    add: function(a, b) {
                        return a[b] = this.value, !0;
                    },
                    remove: function(a, b) {
                        return delete a[b], !0;
                    },
                    replace: function(a, b) {
                        return a[b] = this.value, !0;
                    },
                    move: function(a, b, c) {
                        var d = {
                            op: "_get",
                            path: this.from
                        };
                        return o(c, [ d ]), o(c, [ {
                            op: "remove",
                            path: this.from
                        } ]), o(c, [ {
                            op: "add",
                            path: this.path,
                            value: d.value
                        } ]), !0;
                    },
                    copy: function(a, b, c) {
                        var d = {
                            op: "_get",
                            path: this.from
                        };
                        return o(c, [ d ]), o(c, [ {
                            op: "add",
                            path: this.path,
                            value: d.value
                        } ]), !0;
                    },
                    test: function(a, b) {
                        return JSON.stringify(a[b]) === JSON.stringify(this.value);
                    },
                    _get: function(a, b) {
                        this.value = a[b];
                    }
                }, q = {
                    add: function(a, b) {
                        return a.splice(b, 0, this.value), !0;
                    },
                    remove: function(a, b) {
                        return a.splice(b, 1), !0;
                    },
                    replace: function(a, b) {
                        return a[b] = this.value, !0;
                    },
                    move: p.move,
                    copy: p.copy,
                    test: p.test,
                    _get: p._get
                }, r = {
                    add: function(a, c) {
                        var d = {
                            op: "add",
                            path: c + b(this.name),
                            value: this.object[this.name]
                        };
                        a.push(d);
                    },
                    "delete": function(a, c) {
                        var d = {
                            op: "remove",
                            path: c + b(this.name)
                        };
                        a.push(d);
                    },
                    update: function(a, c) {
                        var d = {
                            op: "replace",
                            path: c + b(this.name),
                            value: this.object[this.name]
                        };
                        a.push(d);
                    }
                }, s = [];
                a.intervals;
                var t = function() {
                    function a(a) {
                        this.observers = [], this.obj = a;
                    }
                    return a;
                }(), u = function() {
                    function a(a, b) {
                        this.callback = a, this.observer = b;
                    }
                    return a;
                }();
                a.unobserve = i, a.observe = j, a.generate = m;
                var v;
                v = Object.keys ? Object.keys : function(a) {
                    var b = [];
                    for (var c in a) a.hasOwnProperty(c) && b.push(c);
                    return b;
                };
                var w;
                w = Array.isArray ? Array.isArray : function(a) {
                    return a.push && "number" == typeof a.length;
                }, a.apply = o;
            }(d || (d = {})), "undefined" != typeof c && (c.apply = d.apply, c.observe = d.observe, 
            c.unobserve = d.unobserve, c.generate = d.generate);
        }, {} ],
        moment: [ function(b, c, d) {
            !function(b, e) {
                "object" == typeof d && "undefined" != typeof c ? c.exports = e() : "function" == typeof a && a.amd ? a(e) : b.moment = e();
            }(this, function() {
                "use strict";
                function a() {
                    return Jc.apply(null, arguments);
                }
                function d(a) {
                    Jc = a;
                }
                function e(a) {
                    return "[object Array]" === Object.prototype.toString.call(a);
                }
                function f(a) {
                    return a instanceof Date || "[object Date]" === Object.prototype.toString.call(a);
                }
                function g(a, b) {
                    var c, d = [];
                    for (c = 0; c < a.length; ++c) d.push(b(a[c], c));
                    return d;
                }
                function h(a, b) {
                    return Object.prototype.hasOwnProperty.call(a, b);
                }
                function i(a, b) {
                    for (var c in b) h(b, c) && (a[c] = b[c]);
                    return h(b, "toString") && (a.toString = b.toString), h(b, "valueOf") && (a.valueOf = b.valueOf), 
                    a;
                }
                function j(a, b, c, d) {
                    return Ea(a, b, c, d, !0).utc();
                }
                function k() {
                    return {
                        empty: !1,
                        unusedTokens: [],
                        unusedInput: [],
                        overflow: -2,
                        charsLeftOver: 0,
                        nullInput: !1,
                        invalidMonth: null,
                        invalidFormat: !1,
                        userInvalidated: !1,
                        iso: !1
                    };
                }
                function l(a) {
                    return null == a._pf && (a._pf = k()), a._pf;
                }
                function m(a) {
                    if (null == a._isValid) {
                        var b = l(a);
                        a._isValid = !(isNaN(a._d.getTime()) || !(b.overflow < 0) || b.empty || b.invalidMonth || b.invalidWeekday || b.nullInput || b.invalidFormat || b.userInvalidated), 
                        a._strict && (a._isValid = a._isValid && 0 === b.charsLeftOver && 0 === b.unusedTokens.length && void 0 === b.bigHour);
                    }
                    return a._isValid;
                }
                function n(a) {
                    var b = j(NaN);
                    return null != a ? i(l(b), a) : l(b).userInvalidated = !0, b;
                }
                function o(a, b) {
                    var c, d, e;
                    if ("undefined" != typeof b._isAMomentObject && (a._isAMomentObject = b._isAMomentObject), 
                    "undefined" != typeof b._i && (a._i = b._i), "undefined" != typeof b._f && (a._f = b._f), 
                    "undefined" != typeof b._l && (a._l = b._l), "undefined" != typeof b._strict && (a._strict = b._strict), 
                    "undefined" != typeof b._tzm && (a._tzm = b._tzm), "undefined" != typeof b._isUTC && (a._isUTC = b._isUTC), 
                    "undefined" != typeof b._offset && (a._offset = b._offset), "undefined" != typeof b._pf && (a._pf = l(b)), 
                    "undefined" != typeof b._locale && (a._locale = b._locale), Lc.length > 0) for (c in Lc) d = Lc[c], 
                    e = b[d], "undefined" != typeof e && (a[d] = e);
                    return a;
                }
                function p(b) {
                    o(this, b), this._d = new Date(null != b._d ? b._d.getTime() : NaN), Mc === !1 && (Mc = !0, 
                    a.updateOffset(this), Mc = !1);
                }
                function q(a) {
                    return a instanceof p || null != a && null != a._isAMomentObject;
                }
                function r(a) {
                    return 0 > a ? Math.ceil(a) : Math.floor(a);
                }
                function s(a) {
                    var b = +a, c = 0;
                    return 0 !== b && isFinite(b) && (c = r(b)), c;
                }
                function t(a, b, c) {
                    var d, e = Math.min(a.length, b.length), f = Math.abs(a.length - b.length), g = 0;
                    for (d = 0; e > d; d++) (c && a[d] !== b[d] || !c && s(a[d]) !== s(b[d])) && g++;
                    return g + f;
                }
                function u() {}
                function v(a) {
                    return a ? a.toLowerCase().replace("_", "-") : a;
                }
                function w(a) {
                    for (var b, c, d, e, f = 0; f < a.length; ) {
                        for (e = v(a[f]).split("-"), b = e.length, c = v(a[f + 1]), c = c ? c.split("-") : null; b > 0; ) {
                            if (d = x(e.slice(0, b).join("-"))) return d;
                            if (c && c.length >= b && t(e, c, !0) >= b - 1) break;
                            b--;
                        }
                        f++;
                    }
                    return null;
                }
                function x(a) {
                    var d = null;
                    if (!Nc[a] && "undefined" != typeof c && c && c.exports) try {
                        d = Kc._abbr, b("./locale/" + a), y(d);
                    } catch (e) {}
                    return Nc[a];
                }
                function y(a, b) {
                    var c;
                    return a && (c = "undefined" == typeof b ? A(a) : z(a, b), c && (Kc = c)), Kc._abbr;
                }
                function z(a, b) {
                    return null !== b ? (b.abbr = a, Nc[a] = Nc[a] || new u(), Nc[a].set(b), y(a), Nc[a]) : (delete Nc[a], 
                    null);
                }
                function A(a) {
                    var b;
                    if (a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a) return Kc;
                    if (!e(a)) {
                        if (b = x(a)) return b;
                        a = [ a ];
                    }
                    return w(a);
                }
                function B(a, b) {
                    var c = a.toLowerCase();
                    Oc[c] = Oc[c + "s"] = Oc[b] = a;
                }
                function C(a) {
                    return "string" == typeof a ? Oc[a] || Oc[a.toLowerCase()] : void 0;
                }
                function D(a) {
                    var b, c, d = {};
                    for (c in a) h(a, c) && (b = C(c), b && (d[b] = a[c]));
                    return d;
                }
                function E(b, c) {
                    return function(d) {
                        return null != d ? (G(this, b, d), a.updateOffset(this, c), this) : F(this, b);
                    };
                }
                function F(a, b) {
                    return a._d["get" + (a._isUTC ? "UTC" : "") + b]();
                }
                function G(a, b, c) {
                    return a._d["set" + (a._isUTC ? "UTC" : "") + b](c);
                }
                function H(a, b) {
                    var c;
                    if ("object" == typeof a) for (c in a) this.set(c, a[c]); else if (a = C(a), "function" == typeof this[a]) return this[a](b);
                    return this;
                }
                function I(a, b, c) {
                    var d = "" + Math.abs(a), e = b - d.length, f = a >= 0;
                    return (f ? c ? "+" : "" : "-") + Math.pow(10, Math.max(0, e)).toString().substr(1) + d;
                }
                function J(a, b, c, d) {
                    var e = d;
                    "string" == typeof d && (e = function() {
                        return this[d]();
                    }), a && (Sc[a] = e), b && (Sc[b[0]] = function() {
                        return I(e.apply(this, arguments), b[1], b[2]);
                    }), c && (Sc[c] = function() {
                        return this.localeData().ordinal(e.apply(this, arguments), a);
                    });
                }
                function K(a) {
                    return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "");
                }
                function L(a) {
                    var b, c, d = a.match(Pc);
                    for (b = 0, c = d.length; c > b; b++) Sc[d[b]] ? d[b] = Sc[d[b]] : d[b] = K(d[b]);
                    return function(e) {
                        var f = "";
                        for (b = 0; c > b; b++) f += d[b] instanceof Function ? d[b].call(e, a) : d[b];
                        return f;
                    };
                }
                function M(a, b) {
                    return a.isValid() ? (b = N(b, a.localeData()), Rc[b] = Rc[b] || L(b), Rc[b](a)) : a.localeData().invalidDate();
                }
                function N(a, b) {
                    function c(a) {
                        return b.longDateFormat(a) || a;
                    }
                    var d = 5;
                    for (Qc.lastIndex = 0; d >= 0 && Qc.test(a); ) a = a.replace(Qc, c), Qc.lastIndex = 0, 
                    d -= 1;
                    return a;
                }
                function O(a) {
                    return "function" == typeof a && "[object Function]" === Object.prototype.toString.call(a);
                }
                function P(a, b, c) {
                    fd[a] = O(b) ? b : function(a) {
                        return a && c ? c : b;
                    };
                }
                function Q(a, b) {
                    return h(fd, a) ? fd[a](b._strict, b._locale) : new RegExp(R(a));
                }
                function R(a) {
                    return a.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(a, b, c, d, e) {
                        return b || c || d || e;
                    }).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
                }
                function S(a, b) {
                    var c, d = b;
                    for ("string" == typeof a && (a = [ a ]), "number" == typeof b && (d = function(a, c) {
                        c[b] = s(a);
                    }), c = 0; c < a.length; c++) gd[a[c]] = d;
                }
                function T(a, b) {
                    S(a, function(a, c, d, e) {
                        d._w = d._w || {}, b(a, d._w, d, e);
                    });
                }
                function U(a, b, c) {
                    null != b && h(gd, a) && gd[a](b, c._a, c, a);
                }
                function V(a, b) {
                    return new Date(Date.UTC(a, b + 1, 0)).getUTCDate();
                }
                function W(a) {
                    return this._months[a.month()];
                }
                function X(a) {
                    return this._monthsShort[a.month()];
                }
                function Y(a, b, c) {
                    var d, e, f;
                    for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), 
                    d = 0; 12 > d; d++) {
                        if (e = j([ 2e3, d ]), c && !this._longMonthsParse[d] && (this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i"), 
                        this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i")), 
                        c || this._monthsParse[d] || (f = "^" + this.months(e, "") + "|^" + this.monthsShort(e, ""), 
                        this._monthsParse[d] = new RegExp(f.replace(".", ""), "i")), c && "MMMM" === b && this._longMonthsParse[d].test(a)) return d;
                        if (c && "MMM" === b && this._shortMonthsParse[d].test(a)) return d;
                        if (!c && this._monthsParse[d].test(a)) return d;
                    }
                }
                function Z(a, b) {
                    var c;
                    return "string" == typeof b && (b = a.localeData().monthsParse(b), "number" != typeof b) ? a : (c = Math.min(a.date(), V(a.year(), b)), 
                    a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c), a);
                }
                function $(b) {
                    return null != b ? (Z(this, b), a.updateOffset(this, !0), this) : F(this, "Month");
                }
                function _() {
                    return V(this.year(), this.month());
                }
                function aa(a) {
                    var b, c = a._a;
                    return c && -2 === l(a).overflow && (b = c[id] < 0 || c[id] > 11 ? id : c[jd] < 1 || c[jd] > V(c[hd], c[id]) ? jd : c[kd] < 0 || c[kd] > 24 || 24 === c[kd] && (0 !== c[ld] || 0 !== c[md] || 0 !== c[nd]) ? kd : c[ld] < 0 || c[ld] > 59 ? ld : c[md] < 0 || c[md] > 59 ? md : c[nd] < 0 || c[nd] > 999 ? nd : -1, 
                    l(a)._overflowDayOfYear && (hd > b || b > jd) && (b = jd), l(a).overflow = b), a;
                }
                function ba(b) {
                    a.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + b);
                }
                function ca(a, b) {
                    var c = !0;
                    return i(function() {
                        return c && (ba(a + "\n" + new Error().stack), c = !1), b.apply(this, arguments);
                    }, b);
                }
                function da(a, b) {
                    qd[a] || (ba(b), qd[a] = !0);
                }
                function ea(a) {
                    var b, c, d = a._i, e = rd.exec(d);
                    if (e) {
                        for (l(a).iso = !0, b = 0, c = sd.length; c > b; b++) if (sd[b][1].exec(d)) {
                            a._f = sd[b][0];
                            break;
                        }
                        for (b = 0, c = td.length; c > b; b++) if (td[b][1].exec(d)) {
                            a._f += (e[6] || " ") + td[b][0];
                            break;
                        }
                        d.match(cd) && (a._f += "Z"), xa(a);
                    } else a._isValid = !1;
                }
                function fa(b) {
                    var c = ud.exec(b._i);
                    return null !== c ? void (b._d = new Date(+c[1])) : (ea(b), void (b._isValid === !1 && (delete b._isValid, 
                    a.createFromInputFallback(b))));
                }
                function ga(a, b, c, d, e, f, g) {
                    var h = new Date(a, b, c, d, e, f, g);
                    return 1970 > a && h.setFullYear(a), h;
                }
                function ha(a) {
                    var b = new Date(Date.UTC.apply(null, arguments));
                    return 1970 > a && b.setUTCFullYear(a), b;
                }
                function ia(a) {
                    return ja(a) ? 366 : 365;
                }
                function ja(a) {
                    return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
                }
                function ka() {
                    return ja(this.year());
                }
                function la(a, b, c) {
                    var d, e = c - b, f = c - a.day();
                    return f > e && (f -= 7), e - 7 > f && (f += 7), d = Fa(a).add(f, "d"), {
                        week: Math.ceil(d.dayOfYear() / 7),
                        year: d.year()
                    };
                }
                function ma(a) {
                    return la(a, this._week.dow, this._week.doy).week;
                }
                function na() {
                    return this._week.dow;
                }
                function oa() {
                    return this._week.doy;
                }
                function pa(a) {
                    var b = this.localeData().week(this);
                    return null == a ? b : this.add(7 * (a - b), "d");
                }
                function qa(a) {
                    var b = la(this, 1, 4).week;
                    return null == a ? b : this.add(7 * (a - b), "d");
                }
                function ra(a, b, c, d, e) {
                    var f, g = 6 + e - d, h = ha(a, 0, 1 + g), i = h.getUTCDay();
                    return e > i && (i += 7), c = null != c ? 1 * c : e, f = 1 + g + 7 * (b - 1) - i + c, 
                    {
                        year: f > 0 ? a : a - 1,
                        dayOfYear: f > 0 ? f : ia(a - 1) + f
                    };
                }
                function sa(a) {
                    var b = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
                    return null == a ? b : this.add(a - b, "d");
                }
                function ta(a, b, c) {
                    return null != a ? a : null != b ? b : c;
                }
                function ua(a) {
                    var b = new Date();
                    return a._useUTC ? [ b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate() ] : [ b.getFullYear(), b.getMonth(), b.getDate() ];
                }
                function va(a) {
                    var b, c, d, e, f = [];
                    if (!a._d) {
                        for (d = ua(a), a._w && null == a._a[jd] && null == a._a[id] && wa(a), a._dayOfYear && (e = ta(a._a[hd], d[hd]), 
                        a._dayOfYear > ia(e) && (l(a)._overflowDayOfYear = !0), c = ha(e, 0, a._dayOfYear), 
                        a._a[id] = c.getUTCMonth(), a._a[jd] = c.getUTCDate()), b = 0; 3 > b && null == a._a[b]; ++b) a._a[b] = f[b] = d[b];
                        for (;7 > b; b++) a._a[b] = f[b] = null == a._a[b] ? 2 === b ? 1 : 0 : a._a[b];
                        24 === a._a[kd] && 0 === a._a[ld] && 0 === a._a[md] && 0 === a._a[nd] && (a._nextDay = !0, 
                        a._a[kd] = 0), a._d = (a._useUTC ? ha : ga).apply(null, f), null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm), 
                        a._nextDay && (a._a[kd] = 24);
                    }
                }
                function wa(a) {
                    var b, c, d, e, f, g, h;
                    b = a._w, null != b.GG || null != b.W || null != b.E ? (f = 1, g = 4, c = ta(b.GG, a._a[hd], la(Fa(), 1, 4).year), 
                    d = ta(b.W, 1), e = ta(b.E, 1)) : (f = a._locale._week.dow, g = a._locale._week.doy, 
                    c = ta(b.gg, a._a[hd], la(Fa(), f, g).year), d = ta(b.w, 1), null != b.d ? (e = b.d, 
                    f > e && ++d) : e = null != b.e ? b.e + f : f), h = ra(c, d, e, g, f), a._a[hd] = h.year, 
                    a._dayOfYear = h.dayOfYear;
                }
                function xa(b) {
                    if (b._f === a.ISO_8601) return void ea(b);
                    b._a = [], l(b).empty = !0;
                    var c, d, e, f, g, h = "" + b._i, i = h.length, j = 0;
                    for (e = N(b._f, b._locale).match(Pc) || [], c = 0; c < e.length; c++) f = e[c], 
                    d = (h.match(Q(f, b)) || [])[0], d && (g = h.substr(0, h.indexOf(d)), g.length > 0 && l(b).unusedInput.push(g), 
                    h = h.slice(h.indexOf(d) + d.length), j += d.length), Sc[f] ? (d ? l(b).empty = !1 : l(b).unusedTokens.push(f), 
                    U(f, d, b)) : b._strict && !d && l(b).unusedTokens.push(f);
                    l(b).charsLeftOver = i - j, h.length > 0 && l(b).unusedInput.push(h), l(b).bigHour === !0 && b._a[kd] <= 12 && b._a[kd] > 0 && (l(b).bigHour = void 0), 
                    b._a[kd] = ya(b._locale, b._a[kd], b._meridiem), va(b), aa(b);
                }
                function ya(a, b, c) {
                    var d;
                    return null == c ? b : null != a.meridiemHour ? a.meridiemHour(b, c) : null != a.isPM ? (d = a.isPM(c), 
                    d && 12 > b && (b += 12), d || 12 !== b || (b = 0), b) : b;
                }
                function za(a) {
                    var b, c, d, e, f;
                    if (0 === a._f.length) return l(a).invalidFormat = !0, void (a._d = new Date(NaN));
                    for (e = 0; e < a._f.length; e++) f = 0, b = o({}, a), null != a._useUTC && (b._useUTC = a._useUTC), 
                    b._f = a._f[e], xa(b), m(b) && (f += l(b).charsLeftOver, f += 10 * l(b).unusedTokens.length, 
                    l(b).score = f, (null == d || d > f) && (d = f, c = b));
                    i(a, c || b);
                }
                function Aa(a) {
                    if (!a._d) {
                        var b = D(a._i);
                        a._a = [ b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond ], 
                        va(a);
                    }
                }
                function Ba(a) {
                    var b = new p(aa(Ca(a)));
                    return b._nextDay && (b.add(1, "d"), b._nextDay = void 0), b;
                }
                function Ca(a) {
                    var b = a._i, c = a._f;
                    return a._locale = a._locale || A(a._l), null === b || void 0 === c && "" === b ? n({
                        nullInput: !0
                    }) : ("string" == typeof b && (a._i = b = a._locale.preparse(b)), q(b) ? new p(aa(b)) : (e(c) ? za(a) : c ? xa(a) : f(b) ? a._d = b : Da(a), 
                    a));
                }
                function Da(b) {
                    var c = b._i;
                    void 0 === c ? b._d = new Date() : f(c) ? b._d = new Date(+c) : "string" == typeof c ? fa(b) : e(c) ? (b._a = g(c.slice(0), function(a) {
                        return parseInt(a, 10);
                    }), va(b)) : "object" == typeof c ? Aa(b) : "number" == typeof c ? b._d = new Date(c) : a.createFromInputFallback(b);
                }
                function Ea(a, b, c, d, e) {
                    var f = {};
                    return "boolean" == typeof c && (d = c, c = void 0), f._isAMomentObject = !0, f._useUTC = f._isUTC = e, 
                    f._l = c, f._i = a, f._f = b, f._strict = d, Ba(f);
                }
                function Fa(a, b, c, d) {
                    return Ea(a, b, c, d, !1);
                }
                function Ga(a, b) {
                    var c, d;
                    if (1 === b.length && e(b[0]) && (b = b[0]), !b.length) return Fa();
                    for (c = b[0], d = 1; d < b.length; ++d) (!b[d].isValid() || b[d][a](c)) && (c = b[d]);
                    return c;
                }
                function Ha() {
                    var a = [].slice.call(arguments, 0);
                    return Ga("isBefore", a);
                }
                function Ia() {
                    var a = [].slice.call(arguments, 0);
                    return Ga("isAfter", a);
                }
                function Ja(a) {
                    var b = D(a), c = b.year || 0, d = b.quarter || 0, e = b.month || 0, f = b.week || 0, g = b.day || 0, h = b.hour || 0, i = b.minute || 0, j = b.second || 0, k = b.millisecond || 0;
                    this._milliseconds = +k + 1e3 * j + 6e4 * i + 36e5 * h, this._days = +g + 7 * f, 
                    this._months = +e + 3 * d + 12 * c, this._data = {}, this._locale = A(), this._bubble();
                }
                function Ka(a) {
                    return a instanceof Ja;
                }
                function La(a, b) {
                    J(a, 0, 0, function() {
                        var a = this.utcOffset(), c = "+";
                        return 0 > a && (a = -a, c = "-"), c + I(~~(a / 60), 2) + b + I(~~a % 60, 2);
                    });
                }
                function Ma(a) {
                    var b = (a || "").match(cd) || [], c = b[b.length - 1] || [], d = (c + "").match(zd) || [ "-", 0, 0 ], e = +(60 * d[1]) + s(d[2]);
                    return "+" === d[0] ? e : -e;
                }
                function Na(b, c) {
                    var d, e;
                    return c._isUTC ? (d = c.clone(), e = (q(b) || f(b) ? +b : +Fa(b)) - +d, d._d.setTime(+d._d + e), 
                    a.updateOffset(d, !1), d) : Fa(b).local();
                }
                function Oa(a) {
                    return 15 * -Math.round(a._d.getTimezoneOffset() / 15);
                }
                function Pa(b, c) {
                    var d, e = this._offset || 0;
                    return null != b ? ("string" == typeof b && (b = Ma(b)), Math.abs(b) < 16 && (b = 60 * b), 
                    !this._isUTC && c && (d = Oa(this)), this._offset = b, this._isUTC = !0, null != d && this.add(d, "m"), 
                    e !== b && (!c || this._changeInProgress ? db(this, $a(b - e, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, 
                    a.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? e : Oa(this);
                }
                function Qa(a, b) {
                    return null != a ? ("string" != typeof a && (a = -a), this.utcOffset(a, b), this) : -this.utcOffset();
                }
                function Ra(a) {
                    return this.utcOffset(0, a);
                }
                function Sa(a) {
                    return this._isUTC && (this.utcOffset(0, a), this._isUTC = !1, a && this.subtract(Oa(this), "m")), 
                    this;
                }
                function Ta() {
                    return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Ma(this._i)), 
                    this;
                }
                function Ua(a) {
                    return a = a ? Fa(a).utcOffset() : 0, (this.utcOffset() - a) % 60 === 0;
                }
                function Va() {
                    return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
                }
                function Wa() {
                    if ("undefined" != typeof this._isDSTShifted) return this._isDSTShifted;
                    var a = {};
                    if (o(a, this), a = Ca(a), a._a) {
                        var b = a._isUTC ? j(a._a) : Fa(a._a);
                        this._isDSTShifted = this.isValid() && t(a._a, b.toArray()) > 0;
                    } else this._isDSTShifted = !1;
                    return this._isDSTShifted;
                }
                function Xa() {
                    return !this._isUTC;
                }
                function Ya() {
                    return this._isUTC;
                }
                function Za() {
                    return this._isUTC && 0 === this._offset;
                }
                function $a(a, b) {
                    var c, d, e, f = a, g = null;
                    return Ka(a) ? f = {
                        ms: a._milliseconds,
                        d: a._days,
                        M: a._months
                    } : "number" == typeof a ? (f = {}, b ? f[b] = a : f.milliseconds = a) : (g = Ad.exec(a)) ? (c = "-" === g[1] ? -1 : 1, 
                    f = {
                        y: 0,
                        d: s(g[jd]) * c,
                        h: s(g[kd]) * c,
                        m: s(g[ld]) * c,
                        s: s(g[md]) * c,
                        ms: s(g[nd]) * c
                    }) : (g = Bd.exec(a)) ? (c = "-" === g[1] ? -1 : 1, f = {
                        y: _a(g[2], c),
                        M: _a(g[3], c),
                        d: _a(g[4], c),
                        h: _a(g[5], c),
                        m: _a(g[6], c),
                        s: _a(g[7], c),
                        w: _a(g[8], c)
                    }) : null == f ? f = {} : "object" == typeof f && ("from" in f || "to" in f) && (e = bb(Fa(f.from), Fa(f.to)), 
                    f = {}, f.ms = e.milliseconds, f.M = e.months), d = new Ja(f), Ka(a) && h(a, "_locale") && (d._locale = a._locale), 
                    d;
                }
                function _a(a, b) {
                    var c = a && parseFloat(a.replace(",", "."));
                    return (isNaN(c) ? 0 : c) * b;
                }
                function ab(a, b) {
                    var c = {
                        milliseconds: 0,
                        months: 0
                    };
                    return c.months = b.month() - a.month() + 12 * (b.year() - a.year()), a.clone().add(c.months, "M").isAfter(b) && --c.months, 
                    c.milliseconds = +b - +a.clone().add(c.months, "M"), c;
                }
                function bb(a, b) {
                    var c;
                    return b = Na(b, a), a.isBefore(b) ? c = ab(a, b) : (c = ab(b, a), c.milliseconds = -c.milliseconds, 
                    c.months = -c.months), c;
                }
                function cb(a, b) {
                    return function(c, d) {
                        var e, f;
                        return null === d || isNaN(+d) || (da(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period)."), 
                        f = c, c = d, d = f), c = "string" == typeof c ? +c : c, e = $a(c, d), db(this, e, a), 
                        this;
                    };
                }
                function db(b, c, d, e) {
                    var f = c._milliseconds, g = c._days, h = c._months;
                    e = null == e ? !0 : e, f && b._d.setTime(+b._d + f * d), g && G(b, "Date", F(b, "Date") + g * d), 
                    h && Z(b, F(b, "Month") + h * d), e && a.updateOffset(b, g || h);
                }
                function eb(a, b) {
                    var c = a || Fa(), d = Na(c, this).startOf("day"), e = this.diff(d, "days", !0), f = -6 > e ? "sameElse" : -1 > e ? "lastWeek" : 0 > e ? "lastDay" : 1 > e ? "sameDay" : 2 > e ? "nextDay" : 7 > e ? "nextWeek" : "sameElse";
                    return this.format(b && b[f] || this.localeData().calendar(f, this, Fa(c)));
                }
                function fb() {
                    return new p(this);
                }
                function gb(a, b) {
                    var c;
                    return b = C("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = q(a) ? a : Fa(a), 
                    +this > +a) : (c = q(a) ? +a : +Fa(a), c < +this.clone().startOf(b));
                }
                function hb(a, b) {
                    var c;
                    return b = C("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = q(a) ? a : Fa(a), 
                    +a > +this) : (c = q(a) ? +a : +Fa(a), +this.clone().endOf(b) < c);
                }
                function ib(a, b, c) {
                    return this.isAfter(a, c) && this.isBefore(b, c);
                }
                function jb(a, b) {
                    var c;
                    return b = C(b || "millisecond"), "millisecond" === b ? (a = q(a) ? a : Fa(a), +this === +a) : (c = +Fa(a), 
                    +this.clone().startOf(b) <= c && c <= +this.clone().endOf(b));
                }
                function kb(a, b, c) {
                    var d, e, f = Na(a, this), g = 6e4 * (f.utcOffset() - this.utcOffset());
                    return b = C(b), "year" === b || "month" === b || "quarter" === b ? (e = lb(this, f), 
                    "quarter" === b ? e /= 3 : "year" === b && (e /= 12)) : (d = this - f, e = "second" === b ? d / 1e3 : "minute" === b ? d / 6e4 : "hour" === b ? d / 36e5 : "day" === b ? (d - g) / 864e5 : "week" === b ? (d - g) / 6048e5 : d), 
                    c ? e : r(e);
                }
                function lb(a, b) {
                    var c, d, e = 12 * (b.year() - a.year()) + (b.month() - a.month()), f = a.clone().add(e, "months");
                    return 0 > b - f ? (c = a.clone().add(e - 1, "months"), d = (b - f) / (f - c)) : (c = a.clone().add(e + 1, "months"), 
                    d = (b - f) / (c - f)), -(e + d);
                }
                function mb() {
                    return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
                }
                function nb() {
                    var a = this.clone().utc();
                    return 0 < a.year() && a.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : M(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : M(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
                }
                function ob(b) {
                    var c = M(this, b || a.defaultFormat);
                    return this.localeData().postformat(c);
                }
                function pb(a, b) {
                    return this.isValid() ? $a({
                        to: this,
                        from: a
                    }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate();
                }
                function qb(a) {
                    return this.from(Fa(), a);
                }
                function rb(a, b) {
                    return this.isValid() ? $a({
                        from: this,
                        to: a
                    }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate();
                }
                function sb(a) {
                    return this.to(Fa(), a);
                }
                function tb(a) {
                    var b;
                    return void 0 === a ? this._locale._abbr : (b = A(a), null != b && (this._locale = b), 
                    this);
                }
                function ub() {
                    return this._locale;
                }
                function vb(a) {
                    switch (a = C(a)) {
                      case "year":
                        this.month(0);

                      case "quarter":
                      case "month":
                        this.date(1);

                      case "week":
                      case "isoWeek":
                      case "day":
                        this.hours(0);

                      case "hour":
                        this.minutes(0);

                      case "minute":
                        this.seconds(0);

                      case "second":
                        this.milliseconds(0);
                    }
                    return "week" === a && this.weekday(0), "isoWeek" === a && this.isoWeekday(1), "quarter" === a && this.month(3 * Math.floor(this.month() / 3)), 
                    this;
                }
                function wb(a) {
                    return a = C(a), void 0 === a || "millisecond" === a ? this : this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms");
                }
                function xb() {
                    return +this._d - 6e4 * (this._offset || 0);
                }
                function yb() {
                    return Math.floor(+this / 1e3);
                }
                function zb() {
                    return this._offset ? new Date(+this) : this._d;
                }
                function Ab() {
                    var a = this;
                    return [ a.year(), a.month(), a.date(), a.hour(), a.minute(), a.second(), a.millisecond() ];
                }
                function Bb() {
                    var a = this;
                    return {
                        years: a.year(),
                        months: a.month(),
                        date: a.date(),
                        hours: a.hours(),
                        minutes: a.minutes(),
                        seconds: a.seconds(),
                        milliseconds: a.milliseconds()
                    };
                }
                function Cb() {
                    return m(this);
                }
                function Db() {
                    return i({}, l(this));
                }
                function Eb() {
                    return l(this).overflow;
                }
                function Fb(a, b) {
                    J(0, [ a, a.length ], 0, b);
                }
                function Gb(a, b, c) {
                    return la(Fa([ a, 11, 31 + b - c ]), b, c).week;
                }
                function Hb(a) {
                    var b = la(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
                    return null == a ? b : this.add(a - b, "y");
                }
                function Ib(a) {
                    var b = la(this, 1, 4).year;
                    return null == a ? b : this.add(a - b, "y");
                }
                function Jb() {
                    return Gb(this.year(), 1, 4);
                }
                function Kb() {
                    var a = this.localeData()._week;
                    return Gb(this.year(), a.dow, a.doy);
                }
                function Lb(a) {
                    return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3);
                }
                function Mb(a, b) {
                    return "string" != typeof a ? a : isNaN(a) ? (a = b.weekdaysParse(a), "number" == typeof a ? a : null) : parseInt(a, 10);
                }
                function Nb(a) {
                    return this._weekdays[a.day()];
                }
                function Ob(a) {
                    return this._weekdaysShort[a.day()];
                }
                function Pb(a) {
                    return this._weekdaysMin[a.day()];
                }
                function Qb(a) {
                    var b, c, d;
                    for (this._weekdaysParse = this._weekdaysParse || [], b = 0; 7 > b; b++) if (this._weekdaysParse[b] || (c = Fa([ 2e3, 1 ]).day(b), 
                    d = "^" + this.weekdays(c, "") + "|^" + this.weekdaysShort(c, "") + "|^" + this.weekdaysMin(c, ""), 
                    this._weekdaysParse[b] = new RegExp(d.replace(".", ""), "i")), this._weekdaysParse[b].test(a)) return b;
                }
                function Rb(a) {
                    var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                    return null != a ? (a = Mb(a, this.localeData()), this.add(a - b, "d")) : b;
                }
                function Sb(a) {
                    var b = (this.day() + 7 - this.localeData()._week.dow) % 7;
                    return null == a ? b : this.add(a - b, "d");
                }
                function Tb(a) {
                    return null == a ? this.day() || 7 : this.day(this.day() % 7 ? a : a - 7);
                }
                function Ub(a, b) {
                    J(a, 0, 0, function() {
                        return this.localeData().meridiem(this.hours(), this.minutes(), b);
                    });
                }
                function Vb(a, b) {
                    return b._meridiemParse;
                }
                function Wb(a) {
                    return "p" === (a + "").toLowerCase().charAt(0);
                }
                function Xb(a, b, c) {
                    return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM";
                }
                function Yb(a, b) {
                    b[nd] = s(1e3 * ("0." + a));
                }
                function Zb() {
                    return this._isUTC ? "UTC" : "";
                }
                function $b() {
                    return this._isUTC ? "Coordinated Universal Time" : "";
                }
                function _b(a) {
                    return Fa(1e3 * a);
                }
                function ac() {
                    return Fa.apply(null, arguments).parseZone();
                }
                function bc(a, b, c) {
                    var d = this._calendar[a];
                    return "function" == typeof d ? d.call(b, c) : d;
                }
                function cc(a) {
                    var b = this._longDateFormat[a], c = this._longDateFormat[a.toUpperCase()];
                    return b || !c ? b : (this._longDateFormat[a] = c.replace(/MMMM|MM|DD|dddd/g, function(a) {
                        return a.slice(1);
                    }), this._longDateFormat[a]);
                }
                function dc() {
                    return this._invalidDate;
                }
                function ec(a) {
                    return this._ordinal.replace("%d", a);
                }
                function fc(a) {
                    return a;
                }
                function gc(a, b, c, d) {
                    var e = this._relativeTime[c];
                    return "function" == typeof e ? e(a, b, c, d) : e.replace(/%d/i, a);
                }
                function hc(a, b) {
                    var c = this._relativeTime[a > 0 ? "future" : "past"];
                    return "function" == typeof c ? c(b) : c.replace(/%s/i, b);
                }
                function ic(a) {
                    var b, c;
                    for (c in a) b = a[c], "function" == typeof b ? this[c] = b : this["_" + c] = b;
                    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source);
                }
                function jc(a, b, c, d) {
                    var e = A(), f = j().set(d, b);
                    return e[c](f, a);
                }
                function kc(a, b, c, d, e) {
                    if ("number" == typeof a && (b = a, a = void 0), a = a || "", null != b) return jc(a, b, c, e);
                    var f, g = [];
                    for (f = 0; d > f; f++) g[f] = jc(a, f, c, e);
                    return g;
                }
                function lc(a, b) {
                    return kc(a, b, "months", 12, "month");
                }
                function mc(a, b) {
                    return kc(a, b, "monthsShort", 12, "month");
                }
                function nc(a, b) {
                    return kc(a, b, "weekdays", 7, "day");
                }
                function oc(a, b) {
                    return kc(a, b, "weekdaysShort", 7, "day");
                }
                function pc(a, b) {
                    return kc(a, b, "weekdaysMin", 7, "day");
                }
                function qc() {
                    var a = this._data;
                    return this._milliseconds = Yd(this._milliseconds), this._days = Yd(this._days), 
                    this._months = Yd(this._months), a.milliseconds = Yd(a.milliseconds), a.seconds = Yd(a.seconds), 
                    a.minutes = Yd(a.minutes), a.hours = Yd(a.hours), a.months = Yd(a.months), a.years = Yd(a.years), 
                    this;
                }
                function rc(a, b, c, d) {
                    var e = $a(b, c);
                    return a._milliseconds += d * e._milliseconds, a._days += d * e._days, a._months += d * e._months, 
                    a._bubble();
                }
                function sc(a, b) {
                    return rc(this, a, b, 1);
                }
                function tc(a, b) {
                    return rc(this, a, b, -1);
                }
                function uc(a) {
                    return 0 > a ? Math.floor(a) : Math.ceil(a);
                }
                function vc() {
                    var a, b, c, d, e, f = this._milliseconds, g = this._days, h = this._months, i = this._data;
                    return f >= 0 && g >= 0 && h >= 0 || 0 >= f && 0 >= g && 0 >= h || (f += 864e5 * uc(xc(h) + g), 
                    g = 0, h = 0), i.milliseconds = f % 1e3, a = r(f / 1e3), i.seconds = a % 60, b = r(a / 60), 
                    i.minutes = b % 60, c = r(b / 60), i.hours = c % 24, g += r(c / 24), e = r(wc(g)), 
                    h += e, g -= uc(xc(e)), d = r(h / 12), h %= 12, i.days = g, i.months = h, i.years = d, 
                    this;
                }
                function wc(a) {
                    return 4800 * a / 146097;
                }
                function xc(a) {
                    return 146097 * a / 4800;
                }
                function yc(a) {
                    var b, c, d = this._milliseconds;
                    if (a = C(a), "month" === a || "year" === a) return b = this._days + d / 864e5, 
                    c = this._months + wc(b), "month" === a ? c : c / 12;
                    switch (b = this._days + Math.round(xc(this._months)), a) {
                      case "week":
                        return b / 7 + d / 6048e5;

                      case "day":
                        return b + d / 864e5;

                      case "hour":
                        return 24 * b + d / 36e5;

                      case "minute":
                        return 1440 * b + d / 6e4;

                      case "second":
                        return 86400 * b + d / 1e3;

                      case "millisecond":
                        return Math.floor(864e5 * b) + d;

                      default:
                        throw new Error("Unknown unit " + a);
                    }
                }
                function zc() {
                    return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * s(this._months / 12);
                }
                function Ac(a) {
                    return function() {
                        return this.as(a);
                    };
                }
                function Bc(a) {
                    return a = C(a), this[a + "s"]();
                }
                function Cc(a) {
                    return function() {
                        return this._data[a];
                    };
                }
                function Dc() {
                    return r(this.days() / 7);
                }
                function Ec(a, b, c, d, e) {
                    return e.relativeTime(b || 1, !!c, a, d);
                }
                function Fc(a, b, c) {
                    var d = $a(a).abs(), e = me(d.as("s")), f = me(d.as("m")), g = me(d.as("h")), h = me(d.as("d")), i = me(d.as("M")), j = me(d.as("y")), k = e < ne.s && [ "s", e ] || 1 === f && [ "m" ] || f < ne.m && [ "mm", f ] || 1 === g && [ "h" ] || g < ne.h && [ "hh", g ] || 1 === h && [ "d" ] || h < ne.d && [ "dd", h ] || 1 === i && [ "M" ] || i < ne.M && [ "MM", i ] || 1 === j && [ "y" ] || [ "yy", j ];
                    return k[2] = b, k[3] = +a > 0, k[4] = c, Ec.apply(null, k);
                }
                function Gc(a, b) {
                    return void 0 === ne[a] ? !1 : void 0 === b ? ne[a] : (ne[a] = b, !0);
                }
                function Hc(a) {
                    var b = this.localeData(), c = Fc(this, !a, b);
                    return a && (c = b.pastFuture(+this, c)), b.postformat(c);
                }
                function Ic() {
                    var a, b, c, d = oe(this._milliseconds) / 1e3, e = oe(this._days), f = oe(this._months);
                    a = r(d / 60), b = r(a / 60), d %= 60, a %= 60, c = r(f / 12), f %= 12;
                    var g = c, h = f, i = e, j = b, k = a, l = d, m = this.asSeconds();
                    return m ? (0 > m ? "-" : "") + "P" + (g ? g + "Y" : "") + (h ? h + "M" : "") + (i ? i + "D" : "") + (j || k || l ? "T" : "") + (j ? j + "H" : "") + (k ? k + "M" : "") + (l ? l + "S" : "") : "P0D";
                }
                var Jc, Kc, Lc = a.momentProperties = [], Mc = !1, Nc = {}, Oc = {}, Pc = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Qc = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Rc = {}, Sc = {}, Tc = /\d/, Uc = /\d\d/, Vc = /\d{3}/, Wc = /\d{4}/, Xc = /[+-]?\d{6}/, Yc = /\d\d?/, Zc = /\d{1,3}/, $c = /\d{1,4}/, _c = /[+-]?\d{1,6}/, ad = /\d+/, bd = /[+-]?\d+/, cd = /Z|[+-]\d\d:?\d\d/gi, dd = /[+-]?\d+(\.\d{1,3})?/, ed = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, fd = {}, gd = {}, hd = 0, id = 1, jd = 2, kd = 3, ld = 4, md = 5, nd = 6;
                J("M", [ "MM", 2 ], "Mo", function() {
                    return this.month() + 1;
                }), J("MMM", 0, 0, function(a) {
                    return this.localeData().monthsShort(this, a);
                }), J("MMMM", 0, 0, function(a) {
                    return this.localeData().months(this, a);
                }), B("month", "M"), P("M", Yc), P("MM", Yc, Uc), P("MMM", ed), P("MMMM", ed), S([ "M", "MM" ], function(a, b) {
                    b[id] = s(a) - 1;
                }), S([ "MMM", "MMMM" ], function(a, b, c, d) {
                    var e = c._locale.monthsParse(a, d, c._strict);
                    null != e ? b[id] = e : l(c).invalidMonth = a;
                });
                var od = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), pd = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), qd = {};
                a.suppressDeprecationWarnings = !1;
                var rd = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, sd = [ [ "YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/ ], [ "YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/ ], [ "GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/ ], [ "GGGG-[W]WW", /\d{4}-W\d{2}/ ], [ "YYYY-DDD", /\d{4}-\d{3}/ ] ], td = [ [ "HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/ ], [ "HH:mm:ss", /(T| )\d\d:\d\d:\d\d/ ], [ "HH:mm", /(T| )\d\d:\d\d/ ], [ "HH", /(T| )\d\d/ ] ], ud = /^\/?Date\((\-?\d+)/i;
                a.createFromInputFallback = ca("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(a) {
                    a._d = new Date(a._i + (a._useUTC ? " UTC" : ""));
                }), J(0, [ "YY", 2 ], 0, function() {
                    return this.year() % 100;
                }), J(0, [ "YYYY", 4 ], 0, "year"), J(0, [ "YYYYY", 5 ], 0, "year"), J(0, [ "YYYYYY", 6, !0 ], 0, "year"), 
                B("year", "y"), P("Y", bd), P("YY", Yc, Uc), P("YYYY", $c, Wc), P("YYYYY", _c, Xc), 
                P("YYYYYY", _c, Xc), S([ "YYYYY", "YYYYYY" ], hd), S("YYYY", function(b, c) {
                    c[hd] = 2 === b.length ? a.parseTwoDigitYear(b) : s(b);
                }), S("YY", function(b, c) {
                    c[hd] = a.parseTwoDigitYear(b);
                }), a.parseTwoDigitYear = function(a) {
                    return s(a) + (s(a) > 68 ? 1900 : 2e3);
                };
                var vd = E("FullYear", !1);
                J("w", [ "ww", 2 ], "wo", "week"), J("W", [ "WW", 2 ], "Wo", "isoWeek"), B("week", "w"), 
                B("isoWeek", "W"), P("w", Yc), P("ww", Yc, Uc), P("W", Yc), P("WW", Yc, Uc), T([ "w", "ww", "W", "WW" ], function(a, b, c, d) {
                    b[d.substr(0, 1)] = s(a);
                });
                var wd = {
                    dow: 0,
                    doy: 6
                };
                J("DDD", [ "DDDD", 3 ], "DDDo", "dayOfYear"), B("dayOfYear", "DDD"), P("DDD", Zc), 
                P("DDDD", Vc), S([ "DDD", "DDDD" ], function(a, b, c) {
                    c._dayOfYear = s(a);
                }), a.ISO_8601 = function() {};
                var xd = ca("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function() {
                    var a = Fa.apply(null, arguments);
                    return this > a ? this : a;
                }), yd = ca("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function() {
                    var a = Fa.apply(null, arguments);
                    return a > this ? this : a;
                });
                La("Z", ":"), La("ZZ", ""), P("Z", cd), P("ZZ", cd), S([ "Z", "ZZ" ], function(a, b, c) {
                    c._useUTC = !0, c._tzm = Ma(a);
                });
                var zd = /([\+\-]|\d\d)/gi;
                a.updateOffset = function() {};
                var Ad = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, Bd = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
                $a.fn = Ja.prototype;
                var Cd = cb(1, "add"), Dd = cb(-1, "subtract");
                a.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
                var Ed = ca("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(a) {
                    return void 0 === a ? this.localeData() : this.locale(a);
                });
                J(0, [ "gg", 2 ], 0, function() {
                    return this.weekYear() % 100;
                }), J(0, [ "GG", 2 ], 0, function() {
                    return this.isoWeekYear() % 100;
                }), Fb("gggg", "weekYear"), Fb("ggggg", "weekYear"), Fb("GGGG", "isoWeekYear"), 
                Fb("GGGGG", "isoWeekYear"), B("weekYear", "gg"), B("isoWeekYear", "GG"), P("G", bd), 
                P("g", bd), P("GG", Yc, Uc), P("gg", Yc, Uc), P("GGGG", $c, Wc), P("gggg", $c, Wc), 
                P("GGGGG", _c, Xc), P("ggggg", _c, Xc), T([ "gggg", "ggggg", "GGGG", "GGGGG" ], function(a, b, c, d) {
                    b[d.substr(0, 2)] = s(a);
                }), T([ "gg", "GG" ], function(b, c, d, e) {
                    c[e] = a.parseTwoDigitYear(b);
                }), J("Q", 0, 0, "quarter"), B("quarter", "Q"), P("Q", Tc), S("Q", function(a, b) {
                    b[id] = 3 * (s(a) - 1);
                }), J("D", [ "DD", 2 ], "Do", "date"), B("date", "D"), P("D", Yc), P("DD", Yc, Uc), 
                P("Do", function(a, b) {
                    return a ? b._ordinalParse : b._ordinalParseLenient;
                }), S([ "D", "DD" ], jd), S("Do", function(a, b) {
                    b[jd] = s(a.match(Yc)[0], 10);
                });
                var Fd = E("Date", !0);
                J("d", 0, "do", "day"), J("dd", 0, 0, function(a) {
                    return this.localeData().weekdaysMin(this, a);
                }), J("ddd", 0, 0, function(a) {
                    return this.localeData().weekdaysShort(this, a);
                }), J("dddd", 0, 0, function(a) {
                    return this.localeData().weekdays(this, a);
                }), J("e", 0, 0, "weekday"), J("E", 0, 0, "isoWeekday"), B("day", "d"), B("weekday", "e"), 
                B("isoWeekday", "E"), P("d", Yc), P("e", Yc), P("E", Yc), P("dd", ed), P("ddd", ed), 
                P("dddd", ed), T([ "dd", "ddd", "dddd" ], function(a, b, c) {
                    var d = c._locale.weekdaysParse(a);
                    null != d ? b.d = d : l(c).invalidWeekday = a;
                }), T([ "d", "e", "E" ], function(a, b, c, d) {
                    b[d] = s(a);
                });
                var Gd = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Hd = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Id = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
                J("H", [ "HH", 2 ], 0, "hour"), J("h", [ "hh", 2 ], 0, function() {
                    return this.hours() % 12 || 12;
                }), Ub("a", !0), Ub("A", !1), B("hour", "h"), P("a", Vb), P("A", Vb), P("H", Yc), 
                P("h", Yc), P("HH", Yc, Uc), P("hh", Yc, Uc), S([ "H", "HH" ], kd), S([ "a", "A" ], function(a, b, c) {
                    c._isPm = c._locale.isPM(a), c._meridiem = a;
                }), S([ "h", "hh" ], function(a, b, c) {
                    b[kd] = s(a), l(c).bigHour = !0;
                });
                var Jd = /[ap]\.?m?\.?/i, Kd = E("Hours", !0);
                J("m", [ "mm", 2 ], 0, "minute"), B("minute", "m"), P("m", Yc), P("mm", Yc, Uc), 
                S([ "m", "mm" ], ld);
                var Ld = E("Minutes", !1);
                J("s", [ "ss", 2 ], 0, "second"), B("second", "s"), P("s", Yc), P("ss", Yc, Uc), 
                S([ "s", "ss" ], md);
                var Md = E("Seconds", !1);
                J("S", 0, 0, function() {
                    return ~~(this.millisecond() / 100);
                }), J(0, [ "SS", 2 ], 0, function() {
                    return ~~(this.millisecond() / 10);
                }), J(0, [ "SSS", 3 ], 0, "millisecond"), J(0, [ "SSSS", 4 ], 0, function() {
                    return 10 * this.millisecond();
                }), J(0, [ "SSSSS", 5 ], 0, function() {
                    return 100 * this.millisecond();
                }), J(0, [ "SSSSSS", 6 ], 0, function() {
                    return 1e3 * this.millisecond();
                }), J(0, [ "SSSSSSS", 7 ], 0, function() {
                    return 1e4 * this.millisecond();
                }), J(0, [ "SSSSSSSS", 8 ], 0, function() {
                    return 1e5 * this.millisecond();
                }), J(0, [ "SSSSSSSSS", 9 ], 0, function() {
                    return 1e6 * this.millisecond();
                }), B("millisecond", "ms"), P("S", Zc, Tc), P("SS", Zc, Uc), P("SSS", Zc, Vc);
                var Nd;
                for (Nd = "SSSS"; Nd.length <= 9; Nd += "S") P(Nd, ad);
                for (Nd = "S"; Nd.length <= 9; Nd += "S") S(Nd, Yb);
                var Od = E("Milliseconds", !1);
                J("z", 0, 0, "zoneAbbr"), J("zz", 0, 0, "zoneName");
                var Pd = p.prototype;
                Pd.add = Cd, Pd.calendar = eb, Pd.clone = fb, Pd.diff = kb, Pd.endOf = wb, Pd.format = ob, 
                Pd.from = pb, Pd.fromNow = qb, Pd.to = rb, Pd.toNow = sb, Pd.get = H, Pd.invalidAt = Eb, 
                Pd.isAfter = gb, Pd.isBefore = hb, Pd.isBetween = ib, Pd.isSame = jb, Pd.isValid = Cb, 
                Pd.lang = Ed, Pd.locale = tb, Pd.localeData = ub, Pd.max = yd, Pd.min = xd, Pd.parsingFlags = Db, 
                Pd.set = H, Pd.startOf = vb, Pd.subtract = Dd, Pd.toArray = Ab, Pd.toObject = Bb, 
                Pd.toDate = zb, Pd.toISOString = nb, Pd.toJSON = nb, Pd.toString = mb, Pd.unix = yb, 
                Pd.valueOf = xb, Pd.year = vd, Pd.isLeapYear = ka, Pd.weekYear = Hb, Pd.isoWeekYear = Ib, 
                Pd.quarter = Pd.quarters = Lb, Pd.month = $, Pd.daysInMonth = _, Pd.week = Pd.weeks = pa, 
                Pd.isoWeek = Pd.isoWeeks = qa, Pd.weeksInYear = Kb, Pd.isoWeeksInYear = Jb, Pd.date = Fd, 
                Pd.day = Pd.days = Rb, Pd.weekday = Sb, Pd.isoWeekday = Tb, Pd.dayOfYear = sa, Pd.hour = Pd.hours = Kd, 
                Pd.minute = Pd.minutes = Ld, Pd.second = Pd.seconds = Md, Pd.millisecond = Pd.milliseconds = Od, 
                Pd.utcOffset = Pa, Pd.utc = Ra, Pd.local = Sa, Pd.parseZone = Ta, Pd.hasAlignedHourOffset = Ua, 
                Pd.isDST = Va, Pd.isDSTShifted = Wa, Pd.isLocal = Xa, Pd.isUtcOffset = Ya, Pd.isUtc = Za, 
                Pd.isUTC = Za, Pd.zoneAbbr = Zb, Pd.zoneName = $b, Pd.dates = ca("dates accessor is deprecated. Use date instead.", Fd), 
                Pd.months = ca("months accessor is deprecated. Use month instead", $), Pd.years = ca("years accessor is deprecated. Use year instead", vd), 
                Pd.zone = ca("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", Qa);
                var Qd = Pd, Rd = {
                    sameDay: "[Today at] LT",
                    nextDay: "[Tomorrow at] LT",
                    nextWeek: "dddd [at] LT",
                    lastDay: "[Yesterday at] LT",
                    lastWeek: "[Last] dddd [at] LT",
                    sameElse: "L"
                }, Sd = {
                    LTS: "h:mm:ss A",
                    LT: "h:mm A",
                    L: "MM/DD/YYYY",
                    LL: "MMMM D, YYYY",
                    LLL: "MMMM D, YYYY h:mm A",
                    LLLL: "dddd, MMMM D, YYYY h:mm A"
                }, Td = "Invalid date", Ud = "%d", Vd = /\d{1,2}/, Wd = {
                    future: "in %s",
                    past: "%s ago",
                    s: "a few seconds",
                    m: "a minute",
                    mm: "%d minutes",
                    h: "an hour",
                    hh: "%d hours",
                    d: "a day",
                    dd: "%d days",
                    M: "a month",
                    MM: "%d months",
                    y: "a year",
                    yy: "%d years"
                }, Xd = u.prototype;
                Xd._calendar = Rd, Xd.calendar = bc, Xd._longDateFormat = Sd, Xd.longDateFormat = cc, 
                Xd._invalidDate = Td, Xd.invalidDate = dc, Xd._ordinal = Ud, Xd.ordinal = ec, Xd._ordinalParse = Vd, 
                Xd.preparse = fc, Xd.postformat = fc, Xd._relativeTime = Wd, Xd.relativeTime = gc, 
                Xd.pastFuture = hc, Xd.set = ic, Xd.months = W, Xd._months = od, Xd.monthsShort = X, 
                Xd._monthsShort = pd, Xd.monthsParse = Y, Xd.week = ma, Xd._week = wd, Xd.firstDayOfYear = oa, 
                Xd.firstDayOfWeek = na, Xd.weekdays = Nb, Xd._weekdays = Gd, Xd.weekdaysMin = Pb, 
                Xd._weekdaysMin = Id, Xd.weekdaysShort = Ob, Xd._weekdaysShort = Hd, Xd.weekdaysParse = Qb, 
                Xd.isPM = Wb, Xd._meridiemParse = Jd, Xd.meridiem = Xb, y("en", {
                    ordinalParse: /\d{1,2}(th|st|nd|rd)/,
                    ordinal: function(a) {
                        var b = a % 10, c = 1 === s(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
                        return a + c;
                    }
                }), a.lang = ca("moment.lang is deprecated. Use moment.locale instead.", y), a.langData = ca("moment.langData is deprecated. Use moment.localeData instead.", A);
                var Yd = Math.abs, Zd = Ac("ms"), $d = Ac("s"), _d = Ac("m"), ae = Ac("h"), be = Ac("d"), ce = Ac("w"), de = Ac("M"), ee = Ac("y"), fe = Cc("milliseconds"), ge = Cc("seconds"), he = Cc("minutes"), ie = Cc("hours"), je = Cc("days"), ke = Cc("months"), le = Cc("years"), me = Math.round, ne = {
                    s: 45,
                    m: 45,
                    h: 22,
                    d: 26,
                    M: 11
                }, oe = Math.abs, pe = Ja.prototype;
                pe.abs = qc, pe.add = sc, pe.subtract = tc, pe.as = yc, pe.asMilliseconds = Zd, 
                pe.asSeconds = $d, pe.asMinutes = _d, pe.asHours = ae, pe.asDays = be, pe.asWeeks = ce, 
                pe.asMonths = de, pe.asYears = ee, pe.valueOf = zc, pe._bubble = vc, pe.get = Bc, 
                pe.milliseconds = fe, pe.seconds = ge, pe.minutes = he, pe.hours = ie, pe.days = je, 
                pe.weeks = Dc, pe.months = ke, pe.years = le, pe.humanize = Hc, pe.toISOString = Ic, 
                pe.toString = Ic, pe.toJSON = Ic, pe.locale = tb, pe.localeData = ub, pe.toIsoString = ca("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Ic), 
                pe.lang = Ed, J("X", 0, 0, "unix"), J("x", 0, 0, "valueOf"), P("x", bd), P("X", dd), 
                S("X", function(a, b, c) {
                    c._d = new Date(1e3 * parseFloat(a, 10));
                }), S("x", function(a, b, c) {
                    c._d = new Date(s(a));
                }), a.version = "2.10.6", d(Fa), a.fn = Qd, a.min = Ha, a.max = Ia, a.utc = j, a.unix = _b, 
                a.months = lc, a.isDate = f, a.locale = y, a.invalid = n, a.duration = $a, a.isMoment = q, 
                a.weekdays = nc, a.parseZone = ac, a.localeData = A, a.isDuration = Ka, a.monthsShort = mc, 
                a.weekdaysMin = pc, a.defineLocale = z, a.weekdaysShort = oc, a.normalizeUnits = C, 
                a.relativeTimeThreshold = Gc;
                var qe = a;
                return qe;
            });
        }, {} ],
        numeral: [ function(b, c, d) {
            "use strict";
            (function() {
                function b(a) {
                    this._value = a;
                }
                function d(a, b, c, d) {
                    var e, f, g = Math.pow(10, b);
                    return f = (c(a * g) / g).toFixed(b), d && (e = new RegExp("0{1," + d + "}$"), f = f.replace(e, "")), 
                    f;
                }
                function e(a, b, c) {
                    var d;
                    return d = b.indexOf("$") > -1 ? g(a, b, c) : b.indexOf("%") > -1 ? h(a, b, c) : b.indexOf(":") > -1 ? i(a, b) : k(a._value, b, c);
                }
                function f(a, b) {
                    var c, d, e, f, g, h = b, i = [ "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB" ], k = !1;
                    if (b.indexOf(":") > -1) a._value = j(b); else if (b === s) a._value = 0; else {
                        for ("." !== q[r].delimiters.decimal && (b = b.replace(/\./g, "").replace(q[r].delimiters.decimal, ".")), 
                        c = new RegExp("[^a-zA-Z]" + q[r].abbreviations.thousand + "(?:\\)|(\\" + q[r].currency.symbol + ")?(?:\\))?)?$"), 
                        d = new RegExp("[^a-zA-Z]" + q[r].abbreviations.million + "(?:\\)|(\\" + q[r].currency.symbol + ")?(?:\\))?)?$"), 
                        e = new RegExp("[^a-zA-Z]" + q[r].abbreviations.billion + "(?:\\)|(\\" + q[r].currency.symbol + ")?(?:\\))?)?$"), 
                        f = new RegExp("[^a-zA-Z]" + q[r].abbreviations.trillion + "(?:\\)|(\\" + q[r].currency.symbol + ")?(?:\\))?)?$"), 
                        g = 0; g <= i.length && !(k = b.indexOf(i[g]) > -1 ? Math.pow(1024, g + 1) : !1); g++) ;
                        a._value = (k ? k : 1) * (h.match(c) ? Math.pow(10, 3) : 1) * (h.match(d) ? Math.pow(10, 6) : 1) * (h.match(e) ? Math.pow(10, 9) : 1) * (h.match(f) ? Math.pow(10, 12) : 1) * (b.indexOf("%") > -1 ? .01 : 1) * ((b.split("-").length + Math.min(b.split("(").length - 1, b.split(")").length - 1)) % 2 ? 1 : -1) * Number(b.replace(/[^0-9\.]+/g, "")), 
                        a._value = k ? Math.ceil(a._value) : a._value;
                    }
                    return a._value;
                }
                function g(a, b, c) {
                    var d, e, f = b.indexOf("$"), g = b.indexOf("("), h = b.indexOf("-"), i = "";
                    return b.indexOf(" $") > -1 ? (i = " ", b = b.replace(" $", "")) : b.indexOf("$ ") > -1 ? (i = " ", 
                    b = b.replace("$ ", "")) : b = b.replace("$", ""), e = k(a._value, b, c), 1 >= f ? e.indexOf("(") > -1 || e.indexOf("-") > -1 ? (e = e.split(""), 
                    d = 1, (g > f || h > f) && (d = 0), e.splice(d, 0, q[r].currency.symbol + i), e = e.join("")) : e = q[r].currency.symbol + i + e : e.indexOf(")") > -1 ? (e = e.split(""), 
                    e.splice(-1, 0, i + q[r].currency.symbol), e = e.join("")) : e = e + i + q[r].currency.symbol, 
                    e;
                }
                function h(a, b, c) {
                    var d, e = "", f = 100 * a._value;
                    return b.indexOf(" %") > -1 ? (e = " ", b = b.replace(" %", "")) : b = b.replace("%", ""), 
                    d = k(f, b, c), d.indexOf(")") > -1 ? (d = d.split(""), d.splice(-1, 0, e + "%"), 
                    d = d.join("")) : d = d + e + "%", d;
                }
                function i(a) {
                    var b = Math.floor(a._value / 60 / 60), c = Math.floor((a._value - 60 * b * 60) / 60), d = Math.round(a._value - 60 * b * 60 - 60 * c);
                    return b + ":" + (10 > c ? "0" + c : c) + ":" + (10 > d ? "0" + d : d);
                }
                function j(a) {
                    var b = a.split(":"), c = 0;
                    return 3 === b.length ? (c += 60 * Number(b[0]) * 60, c += 60 * Number(b[1]), c += Number(b[2])) : 2 === b.length && (c += 60 * Number(b[0]), 
                    c += Number(b[1])), Number(c);
                }
                function k(a, b, c) {
                    var e, f, g, h, i, j, k = !1, l = !1, m = !1, n = "", o = !1, p = !1, t = !1, u = !1, v = !1, w = "", x = "", y = Math.abs(a), z = [ "B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB" ], A = "", B = !1;
                    if (0 === a && null !== s) return s;
                    if (b.indexOf("(") > -1 ? (k = !0, b = b.slice(1, -1)) : b.indexOf("+") > -1 && (l = !0, 
                    b = b.replace(/\+/g, "")), b.indexOf("a") > -1 && (o = b.indexOf("aK") >= 0, p = b.indexOf("aM") >= 0, 
                    t = b.indexOf("aB") >= 0, u = b.indexOf("aT") >= 0, v = o || p || t || u, b.indexOf(" a") > -1 ? (n = " ", 
                    b = b.replace(" a", "")) : b = b.replace("a", ""), y >= Math.pow(10, 12) && !v || u ? (n += q[r].abbreviations.trillion, 
                    a /= Math.pow(10, 12)) : y < Math.pow(10, 12) && y >= Math.pow(10, 9) && !v || t ? (n += q[r].abbreviations.billion, 
                    a /= Math.pow(10, 9)) : y < Math.pow(10, 9) && y >= Math.pow(10, 6) && !v || p ? (n += q[r].abbreviations.million, 
                    a /= Math.pow(10, 6)) : (y < Math.pow(10, 6) && y >= Math.pow(10, 3) && !v || o) && (n += q[r].abbreviations.thousand, 
                    a /= Math.pow(10, 3))), b.indexOf("b") > -1) for (b.indexOf(" b") > -1 ? (w = " ", 
                    b = b.replace(" b", "")) : b = b.replace("b", ""), g = 0; g <= z.length; g++) if (e = Math.pow(1024, g), 
                    f = Math.pow(1024, g + 1), a >= e && f > a) {
                        w += z[g], e > 0 && (a /= e);
                        break;
                    }
                    return b.indexOf("o") > -1 && (b.indexOf(" o") > -1 ? (x = " ", b = b.replace(" o", "")) : b = b.replace("o", ""), 
                    x += q[r].ordinal(a)), b.indexOf("[.]") > -1 && (m = !0, b = b.replace("[.]", ".")), 
                    h = a.toString().split(".")[0], i = b.split(".")[1], j = b.indexOf(","), i ? (i.indexOf("[") > -1 ? (i = i.replace("]", ""), 
                    i = i.split("["), A = d(a, i[0].length + i[1].length, c, i[1].length)) : A = d(a, i.length, c), 
                    h = A.split(".")[0], A = A.split(".")[1].length ? q[r].delimiters.decimal + A.split(".")[1] : "", 
                    m && 0 === Number(A.slice(1)) && (A = "")) : h = d(a, null, c), h.indexOf("-") > -1 && (h = h.slice(1), 
                    B = !0), j > -1 && (h = h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1" + q[r].delimiters.thousands)), 
                    0 === b.indexOf(".") && (h = ""), (k && B ? "(" : "") + (!k && B ? "-" : "") + (!B && l ? "+" : "") + h + A + (x ? x : "") + (n ? n : "") + (w ? w : "") + (k && B ? ")" : "");
                }
                function l(a, b) {
                    q[a] = b;
                }
                function m(a) {
                    var b = a.toString().split(".");
                    return b.length < 2 ? 1 : Math.pow(10, b[1].length);
                }
                function n() {
                    var a = Array.prototype.slice.call(arguments);
                    return a.reduce(function(a, b) {
                        var c = m(a), d = m(b);
                        return c > d ? c : d;
                    }, -(1 / 0));
                }
                var o, p = "1.5.3", q = {}, r = "en", s = null, t = "0,0", u = "undefined" != typeof c && c.exports;
                o = function(a) {
                    return o.isNumeral(a) ? a = a.value() : 0 === a || "undefined" == typeof a ? a = 0 : Number(a) || (a = o.fn.unformat(a)), 
                    new b(Number(a));
                }, o.version = p, o.isNumeral = function(a) {
                    return a instanceof b;
                }, o.language = function(a, b) {
                    if (!a) return r;
                    if (a && !b) {
                        if (!q[a]) throw new Error("Unknown language : " + a);
                        r = a;
                    }
                    return (b || !q[a]) && l(a, b), o;
                }, o.languageData = function(a) {
                    if (!a) return q[r];
                    if (!q[a]) throw new Error("Unknown language : " + a);
                    return q[a];
                }, o.language("en", {
                    delimiters: {
                        thousands: ",",
                        decimal: "."
                    },
                    abbreviations: {
                        thousand: "k",
                        million: "m",
                        billion: "b",
                        trillion: "t"
                    },
                    ordinal: function(a) {
                        var b = a % 10;
                        return 1 === ~~(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
                    },
                    currency: {
                        symbol: "$"
                    }
                }), o.zeroFormat = function(a) {
                    s = "string" == typeof a ? a : null;
                }, o.defaultFormat = function(a) {
                    t = "string" == typeof a ? a : "0.0";
                }, o.validate = function(a, b) {
                    var c, d, e, f, g, h, i, j;
                    if ("string" != typeof a && (a += "", console.warn && console.warn("Numeral.js: Value is not string. It has been co-erced to: ", a)), 
                    a = a.trim(), "" === a) return !1;
                    a = a.replace(/^[+-]?/, "");
                    try {
                        i = o.languageData(b);
                    } catch (k) {
                        i = o.languageData(o.language());
                    }
                    return e = i.currency.symbol, g = i.abbreviations, c = i.delimiters.decimal, d = "." === i.delimiters.thousands ? "\\." : i.delimiters.thousands, 
                    j = a.match(/^[^\d\.\,]+/), null !== j && (a = a.substr(1), j[0] !== e) ? !1 : (j = a.match(/[^\d]+$/), 
                    null !== j && (a = a.slice(0, -1), j[0] !== g.thousand && j[0] !== g.million && j[0] !== g.billion && j[0] !== g.trillion) ? !1 : a.match(/^\d+$/) ? !0 : (h = new RegExp(d + "{2}"), 
                    a.match(/[^\d.,]/g) ? !1 : (f = a.split(c), f.length > 2 ? !1 : f.length < 2 ? !!f[0].match(/^\d+.*\d$/) && !f[0].match(h) : "" === f[0] ? !f[0].match(h) && !!f[1].match(/^\d+$/) : 1 === f[0].length ? !!f[0].match(/^\d+$/) && !f[0].match(h) && !!f[1].match(/^\d+$/) : !!f[0].match(/^\d+.*\d$/) && !f[0].match(h) && !!f[1].match(/^\d+$/))));
                }, "function" != typeof Array.prototype.reduce && (Array.prototype.reduce = function(a, b) {
                    if (null === this || "undefined" == typeof this) throw new TypeError("Array.prototype.reduce called on null or undefined");
                    if ("function" != typeof a) throw new TypeError(a + " is not a function");
                    var c, d, e = this.length >>> 0, f = !1;
                    for (1 < arguments.length && (d = b, f = !0), c = 0; e > c; ++c) this.hasOwnProperty(c) && (f ? d = a(d, this[c], c, this) : (d = this[c], 
                    f = !0));
                    if (!f) throw new TypeError("Reduce of empty array with no initial value");
                    return d;
                }), o.fn = b.prototype = {
                    clone: function() {
                        return o(this);
                    },
                    format: function(a, b) {
                        return e(this, a ? a : t, void 0 !== b ? b : Math.round);
                    },
                    unformat: function(a) {
                        return "[object Number]" === Object.prototype.toString.call(a) ? a : f(this, a ? a : t);
                    },
                    value: function() {
                        return this._value;
                    },
                    valueOf: function() {
                        return this._value;
                    },
                    set: function(a) {
                        return this._value = Number(a), this;
                    },
                    add: function(a) {
                        function b(a, b, d, e) {
                            return a + c * b;
                        }
                        var c = n.call(null, this._value, a);
                        return this._value = [ this._value, a ].reduce(b, 0) / c, this;
                    },
                    subtract: function(a) {
                        function b(a, b, d, e) {
                            return a - c * b;
                        }
                        var c = n.call(null, this._value, a);
                        return this._value = [ a ].reduce(b, this._value * c) / c, this;
                    },
                    multiply: function(a) {
                        function b(a, b, c, d) {
                            var e = n(a, b);
                            return a * e * (b * e) / (e * e);
                        }
                        return this._value = [ this._value, a ].reduce(b, 1), this;
                    },
                    divide: function(a) {
                        function b(a, b, c, d) {
                            var e = n(a, b);
                            return a * e / (b * e);
                        }
                        return this._value = [ this._value, a ].reduce(b), this;
                    },
                    difference: function(a) {
                        return Math.abs(o(this._value).subtract(a).value());
                    }
                }, u && (c.exports = o), "undefined" == typeof ender && (this.numeral = o), "function" == typeof a && a.amd && a([], function() {
                    return o;
                });
            }).call(window);
        }, {} ],
        pikaday: [ function(b, c, d) {
            !function(e, f) {
                "use strict";
                var g;
                if ("object" == typeof d) {
                    try {
                        g = b("moment");
                    } catch (h) {}
                    c.exports = f(g);
                } else "function" == typeof a && a.amd ? a(function(a) {
                    var b = "moment";
                    try {
                        g = a(b);
                    } catch (c) {}
                    return f(g);
                }) : e.Pikaday = f(e.moment);
            }(this, function(a) {
                "use strict";
                var b = "function" == typeof a, c = !!window.addEventListener, d = window.document, e = window.setTimeout, f = function(a, b, d, e) {
                    c ? a.addEventListener(b, d, !!e) : a.attachEvent("on" + b, d);
                }, g = function(a, b, d, e) {
                    c ? a.removeEventListener(b, d, !!e) : a.detachEvent("on" + b, d);
                }, h = function(a, b, c) {
                    var e;
                    d.createEvent ? (e = d.createEvent("HTMLEvents"), e.initEvent(b, !0, !1), e = t(e, c), 
                    a.dispatchEvent(e)) : d.createEventObject && (e = d.createEventObject(), e = t(e, c), 
                    a.fireEvent("on" + b, e));
                }, i = function(a) {
                    return a.trim ? a.trim() : a.replace(/^\s+|\s+$/g, "");
                }, j = function(a, b) {
                    return -1 !== (" " + a.className + " ").indexOf(" " + b + " ");
                }, k = function(a, b) {
                    j(a, b) || (a.className = "" === a.className ? b : a.className + " " + b);
                }, l = function(a, b) {
                    a.className = i((" " + a.className + " ").replace(" " + b + " ", " "));
                }, m = function(a) {
                    return /Array/.test(Object.prototype.toString.call(a));
                }, n = function(a) {
                    return /Date/.test(Object.prototype.toString.call(a)) && !isNaN(a.getTime());
                }, o = function(a) {
                    var b = a.getDay();
                    return 0 === b || 6 === b;
                }, p = function(a) {
                    return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
                }, q = function(a, b) {
                    return [ 31, p(a) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ][b];
                }, r = function(a) {
                    n(a) && a.setHours(0, 0, 0, 0);
                }, s = function(a, b) {
                    return a.getTime() === b.getTime();
                }, t = function(a, b, c) {
                    var d, e;
                    for (d in b) e = void 0 !== a[d], e && "object" == typeof b[d] && null !== b[d] && void 0 === b[d].nodeName ? n(b[d]) ? c && (a[d] = new Date(b[d].getTime())) : m(b[d]) ? c && (a[d] = b[d].slice(0)) : a[d] = t({}, b[d], c) : (c || !e) && (a[d] = b[d]);
                    return a;
                }, u = function(a) {
                    return a.month < 0 && (a.year -= Math.ceil(Math.abs(a.month) / 12), a.month += 12), 
                    a.month > 11 && (a.year += Math.floor(Math.abs(a.month) / 12), a.month -= 12), a;
                }, v = {
                    field: null,
                    bound: void 0,
                    position: "bottom left",
                    reposition: !0,
                    format: "YYYY-MM-DD",
                    defaultDate: null,
                    setDefaultDate: !1,
                    firstDay: 0,
                    minDate: null,
                    maxDate: null,
                    yearRange: 10,
                    showWeekNumber: !1,
                    minYear: 0,
                    maxYear: 9999,
                    minMonth: void 0,
                    maxMonth: void 0,
                    startRange: null,
                    endRange: null,
                    isRTL: !1,
                    yearSuffix: "",
                    showMonthAfterYear: !1,
                    numberOfMonths: 1,
                    mainCalendar: "left",
                    container: void 0,
                    i18n: {
                        previousMonth: "Previous Month",
                        nextMonth: "Next Month",
                        months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
                        weekdays: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
                        weekdaysShort: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ]
                    },
                    theme: null,
                    onSelect: null,
                    onOpen: null,
                    onClose: null,
                    onDraw: null
                }, w = function(a, b, c) {
                    for (b += a.firstDay; b >= 7; ) b -= 7;
                    return c ? a.i18n.weekdaysShort[b] : a.i18n.weekdays[b];
                }, x = function(a) {
                    if (a.isEmpty) return '<td class="is-empty"></td>';
                    var b = [];
                    return a.isDisabled && b.push("is-disabled"), a.isToday && b.push("is-today"), a.isSelected && b.push("is-selected"), 
                    a.isInRange && b.push("is-inrange"), a.isStartRange && b.push("is-startrange"), 
                    a.isEndRange && b.push("is-endrange"), '<td data-day="' + a.day + '" class="' + b.join(" ") + '"><button class="pika-button pika-day" type="button" data-pika-year="' + a.year + '" data-pika-month="' + a.month + '" data-pika-day="' + a.day + '">' + a.day + "</button></td>";
                }, y = function(a, b, c) {
                    var d = new Date(c, 0, 1), e = Math.ceil(((new Date(c, b, a) - d) / 864e5 + d.getDay() + 1) / 7);
                    return '<td class="pika-week">' + e + "</td>";
                }, z = function(a, b) {
                    return "<tr>" + (b ? a.reverse() : a).join("") + "</tr>";
                }, A = function(a) {
                    return "<tbody>" + a.join("") + "</tbody>";
                }, B = function(a) {
                    var b, c = [];
                    for (a.showWeekNumber && c.push("<th></th>"), b = 0; 7 > b; b++) c.push('<th scope="col"><abbr title="' + w(a, b) + '">' + w(a, b, !0) + "</abbr></th>");
                    return "<thead>" + (a.isRTL ? c.reverse() : c).join("") + "</thead>";
                }, C = function(a, b, c, d, e) {
                    var f, g, h, i, j, k = a._o, l = c === k.minYear, n = c === k.maxYear, o = '<div class="pika-title">', p = !0, q = !0;
                    for (h = [], f = 0; 12 > f; f++) h.push('<option value="' + (c === e ? f - b : 12 + f - b) + '"' + (f === d ? " selected" : "") + (l && f < k.minMonth || n && f > k.maxMonth ? "disabled" : "") + ">" + k.i18n.months[f] + "</option>");
                    for (i = '<div class="pika-label">' + k.i18n.months[d] + '<select class="pika-select pika-select-month" tabindex="-1">' + h.join("") + "</select></div>", 
                    m(k.yearRange) ? (f = k.yearRange[0], g = k.yearRange[1] + 1) : (f = c - k.yearRange, 
                    g = 1 + c + k.yearRange), h = []; g > f && f <= k.maxYear; f++) f >= k.minYear && h.push('<option value="' + f + '"' + (f === c ? " selected" : "") + ">" + f + "</option>");
                    return j = '<div class="pika-label">' + c + k.yearSuffix + '<select class="pika-select pika-select-year" tabindex="-1">' + h.join("") + "</select></div>", 
                    o += k.showMonthAfterYear ? j + i : i + j, l && (0 === d || k.minMonth >= d) && (p = !1), 
                    n && (11 === d || k.maxMonth <= d) && (q = !1), 0 === b && (o += '<button class="pika-prev' + (p ? "" : " is-disabled") + '" type="button">' + k.i18n.previousMonth + "</button>"), 
                    b === a._o.numberOfMonths - 1 && (o += '<button class="pika-next' + (q ? "" : " is-disabled") + '" type="button">' + k.i18n.nextMonth + "</button>"), 
                    o += "</div>";
                }, D = function(a, b) {
                    return '<table cellpadding="0" cellspacing="0" class="pika-table">' + B(a) + A(b) + "</table>";
                }, E = function(g) {
                    var h = this, i = h.config(g);
                    h._onMouseDown = function(a) {
                        if (h._v) {
                            a = a || window.event;
                            var b = a.target || a.srcElement;
                            if (b) {
                                if (!j(b.parentNode, "is-disabled")) {
                                    if (j(b, "pika-button") && !j(b, "is-empty")) return h.setDate(new Date(b.getAttribute("data-pika-year"), b.getAttribute("data-pika-month"), b.getAttribute("data-pika-day"))), 
                                    void (i.bound && e(function() {
                                        h.hide(), i.field && i.field.blur();
                                    }, 100));
                                    j(b, "pika-prev") ? h.prevMonth() : j(b, "pika-next") && h.nextMonth();
                                }
                                if (j(b, "pika-select")) h._c = !0; else {
                                    if (!a.preventDefault) return a.returnValue = !1, !1;
                                    a.preventDefault();
                                }
                            }
                        }
                    }, h._onChange = function(a) {
                        a = a || window.event;
                        var b = a.target || a.srcElement;
                        b && (j(b, "pika-select-month") ? h.gotoMonth(b.value) : j(b, "pika-select-year") && h.gotoYear(b.value));
                    }, h._onInputChange = function(c) {
                        var d;
                        c.firedBy !== h && (b ? (d = a(i.field.value, i.format), d = d && d.isValid() ? d.toDate() : null) : d = new Date(Date.parse(i.field.value)), 
                        n(d) && h.setDate(d), h._v || h.show());
                    }, h._onInputFocus = function() {
                        h.show();
                    }, h._onInputClick = function() {
                        h.show();
                    }, h._onInputBlur = function() {
                        var a = d.activeElement;
                        do if (j(a, "pika-single")) return; while (a = a.parentNode);
                        h._c || (h._b = e(function() {
                            h.hide();
                        }, 50)), h._c = !1;
                    }, h._onClick = function(a) {
                        a = a || window.event;
                        var b = a.target || a.srcElement, d = b;
                        if (b) {
                            !c && j(b, "pika-select") && (b.onchange || (b.setAttribute("onchange", "return;"), 
                            f(b, "change", h._onChange)));
                            do if (j(d, "pika-single") || d === i.trigger) return; while (d = d.parentNode);
                            h._v && b !== i.trigger && d !== i.trigger && h.hide();
                        }
                    }, h.el = d.createElement("div"), h.el.className = "pika-single" + (i.isRTL ? " is-rtl" : "") + (i.theme ? " " + i.theme : ""), 
                    f(h.el, "ontouchend" in d ? "touchend" : "mousedown", h._onMouseDown, !0), f(h.el, "change", h._onChange), 
                    i.field && (i.container ? i.container.appendChild(h.el) : i.bound ? d.body.appendChild(h.el) : i.field.parentNode.insertBefore(h.el, i.field.nextSibling), 
                    f(i.field, "change", h._onInputChange), i.defaultDate || (b && i.field.value ? i.defaultDate = a(i.field.value, i.format).toDate() : i.defaultDate = new Date(Date.parse(i.field.value)), 
                    i.setDefaultDate = !0));
                    var k = i.defaultDate;
                    n(k) ? i.setDefaultDate ? h.setDate(k, !0) : h.gotoDate(k) : h.gotoDate(new Date()), 
                    i.bound ? (this.hide(), h.el.className += " is-bound", f(i.trigger, "click", h._onInputClick), 
                    f(i.trigger, "focus", h._onInputFocus), f(i.trigger, "blur", h._onInputBlur)) : this.show();
                };
                return E.prototype = {
                    config: function(a) {
                        this._o || (this._o = t({}, v, !0));
                        var b = t(this._o, a, !0);
                        b.isRTL = !!b.isRTL, b.field = b.field && b.field.nodeName ? b.field : null, b.theme = "string" == typeof b.theme && b.theme ? b.theme : null, 
                        b.bound = !!(void 0 !== b.bound ? b.field && b.bound : b.field), b.trigger = b.trigger && b.trigger.nodeName ? b.trigger : b.field, 
                        b.disableWeekends = !!b.disableWeekends, b.disableDayFn = "function" == typeof b.disableDayFn ? b.disableDayFn : null;
                        var c = parseInt(b.numberOfMonths, 10) || 1;
                        if (b.numberOfMonths = c > 4 ? 4 : c, n(b.minDate) || (b.minDate = !1), n(b.maxDate) || (b.maxDate = !1), 
                        b.minDate && b.maxDate && b.maxDate < b.minDate && (b.maxDate = b.minDate = !1), 
                        b.minDate && this.setMinDate(b.minDate), b.maxDate && (r(b.maxDate), b.maxYear = b.maxDate.getFullYear(), 
                        b.maxMonth = b.maxDate.getMonth()), m(b.yearRange)) {
                            var d = new Date().getFullYear() - 10;
                            b.yearRange[0] = parseInt(b.yearRange[0], 10) || d, b.yearRange[1] = parseInt(b.yearRange[1], 10) || d;
                        } else b.yearRange = Math.abs(parseInt(b.yearRange, 10)) || v.yearRange, b.yearRange > 100 && (b.yearRange = 100);
                        return b;
                    },
                    toString: function(c) {
                        return n(this._d) ? b ? a(this._d).format(c || this._o.format) : this._d.toDateString() : "";
                    },
                    getMoment: function() {
                        return b ? a(this._d) : null;
                    },
                    setMoment: function(c, d) {
                        b && a.isMoment(c) && this.setDate(c.toDate(), d);
                    },
                    getDate: function() {
                        return n(this._d) ? new Date(this._d.getTime()) : null;
                    },
                    setDate: function(a, b) {
                        if (!a) return this._d = null, this._o.field && (this._o.field.value = "", h(this._o.field, "change", {
                            firedBy: this
                        })), this.draw();
                        if ("string" == typeof a && (a = new Date(Date.parse(a))), n(a)) {
                            var c = this._o.minDate, d = this._o.maxDate;
                            n(c) && c > a ? a = c : n(d) && a > d && (a = d), this._d = new Date(a.getTime()), 
                            r(this._d), this.gotoDate(this._d), this._o.field && (this._o.field.value = this.toString(), 
                            h(this._o.field, "change", {
                                firedBy: this
                            })), b || "function" != typeof this._o.onSelect || this._o.onSelect.call(this, this.getDate());
                        }
                    },
                    gotoDate: function(a) {
                        var b = !0;
                        if (n(a)) {
                            if (this.calendars) {
                                var c = new Date(this.calendars[0].year, this.calendars[0].month, 1), d = new Date(this.calendars[this.calendars.length - 1].year, this.calendars[this.calendars.length - 1].month, 1), e = a.getTime();
                                d.setMonth(d.getMonth() + 1), d.setDate(d.getDate() - 1), b = e < c.getTime() || d.getTime() < e;
                            }
                            b && (this.calendars = [ {
                                month: a.getMonth(),
                                year: a.getFullYear()
                            } ], "right" === this._o.mainCalendar && (this.calendars[0].month += 1 - this._o.numberOfMonths)), 
                            this.adjustCalendars();
                        }
                    },
                    adjustCalendars: function() {
                        this.calendars[0] = u(this.calendars[0]);
                        for (var a = 1; a < this._o.numberOfMonths; a++) this.calendars[a] = u({
                            month: this.calendars[0].month + a,
                            year: this.calendars[0].year
                        });
                        this.draw();
                    },
                    gotoToday: function() {
                        this.gotoDate(new Date());
                    },
                    gotoMonth: function(a) {
                        isNaN(a) || (this.calendars[0].month = parseInt(a, 10), this.adjustCalendars());
                    },
                    nextMonth: function() {
                        this.calendars[0].month++, this.adjustCalendars();
                    },
                    prevMonth: function() {
                        this.calendars[0].month--, this.adjustCalendars();
                    },
                    gotoYear: function(a) {
                        isNaN(a) || (this.calendars[0].year = parseInt(a, 10), this.adjustCalendars());
                    },
                    setMinDate: function(a) {
                        r(a), this._o.minDate = a, this._o.minYear = a.getFullYear(), this._o.minMonth = a.getMonth();
                    },
                    setMaxDate: function(a) {
                        this._o.maxDate = a;
                    },
                    setStartRange: function(a) {
                        this._o.startRange = a;
                    },
                    setEndRange: function(a) {
                        this._o.endRange = a;
                    },
                    draw: function(a) {
                        if (this._v || a) {
                            var b = this._o, c = b.minYear, d = b.maxYear, f = b.minMonth, g = b.maxMonth, h = "";
                            this._y <= c && (this._y = c, !isNaN(f) && this._m < f && (this._m = f)), this._y >= d && (this._y = d, 
                            !isNaN(g) && this._m > g && (this._m = g));
                            for (var i = 0; i < b.numberOfMonths; i++) h += '<div class="pika-lendar">' + C(this, i, this.calendars[i].year, this.calendars[i].month, this.calendars[0].year) + this.render(this.calendars[i].year, this.calendars[i].month) + "</div>";
                            if (this.el.innerHTML = h, b.bound && "hidden" !== b.field.type && e(function() {
                                b.trigger.focus();
                            }, 1), "function" == typeof this._o.onDraw) {
                                var j = this;
                                e(function() {
                                    j._o.onDraw.call(j);
                                }, 0);
                            }
                        }
                    },
                    adjustPosition: function() {
                        var a, b, c, e, f, g, h, i, j, k;
                        if (!this._o.container) {
                            if (this.el.style.position = "absolute", a = this._o.trigger, b = a, c = this.el.offsetWidth, 
                            e = this.el.offsetHeight, f = window.innerWidth || d.documentElement.clientWidth, 
                            g = window.innerHeight || d.documentElement.clientHeight, h = window.pageYOffset || d.body.scrollTop || d.documentElement.scrollTop, 
                            "function" == typeof a.getBoundingClientRect) k = a.getBoundingClientRect(), i = k.left + window.pageXOffset, 
                            j = k.bottom + window.pageYOffset; else for (i = b.offsetLeft, j = b.offsetTop + b.offsetHeight; b = b.offsetParent; ) i += b.offsetLeft, 
                            j += b.offsetTop;
                            (this._o.reposition && i + c > f || this._o.position.indexOf("right") > -1 && i - c + a.offsetWidth > 0) && (i = i - c + a.offsetWidth), 
                            (this._o.reposition && j + e > g + h || this._o.position.indexOf("top") > -1 && j - e - a.offsetHeight > 0) && (j = j - e - a.offsetHeight), 
                            this.el.style.left = i + "px", this.el.style.top = j + "px";
                        }
                    },
                    render: function(a, b) {
                        var c = this._o, d = new Date(), e = q(a, b), f = new Date(a, b, 1).getDay(), g = [], h = [];
                        r(d), c.firstDay > 0 && (f -= c.firstDay, 0 > f && (f += 7));
                        for (var i = e + f, j = i; j > 7; ) j -= 7;
                        i += 7 - j;
                        for (var k = 0, l = 0; i > k; k++) {
                            var m, p = new Date(a, b, 1 + (k - f)), t = n(this._d) ? s(p, this._d) : !1, u = s(p, d), v = f > k || k >= e + f, w = c.startRange && s(c.startRange, p), A = c.endRange && s(c.endRange, p), B = c.startRange && c.endRange && c.startRange < p && p < c.endRange, C = c.minDate && p < c.minDate || c.maxDate && p > c.maxDate || c.disableWeekends && o(p) || c.disableDayFn && c.disableDayFn(p), m = {
                                day: 1 + (k - f),
                                month: b,
                                year: a,
                                isSelected: t,
                                isToday: u,
                                isDisabled: C,
                                isEmpty: v,
                                isStartRange: w,
                                isEndRange: A,
                                isInRange: B
                            };
                            h.push(x(m)), 7 === ++l && (c.showWeekNumber && h.unshift(y(k - f, b, a)), g.push(z(h, c.isRTL)), 
                            h = [], l = 0);
                        }
                        return D(c, g);
                    },
                    isVisible: function() {
                        return this._v;
                    },
                    show: function() {
                        this._v || (l(this.el, "is-hidden"), this._v = !0, this.draw(), this._o.bound && (f(d, "click", this._onClick), 
                        this.adjustPosition()), "function" == typeof this._o.onOpen && this._o.onOpen.call(this));
                    },
                    hide: function() {
                        var a = this._v;
                        a !== !1 && (this._o.bound && g(d, "click", this._onClick), this.el.style.position = "static", 
                        this.el.style.left = "auto", this.el.style.top = "auto", k(this.el, "is-hidden"), 
                        this._v = !1, void 0 !== a && "function" == typeof this._o.onClose && this._o.onClose.call(this));
                    },
                    destroy: function() {
                        this.hide(), g(this.el, "mousedown", this._onMouseDown, !0), g(this.el, "change", this._onChange), 
                        this._o.field && (g(this._o.field, "change", this._onInputChange), this._o.bound && (g(this._o.trigger, "click", this._onInputClick), 
                        g(this._o.trigger, "focus", this._onInputFocus), g(this._o.trigger, "blur", this._onInputBlur))), 
                        this.el.parentNode && this.el.parentNode.removeChild(this.el);
                    }
                }, E;
            });
        }, {
            moment: "moment"
        } ],
        zeroclipboard: [ function(b, c, d) {
            !function(b, d) {
                "use strict";
                var e, f, g, h = b, i = h.document, j = h.navigator, k = h.setTimeout, l = h.clearTimeout, m = h.setInterval, n = h.clearInterval, o = h.getComputedStyle, p = h.encodeURIComponent, q = h.ActiveXObject, r = h.Error, s = h.Number.parseInt || h.parseInt, t = h.Number.parseFloat || h.parseFloat, u = h.Number.isNaN || h.isNaN, v = h.Date.now, w = h.Object.keys, x = h.Object.defineProperty, y = h.Object.prototype.hasOwnProperty, z = h.Array.prototype.slice, A = function() {
                    var a = function(a) {
                        return a;
                    };
                    if ("function" == typeof h.wrap && "function" == typeof h.unwrap) try {
                        var b = i.createElement("div"), c = h.unwrap(b);
                        1 === b.nodeType && c && 1 === c.nodeType && (a = h.unwrap);
                    } catch (d) {}
                    return a;
                }(), B = function(a) {
                    return z.call(a, 0);
                }, C = function() {
                    var a, b, c, e, f, g, h = B(arguments), i = h[0] || {};
                    for (a = 1, b = h.length; b > a; a++) if (null != (c = h[a])) for (e in c) y.call(c, e) && (f = i[e], 
                    g = c[e], i !== g && g !== d && (i[e] = g));
                    return i;
                }, D = function(a) {
                    var b, c, d, e;
                    if ("object" != typeof a || null == a || "number" == typeof a.nodeType) b = a; else if ("number" == typeof a.length) for (b = [], 
                    c = 0, d = a.length; d > c; c++) y.call(a, c) && (b[c] = D(a[c])); else {
                        b = {};
                        for (e in a) y.call(a, e) && (b[e] = D(a[e]));
                    }
                    return b;
                }, E = function(a, b) {
                    for (var c = {}, d = 0, e = b.length; e > d; d++) b[d] in a && (c[b[d]] = a[b[d]]);
                    return c;
                }, F = function(a, b) {
                    var c = {};
                    for (var d in a) -1 === b.indexOf(d) && (c[d] = a[d]);
                    return c;
                }, G = function(a) {
                    if (a) for (var b in a) y.call(a, b) && delete a[b];
                    return a;
                }, H = function(a, b) {
                    if (a && 1 === a.nodeType && a.ownerDocument && b && (1 === b.nodeType && b.ownerDocument && b.ownerDocument === a.ownerDocument || 9 === b.nodeType && !b.ownerDocument && b === a.ownerDocument)) do {
                        if (a === b) return !0;
                        a = a.parentNode;
                    } while (a);
                    return !1;
                }, I = function(a) {
                    var b;
                    return "string" == typeof a && a && (b = a.split("#")[0].split("?")[0], b = a.slice(0, a.lastIndexOf("/") + 1)), 
                    b;
                }, J = function(a) {
                    var b, c;
                    return "string" == typeof a && a && (c = a.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/), 
                    c && c[1] ? b = c[1] : (c = a.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/), 
                    c && c[1] && (b = c[1]))), b;
                }, K = function() {
                    var a, b;
                    try {
                        throw new r();
                    } catch (c) {
                        b = c;
                    }
                    return b && (a = b.sourceURL || b.fileName || J(b.stack)), a;
                }, L = function() {
                    var a, b, c;
                    if (i.currentScript && (a = i.currentScript.src)) return a;
                    if (b = i.getElementsByTagName("script"), 1 === b.length) return b[0].src || d;
                    if ("readyState" in b[0]) for (c = b.length; c--; ) if ("interactive" === b[c].readyState && (a = b[c].src)) return a;
                    return "loading" === i.readyState && (a = b[b.length - 1].src) ? a : (a = K()) ? a : d;
                }, M = function() {
                    var a, b, c, e = i.getElementsByTagName("script");
                    for (a = e.length; a--; ) {
                        if (!(c = e[a].src)) {
                            b = null;
                            break;
                        }
                        if (c = I(c), null == b) b = c; else if (b !== c) {
                            b = null;
                            break;
                        }
                    }
                    return b || d;
                }, N = function() {
                    var a = I(L()) || M() || "";
                    return a + "ZeroClipboard.swf";
                }, O = function() {
                    return null == b.opener && (!!b.top && b != b.top || !!b.parent && b != b.parent);
                }(), P = {
                    bridge: null,
                    version: "0.0.0",
                    pluginType: "unknown",
                    disabled: null,
                    outdated: null,
                    sandboxed: null,
                    unavailable: null,
                    degraded: null,
                    deactivated: null,
                    overdue: null,
                    ready: null
                }, Q = "11.0.0", R = {}, S = {}, T = null, U = 0, V = 0, W = {
                    ready: "Flash communication is established",
                    error: {
                        "flash-disabled": "Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.",
                        "flash-outdated": "Flash is too outdated to support ZeroClipboard",
                        "flash-sandboxed": "Attempting to run Flash in a sandboxed iframe, which is impossible",
                        "flash-unavailable": "Flash is unable to communicate bidirectionally with JavaScript",
                        "flash-degraded": "Flash is unable to preserve data fidelity when communicating with JavaScript",
                        "flash-deactivated": "Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.",
                        "flash-overdue": "Flash communication was established but NOT within the acceptable time limit",
                        "version-mismatch": "ZeroClipboard JS version number does not match ZeroClipboard SWF version number",
                        "clipboard-error": "At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard",
                        "config-mismatch": "ZeroClipboard configuration does not match Flash's reality",
                        "swf-not-found": "The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"
                    }
                }, X = [ "flash-unavailable", "flash-degraded", "flash-overdue", "version-mismatch", "config-mismatch", "clipboard-error" ], Y = [ "flash-disabled", "flash-outdated", "flash-sandboxed", "flash-unavailable", "flash-degraded", "flash-deactivated", "flash-overdue" ], Z = new RegExp("^flash-(" + Y.map(function(a) {
                    return a.replace(/^flash-/, "");
                }).join("|") + ")$"), $ = new RegExp("^flash-(" + Y.slice(1).map(function(a) {
                    return a.replace(/^flash-/, "");
                }).join("|") + ")$"), _ = {
                    swfPath: N(),
                    trustedDomains: b.location.host ? [ b.location.host ] : [],
                    cacheBust: !0,
                    forceEnhancedClipboard: !1,
                    flashLoadTimeout: 3e4,
                    autoActivate: !0,
                    bubbleEvents: !0,
                    containerId: "global-zeroclipboard-html-bridge",
                    containerClass: "global-zeroclipboard-container",
                    swfObjectId: "global-zeroclipboard-flash-bridge",
                    hoverClass: "zeroclipboard-is-hover",
                    activeClass: "zeroclipboard-is-active",
                    forceHandCursor: !1,
                    title: null,
                    zIndex: 999999999
                }, aa = function(a) {
                    if ("object" == typeof a && null !== a) for (var b in a) if (y.call(a, b)) if (/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(b)) _[b] = a[b]; else if (null == P.bridge) if ("containerId" === b || "swfObjectId" === b) {
                        if (!pa(a[b])) throw new Error("The specified `" + b + "` value is not valid as an HTML4 Element ID");
                        _[b] = a[b];
                    } else _[b] = a[b];
                    {
                        if ("string" != typeof a || !a) return D(_);
                        if (y.call(_, a)) return _[a];
                    }
                }, ba = function() {
                    return Va(), {
                        browser: E(j, [ "userAgent", "platform", "appName" ]),
                        flash: F(P, [ "bridge" ]),
                        zeroclipboard: {
                            version: Xa.version,
                            config: Xa.config()
                        }
                    };
                }, ca = function() {
                    return !!(P.disabled || P.outdated || P.sandboxed || P.unavailable || P.degraded || P.deactivated);
                }, da = function(a, b) {
                    var c, f, g, h = {};
                    if ("string" == typeof a && a) g = a.toLowerCase().split(/\s+/); else if ("object" == typeof a && a && "undefined" == typeof b) for (c in a) y.call(a, c) && "string" == typeof c && c && "function" == typeof a[c] && Xa.on(c, a[c]);
                    if (g && g.length) {
                        for (c = 0, f = g.length; f > c; c++) a = g[c].replace(/^on/, ""), h[a] = !0, R[a] || (R[a] = []), 
                        R[a].push(b);
                        if (h.ready && P.ready && Xa.emit({
                            type: "ready"
                        }), h.error) {
                            for (c = 0, f = Y.length; f > c; c++) if (P[Y[c].replace(/^flash-/, "")] === !0) {
                                Xa.emit({
                                    type: "error",
                                    name: Y[c]
                                });
                                break;
                            }
                            e !== d && Xa.version !== e && Xa.emit({
                                type: "error",
                                name: "version-mismatch",
                                jsVersion: Xa.version,
                                swfVersion: e
                            });
                        }
                    }
                    return Xa;
                }, ea = function(a, b) {
                    var c, d, e, f, g;
                    if (0 === arguments.length) f = w(R); else if ("string" == typeof a && a) f = a.split(/\s+/); else if ("object" == typeof a && a && "undefined" == typeof b) for (c in a) y.call(a, c) && "string" == typeof c && c && "function" == typeof a[c] && Xa.off(c, a[c]);
                    if (f && f.length) for (c = 0, d = f.length; d > c; c++) if (a = f[c].toLowerCase().replace(/^on/, ""), 
                    g = R[a], g && g.length) if (b) for (e = g.indexOf(b); -1 !== e; ) g.splice(e, 1), 
                    e = g.indexOf(b, e); else g.length = 0;
                    return Xa;
                }, fa = function(a) {
                    var b;
                    return b = "string" == typeof a && a ? D(R[a]) || null : D(R);
                }, ga = function(a) {
                    var b, c, d;
                    return a = qa(a), a && !xa(a) ? "ready" === a.type && P.overdue === !0 ? Xa.emit({
                        type: "error",
                        name: "flash-overdue"
                    }) : (b = C({}, a), va.call(this, b), "copy" === a.type && (d = Fa(S), c = d.data, 
                    T = d.formatMap), c) : void 0;
                }, ha = function() {
                    var a = P.sandboxed;
                    if (Va(), "boolean" != typeof P.ready && (P.ready = !1), P.sandboxed !== a && P.sandboxed === !0) P.ready = !1, 
                    Xa.emit({
                        type: "error",
                        name: "flash-sandboxed"
                    }); else if (!Xa.isFlashUnusable() && null === P.bridge) {
                        var b = _.flashLoadTimeout;
                        "number" == typeof b && b >= 0 && (U = k(function() {
                            "boolean" != typeof P.deactivated && (P.deactivated = !0), P.deactivated === !0 && Xa.emit({
                                type: "error",
                                name: "flash-deactivated"
                            });
                        }, b)), P.overdue = !1, Da();
                    }
                }, ia = function() {
                    Xa.clearData(), Xa.blur(), Xa.emit("destroy"), Ea(), Xa.off();
                }, ja = function(a, b) {
                    var c;
                    if ("object" == typeof a && a && "undefined" == typeof b) c = a, Xa.clearData(); else {
                        if ("string" != typeof a || !a) return;
                        c = {}, c[a] = b;
                    }
                    for (var d in c) "string" == typeof d && d && y.call(c, d) && "string" == typeof c[d] && c[d] && (S[d] = c[d]);
                }, ka = function(a) {
                    "undefined" == typeof a ? (G(S), T = null) : "string" == typeof a && y.call(S, a) && delete S[a];
                }, la = function(a) {
                    return "undefined" == typeof a ? D(S) : "string" == typeof a && y.call(S, a) ? S[a] : void 0;
                }, ma = function(a) {
                    if (a && 1 === a.nodeType) {
                        f && (Na(f, _.activeClass), f !== a && Na(f, _.hoverClass)), f = a, Ma(a, _.hoverClass);
                        var b = a.getAttribute("title") || _.title;
                        if ("string" == typeof b && b) {
                            var c = Ca(P.bridge);
                            c && c.setAttribute("title", b);
                        }
                        var d = _.forceHandCursor === !0 || "pointer" === Oa(a, "cursor");
                        Ta(d), Sa();
                    }
                }, na = function() {
                    var a = Ca(P.bridge);
                    a && (a.removeAttribute("title"), a.style.left = "0px", a.style.top = "-9999px", 
                    a.style.width = "1px", a.style.height = "1px"), f && (Na(f, _.hoverClass), Na(f, _.activeClass), 
                    f = null);
                }, oa = function() {
                    return f || null;
                }, pa = function(a) {
                    return "string" == typeof a && a && /^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(a);
                }, qa = function(a) {
                    var b;
                    if ("string" == typeof a && a ? (b = a, a = {}) : "object" == typeof a && a && "string" == typeof a.type && a.type && (b = a.type), 
                    b) {
                        b = b.toLowerCase(), !a.target && (/^(copy|aftercopy|_click)$/.test(b) || "error" === b && "clipboard-error" === a.name) && (a.target = g), 
                        C(a, {
                            type: b,
                            target: a.target || f || null,
                            relatedTarget: a.relatedTarget || null,
                            currentTarget: P && P.bridge || null,
                            timeStamp: a.timeStamp || v() || null
                        });
                        var c = W[a.type];
                        return "error" === a.type && a.name && c && (c = c[a.name]), c && (a.message = c), 
                        "ready" === a.type && C(a, {
                            target: null,
                            version: P.version
                        }), "error" === a.type && (Z.test(a.name) && C(a, {
                            target: null,
                            minimumVersion: Q
                        }), $.test(a.name) && C(a, {
                            version: P.version
                        })), "copy" === a.type && (a.clipboardData = {
                            setData: Xa.setData,
                            clearData: Xa.clearData
                        }), "aftercopy" === a.type && (a = Ga(a, T)), a.target && !a.relatedTarget && (a.relatedTarget = ra(a.target)), 
                        sa(a);
                    }
                }, ra = function(a) {
                    var b = a && a.getAttribute && a.getAttribute("data-clipboard-target");
                    return b ? i.getElementById(b) : null;
                }, sa = function(a) {
                    if (a && /^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)) {
                        var b = a.target, c = "_mouseover" === a.type && a.relatedTarget ? a.relatedTarget : d, e = "_mouseout" === a.type && a.relatedTarget ? a.relatedTarget : d, f = Pa(b), g = h.screenLeft || h.screenX || 0, j = h.screenTop || h.screenY || 0, k = i.body.scrollLeft + i.documentElement.scrollLeft, l = i.body.scrollTop + i.documentElement.scrollTop, m = f.left + ("number" == typeof a._stageX ? a._stageX : 0), n = f.top + ("number" == typeof a._stageY ? a._stageY : 0), o = m - k, p = n - l, q = g + o, r = j + p, s = "number" == typeof a.movementX ? a.movementX : 0, t = "number" == typeof a.movementY ? a.movementY : 0;
                        delete a._stageX, delete a._stageY, C(a, {
                            srcElement: b,
                            fromElement: c,
                            toElement: e,
                            screenX: q,
                            screenY: r,
                            pageX: m,
                            pageY: n,
                            clientX: o,
                            clientY: p,
                            x: o,
                            y: p,
                            movementX: s,
                            movementY: t,
                            offsetX: 0,
                            offsetY: 0,
                            layerX: 0,
                            layerY: 0
                        });
                    }
                    return a;
                }, ta = function(a) {
                    var b = a && "string" == typeof a.type && a.type || "";
                    return !/^(?:(?:before)?copy|destroy)$/.test(b);
                }, ua = function(a, b, c, d) {
                    d ? k(function() {
                        a.apply(b, c);
                    }, 0) : a.apply(b, c);
                }, va = function(a) {
                    if ("object" == typeof a && a && a.type) {
                        var b = ta(a), c = R["*"] || [], d = R[a.type] || [], e = c.concat(d);
                        if (e && e.length) {
                            var f, g, i, j, k, l = this;
                            for (f = 0, g = e.length; g > f; f++) i = e[f], j = l, "string" == typeof i && "function" == typeof h[i] && (i = h[i]), 
                            "object" == typeof i && i && "function" == typeof i.handleEvent && (j = i, i = i.handleEvent), 
                            "function" == typeof i && (k = C({}, a), ua(i, j, [ k ], b));
                        }
                        return this;
                    }
                }, wa = function(a) {
                    var b = null;
                    return (O === !1 || a && "error" === a.type && a.name && -1 !== X.indexOf(a.name)) && (b = !1), 
                    b;
                }, xa = function(a) {
                    var b = a.target || f || null, c = "swf" === a._source;
                    switch (delete a._source, a.type) {
                      case "error":
                        var d = "flash-sandboxed" === a.name || wa(a);
                        "boolean" == typeof d && (P.sandboxed = d), -1 !== Y.indexOf(a.name) ? C(P, {
                            disabled: "flash-disabled" === a.name,
                            outdated: "flash-outdated" === a.name,
                            unavailable: "flash-unavailable" === a.name,
                            degraded: "flash-degraded" === a.name,
                            deactivated: "flash-deactivated" === a.name,
                            overdue: "flash-overdue" === a.name,
                            ready: !1
                        }) : "version-mismatch" === a.name && (e = a.swfVersion, C(P, {
                            disabled: !1,
                            outdated: !1,
                            unavailable: !1,
                            degraded: !1,
                            deactivated: !1,
                            overdue: !1,
                            ready: !1
                        })), Ra();
                        break;

                      case "ready":
                        e = a.swfVersion;
                        var h = P.deactivated === !0;
                        C(P, {
                            disabled: !1,
                            outdated: !1,
                            sandboxed: !1,
                            unavailable: !1,
                            degraded: !1,
                            deactivated: !1,
                            overdue: h,
                            ready: !h
                        }), Ra();
                        break;

                      case "beforecopy":
                        g = b;
                        break;

                      case "copy":
                        var i, j, k = a.relatedTarget;
                        !S["text/html"] && !S["text/plain"] && k && (j = k.value || k.outerHTML || k.innerHTML) && (i = k.value || k.textContent || k.innerText) ? (a.clipboardData.clearData(), 
                        a.clipboardData.setData("text/plain", i), j !== i && a.clipboardData.setData("text/html", j)) : !S["text/plain"] && a.target && (i = a.target.getAttribute("data-clipboard-text")) && (a.clipboardData.clearData(), 
                        a.clipboardData.setData("text/plain", i));
                        break;

                      case "aftercopy":
                        ya(a), Xa.clearData(), b && b !== La() && b.focus && b.focus();
                        break;

                      case "_mouseover":
                        Xa.focus(b), _.bubbleEvents === !0 && c && (b && b !== a.relatedTarget && !H(a.relatedTarget, b) && za(C({}, a, {
                            type: "mouseenter",
                            bubbles: !1,
                            cancelable: !1
                        })), za(C({}, a, {
                            type: "mouseover"
                        })));
                        break;

                      case "_mouseout":
                        Xa.blur(), _.bubbleEvents === !0 && c && (b && b !== a.relatedTarget && !H(a.relatedTarget, b) && za(C({}, a, {
                            type: "mouseleave",
                            bubbles: !1,
                            cancelable: !1
                        })), za(C({}, a, {
                            type: "mouseout"
                        })));
                        break;

                      case "_mousedown":
                        Ma(b, _.activeClass), _.bubbleEvents === !0 && c && za(C({}, a, {
                            type: a.type.slice(1)
                        }));
                        break;

                      case "_mouseup":
                        Na(b, _.activeClass), _.bubbleEvents === !0 && c && za(C({}, a, {
                            type: a.type.slice(1)
                        }));
                        break;

                      case "_click":
                        g = null, _.bubbleEvents === !0 && c && za(C({}, a, {
                            type: a.type.slice(1)
                        }));
                        break;

                      case "_mousemove":
                        _.bubbleEvents === !0 && c && za(C({}, a, {
                            type: a.type.slice(1)
                        }));
                    }
                    return /^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type) ? !0 : void 0;
                }, ya = function(a) {
                    if (a.errors && a.errors.length > 0) {
                        var b = D(a);
                        C(b, {
                            type: "error",
                            name: "clipboard-error"
                        }), delete b.success, k(function() {
                            Xa.emit(b);
                        }, 0);
                    }
                }, za = function(a) {
                    if (a && "string" == typeof a.type && a) {
                        var b, c = a.target || null, d = c && c.ownerDocument || i, e = {
                            view: d.defaultView || h,
                            canBubble: !0,
                            cancelable: !0,
                            detail: "click" === a.type ? 1 : 0,
                            button: "number" == typeof a.which ? a.which - 1 : "number" == typeof a.button ? a.button : d.createEvent ? 0 : 1
                        }, f = C(e, a);
                        c && d.createEvent && c.dispatchEvent && (f = [ f.type, f.canBubble, f.cancelable, f.view, f.detail, f.screenX, f.screenY, f.clientX, f.clientY, f.ctrlKey, f.altKey, f.shiftKey, f.metaKey, f.button, f.relatedTarget ], 
                        b = d.createEvent("MouseEvents"), b.initMouseEvent && (b.initMouseEvent.apply(b, f), 
                        b._source = "js", c.dispatchEvent(b)));
                    }
                }, Aa = function() {
                    var a = _.flashLoadTimeout;
                    if ("number" == typeof a && a >= 0) {
                        var b = Math.min(1e3, a / 10), c = _.swfObjectId + "_fallbackContent";
                        V = m(function() {
                            var a = i.getElementById(c);
                            Qa(a) && (Ra(), P.deactivated = null, Xa.emit({
                                type: "error",
                                name: "swf-not-found"
                            }));
                        }, b);
                    }
                }, Ba = function() {
                    var a = i.createElement("div");
                    return a.id = _.containerId, a.className = _.containerClass, a.style.position = "absolute", 
                    a.style.left = "0px", a.style.top = "-9999px", a.style.width = "1px", a.style.height = "1px", 
                    a.style.zIndex = "" + Ua(_.zIndex), a;
                }, Ca = function(a) {
                    for (var b = a && a.parentNode; b && "OBJECT" === b.nodeName && b.parentNode; ) b = b.parentNode;
                    return b || null;
                }, Da = function() {
                    var a, b = P.bridge, c = Ca(b);
                    if (!b) {
                        var d = Ka(h.location.host, _), e = "never" === d ? "none" : "all", f = Ia(C({
                            jsVersion: Xa.version
                        }, _)), g = _.swfPath + Ha(_.swfPath, _);
                        c = Ba();
                        var j = i.createElement("div");
                        c.appendChild(j), i.body.appendChild(c);
                        var k = i.createElement("div"), l = "activex" === P.pluginType;
                        k.innerHTML = '<object id="' + _.swfObjectId + '" name="' + _.swfObjectId + '" width="100%" height="100%" ' + (l ? 'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"' : 'type="application/x-shockwave-flash" data="' + g + '"') + ">" + (l ? '<param name="movie" value="' + g + '"/>' : "") + '<param name="allowScriptAccess" value="' + d + '"/><param name="allowNetworking" value="' + e + '"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="' + f + '"/><div id="' + _.swfObjectId + '_fallbackContent">&nbsp;</div></object>', 
                        b = k.firstChild, k = null, A(b).ZeroClipboard = Xa, c.replaceChild(b, j), Aa();
                    }
                    return b || (b = i[_.swfObjectId], b && (a = b.length) && (b = b[a - 1]), !b && c && (b = c.firstChild)), 
                    P.bridge = b || null, b;
                }, Ea = function() {
                    var a = P.bridge;
                    if (a) {
                        var b = Ca(a);
                        b && ("activex" === P.pluginType && "readyState" in a ? (a.style.display = "none", 
                        function c() {
                            if (4 === a.readyState) {
                                for (var d in a) "function" == typeof a[d] && (a[d] = null);
                                a.parentNode && a.parentNode.removeChild(a), b.parentNode && b.parentNode.removeChild(b);
                            } else k(c, 10);
                        }()) : (a.parentNode && a.parentNode.removeChild(a), b.parentNode && b.parentNode.removeChild(b))), 
                        Ra(), P.ready = null, P.bridge = null, P.deactivated = null, e = d;
                    }
                }, Fa = function(a) {
                    var b = {}, c = {};
                    if ("object" == typeof a && a) {
                        for (var d in a) if (d && y.call(a, d) && "string" == typeof a[d] && a[d]) switch (d.toLowerCase()) {
                          case "text/plain":
                          case "text":
                          case "air:text":
                          case "flash:text":
                            b.text = a[d], c.text = d;
                            break;

                          case "text/html":
                          case "html":
                          case "air:html":
                          case "flash:html":
                            b.html = a[d], c.html = d;
                            break;

                          case "application/rtf":
                          case "text/rtf":
                          case "rtf":
                          case "richtext":
                          case "air:rtf":
                          case "flash:rtf":
                            b.rtf = a[d], c.rtf = d;
                        }
                        return {
                            data: b,
                            formatMap: c
                        };
                    }
                }, Ga = function(a, b) {
                    if ("object" != typeof a || !a || "object" != typeof b || !b) return a;
                    var c = {};
                    for (var d in a) if (y.call(a, d)) if ("errors" === d) {
                        c[d] = a[d] ? a[d].slice() : [];
                        for (var e = 0, f = c[d].length; f > e; e++) c[d][e].format = b[c[d][e].format];
                    } else if ("success" !== d && "data" !== d) c[d] = a[d]; else {
                        c[d] = {};
                        var g = a[d];
                        for (var h in g) h && y.call(g, h) && y.call(b, h) && (c[d][b[h]] = g[h]);
                    }
                    return c;
                }, Ha = function(a, b) {
                    var c = null == b || b && b.cacheBust === !0;
                    return c ? (-1 === a.indexOf("?") ? "?" : "&") + "noCache=" + v() : "";
                }, Ia = function(a) {
                    var b, c, d, e, f = "", g = [];
                    if (a.trustedDomains && ("string" == typeof a.trustedDomains ? e = [ a.trustedDomains ] : "object" == typeof a.trustedDomains && "length" in a.trustedDomains && (e = a.trustedDomains)), 
                    e && e.length) for (b = 0, c = e.length; c > b; b++) if (y.call(e, b) && e[b] && "string" == typeof e[b]) {
                        if (d = Ja(e[b]), !d) continue;
                        if ("*" === d) {
                            g.length = 0, g.push(d);
                            break;
                        }
                        g.push.apply(g, [ d, "//" + d, h.location.protocol + "//" + d ]);
                    }
                    return g.length && (f += "trustedOrigins=" + p(g.join(","))), a.forceEnhancedClipboard === !0 && (f += (f ? "&" : "") + "forceEnhancedClipboard=true"), 
                    "string" == typeof a.swfObjectId && a.swfObjectId && (f += (f ? "&" : "") + "swfObjectId=" + p(a.swfObjectId)), 
                    "string" == typeof a.jsVersion && a.jsVersion && (f += (f ? "&" : "") + "jsVersion=" + p(a.jsVersion)), 
                    f;
                }, Ja = function(a) {
                    if (null == a || "" === a) return null;
                    if (a = a.replace(/^\s+|\s+$/g, ""), "" === a) return null;
                    var b = a.indexOf("//");
                    a = -1 === b ? a : a.slice(b + 2);
                    var c = a.indexOf("/");
                    return a = -1 === c ? a : -1 === b || 0 === c ? null : a.slice(0, c), a && ".swf" === a.slice(-4).toLowerCase() ? null : a || null;
                }, Ka = function() {
                    var a = function(a) {
                        var b, c, d, e = [];
                        if ("string" == typeof a && (a = [ a ]), "object" != typeof a || !a || "number" != typeof a.length) return e;
                        for (b = 0, c = a.length; c > b; b++) if (y.call(a, b) && (d = Ja(a[b]))) {
                            if ("*" === d) {
                                e.length = 0, e.push("*");
                                break;
                            }
                            -1 === e.indexOf(d) && e.push(d);
                        }
                        return e;
                    };
                    return function(b, c) {
                        var d = Ja(c.swfPath);
                        null === d && (d = b);
                        var e = a(c.trustedDomains), f = e.length;
                        if (f > 0) {
                            if (1 === f && "*" === e[0]) return "always";
                            if (-1 !== e.indexOf(b)) return 1 === f && b === d ? "sameDomain" : "always";
                        }
                        return "never";
                    };
                }(), La = function() {
                    try {
                        return i.activeElement;
                    } catch (a) {
                        return null;
                    }
                }, Ma = function(a, b) {
                    var c, d, e, f = [];
                    if ("string" == typeof b && b && (f = b.split(/\s+/)), a && 1 === a.nodeType && f.length > 0) if (a.classList) for (c = 0, 
                    d = f.length; d > c; c++) a.classList.add(f[c]); else if (a.hasOwnProperty("className")) {
                        for (e = " " + a.className + " ", c = 0, d = f.length; d > c; c++) -1 === e.indexOf(" " + f[c] + " ") && (e += f[c] + " ");
                        a.className = e.replace(/^\s+|\s+$/g, "");
                    }
                    return a;
                }, Na = function(a, b) {
                    var c, d, e, f = [];
                    if ("string" == typeof b && b && (f = b.split(/\s+/)), a && 1 === a.nodeType && f.length > 0) if (a.classList && a.classList.length > 0) for (c = 0, 
                    d = f.length; d > c; c++) a.classList.remove(f[c]); else if (a.className) {
                        for (e = (" " + a.className + " ").replace(/[\r\n\t]/g, " "), c = 0, d = f.length; d > c; c++) e = e.replace(" " + f[c] + " ", " ");
                        a.className = e.replace(/^\s+|\s+$/g, "");
                    }
                    return a;
                }, Oa = function(a, b) {
                    var c = o(a, null).getPropertyValue(b);
                    return "cursor" !== b || c && "auto" !== c || "A" !== a.nodeName ? c : "pointer";
                }, Pa = function(a) {
                    var b = {
                        left: 0,
                        top: 0,
                        width: 0,
                        height: 0
                    };
                    if (a.getBoundingClientRect) {
                        var c = a.getBoundingClientRect(), d = h.pageXOffset, e = h.pageYOffset, f = i.documentElement.clientLeft || 0, g = i.documentElement.clientTop || 0, j = 0, k = 0;
                        if ("relative" === Oa(i.body, "position")) {
                            var l = i.body.getBoundingClientRect(), m = i.documentElement.getBoundingClientRect();
                            j = l.left - m.left || 0, k = l.top - m.top || 0;
                        }
                        b.left = c.left + d - f - j, b.top = c.top + e - g - k, b.width = "width" in c ? c.width : c.right - c.left, 
                        b.height = "height" in c ? c.height : c.bottom - c.top;
                    }
                    return b;
                }, Qa = function(a) {
                    if (!a) return !1;
                    var b = o(a, null), c = t(b.height) > 0, d = t(b.width) > 0, e = t(b.top) >= 0, f = t(b.left) >= 0, g = c && d && e && f, h = g ? null : Pa(a), i = "none" !== b.display && "collapse" !== b.visibility && (g || !!h && (c || h.height > 0) && (d || h.width > 0) && (e || h.top >= 0) && (f || h.left >= 0));
                    return i;
                }, Ra = function() {
                    l(U), U = 0, n(V), V = 0;
                }, Sa = function() {
                    var a;
                    if (f && (a = Ca(P.bridge))) {
                        var b = Pa(f);
                        C(a.style, {
                            width: b.width + "px",
                            height: b.height + "px",
                            top: b.top + "px",
                            left: b.left + "px",
                            zIndex: "" + Ua(_.zIndex)
                        });
                    }
                }, Ta = function(a) {
                    P.ready === !0 && (P.bridge && "function" == typeof P.bridge.setHandCursor ? P.bridge.setHandCursor(a) : P.ready = !1);
                }, Ua = function(a) {
                    if (/^(?:auto|inherit)$/.test(a)) return a;
                    var b;
                    return "number" != typeof a || u(a) ? "string" == typeof a && (b = Ua(s(a, 10))) : b = a, 
                    "number" == typeof b ? b : "auto";
                }, Va = function(a) {
                    var c, d, e, f = P.sandboxed, g = null;
                    if (a = a === !0, O === !1) g = !1; else {
                        try {
                            d = b.frameElement || null;
                        } catch (h) {
                            e = {
                                name: h.name,
                                message: h.message
                            };
                        }
                        if (d && 1 === d.nodeType && "IFRAME" === d.nodeName) try {
                            g = d.hasAttribute("sandbox");
                        } catch (h) {
                            g = null;
                        } else {
                            try {
                                c = document.domain || null;
                            } catch (h) {
                                c = null;
                            }
                            (null === c || e && "SecurityError" === e.name && /(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(e.message.toLowerCase())) && (g = !0);
                        }
                    }
                    return P.sandboxed = g, f === g || a || Wa(q), g;
                }, Wa = function(a) {
                    function b(a) {
                        var b = a.match(/[\d]+/g);
                        return b.length = 3, b.join(".");
                    }
                    function c(a) {
                        return !!a && (a = a.toLowerCase()) && (/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(a) || "chrome.plugin" === a.slice(-13));
                    }
                    function d(a) {
                        a && (h = !0, a.version && (l = b(a.version)), !l && a.description && (l = b(a.description)), 
                        a.filename && (k = c(a.filename)));
                    }
                    var e, f, g, h = !1, i = !1, k = !1, l = "";
                    if (j.plugins && j.plugins.length) e = j.plugins["Shockwave Flash"], d(e), j.plugins["Shockwave Flash 2.0"] && (h = !0, 
                    l = "2.0.0.11"); else if (j.mimeTypes && j.mimeTypes.length) g = j.mimeTypes["application/x-shockwave-flash"], 
                    e = g && g.enabledPlugin, d(e); else if ("undefined" != typeof a) {
                        i = !0;
                        try {
                            f = new a("ShockwaveFlash.ShockwaveFlash.7"), h = !0, l = b(f.GetVariable("$version"));
                        } catch (m) {
                            try {
                                f = new a("ShockwaveFlash.ShockwaveFlash.6"), h = !0, l = "6.0.21";
                            } catch (n) {
                                try {
                                    f = new a("ShockwaveFlash.ShockwaveFlash"), h = !0, l = b(f.GetVariable("$version"));
                                } catch (o) {
                                    i = !1;
                                }
                            }
                        }
                    }
                    P.disabled = h !== !0, P.outdated = l && t(l) < t(Q), P.version = l || "0.0.0", 
                    P.pluginType = k ? "pepper" : i ? "activex" : h ? "netscape" : "unknown";
                };
                Wa(q), Va(!0);
                var Xa = function() {
                    return this instanceof Xa ? void ("function" == typeof Xa._createClient && Xa._createClient.apply(this, B(arguments))) : new Xa();
                };
                x(Xa, "version", {
                    value: "2.2.0",
                    writable: !1,
                    configurable: !0,
                    enumerable: !0
                }), Xa.config = function() {
                    return aa.apply(this, B(arguments));
                }, Xa.state = function() {
                    return ba.apply(this, B(arguments));
                }, Xa.isFlashUnusable = function() {
                    return ca.apply(this, B(arguments));
                }, Xa.on = function() {
                    return da.apply(this, B(arguments));
                }, Xa.off = function() {
                    return ea.apply(this, B(arguments));
                }, Xa.handlers = function() {
                    return fa.apply(this, B(arguments));
                }, Xa.emit = function() {
                    return ga.apply(this, B(arguments));
                }, Xa.create = function() {
                    return ha.apply(this, B(arguments));
                }, Xa.destroy = function() {
                    return ia.apply(this, B(arguments));
                }, Xa.setData = function() {
                    return ja.apply(this, B(arguments));
                }, Xa.clearData = function() {
                    return ka.apply(this, B(arguments));
                }, Xa.getData = function() {
                    return la.apply(this, B(arguments));
                }, Xa.focus = Xa.activate = function() {
                    return ma.apply(this, B(arguments));
                }, Xa.blur = Xa.deactivate = function() {
                    return na.apply(this, B(arguments));
                }, Xa.activeElement = function() {
                    return oa.apply(this, B(arguments));
                };
                var Ya = 0, Za = {}, $a = 0, _a = {}, ab = {};
                C(_, {
                    autoActivate: !0
                });
                var bb = function(a) {
                    var b = this;
                    b.id = "" + Ya++, Za[b.id] = {
                        instance: b,
                        elements: [],
                        handlers: {}
                    }, a && b.clip(a), Xa.on("*", function(a) {
                        return b.emit(a);
                    }), Xa.on("destroy", function() {
                        b.destroy();
                    }), Xa.create();
                }, cb = function(a, b) {
                    var c, f, g, h = {}, i = Za[this.id], j = i && i.handlers;
                    if (!i) throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");
                    if ("string" == typeof a && a) g = a.toLowerCase().split(/\s+/); else if ("object" == typeof a && a && "undefined" == typeof b) for (c in a) y.call(a, c) && "string" == typeof c && c && "function" == typeof a[c] && this.on(c, a[c]);
                    if (g && g.length) {
                        for (c = 0, f = g.length; f > c; c++) a = g[c].replace(/^on/, ""), h[a] = !0, j[a] || (j[a] = []), 
                        j[a].push(b);
                        if (h.ready && P.ready && this.emit({
                            type: "ready",
                            client: this
                        }), h.error) {
                            for (c = 0, f = Y.length; f > c; c++) if (P[Y[c].replace(/^flash-/, "")]) {
                                this.emit({
                                    type: "error",
                                    name: Y[c],
                                    client: this
                                });
                                break;
                            }
                            e !== d && Xa.version !== e && this.emit({
                                type: "error",
                                name: "version-mismatch",
                                jsVersion: Xa.version,
                                swfVersion: e
                            });
                        }
                    }
                    return this;
                }, db = function(a, b) {
                    var c, d, e, f, g, h = Za[this.id], i = h && h.handlers;
                    if (!i) return this;
                    if (0 === arguments.length) f = w(i); else if ("string" == typeof a && a) f = a.split(/\s+/); else if ("object" == typeof a && a && "undefined" == typeof b) for (c in a) y.call(a, c) && "string" == typeof c && c && "function" == typeof a[c] && this.off(c, a[c]);
                    if (f && f.length) for (c = 0, d = f.length; d > c; c++) if (a = f[c].toLowerCase().replace(/^on/, ""), 
                    g = i[a], g && g.length) if (b) for (e = g.indexOf(b); -1 !== e; ) g.splice(e, 1), 
                    e = g.indexOf(b, e); else g.length = 0;
                    return this;
                }, eb = function(a) {
                    var b = null, c = Za[this.id] && Za[this.id].handlers;
                    return c && (b = "string" == typeof a && a ? c[a] ? c[a].slice(0) : [] : D(c)), 
                    b;
                }, fb = function(a) {
                    if (kb.call(this, a)) {
                        "object" == typeof a && a && "string" == typeof a.type && a.type && (a = C({}, a));
                        var b = C({}, qa(a), {
                            client: this
                        });
                        lb.call(this, b);
                    }
                    return this;
                }, gb = function(a) {
                    if (!Za[this.id]) throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");
                    a = mb(a);
                    for (var b = 0; b < a.length; b++) if (y.call(a, b) && a[b] && 1 === a[b].nodeType) {
                        a[b].zcClippingId ? -1 === _a[a[b].zcClippingId].indexOf(this.id) && _a[a[b].zcClippingId].push(this.id) : (a[b].zcClippingId = "zcClippingId_" + $a++, 
                        _a[a[b].zcClippingId] = [ this.id ], _.autoActivate === !0 && nb(a[b]));
                        var c = Za[this.id] && Za[this.id].elements;
                        -1 === c.indexOf(a[b]) && c.push(a[b]);
                    }
                    return this;
                }, hb = function(a) {
                    var b = Za[this.id];
                    if (!b) return this;
                    var c, d = b.elements;
                    a = "undefined" == typeof a ? d.slice(0) : mb(a);
                    for (var e = a.length; e--; ) if (y.call(a, e) && a[e] && 1 === a[e].nodeType) {
                        for (c = 0; -1 !== (c = d.indexOf(a[e], c)); ) d.splice(c, 1);
                        var f = _a[a[e].zcClippingId];
                        if (f) {
                            for (c = 0; -1 !== (c = f.indexOf(this.id, c)); ) f.splice(c, 1);
                            0 === f.length && (_.autoActivate === !0 && ob(a[e]), delete a[e].zcClippingId);
                        }
                    }
                    return this;
                }, ib = function() {
                    var a = Za[this.id];
                    return a && a.elements ? a.elements.slice(0) : [];
                }, jb = function() {
                    Za[this.id] && (this.unclip(), this.off(), delete Za[this.id]);
                }, kb = function(a) {
                    if (!a || !a.type) return !1;
                    if (a.client && a.client !== this) return !1;
                    var b = Za[this.id], c = b && b.elements, d = !!c && c.length > 0, e = !a.target || d && -1 !== c.indexOf(a.target), f = a.relatedTarget && d && -1 !== c.indexOf(a.relatedTarget), g = a.client && a.client === this;
                    return b && (e || f || g) ? !0 : !1;
                }, lb = function(a) {
                    var b = Za[this.id];
                    if ("object" == typeof a && a && a.type && b) {
                        var c = ta(a), d = b && b.handlers["*"] || [], e = b && b.handlers[a.type] || [], f = d.concat(e);
                        if (f && f.length) {
                            var g, i, j, k, l, m = this;
                            for (g = 0, i = f.length; i > g; g++) j = f[g], k = m, "string" == typeof j && "function" == typeof h[j] && (j = h[j]), 
                            "object" == typeof j && j && "function" == typeof j.handleEvent && (k = j, j = j.handleEvent), 
                            "function" == typeof j && (l = C({}, a), ua(j, k, [ l ], c));
                        }
                    }
                }, mb = function(a) {
                    return "string" == typeof a && (a = []), "number" != typeof a.length ? [ a ] : a;
                }, nb = function(a) {
                    if (a && 1 === a.nodeType) {
                        var b = function(a) {
                            (a || (a = h.event)) && ("js" !== a._source && (a.stopImmediatePropagation(), a.preventDefault()), 
                            delete a._source);
                        }, c = function(c) {
                            (c || (c = h.event)) && (b(c), Xa.focus(a));
                        };
                        a.addEventListener("mouseover", c, !1), a.addEventListener("mouseout", b, !1), a.addEventListener("mouseenter", b, !1), 
                        a.addEventListener("mouseleave", b, !1), a.addEventListener("mousemove", b, !1), 
                        ab[a.zcClippingId] = {
                            mouseover: c,
                            mouseout: b,
                            mouseenter: b,
                            mouseleave: b,
                            mousemove: b
                        };
                    }
                }, ob = function(a) {
                    if (a && 1 === a.nodeType) {
                        var b = ab[a.zcClippingId];
                        if ("object" == typeof b && b) {
                            for (var c, d, e = [ "move", "leave", "enter", "out", "over" ], f = 0, g = e.length; g > f; f++) c = "mouse" + e[f], 
                            d = b[c], "function" == typeof d && a.removeEventListener(c, d, !1);
                            delete ab[a.zcClippingId];
                        }
                    }
                };
                Xa._createClient = function() {
                    bb.apply(this, B(arguments));
                }, Xa.prototype.on = function() {
                    return cb.apply(this, B(arguments));
                }, Xa.prototype.off = function() {
                    return db.apply(this, B(arguments));
                }, Xa.prototype.handlers = function() {
                    return eb.apply(this, B(arguments));
                }, Xa.prototype.emit = function() {
                    return fb.apply(this, B(arguments));
                }, Xa.prototype.clip = function() {
                    return gb.apply(this, B(arguments));
                }, Xa.prototype.unclip = function() {
                    return hb.apply(this, B(arguments));
                }, Xa.prototype.elements = function() {
                    return ib.apply(this, B(arguments));
                }, Xa.prototype.destroy = function() {
                    return jb.apply(this, B(arguments));
                }, Xa.prototype.setText = function(a) {
                    if (!Za[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
                    return Xa.setData("text/plain", a), this;
                }, Xa.prototype.setHtml = function(a) {
                    if (!Za[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
                    return Xa.setData("text/html", a), this;
                }, Xa.prototype.setRichText = function(a) {
                    if (!Za[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
                    return Xa.setData("application/rtf", a), this;
                }, Xa.prototype.setData = function() {
                    if (!Za[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
                    return Xa.setData.apply(this, B(arguments)), this;
                }, Xa.prototype.clearData = function() {
                    if (!Za[this.id]) throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");
                    return Xa.clearData.apply(this, B(arguments)), this;
                }, Xa.prototype.getData = function() {
                    if (!Za[this.id]) throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");
                    return Xa.getData.apply(this, B(arguments));
                }, "function" == typeof a && a.amd ? a(function() {
                    return Xa;
                }) : "object" == typeof c && c && "object" == typeof c.exports && c.exports ? c.exports = Xa : b.ZeroClipboard = Xa;
            }(function() {
                return this || window;
            }());
        }, {} ]
    }, {}, [ 23, 57, 59, 58, 60, 81, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 82, 83, 84, 85, 98, 99, 100, 88, 89, 90, 91, 92, 93, 30, 34, 31, 32, 39, 33, 35, 36, 37, 38 ])("zeroclipboard");
}), !function(a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document) throw new Error("jQuery requires a window with a document");
        return b(a);
    } : b(a);
}("undefined" != typeof window ? window : this, function(a, b) {
    function c(a) {
        var b = "length" in a && a.length, c = _.type(a);
        return "function" === c || _.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a;
    }
    function d(a, b, c) {
        if (_.isFunction(b)) return _.grep(a, function(a, d) {
            return !!b.call(a, d, a) !== c;
        });
        if (b.nodeType) return _.grep(a, function(a) {
            return a === b !== c;
        });
        if ("string" == typeof b) {
            if (ha.test(b)) return _.filter(b, a, c);
            b = _.filter(b, a);
        }
        return _.grep(a, function(a) {
            return U.call(b, a) >= 0 !== c;
        });
    }
    function e(a, b) {
        for (;(a = a[b]) && 1 !== a.nodeType; ) ;
        return a;
    }
    function f(a) {
        var b = oa[a] = {};
        return _.each(a.match(na) || [], function(a, c) {
            b[c] = !0;
        }), b;
    }
    function g() {
        Z.removeEventListener("DOMContentLoaded", g, !1), a.removeEventListener("load", g, !1), 
        _.ready();
    }
    function h() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function() {
                return {};
            }
        }), this.expando = _.expando + h.uid++;
    }
    function i(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType) if (d = "data-" + b.replace(ua, "-$1").toLowerCase(), 
        c = a.getAttribute(d), "string" == typeof c) {
            try {
                c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : ta.test(c) ? _.parseJSON(c) : c;
            } catch (e) {}
            sa.set(a, b, c);
        } else c = void 0;
        return c;
    }
    function j() {
        return !0;
    }
    function k() {
        return !1;
    }
    function l() {
        try {
            return Z.activeElement;
        } catch (a) {}
    }
    function m(a, b) {
        return _.nodeName(a, "table") && _.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a;
    }
    function n(a) {
        return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a;
    }
    function o(a) {
        var b = Ka.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"), a;
    }
    function p(a, b) {
        for (var c = 0, d = a.length; d > c; c++) ra.set(a[c], "globalEval", !b || ra.get(b[c], "globalEval"));
    }
    function q(a, b) {
        var c, d, e, f, g, h, i, j;
        if (1 === b.nodeType) {
            if (ra.hasData(a) && (f = ra.access(a), g = ra.set(b, f), j = f.events)) {
                delete g.handle, g.events = {};
                for (e in j) for (c = 0, d = j[e].length; d > c; c++) _.event.add(b, e, j[e][c]);
            }
            sa.hasData(a) && (h = sa.access(a), i = _.extend({}, h), sa.set(b, i));
        }
    }
    function r(a, b) {
        var c = a.getElementsByTagName ? a.getElementsByTagName(b || "*") : a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
        return void 0 === b || b && _.nodeName(a, b) ? _.merge([ a ], c) : c;
    }
    function s(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && ya.test(a.type) ? b.checked = a.checked : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue);
    }
    function t(b, c) {
        var d, e = _(c.createElement(b)).appendTo(c.body), f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : _.css(e[0], "display");
        return e.detach(), f;
    }
    function u(a) {
        var b = Z, c = Oa[a];
        return c || (c = t(a, b), "none" !== c && c || (Na = (Na || _("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement), 
        b = Na[0].contentDocument, b.write(), b.close(), c = t(a, b), Na.detach()), Oa[a] = c), 
        c;
    }
    function v(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Ra(a), c && (g = c.getPropertyValue(b) || c[b]), c && ("" !== g || _.contains(a.ownerDocument, a) || (g = _.style(a, b)), 
        Qa.test(g) && Pa.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, 
        g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g;
    }
    function w(a, b) {
        return {
            get: function() {
                return a() ? void delete this.get : (this.get = b).apply(this, arguments);
            }
        };
    }
    function x(a, b) {
        if (b in a) return b;
        for (var c = b[0].toUpperCase() + b.slice(1), d = b, e = Xa.length; e--; ) if (b = Xa[e] + c, 
        b in a) return b;
        return d;
    }
    function y(a, b, c) {
        var d = Ta.exec(b);
        return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b;
    }
    function z(a, b, c, d, e) {
        for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2) "margin" === c && (g += _.css(a, c + wa[f], !0, e)), 
        d ? ("content" === c && (g -= _.css(a, "padding" + wa[f], !0, e)), "margin" !== c && (g -= _.css(a, "border" + wa[f] + "Width", !0, e))) : (g += _.css(a, "padding" + wa[f], !0, e), 
        "padding" !== c && (g += _.css(a, "border" + wa[f] + "Width", !0, e)));
        return g;
    }
    function A(a, b, c) {
        var d = !0, e = "width" === b ? a.offsetWidth : a.offsetHeight, f = Ra(a), g = "border-box" === _.css(a, "boxSizing", !1, f);
        if (0 >= e || null == e) {
            if (e = v(a, b, f), (0 > e || null == e) && (e = a.style[b]), Qa.test(e)) return e;
            d = g && (Y.boxSizingReliable() || e === a.style[b]), e = parseFloat(e) || 0;
        }
        return e + z(a, b, c || (g ? "border" : "content"), d, f) + "px";
    }
    function B(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++) d = a[g], d.style && (f[g] = ra.get(d, "olddisplay"), 
        c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && xa(d) && (f[g] = ra.access(d, "olddisplay", u(d.nodeName)))) : (e = xa(d), 
        "none" === c && e || ra.set(d, "olddisplay", e ? c : _.css(d, "display"))));
        for (g = 0; h > g; g++) d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
        return a;
    }
    function C(a, b, c, d, e) {
        return new C.prototype.init(a, b, c, d, e);
    }
    function D() {
        return setTimeout(function() {
            Ya = void 0;
        }), Ya = _.now();
    }
    function E(a, b) {
        var c, d = 0, e = {
            height: a
        };
        for (b = b ? 1 : 0; 4 > d; d += 2 - b) c = wa[d], e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a), e;
    }
    function F(a, b, c) {
        for (var d, e = (cb[b] || []).concat(cb["*"]), f = 0, g = e.length; g > f; f++) if (d = e[f].call(c, b, a)) return d;
    }
    function G(a, b, c) {
        var d, e, f, g, h, i, j, k, l = this, m = {}, n = a.style, o = a.nodeType && xa(a), p = ra.get(a, "fxshow");
        c.queue || (h = _._queueHooks(a, "fx"), null == h.unqueued && (h.unqueued = 0, i = h.empty.fire, 
        h.empty.fire = function() {
            h.unqueued || i();
        }), h.unqueued++, l.always(function() {
            l.always(function() {
                h.unqueued--, _.queue(a, "fx").length || h.empty.fire();
            });
        })), 1 === a.nodeType && ("height" in b || "width" in b) && (c.overflow = [ n.overflow, n.overflowX, n.overflowY ], 
        j = _.css(a, "display"), k = "none" === j ? ra.get(a, "olddisplay") || u(a.nodeName) : j, 
        "inline" === k && "none" === _.css(a, "float") && (n.display = "inline-block")), 
        c.overflow && (n.overflow = "hidden", l.always(function() {
            n.overflow = c.overflow[0], n.overflowX = c.overflow[1], n.overflowY = c.overflow[2];
        }));
        for (d in b) if (e = b[d], $a.exec(e)) {
            if (delete b[d], f = f || "toggle" === e, e === (o ? "hide" : "show")) {
                if ("show" !== e || !p || void 0 === p[d]) continue;
                o = !0;
            }
            m[d] = p && p[d] || _.style(a, d);
        } else j = void 0;
        if (_.isEmptyObject(m)) "inline" === ("none" === j ? u(a.nodeName) : j) && (n.display = j); else {
            p ? "hidden" in p && (o = p.hidden) : p = ra.access(a, "fxshow", {}), f && (p.hidden = !o), 
            o ? _(a).show() : l.done(function() {
                _(a).hide();
            }), l.done(function() {
                var b;
                ra.remove(a, "fxshow");
                for (b in m) _.style(a, b, m[b]);
            });
            for (d in m) g = F(o ? p[d] : 0, d, l), d in p || (p[d] = g.start, o && (g.end = g.start, 
            g.start = "width" === d || "height" === d ? 1 : 0));
        }
    }
    function H(a, b) {
        var c, d, e, f, g;
        for (c in a) if (d = _.camelCase(c), e = b[d], f = a[c], _.isArray(f) && (e = f[1], 
        f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = _.cssHooks[d], g && "expand" in g) {
            f = g.expand(f), delete a[d];
            for (c in f) c in a || (a[c] = f[c], b[c] = e);
        } else b[d] = e;
    }
    function I(a, b, c) {
        var d, e, f = 0, g = bb.length, h = _.Deferred().always(function() {
            delete i.elem;
        }), i = function() {
            if (e) return !1;
            for (var b = Ya || D(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++) j.tweens[g].run(f);
            return h.notifyWith(a, [ j, f, c ]), 1 > f && i ? c : (h.resolveWith(a, [ j ]), 
            !1);
        }, j = h.promise({
            elem: a,
            props: _.extend({}, b),
            opts: _.extend(!0, {
                specialEasing: {}
            }, c),
            originalProperties: b,
            originalOptions: c,
            startTime: Ya || D(),
            duration: c.duration,
            tweens: [],
            createTween: function(b, c) {
                var d = _.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                return j.tweens.push(d), d;
            },
            stop: function(b) {
                var c = 0, d = b ? j.tweens.length : 0;
                if (e) return this;
                for (e = !0; d > c; c++) j.tweens[c].run(1);
                return b ? h.resolveWith(a, [ j, b ]) : h.rejectWith(a, [ j, b ]), this;
            }
        }), k = j.props;
        for (H(k, j.opts.specialEasing); g > f; f++) if (d = bb[f].call(j, a, k, j.opts)) return d;
        return _.map(k, F, j), _.isFunction(j.opts.start) && j.opts.start.call(a, j), _.fx.timer(_.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always);
    }
    function J(a) {
        return function(b, c) {
            "string" != typeof b && (c = b, b = "*");
            var d, e = 0, f = b.toLowerCase().match(na) || [];
            if (_.isFunction(c)) for (;d = f[e++]; ) "+" === d[0] ? (d = d.slice(1) || "*", 
            (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c);
        };
    }
    function K(a, b, c, d) {
        function e(h) {
            var i;
            return f[h] = !0, _.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || g || f[j] ? g ? !(i = j) : void 0 : (b.dataTypes.unshift(j), 
                e(j), !1);
            }), i;
        }
        var f = {}, g = a === tb;
        return e(b.dataTypes[0]) || !f["*"] && e("*");
    }
    function L(a, b) {
        var c, d, e = _.ajaxSettings.flatOptions || {};
        for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
        return d && _.extend(!0, a, d), a;
    }
    function M(a, b, c) {
        for (var d, e, f, g, h = a.contents, i = a.dataTypes; "*" === i[0]; ) i.shift(), 
        void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d) for (e in h) if (h[e] && h[e].test(d)) {
            i.unshift(e);
            break;
        }
        if (i[0] in c) f = i[0]; else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break;
                }
                g || (g = e);
            }
            f = f || g;
        }
        return f ? (f !== i[0] && i.unshift(f), c[f]) : void 0;
    }
    function N(a, b, c, d) {
        var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
        if (k[1]) for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
        for (f = k.shift(); f; ) if (a.responseFields[f] && (c[a.responseFields[f]] = b), 
        !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift()) if ("*" === f) f = i; else if ("*" !== i && i !== f) {
            if (g = j[i + " " + f] || j["* " + f], !g) for (e in j) if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                break;
            }
            if (g !== !0) if (g && a["throws"]) b = g(b); else try {
                b = g(b);
            } catch (l) {
                return {
                    state: "parsererror",
                    error: g ? l : "No conversion from " + i + " to " + f
                };
            }
        }
        return {
            state: "success",
            data: b
        };
    }
    function O(a, b, c, d) {
        var e;
        if (_.isArray(b)) _.each(b, function(b, e) {
            c || yb.test(a) ? d(a, e) : O(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d);
        }); else if (c || "object" !== _.type(b)) d(a, b); else for (e in b) O(a + "[" + e + "]", b[e], c, d);
    }
    function P(a) {
        return _.isWindow(a) ? a : 9 === a.nodeType && a.defaultView;
    }
    var Q = [], R = Q.slice, S = Q.concat, T = Q.push, U = Q.indexOf, V = {}, W = V.toString, X = V.hasOwnProperty, Y = {}, Z = a.document, $ = "2.1.4", _ = function(a, b) {
        return new _.fn.init(a, b);
    }, aa = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ba = /^-ms-/, ca = /-([\da-z])/gi, da = function(a, b) {
        return b.toUpperCase();
    };
    _.fn = _.prototype = {
        jquery: $,
        constructor: _,
        selector: "",
        length: 0,
        toArray: function() {
            return R.call(this);
        },
        get: function(a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : R.call(this);
        },
        pushStack: function(a) {
            var b = _.merge(this.constructor(), a);
            return b.prevObject = this, b.context = this.context, b;
        },
        each: function(a, b) {
            return _.each(this, a, b);
        },
        map: function(a) {
            return this.pushStack(_.map(this, function(b, c) {
                return a.call(b, c, b);
            }));
        },
        slice: function() {
            return this.pushStack(R.apply(this, arguments));
        },
        first: function() {
            return this.eq(0);
        },
        last: function() {
            return this.eq(-1);
        },
        eq: function(a) {
            var b = this.length, c = +a + (0 > a ? b : 0);
            return this.pushStack(c >= 0 && b > c ? [ this[c] ] : []);
        },
        end: function() {
            return this.prevObject || this.constructor(null);
        },
        push: T,
        sort: Q.sort,
        splice: Q.splice
    }, _.extend = _.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
        for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || _.isFunction(g) || (g = {}), 
        h === i && (g = this, h--); i > h; h++) if (null != (a = arguments[h])) for (b in a) c = g[b], 
        d = a[b], g !== d && (j && d && (_.isPlainObject(d) || (e = _.isArray(d))) ? (e ? (e = !1, 
        f = c && _.isArray(c) ? c : []) : f = c && _.isPlainObject(c) ? c : {}, g[b] = _.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g;
    }, _.extend({
        expando: "jQuery" + ($ + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a);
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === _.type(a);
        },
        isArray: Array.isArray,
        isWindow: function(a) {
            return null != a && a === a.window;
        },
        isNumeric: function(a) {
            return !_.isArray(a) && a - parseFloat(a) + 1 >= 0;
        },
        isPlainObject: function(a) {
            return "object" !== _.type(a) || a.nodeType || _.isWindow(a) ? !1 : a.constructor && !X.call(a.constructor.prototype, "isPrototypeOf") ? !1 : !0;
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a) return !1;
            return !0;
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? V[W.call(a)] || "object" : typeof a;
        },
        globalEval: function(a) {
            var b, c = eval;
            a = _.trim(a), a && (1 === a.indexOf("use strict") ? (b = Z.createElement("script"), 
            b.text = a, Z.head.appendChild(b).parentNode.removeChild(b)) : c(a));
        },
        camelCase: function(a) {
            return a.replace(ba, "ms-").replace(ca, da);
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase();
        },
        each: function(a, b, d) {
            var e, f = 0, g = a.length, h = c(a);
            if (d) {
                if (h) for (;g > f && (e = b.apply(a[f], d), e !== !1); f++) ; else for (f in a) if (e = b.apply(a[f], d), 
                e === !1) break;
            } else if (h) for (;g > f && (e = b.call(a[f], f, a[f]), e !== !1); f++) ; else for (f in a) if (e = b.call(a[f], f, a[f]), 
            e === !1) break;
            return a;
        },
        trim: function(a) {
            return null == a ? "" : (a + "").replace(aa, "");
        },
        makeArray: function(a, b) {
            var d = b || [];
            return null != a && (c(Object(a)) ? _.merge(d, "string" == typeof a ? [ a ] : a) : T.call(d, a)), 
            d;
        },
        inArray: function(a, b, c) {
            return null == b ? -1 : U.call(b, a, c);
        },
        merge: function(a, b) {
            for (var c = +b.length, d = 0, e = a.length; c > d; d++) a[e++] = b[d];
            return a.length = e, a;
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++) d = !b(a[f], f), d !== h && e.push(a[f]);
            return e;
        },
        map: function(a, b, d) {
            var e, f = 0, g = a.length, h = c(a), i = [];
            if (h) for (;g > f; f++) e = b(a[f], f, d), null != e && i.push(e); else for (f in a) e = b(a[f], f, d), 
            null != e && i.push(e);
            return S.apply([], i);
        },
        guid: 1,
        proxy: function(a, b) {
            var c, d, e;
            return "string" == typeof b && (c = a[b], b = a, a = c), _.isFunction(a) ? (d = R.call(arguments, 2), 
            e = function() {
                return a.apply(b || this, d.concat(R.call(arguments)));
            }, e.guid = a.guid = a.guid || _.guid++, e) : void 0;
        },
        now: Date.now,
        support: Y
    }), _.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
        V["[object " + b + "]"] = b.toLowerCase();
    });
    var ea = function(a) {
        function b(a, b, c, d) {
            var e, f, g, h, i, j, l, n, o, p;
            if ((b ? b.ownerDocument || b : O) !== G && F(b), b = b || G, c = c || [], h = b.nodeType, 
            "string" != typeof a || !a || 1 !== h && 9 !== h && 11 !== h) return c;
            if (!d && I) {
                if (11 !== h && (e = sa.exec(a))) if (g = e[1]) {
                    if (9 === h) {
                        if (f = b.getElementById(g), !f || !f.parentNode) return c;
                        if (f.id === g) return c.push(f), c;
                    } else if (b.ownerDocument && (f = b.ownerDocument.getElementById(g)) && M(b, f) && f.id === g) return c.push(f), 
                    c;
                } else {
                    if (e[2]) return $.apply(c, b.getElementsByTagName(a)), c;
                    if ((g = e[3]) && v.getElementsByClassName) return $.apply(c, b.getElementsByClassName(g)), 
                    c;
                }
                if (v.qsa && (!J || !J.test(a))) {
                    if (n = l = N, o = b, p = 1 !== h && a, 1 === h && "object" !== b.nodeName.toLowerCase()) {
                        for (j = z(a), (l = b.getAttribute("id")) ? n = l.replace(ua, "\\$&") : b.setAttribute("id", n), 
                        n = "[id='" + n + "'] ", i = j.length; i--; ) j[i] = n + m(j[i]);
                        o = ta.test(a) && k(b.parentNode) || b, p = j.join(",");
                    }
                    if (p) try {
                        return $.apply(c, o.querySelectorAll(p)), c;
                    } catch (q) {} finally {
                        l || b.removeAttribute("id");
                    }
                }
            }
            return B(a.replace(ia, "$1"), b, c, d);
        }
        function c() {
            function a(c, d) {
                return b.push(c + " ") > w.cacheLength && delete a[b.shift()], a[c + " "] = d;
            }
            var b = [];
            return a;
        }
        function d(a) {
            return a[N] = !0, a;
        }
        function e(a) {
            var b = G.createElement("div");
            try {
                return !!a(b);
            } catch (c) {
                return !1;
            } finally {
                b.parentNode && b.parentNode.removeChild(b), b = null;
            }
        }
        function f(a, b) {
            for (var c = a.split("|"), d = a.length; d--; ) w.attrHandle[c[d]] = b;
        }
        function g(a, b) {
            var c = b && a, d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || V) - (~a.sourceIndex || V);
            if (d) return d;
            if (c) for (;c = c.nextSibling; ) if (c === b) return -1;
            return a ? 1 : -1;
        }
        function h(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a;
            };
        }
        function i(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a;
            };
        }
        function j(a) {
            return d(function(b) {
                return b = +b, d(function(c, d) {
                    for (var e, f = a([], c.length, b), g = f.length; g--; ) c[e = f[g]] && (c[e] = !(d[e] = c[e]));
                });
            });
        }
        function k(a) {
            return a && "undefined" != typeof a.getElementsByTagName && a;
        }
        function l() {}
        function m(a) {
            for (var b = 0, c = a.length, d = ""; c > b; b++) d += a[b].value;
            return d;
        }
        function n(a, b, c) {
            var d = b.dir, e = c && "parentNode" === d, f = Q++;
            return b.first ? function(b, c, f) {
                for (;b = b[d]; ) if (1 === b.nodeType || e) return a(b, c, f);
            } : function(b, c, g) {
                var h, i, j = [ P, f ];
                if (g) {
                    for (;b = b[d]; ) if ((1 === b.nodeType || e) && a(b, c, g)) return !0;
                } else for (;b = b[d]; ) if (1 === b.nodeType || e) {
                    if (i = b[N] || (b[N] = {}), (h = i[d]) && h[0] === P && h[1] === f) return j[2] = h[2];
                    if (i[d] = j, j[2] = a(b, c, g)) return !0;
                }
            };
        }
        function o(a) {
            return a.length > 1 ? function(b, c, d) {
                for (var e = a.length; e--; ) if (!a[e](b, c, d)) return !1;
                return !0;
            } : a[0];
        }
        function p(a, c, d) {
            for (var e = 0, f = c.length; f > e; e++) b(a, c[e], d);
            return d;
        }
        function q(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++) (f = a[h]) && (!c || c(f, d, e)) && (g.push(f), 
            j && b.push(h));
            return g;
        }
        function r(a, b, c, e, f, g) {
            return e && !e[N] && (e = r(e)), f && !f[N] && (f = r(f, g)), d(function(d, g, h, i) {
                var j, k, l, m = [], n = [], o = g.length, r = d || p(b || "*", h.nodeType ? [ h ] : h, []), s = !a || !d && b ? r : q(r, m, a, h, i), t = c ? f || (d ? a : o || e) ? [] : g : s;
                if (c && c(s, t, h, i), e) for (j = q(t, n), e(j, [], h, i), k = j.length; k--; ) (l = j[k]) && (t[n[k]] = !(s[n[k]] = l));
                if (d) {
                    if (f || a) {
                        if (f) {
                            for (j = [], k = t.length; k--; ) (l = t[k]) && j.push(s[k] = l);
                            f(null, t = [], j, i);
                        }
                        for (k = t.length; k--; ) (l = t[k]) && (j = f ? aa(d, l) : m[k]) > -1 && (d[j] = !(g[j] = l));
                    }
                } else t = q(t === g ? t.splice(o, t.length) : t), f ? f(null, g, t, i) : $.apply(g, t);
            });
        }
        function s(a) {
            for (var b, c, d, e = a.length, f = w.relative[a[0].type], g = f || w.relative[" "], h = f ? 1 : 0, i = n(function(a) {
                return a === b;
            }, g, !0), j = n(function(a) {
                return aa(b, a) > -1;
            }, g, !0), k = [ function(a, c, d) {
                var e = !f && (d || c !== C) || ((b = c).nodeType ? i(a, c, d) : j(a, c, d));
                return b = null, e;
            } ]; e > h; h++) if (c = w.relative[a[h].type]) k = [ n(o(k), c) ]; else {
                if (c = w.filter[a[h].type].apply(null, a[h].matches), c[N]) {
                    for (d = ++h; e > d && !w.relative[a[d].type]; d++) ;
                    return r(h > 1 && o(k), h > 1 && m(a.slice(0, h - 1).concat({
                        value: " " === a[h - 2].type ? "*" : ""
                    })).replace(ia, "$1"), c, d > h && s(a.slice(h, d)), e > d && s(a = a.slice(d)), e > d && m(a));
                }
                k.push(c);
            }
            return o(k);
        }
        function t(a, c) {
            var e = c.length > 0, f = a.length > 0, g = function(d, g, h, i, j) {
                var k, l, m, n = 0, o = "0", p = d && [], r = [], s = C, t = d || f && w.find.TAG("*", j), u = P += null == s ? 1 : Math.random() || .1, v = t.length;
                for (j && (C = g !== G && g); o !== v && null != (k = t[o]); o++) {
                    if (f && k) {
                        for (l = 0; m = a[l++]; ) if (m(k, g, h)) {
                            i.push(k);
                            break;
                        }
                        j && (P = u);
                    }
                    e && ((k = !m && k) && n--, d && p.push(k));
                }
                if (n += o, e && o !== n) {
                    for (l = 0; m = c[l++]; ) m(p, r, g, h);
                    if (d) {
                        if (n > 0) for (;o--; ) p[o] || r[o] || (r[o] = Y.call(i));
                        r = q(r);
                    }
                    $.apply(i, r), j && !d && r.length > 0 && n + c.length > 1 && b.uniqueSort(i);
                }
                return j && (P = u, C = s), p;
            };
            return e ? d(g) : g;
        }
        var u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N = "sizzle" + 1 * new Date(), O = a.document, P = 0, Q = 0, R = c(), S = c(), T = c(), U = function(a, b) {
            return a === b && (E = !0), 0;
        }, V = 1 << 31, W = {}.hasOwnProperty, X = [], Y = X.pop, Z = X.push, $ = X.push, _ = X.slice, aa = function(a, b) {
            for (var c = 0, d = a.length; d > c; c++) if (a[c] === b) return c;
            return -1;
        }, ba = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", ca = "[\\x20\\t\\r\\n\\f]", da = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", ea = da.replace("w", "w#"), fa = "\\[" + ca + "*(" + da + ")(?:" + ca + "*([*^$|!~]?=)" + ca + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ea + "))|)" + ca + "*\\]", ga = ":(" + da + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + fa + ")*)|.*)\\)|)", ha = new RegExp(ca + "+", "g"), ia = new RegExp("^" + ca + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ca + "+$", "g"), ja = new RegExp("^" + ca + "*," + ca + "*"), ka = new RegExp("^" + ca + "*([>+~]|" + ca + ")" + ca + "*"), la = new RegExp("=" + ca + "*([^\\]'\"]*?)" + ca + "*\\]", "g"), ma = new RegExp(ga), na = new RegExp("^" + ea + "$"), oa = {
            ID: new RegExp("^#(" + da + ")"),
            CLASS: new RegExp("^\\.(" + da + ")"),
            TAG: new RegExp("^(" + da.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + fa),
            PSEUDO: new RegExp("^" + ga),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ca + "*(even|odd|(([+-]|)(\\d*)n|)" + ca + "*(?:([+-]|)" + ca + "*(\\d+)|))" + ca + "*\\)|)", "i"),
            bool: new RegExp("^(?:" + ba + ")$", "i"),
            needsContext: new RegExp("^" + ca + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ca + "*((?:-\\d)?\\d*)" + ca + "*\\)|)(?=[^-]|$)", "i")
        }, pa = /^(?:input|select|textarea|button)$/i, qa = /^h\d$/i, ra = /^[^{]+\{\s*\[native \w/, sa = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ta = /[+~]/, ua = /'|\\/g, va = new RegExp("\\\\([\\da-f]{1,6}" + ca + "?|(" + ca + ")|.)", "ig"), wa = function(a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320);
        }, xa = function() {
            F();
        };
        try {
            $.apply(X = _.call(O.childNodes), O.childNodes), X[O.childNodes.length].nodeType;
        } catch (ya) {
            $ = {
                apply: X.length ? function(a, b) {
                    Z.apply(a, _.call(b));
                } : function(a, b) {
                    for (var c = a.length, d = 0; a[c++] = b[d++]; ) ;
                    a.length = c - 1;
                }
            };
        }
        v = b.support = {}, y = b.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName : !1;
        }, F = b.setDocument = function(a) {
            var b, c, d = a ? a.ownerDocument || a : O;
            return d !== G && 9 === d.nodeType && d.documentElement ? (G = d, H = d.documentElement, 
            c = d.defaultView, c && c !== c.top && (c.addEventListener ? c.addEventListener("unload", xa, !1) : c.attachEvent && c.attachEvent("onunload", xa)), 
            I = !y(d), v.attributes = e(function(a) {
                return a.className = "i", !a.getAttribute("className");
            }), v.getElementsByTagName = e(function(a) {
                return a.appendChild(d.createComment("")), !a.getElementsByTagName("*").length;
            }), v.getElementsByClassName = ra.test(d.getElementsByClassName), v.getById = e(function(a) {
                return H.appendChild(a).id = N, !d.getElementsByName || !d.getElementsByName(N).length;
            }), v.getById ? (w.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && I) {
                    var c = b.getElementById(a);
                    return c && c.parentNode ? [ c ] : [];
                }
            }, w.filter.ID = function(a) {
                var b = a.replace(va, wa);
                return function(a) {
                    return a.getAttribute("id") === b;
                };
            }) : (delete w.find.ID, w.filter.ID = function(a) {
                var b = a.replace(va, wa);
                return function(a) {
                    var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                    return c && c.value === b;
                };
            }), w.find.TAG = v.getElementsByTagName ? function(a, b) {
                return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : v.qsa ? b.querySelectorAll(a) : void 0;
            } : function(a, b) {
                var c, d = [], e = 0, f = b.getElementsByTagName(a);
                if ("*" === a) {
                    for (;c = f[e++]; ) 1 === c.nodeType && d.push(c);
                    return d;
                }
                return f;
            }, w.find.CLASS = v.getElementsByClassName && function(a, b) {
                return I ? b.getElementsByClassName(a) : void 0;
            }, K = [], J = [], (v.qsa = ra.test(d.querySelectorAll)) && (e(function(a) {
                H.appendChild(a).innerHTML = "<a id='" + N + "'></a><select id='" + N + "-\f]' msallowcapture=''><option selected=''></option></select>", 
                a.querySelectorAll("[msallowcapture^='']").length && J.push("[*^$]=" + ca + "*(?:''|\"\")"), 
                a.querySelectorAll("[selected]").length || J.push("\\[" + ca + "*(?:value|" + ba + ")"), 
                a.querySelectorAll("[id~=" + N + "-]").length || J.push("~="), a.querySelectorAll(":checked").length || J.push(":checked"), 
                a.querySelectorAll("a#" + N + "+*").length || J.push(".#.+[+~]");
            }), e(function(a) {
                var b = d.createElement("input");
                b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && J.push("name" + ca + "*[*^$|!~]?="), 
                a.querySelectorAll(":enabled").length || J.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), 
                J.push(",.*:");
            })), (v.matchesSelector = ra.test(L = H.matches || H.webkitMatchesSelector || H.mozMatchesSelector || H.oMatchesSelector || H.msMatchesSelector)) && e(function(a) {
                v.disconnectedMatch = L.call(a, "div"), L.call(a, "[s!='']:x"), K.push("!=", ga);
            }), J = J.length && new RegExp(J.join("|")), K = K.length && new RegExp(K.join("|")), 
            b = ra.test(H.compareDocumentPosition), M = b || ra.test(H.contains) ? function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a, d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)));
            } : function(a, b) {
                if (b) for (;b = b.parentNode; ) if (b === a) return !0;
                return !1;
            }, U = b ? function(a, b) {
                if (a === b) return E = !0, 0;
                var c = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return c ? c : (c = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 
                1 & c || !v.sortDetached && b.compareDocumentPosition(a) === c ? a === d || a.ownerDocument === O && M(O, a) ? -1 : b === d || b.ownerDocument === O && M(O, b) ? 1 : D ? aa(D, a) - aa(D, b) : 0 : 4 & c ? -1 : 1);
            } : function(a, b) {
                if (a === b) return E = !0, 0;
                var c, e = 0, f = a.parentNode, h = b.parentNode, i = [ a ], j = [ b ];
                if (!f || !h) return a === d ? -1 : b === d ? 1 : f ? -1 : h ? 1 : D ? aa(D, a) - aa(D, b) : 0;
                if (f === h) return g(a, b);
                for (c = a; c = c.parentNode; ) i.unshift(c);
                for (c = b; c = c.parentNode; ) j.unshift(c);
                for (;i[e] === j[e]; ) e++;
                return e ? g(i[e], j[e]) : i[e] === O ? -1 : j[e] === O ? 1 : 0;
            }, d) : G;
        }, b.matches = function(a, c) {
            return b(a, null, null, c);
        }, b.matchesSelector = function(a, c) {
            if ((a.ownerDocument || a) !== G && F(a), c = c.replace(la, "='$1']"), !(!v.matchesSelector || !I || K && K.test(c) || J && J.test(c))) try {
                var d = L.call(a, c);
                if (d || v.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d;
            } catch (e) {}
            return b(c, G, null, [ a ]).length > 0;
        }, b.contains = function(a, b) {
            return (a.ownerDocument || a) !== G && F(a), M(a, b);
        }, b.attr = function(a, b) {
            (a.ownerDocument || a) !== G && F(a);
            var c = w.attrHandle[b.toLowerCase()], d = c && W.call(w.attrHandle, b.toLowerCase()) ? c(a, b, !I) : void 0;
            return void 0 !== d ? d : v.attributes || !I ? a.getAttribute(b) : (d = a.getAttributeNode(b)) && d.specified ? d.value : null;
        }, b.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a);
        }, b.uniqueSort = function(a) {
            var b, c = [], d = 0, e = 0;
            if (E = !v.detectDuplicates, D = !v.sortStable && a.slice(0), a.sort(U), E) {
                for (;b = a[e++]; ) b === a[e] && (d = c.push(e));
                for (;d--; ) a.splice(c[d], 1);
            }
            return D = null, a;
        }, x = b.getText = function(a) {
            var b, c = "", d = 0, e = a.nodeType;
            if (e) {
                if (1 === e || 9 === e || 11 === e) {
                    if ("string" == typeof a.textContent) return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling) c += x(a);
                } else if (3 === e || 4 === e) return a.nodeValue;
            } else for (;b = a[d++]; ) c += x(b);
            return c;
        }, w = b.selectors = {
            cacheLength: 50,
            createPseudo: d,
            match: oa,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(va, wa), a[3] = (a[3] || a[4] || a[5] || "").replace(va, wa), 
                    "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4);
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || b.error(a[0]), 
                    a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && b.error(a[0]), 
                    a;
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    return oa.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && ma.test(c) && (b = z(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), 
                    a[2] = c.slice(0, b)), a.slice(0, 3));
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(va, wa).toLowerCase();
                    return "*" === a ? function() {
                        return !0;
                    } : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b;
                    };
                },
                CLASS: function(a) {
                    var b = R[a + " "];
                    return b || (b = new RegExp("(^|" + ca + ")" + a + "(" + ca + "|$)")) && R(a, function(a) {
                        return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "");
                    });
                },
                ATTR: function(a, c, d) {
                    return function(e) {
                        var f = b.attr(e, a);
                        return null == f ? "!=" === c : c ? (f += "", "=" === c ? f === d : "!=" === c ? f !== d : "^=" === c ? d && 0 === f.indexOf(d) : "*=" === c ? d && f.indexOf(d) > -1 : "$=" === c ? d && f.slice(-d.length) === d : "~=" === c ? (" " + f.replace(ha, " ") + " ").indexOf(d) > -1 : "|=" === c ? f === d || f.slice(0, d.length + 1) === d + "-" : !1) : !0;
                    };
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3), g = "last" !== a.slice(-4), h = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                        return !!a.parentNode;
                    } : function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
                        if (q) {
                            if (f) {
                                for (;p; ) {
                                    for (l = b; l = l[p]; ) if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) return !1;
                                    o = p = "only" === a && !o && "nextSibling";
                                }
                                return !0;
                            }
                            if (o = [ g ? q.firstChild : q.lastChild ], g && s) {
                                for (k = q[N] || (q[N] = {}), j = k[a] || [], n = j[0] === P && j[1], m = j[0] === P && j[2], 
                                l = n && q.childNodes[n]; l = ++n && l && l[p] || (m = n = 0) || o.pop(); ) if (1 === l.nodeType && ++m && l === b) {
                                    k[a] = [ P, n, m ];
                                    break;
                                }
                            } else if (s && (j = (b[N] || (b[N] = {}))[a]) && j[0] === P) m = j[1]; else for (;(l = ++n && l && l[p] || (m = n = 0) || o.pop()) && ((h ? l.nodeName.toLowerCase() !== r : 1 !== l.nodeType) || !++m || (s && ((l[N] || (l[N] = {}))[a] = [ P, m ]), 
                            l !== b)); ) ;
                            return m -= e, m === d || m % d === 0 && m / d >= 0;
                        }
                    };
                },
                PSEUDO: function(a, c) {
                    var e, f = w.pseudos[a] || w.setFilters[a.toLowerCase()] || b.error("unsupported pseudo: " + a);
                    return f[N] ? f(c) : f.length > 1 ? (e = [ a, a, "", c ], w.setFilters.hasOwnProperty(a.toLowerCase()) ? d(function(a, b) {
                        for (var d, e = f(a, c), g = e.length; g--; ) d = aa(a, e[g]), a[d] = !(b[d] = e[g]);
                    }) : function(a) {
                        return f(a, 0, e);
                    }) : f;
                }
            },
            pseudos: {
                not: d(function(a) {
                    var b = [], c = [], e = A(a.replace(ia, "$1"));
                    return e[N] ? d(function(a, b, c, d) {
                        for (var f, g = e(a, null, d, []), h = a.length; h--; ) (f = g[h]) && (a[h] = !(b[h] = f));
                    }) : function(a, d, f) {
                        return b[0] = a, e(b, null, f, c), b[0] = null, !c.pop();
                    };
                }),
                has: d(function(a) {
                    return function(c) {
                        return b(a, c).length > 0;
                    };
                }),
                contains: d(function(a) {
                    return a = a.replace(va, wa), function(b) {
                        return (b.textContent || b.innerText || x(b)).indexOf(a) > -1;
                    };
                }),
                lang: d(function(a) {
                    return na.test(a || "") || b.error("unsupported lang: " + a), a = a.replace(va, wa).toLowerCase(), 
                    function(b) {
                        var c;
                        do if (c = I ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), 
                        c === a || 0 === c.indexOf(a + "-"); while ((b = b.parentNode) && 1 === b.nodeType);
                        return !1;
                    };
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id;
                },
                root: function(a) {
                    return a === H;
                },
                focus: function(a) {
                    return a === G.activeElement && (!G.hasFocus || G.hasFocus()) && !!(a.type || a.href || ~a.tabIndex);
                },
                enabled: function(a) {
                    return a.disabled === !1;
                },
                disabled: function(a) {
                    return a.disabled === !0;
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected;
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex, a.selected === !0;
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling) if (a.nodeType < 6) return !1;
                    return !0;
                },
                parent: function(a) {
                    return !w.pseudos.empty(a);
                },
                header: function(a) {
                    return qa.test(a.nodeName);
                },
                input: function(a) {
                    return pa.test(a.nodeName);
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b;
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase());
                },
                first: j(function() {
                    return [ 0 ];
                }),
                last: j(function(a, b) {
                    return [ b - 1 ];
                }),
                eq: j(function(a, b, c) {
                    return [ 0 > c ? c + b : c ];
                }),
                even: j(function(a, b) {
                    for (var c = 0; b > c; c += 2) a.push(c);
                    return a;
                }),
                odd: j(function(a, b) {
                    for (var c = 1; b > c; c += 2) a.push(c);
                    return a;
                }),
                lt: j(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; --d >= 0; ) a.push(d);
                    return a;
                }),
                gt: j(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; ++d < b; ) a.push(d);
                    return a;
                })
            }
        }, w.pseudos.nth = w.pseudos.eq;
        for (u in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        }) w.pseudos[u] = h(u);
        for (u in {
            submit: !0,
            reset: !0
        }) w.pseudos[u] = i(u);
        return l.prototype = w.filters = w.pseudos, w.setFilters = new l(), z = b.tokenize = function(a, c) {
            var d, e, f, g, h, i, j, k = S[a + " "];
            if (k) return c ? 0 : k.slice(0);
            for (h = a, i = [], j = w.preFilter; h; ) {
                (!d || (e = ja.exec(h))) && (e && (h = h.slice(e[0].length) || h), i.push(f = [])), 
                d = !1, (e = ka.exec(h)) && (d = e.shift(), f.push({
                    value: d,
                    type: e[0].replace(ia, " ")
                }), h = h.slice(d.length));
                for (g in w.filter) !(e = oa[g].exec(h)) || j[g] && !(e = j[g](e)) || (d = e.shift(), 
                f.push({
                    value: d,
                    type: g,
                    matches: e
                }), h = h.slice(d.length));
                if (!d) break;
            }
            return c ? h.length : h ? b.error(a) : S(a, i).slice(0);
        }, A = b.compile = function(a, b) {
            var c, d = [], e = [], f = T[a + " "];
            if (!f) {
                for (b || (b = z(a)), c = b.length; c--; ) f = s(b[c]), f[N] ? d.push(f) : e.push(f);
                f = T(a, t(e, d)), f.selector = a;
            }
            return f;
        }, B = b.select = function(a, b, c, d) {
            var e, f, g, h, i, j = "function" == typeof a && a, l = !d && z(a = j.selector || a);
            if (c = c || [], 1 === l.length) {
                if (f = l[0] = l[0].slice(0), f.length > 2 && "ID" === (g = f[0]).type && v.getById && 9 === b.nodeType && I && w.relative[f[1].type]) {
                    if (b = (w.find.ID(g.matches[0].replace(va, wa), b) || [])[0], !b) return c;
                    j && (b = b.parentNode), a = a.slice(f.shift().value.length);
                }
                for (e = oa.needsContext.test(a) ? 0 : f.length; e-- && (g = f[e], !w.relative[h = g.type]); ) if ((i = w.find[h]) && (d = i(g.matches[0].replace(va, wa), ta.test(f[0].type) && k(b.parentNode) || b))) {
                    if (f.splice(e, 1), a = d.length && m(f), !a) return $.apply(c, d), c;
                    break;
                }
            }
            return (j || A(a, l))(d, b, !I, c, ta.test(a) && k(b.parentNode) || b), c;
        }, v.sortStable = N.split("").sort(U).join("") === N, v.detectDuplicates = !!E, 
        F(), v.sortDetached = e(function(a) {
            return 1 & a.compareDocumentPosition(G.createElement("div"));
        }), e(function(a) {
            return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href");
        }) || f("type|href|height|width", function(a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2);
        }), v.attributes && e(function(a) {
            return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value");
        }) || f("value", function(a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue;
        }), e(function(a) {
            return null == a.getAttribute("disabled");
        }) || f(ba, function(a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null;
        }), b;
    }(a);
    _.find = ea, _.expr = ea.selectors, _.expr[":"] = _.expr.pseudos, _.unique = ea.uniqueSort, 
    _.text = ea.getText, _.isXMLDoc = ea.isXML, _.contains = ea.contains;
    var fa = _.expr.match.needsContext, ga = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, ha = /^.[^:#\[\.,]*$/;
    _.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? _.find.matchesSelector(d, a) ? [ d ] : [] : _.find.matches(a, _.grep(b, function(a) {
            return 1 === a.nodeType;
        }));
    }, _.fn.extend({
        find: function(a) {
            var b, c = this.length, d = [], e = this;
            if ("string" != typeof a) return this.pushStack(_(a).filter(function() {
                for (b = 0; c > b; b++) if (_.contains(e[b], this)) return !0;
            }));
            for (b = 0; c > b; b++) _.find(a, e[b], d);
            return d = this.pushStack(c > 1 ? _.unique(d) : d), d.selector = this.selector ? this.selector + " " + a : a, 
            d;
        },
        filter: function(a) {
            return this.pushStack(d(this, a || [], !1));
        },
        not: function(a) {
            return this.pushStack(d(this, a || [], !0));
        },
        is: function(a) {
            return !!d(this, "string" == typeof a && fa.test(a) ? _(a) : a || [], !1).length;
        }
    });
    var ia, ja = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, ka = _.fn.init = function(a, b) {
        var c, d;
        if (!a) return this;
        if ("string" == typeof a) {
            if (c = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [ null, a, null ] : ja.exec(a), 
            !c || !c[1] && b) return !b || b.jquery ? (b || ia).find(a) : this.constructor(b).find(a);
            if (c[1]) {
                if (b = b instanceof _ ? b[0] : b, _.merge(this, _.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : Z, !0)), 
                ga.test(c[1]) && _.isPlainObject(b)) for (c in b) _.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                return this;
            }
            return d = Z.getElementById(c[2]), d && d.parentNode && (this.length = 1, this[0] = d), 
            this.context = Z, this.selector = a, this;
        }
        return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : _.isFunction(a) ? "undefined" != typeof ia.ready ? ia.ready(a) : a(_) : (void 0 !== a.selector && (this.selector = a.selector, 
        this.context = a.context), _.makeArray(a, this));
    };
    ka.prototype = _.fn, ia = _(Z);
    var la = /^(?:parents|prev(?:Until|All))/, ma = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    _.extend({
        dir: function(a, b, c) {
            for (var d = [], e = void 0 !== c; (a = a[b]) && 9 !== a.nodeType; ) if (1 === a.nodeType) {
                if (e && _(a).is(c)) break;
                d.push(a);
            }
            return d;
        },
        sibling: function(a, b) {
            for (var c = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
            return c;
        }
    }), _.fn.extend({
        has: function(a) {
            var b = _(a, this), c = b.length;
            return this.filter(function() {
                for (var a = 0; c > a; a++) if (_.contains(this, b[a])) return !0;
            });
        },
        closest: function(a, b) {
            for (var c, d = 0, e = this.length, f = [], g = fa.test(a) || "string" != typeof a ? _(a, b || this.context) : 0; e > d; d++) for (c = this[d]; c && c !== b; c = c.parentNode) if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && _.find.matchesSelector(c, a))) {
                f.push(c);
                break;
            }
            return this.pushStack(f.length > 1 ? _.unique(f) : f);
        },
        index: function(a) {
            return a ? "string" == typeof a ? U.call(_(a), this[0]) : U.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
        },
        add: function(a, b) {
            return this.pushStack(_.unique(_.merge(this.get(), _(a, b))));
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a));
        }
    }), _.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null;
        },
        parents: function(a) {
            return _.dir(a, "parentNode");
        },
        parentsUntil: function(a, b, c) {
            return _.dir(a, "parentNode", c);
        },
        next: function(a) {
            return e(a, "nextSibling");
        },
        prev: function(a) {
            return e(a, "previousSibling");
        },
        nextAll: function(a) {
            return _.dir(a, "nextSibling");
        },
        prevAll: function(a) {
            return _.dir(a, "previousSibling");
        },
        nextUntil: function(a, b, c) {
            return _.dir(a, "nextSibling", c);
        },
        prevUntil: function(a, b, c) {
            return _.dir(a, "previousSibling", c);
        },
        siblings: function(a) {
            return _.sibling((a.parentNode || {}).firstChild, a);
        },
        children: function(a) {
            return _.sibling(a.firstChild);
        },
        contents: function(a) {
            return a.contentDocument || _.merge([], a.childNodes);
        }
    }, function(a, b) {
        _.fn[a] = function(c, d) {
            var e = _.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = _.filter(d, e)), 
            this.length > 1 && (ma[a] || _.unique(e), la.test(a) && e.reverse()), this.pushStack(e);
        };
    });
    var na = /\S+/g, oa = {};
    _.Callbacks = function(a) {
        a = "string" == typeof a ? oa[a] || f(a) : _.extend({}, a);
        var b, c, d, e, g, h, i = [], j = !a.once && [], k = function(f) {
            for (b = a.memory && f, c = !0, h = e || 0, e = 0, g = i.length, d = !0; i && g > h; h++) if (i[h].apply(f[0], f[1]) === !1 && a.stopOnFalse) {
                b = !1;
                break;
            }
            d = !1, i && (j ? j.length && k(j.shift()) : b ? i = [] : l.disable());
        }, l = {
            add: function() {
                if (i) {
                    var c = i.length;
                    !function f(b) {
                        _.each(b, function(b, c) {
                            var d = _.type(c);
                            "function" === d ? a.unique && l.has(c) || i.push(c) : c && c.length && "string" !== d && f(c);
                        });
                    }(arguments), d ? g = i.length : b && (e = c, k(b));
                }
                return this;
            },
            remove: function() {
                return i && _.each(arguments, function(a, b) {
                    for (var c; (c = _.inArray(b, i, c)) > -1; ) i.splice(c, 1), d && (g >= c && g--, 
                    h >= c && h--);
                }), this;
            },
            has: function(a) {
                return a ? _.inArray(a, i) > -1 : !(!i || !i.length);
            },
            empty: function() {
                return i = [], g = 0, this;
            },
            disable: function() {
                return i = j = b = void 0, this;
            },
            disabled: function() {
                return !i;
            },
            lock: function() {
                return j = void 0, b || l.disable(), this;
            },
            locked: function() {
                return !j;
            },
            fireWith: function(a, b) {
                return !i || c && !j || (b = b || [], b = [ a, b.slice ? b.slice() : b ], d ? j.push(b) : k(b)), 
                this;
            },
            fire: function() {
                return l.fireWith(this, arguments), this;
            },
            fired: function() {
                return !!c;
            }
        };
        return l;
    }, _.extend({
        Deferred: function(a) {
            var b = [ [ "resolve", "done", _.Callbacks("once memory"), "resolved" ], [ "reject", "fail", _.Callbacks("once memory"), "rejected" ], [ "notify", "progress", _.Callbacks("memory") ] ], c = "pending", d = {
                state: function() {
                    return c;
                },
                always: function() {
                    return e.done(arguments).fail(arguments), this;
                },
                then: function() {
                    var a = arguments;
                    return _.Deferred(function(c) {
                        _.each(b, function(b, f) {
                            var g = _.isFunction(a[b]) && a[b];
                            e[f[1]](function() {
                                var a = g && g.apply(this, arguments);
                                a && _.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [ a ] : arguments);
                            });
                        }), a = null;
                    }).promise();
                },
                promise: function(a) {
                    return null != a ? _.extend(a, d) : d;
                }
            }, e = {};
            return d.pipe = d.then, _.each(b, function(a, f) {
                var g = f[2], h = f[3];
                d[f[1]] = g.add, h && g.add(function() {
                    c = h;
                }, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function() {
                    return e[f[0] + "With"](this === e ? d : this, arguments), this;
                }, e[f[0] + "With"] = g.fireWith;
            }), d.promise(e), a && a.call(e, e), e;
        },
        when: function(a) {
            var b, c, d, e = 0, f = R.call(arguments), g = f.length, h = 1 !== g || a && _.isFunction(a.promise) ? g : 0, i = 1 === h ? a : _.Deferred(), j = function(a, c, d) {
                return function(e) {
                    c[a] = this, d[a] = arguments.length > 1 ? R.call(arguments) : e, d === b ? i.notifyWith(c, d) : --h || i.resolveWith(c, d);
                };
            };
            if (g > 1) for (b = new Array(g), c = new Array(g), d = new Array(g); g > e; e++) f[e] && _.isFunction(f[e].promise) ? f[e].promise().done(j(e, d, f)).fail(i.reject).progress(j(e, c, b)) : --h;
            return h || i.resolveWith(d, f), i.promise();
        }
    });
    var pa;
    _.fn.ready = function(a) {
        return _.ready.promise().done(a), this;
    }, _.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? _.readyWait++ : _.ready(!0);
        },
        ready: function(a) {
            (a === !0 ? --_.readyWait : _.isReady) || (_.isReady = !0, a !== !0 && --_.readyWait > 0 || (pa.resolveWith(Z, [ _ ]), 
            _.fn.triggerHandler && (_(Z).triggerHandler("ready"), _(Z).off("ready"))));
        }
    }), _.ready.promise = function(b) {
        return pa || (pa = _.Deferred(), "complete" === Z.readyState ? setTimeout(_.ready) : (Z.addEventListener("DOMContentLoaded", g, !1), 
        a.addEventListener("load", g, !1))), pa.promise(b);
    }, _.ready.promise();
    var qa = _.access = function(a, b, c, d, e, f, g) {
        var h = 0, i = a.length, j = null == c;
        if ("object" === _.type(c)) {
            e = !0;
            for (h in c) _.access(a, b, h, c[h], !0, f, g);
        } else if (void 0 !== d && (e = !0, _.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), 
        b = null) : (j = b, b = function(a, b, c) {
            return j.call(_(a), c);
        })), b)) for (;i > h; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f;
    };
    _.acceptData = function(a) {
        return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType;
    }, h.uid = 1, h.accepts = _.acceptData, h.prototype = {
        key: function(a) {
            if (!h.accepts(a)) return 0;
            var b = {}, c = a[this.expando];
            if (!c) {
                c = h.uid++;
                try {
                    b[this.expando] = {
                        value: c
                    }, Object.defineProperties(a, b);
                } catch (d) {
                    b[this.expando] = c, _.extend(a, b);
                }
            }
            return this.cache[c] || (this.cache[c] = {}), c;
        },
        set: function(a, b, c) {
            var d, e = this.key(a), f = this.cache[e];
            if ("string" == typeof b) f[b] = c; else if (_.isEmptyObject(f)) _.extend(this.cache[e], b); else for (d in b) f[d] = b[d];
            return f;
        },
        get: function(a, b) {
            var c = this.cache[this.key(a)];
            return void 0 === b ? c : c[b];
        },
        access: function(a, b, c) {
            var d;
            return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b), 
            void 0 !== d ? d : this.get(a, _.camelCase(b))) : (this.set(a, b, c), void 0 !== c ? c : b);
        },
        remove: function(a, b) {
            var c, d, e, f = this.key(a), g = this.cache[f];
            if (void 0 === b) this.cache[f] = {}; else {
                _.isArray(b) ? d = b.concat(b.map(_.camelCase)) : (e = _.camelCase(b), b in g ? d = [ b, e ] : (d = e, 
                d = d in g ? [ d ] : d.match(na) || [])), c = d.length;
                for (;c--; ) delete g[d[c]];
            }
        },
        hasData: function(a) {
            return !_.isEmptyObject(this.cache[a[this.expando]] || {});
        },
        discard: function(a) {
            a[this.expando] && delete this.cache[a[this.expando]];
        }
    };
    var ra = new h(), sa = new h(), ta = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, ua = /([A-Z])/g;
    _.extend({
        hasData: function(a) {
            return sa.hasData(a) || ra.hasData(a);
        },
        data: function(a, b, c) {
            return sa.access(a, b, c);
        },
        removeData: function(a, b) {
            sa.remove(a, b);
        },
        _data: function(a, b, c) {
            return ra.access(a, b, c);
        },
        _removeData: function(a, b) {
            ra.remove(a, b);
        }
    }), _.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0], g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = sa.get(f), 1 === f.nodeType && !ra.get(f, "hasDataAttrs"))) {
                    for (c = g.length; c--; ) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = _.camelCase(d.slice(5)), 
                    i(f, d, e[d])));
                    ra.set(f, "hasDataAttrs", !0);
                }
                return e;
            }
            return "object" == typeof a ? this.each(function() {
                sa.set(this, a);
            }) : qa(this, function(b) {
                var c, d = _.camelCase(a);
                if (f && void 0 === b) {
                    if (c = sa.get(f, a), void 0 !== c) return c;
                    if (c = sa.get(f, d), void 0 !== c) return c;
                    if (c = i(f, d, void 0), void 0 !== c) return c;
                } else this.each(function() {
                    var c = sa.get(this, d);
                    sa.set(this, d, b), -1 !== a.indexOf("-") && void 0 !== c && sa.set(this, a, b);
                });
            }, null, b, arguments.length > 1, null, !0);
        },
        removeData: function(a) {
            return this.each(function() {
                sa.remove(this, a);
            });
        }
    }), _.extend({
        queue: function(a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue", d = ra.get(a, b), c && (!d || _.isArray(c) ? d = ra.access(a, b, _.makeArray(c)) : d.push(c)), 
            d || []) : void 0;
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = _.queue(a, b), d = c.length, e = c.shift(), f = _._queueHooks(a, b), g = function() {
                _.dequeue(a, b);
            };
            "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), 
            delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire();
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return ra.get(a, c) || ra.access(a, c, {
                empty: _.Callbacks("once memory").add(function() {
                    ra.remove(a, [ b + "queue", c ]);
                })
            });
        }
    }), _.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? _.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = _.queue(this, a, b);
                _._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && _.dequeue(this, a);
            });
        },
        dequeue: function(a) {
            return this.each(function() {
                _.dequeue(this, a);
            });
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", []);
        },
        promise: function(a, b) {
            var c, d = 1, e = _.Deferred(), f = this, g = this.length, h = function() {
                --d || e.resolveWith(f, [ f ]);
            };
            for ("string" != typeof a && (b = a, a = void 0), a = a || "fx"; g--; ) c = ra.get(f[g], a + "queueHooks"), 
            c && c.empty && (d++, c.empty.add(h));
            return h(), e.promise(b);
        }
    });
    var va = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, wa = [ "Top", "Right", "Bottom", "Left" ], xa = function(a, b) {
        return a = b || a, "none" === _.css(a, "display") || !_.contains(a.ownerDocument, a);
    }, ya = /^(?:checkbox|radio)$/i;
    !function() {
        var a = Z.createDocumentFragment(), b = a.appendChild(Z.createElement("div")), c = Z.createElement("input");
        c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), 
        b.appendChild(c), Y.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, 
        b.innerHTML = "<textarea>x</textarea>", Y.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue;
    }();
    var za = "undefined";
    Y.focusinBubbles = "onfocusin" in a;
    var Aa = /^key/, Ba = /^(?:mouse|pointer|contextmenu)|click/, Ca = /^(?:focusinfocus|focusoutblur)$/, Da = /^([^.]*)(?:\.(.+)|)$/;
    _.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = ra.get(a);
            if (q) for (c.handler && (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = _.guid++), 
            (i = q.events) || (i = q.events = {}), (g = q.handle) || (g = q.handle = function(b) {
                return typeof _ !== za && _.event.triggered !== b.type ? _.event.dispatch.apply(a, arguments) : void 0;
            }), b = (b || "").match(na) || [ "" ], j = b.length; j--; ) h = Da.exec(b[j]) || [], 
            n = p = h[1], o = (h[2] || "").split(".").sort(), n && (l = _.event.special[n] || {}, 
            n = (e ? l.delegateType : l.bindType) || n, l = _.event.special[n] || {}, k = _.extend({
                type: n,
                origType: p,
                data: d,
                handler: c,
                guid: c.guid,
                selector: e,
                needsContext: e && _.expr.match.needsContext.test(e),
                namespace: o.join(".")
            }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g, !1)), 
            l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), 
            _.event.global[n] = !0);
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, n, o, p, q = ra.hasData(a) && ra.get(a);
            if (q && (i = q.events)) {
                for (b = (b || "").match(na) || [ "" ], j = b.length; j--; ) if (h = Da.exec(b[j]) || [], 
                n = p = h[1], o = (h[2] || "").split(".").sort(), n) {
                    for (l = _.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], 
                    h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; f--; ) k = m[f], 
                    !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), 
                    k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                    g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || _.removeEvent(a, n, q.handle), 
                    delete i[n]);
                } else for (n in i) _.event.remove(a, n + b[j], c, d, !0);
                _.isEmptyObject(i) && (delete q.handle, ra.remove(a, "events"));
            }
        },
        trigger: function(b, c, d, e) {
            var f, g, h, i, j, k, l, m = [ d || Z ], n = X.call(b, "type") ? b.type : b, o = X.call(b, "namespace") ? b.namespace.split(".") : [];
            if (g = h = d = d || Z, 3 !== d.nodeType && 8 !== d.nodeType && !Ca.test(n + _.event.triggered) && (n.indexOf(".") >= 0 && (o = n.split("."), 
            n = o.shift(), o.sort()), j = n.indexOf(":") < 0 && "on" + n, b = b[_.expando] ? b : new _.Event(n, "object" == typeof b && b), 
            b.isTrigger = e ? 2 : 3, b.namespace = o.join("."), b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, 
            b.result = void 0, b.target || (b.target = d), c = null == c ? [ b ] : _.makeArray(c, [ b ]), 
            l = _.event.special[n] || {}, e || !l.trigger || l.trigger.apply(d, c) !== !1)) {
                if (!e && !l.noBubble && !_.isWindow(d)) {
                    for (i = l.delegateType || n, Ca.test(i + n) || (g = g.parentNode); g; g = g.parentNode) m.push(g), 
                    h = g;
                    h === (d.ownerDocument || Z) && m.push(h.defaultView || h.parentWindow || a);
                }
                for (f = 0; (g = m[f++]) && !b.isPropagationStopped(); ) b.type = f > 1 ? i : l.bindType || n, 
                k = (ra.get(g, "events") || {})[b.type] && ra.get(g, "handle"), k && k.apply(g, c), 
                k = j && g[j], k && k.apply && _.acceptData(g) && (b.result = k.apply(g, c), b.result === !1 && b.preventDefault());
                return b.type = n, e || b.isDefaultPrevented() || l._default && l._default.apply(m.pop(), c) !== !1 || !_.acceptData(d) || j && _.isFunction(d[n]) && !_.isWindow(d) && (h = d[j], 
                h && (d[j] = null), _.event.triggered = n, d[n](), _.event.triggered = void 0, h && (d[j] = h)), 
                b.result;
            }
        },
        dispatch: function(a) {
            a = _.event.fix(a);
            var b, c, d, e, f, g = [], h = R.call(arguments), i = (ra.get(this, "events") || {})[a.type] || [], j = _.event.special[a.type] || {};
            if (h[0] = a, a.delegateTarget = this, !j.preDispatch || j.preDispatch.call(this, a) !== !1) {
                for (g = _.event.handlers.call(this, a, i), b = 0; (e = g[b++]) && !a.isPropagationStopped(); ) for (a.currentTarget = e.elem, 
                c = 0; (f = e.handlers[c++]) && !a.isImmediatePropagationStopped(); ) (!a.namespace_re || a.namespace_re.test(f.namespace)) && (a.handleObj = f, 
                a.data = f.data, d = ((_.event.special[f.origType] || {}).handle || f.handler).apply(e.elem, h), 
                void 0 !== d && (a.result = d) === !1 && (a.preventDefault(), a.stopPropagation()));
                return j.postDispatch && j.postDispatch.call(this, a), a.result;
            }
        },
        handlers: function(a, b) {
            var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
            if (h && i.nodeType && (!a.button || "click" !== a.type)) for (;i !== this; i = i.parentNode || this) if (i.disabled !== !0 || "click" !== a.type) {
                for (d = [], c = 0; h > c; c++) f = b[c], e = f.selector + " ", void 0 === d[e] && (d[e] = f.needsContext ? _(e, this).index(i) >= 0 : _.find(e, this, null, [ i ]).length), 
                d[e] && d.push(f);
                d.length && g.push({
                    elem: i,
                    handlers: d
                });
            }
            return h < b.length && g.push({
                elem: this,
                handlers: b.slice(h)
            }), g;
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), 
                a;
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, d, e, f = b.button;
                return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || Z, 
                d = c.documentElement, e = c.body, a.pageX = b.clientX + (d && d.scrollLeft || e && e.scrollLeft || 0) - (d && d.clientLeft || e && e.clientLeft || 0), 
                a.pageY = b.clientY + (d && d.scrollTop || e && e.scrollTop || 0) - (d && d.clientTop || e && e.clientTop || 0)), 
                a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), a;
            }
        },
        fix: function(a) {
            if (a[_.expando]) return a;
            var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
            for (g || (this.fixHooks[e] = g = Ba.test(e) ? this.mouseHooks : Aa.test(e) ? this.keyHooks : {}), 
            d = g.props ? this.props.concat(g.props) : this.props, a = new _.Event(f), b = d.length; b--; ) c = d[b], 
            a[c] = f[c];
            return a.target || (a.target = Z), 3 === a.target.nodeType && (a.target = a.target.parentNode), 
            g.filter ? g.filter(a, f) : a;
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    return this !== l() && this.focus ? (this.focus(), !1) : void 0;
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === l() && this.blur ? (this.blur(), !1) : void 0;
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return "checkbox" === this.type && this.click && _.nodeName(this, "input") ? (this.click(), 
                    !1) : void 0;
                },
                _default: function(a) {
                    return _.nodeName(a.target, "a");
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result);
                }
            }
        },
        simulate: function(a, b, c, d) {
            var e = _.extend(new _.Event(), c, {
                type: a,
                isSimulated: !0,
                originalEvent: {}
            });
            d ? _.event.trigger(e, null, b) : _.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault();
        }
    }, _.removeEvent = function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1);
    }, _.Event = function(a, b) {
        return this instanceof _.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, 
        this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? j : k) : this.type = a, 
        b && _.extend(this, b), this.timeStamp = a && a.timeStamp || _.now(), void (this[_.expando] = !0)) : new _.Event(a, b);
    }, _.Event.prototype = {
        isDefaultPrevented: k,
        isPropagationStopped: k,
        isImmediatePropagationStopped: k,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = j, a && a.preventDefault && a.preventDefault();
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = j, a && a.stopPropagation && a.stopPropagation();
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = j, a && a.stopImmediatePropagation && a.stopImmediatePropagation(), 
            this.stopPropagation();
        }
    }, _.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        _.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this, e = a.relatedTarget, f = a.handleObj;
                return (!e || e !== d && !_.contains(d, e)) && (a.type = f.origType, c = f.handler.apply(this, arguments), 
                a.type = b), c;
            }
        };
    }), Y.focusinBubbles || _.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            _.event.simulate(b, a.target, _.event.fix(a), !0);
        };
        _.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this, e = ra.access(d, b);
                e || d.addEventListener(a, c, !0), ra.access(d, b, (e || 0) + 1);
            },
            teardown: function() {
                var d = this.ownerDocument || this, e = ra.access(d, b) - 1;
                e ? ra.access(d, b, e) : (d.removeEventListener(a, c, !0), ra.remove(d, b));
            }
        };
    }), _.fn.extend({
        on: function(a, b, c, d, e) {
            var f, g;
            if ("object" == typeof a) {
                "string" != typeof b && (c = c || b, b = void 0);
                for (g in a) this.on(g, b, c, a[g], e);
                return this;
            }
            if (null == c && null == d ? (d = b, c = b = void 0) : null == d && ("string" == typeof b ? (d = c, 
            c = void 0) : (d = c, c = b, b = void 0)), d === !1) d = k; else if (!d) return this;
            return 1 === e && (f = d, d = function(a) {
                return _().off(a), f.apply(this, arguments);
            }, d.guid = f.guid || (f.guid = _.guid++)), this.each(function() {
                _.event.add(this, a, d, c, b);
            });
        },
        one: function(a, b, c, d) {
            return this.on(a, b, c, d, 1);
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj) return d = a.handleObj, _(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), 
            this;
            if ("object" == typeof a) {
                for (e in a) this.off(e, b, a[e]);
                return this;
            }
            return (b === !1 || "function" == typeof b) && (c = b, b = void 0), c === !1 && (c = k), 
            this.each(function() {
                _.event.remove(this, a, c, b);
            });
        },
        trigger: function(a, b) {
            return this.each(function() {
                _.event.trigger(a, b, this);
            });
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            return c ? _.event.trigger(a, b, c, !0) : void 0;
        }
    });
    var Ea = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, Fa = /<([\w:]+)/, Ga = /<|&#?\w+;/, Ha = /<(?:script|style|link)/i, Ia = /checked\s*(?:[^=]|=\s*.checked.)/i, Ja = /^$|\/(?:java|ecma)script/i, Ka = /^true\/(.*)/, La = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, Ma = {
        option: [ 1, "<select multiple='multiple'>", "</select>" ],
        thead: [ 1, "<table>", "</table>" ],
        col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
        tr: [ 2, "<table><tbody>", "</tbody></table>" ],
        td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],
        _default: [ 0, "", "" ]
    };
    Ma.optgroup = Ma.option, Ma.tbody = Ma.tfoot = Ma.colgroup = Ma.caption = Ma.thead, 
    Ma.th = Ma.td, _.extend({
        clone: function(a, b, c) {
            var d, e, f, g, h = a.cloneNode(!0), i = _.contains(a.ownerDocument, a);
            if (!(Y.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || _.isXMLDoc(a))) for (g = r(h), 
            f = r(a), d = 0, e = f.length; e > d; d++) s(f[d], g[d]);
            if (b) if (c) for (f = f || r(a), g = g || r(h), d = 0, e = f.length; e > d; d++) q(f[d], g[d]); else q(a, h);
            return g = r(h, "script"), g.length > 0 && p(g, !i && r(a, "script")), h;
        },
        buildFragment: function(a, b, c, d) {
            for (var e, f, g, h, i, j, k = b.createDocumentFragment(), l = [], m = 0, n = a.length; n > m; m++) if (e = a[m], 
            e || 0 === e) if ("object" === _.type(e)) _.merge(l, e.nodeType ? [ e ] : e); else if (Ga.test(e)) {
                for (f = f || k.appendChild(b.createElement("div")), g = (Fa.exec(e) || [ "", "" ])[1].toLowerCase(), 
                h = Ma[g] || Ma._default, f.innerHTML = h[1] + e.replace(Ea, "<$1></$2>") + h[2], 
                j = h[0]; j--; ) f = f.lastChild;
                _.merge(l, f.childNodes), f = k.firstChild, f.textContent = "";
            } else l.push(b.createTextNode(e));
            for (k.textContent = "", m = 0; e = l[m++]; ) if ((!d || -1 === _.inArray(e, d)) && (i = _.contains(e.ownerDocument, e), 
            f = r(k.appendChild(e), "script"), i && p(f), c)) for (j = 0; e = f[j++]; ) Ja.test(e.type || "") && c.push(e);
            return k;
        },
        cleanData: function(a) {
            for (var b, c, d, e, f = _.event.special, g = 0; void 0 !== (c = a[g]); g++) {
                if (_.acceptData(c) && (e = c[ra.expando], e && (b = ra.cache[e]))) {
                    if (b.events) for (d in b.events) f[d] ? _.event.remove(c, d) : _.removeEvent(c, d, b.handle);
                    ra.cache[e] && delete ra.cache[e];
                }
                delete sa.cache[c[sa.expando]];
            }
        }
    }), _.fn.extend({
        text: function(a) {
            return qa(this, function(a) {
                return void 0 === a ? _.text(this) : this.empty().each(function() {
                    (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = a);
                });
            }, null, a, arguments.length);
        },
        append: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = m(this, a);
                    b.appendChild(a);
                }
            });
        },
        prepend: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = m(this, a);
                    b.insertBefore(a, b.firstChild);
                }
            });
        },
        before: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this);
            });
        },
        after: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling);
            });
        },
        remove: function(a, b) {
            for (var c, d = a ? _.filter(a, this) : this, e = 0; null != (c = d[e]); e++) b || 1 !== c.nodeType || _.cleanData(r(c)), 
            c.parentNode && (b && _.contains(c.ownerDocument, c) && p(r(c, "script")), c.parentNode.removeChild(c));
            return this;
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++) 1 === a.nodeType && (_.cleanData(r(a, !1)), 
            a.textContent = "");
            return this;
        },
        clone: function(a, b) {
            return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function() {
                return _.clone(this, a, b);
            });
        },
        html: function(a) {
            return qa(this, function(a) {
                var b = this[0] || {}, c = 0, d = this.length;
                if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
                if ("string" == typeof a && !Ha.test(a) && !Ma[(Fa.exec(a) || [ "", "" ])[1].toLowerCase()]) {
                    a = a.replace(Ea, "<$1></$2>");
                    try {
                        for (;d > c; c++) b = this[c] || {}, 1 === b.nodeType && (_.cleanData(r(b, !1)), 
                        b.innerHTML = a);
                        b = 0;
                    } catch (e) {}
                }
                b && this.empty().append(a);
            }, null, a, arguments.length);
        },
        replaceWith: function() {
            var a = arguments[0];
            return this.domManip(arguments, function(b) {
                a = this.parentNode, _.cleanData(r(this)), a && a.replaceChild(b, this);
            }), a && (a.length || a.nodeType) ? this : this.remove();
        },
        detach: function(a) {
            return this.remove(a, !0);
        },
        domManip: function(a, b) {
            a = S.apply([], a);
            var c, d, e, f, g, h, i = 0, j = this.length, k = this, l = j - 1, m = a[0], p = _.isFunction(m);
            if (p || j > 1 && "string" == typeof m && !Y.checkClone && Ia.test(m)) return this.each(function(c) {
                var d = k.eq(c);
                p && (a[0] = m.call(this, c, d.html())), d.domManip(a, b);
            });
            if (j && (c = _.buildFragment(a, this[0].ownerDocument, !1, this), d = c.firstChild, 
            1 === c.childNodes.length && (c = d), d)) {
                for (e = _.map(r(c, "script"), n), f = e.length; j > i; i++) g = c, i !== l && (g = _.clone(g, !0, !0), 
                f && _.merge(e, r(g, "script"))), b.call(this[i], g, i);
                if (f) for (h = e[e.length - 1].ownerDocument, _.map(e, o), i = 0; f > i; i++) g = e[i], 
                Ja.test(g.type || "") && !ra.access(g, "globalEval") && _.contains(h, g) && (g.src ? _._evalUrl && _._evalUrl(g.src) : _.globalEval(g.textContent.replace(La, "")));
            }
            return this;
        }
    }), _.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        _.fn[a] = function(a) {
            for (var c, d = [], e = _(a), f = e.length - 1, g = 0; f >= g; g++) c = g === f ? this : this.clone(!0), 
            _(e[g])[b](c), T.apply(d, c.get());
            return this.pushStack(d);
        };
    });
    var Na, Oa = {}, Pa = /^margin/, Qa = new RegExp("^(" + va + ")(?!px)[a-z%]+$", "i"), Ra = function(b) {
        return b.ownerDocument.defaultView.opener ? b.ownerDocument.defaultView.getComputedStyle(b, null) : a.getComputedStyle(b, null);
    };
    !function() {
        function b() {
            g.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", 
            g.innerHTML = "", e.appendChild(f);
            var b = a.getComputedStyle(g, null);
            c = "1%" !== b.top, d = "4px" === b.width, e.removeChild(f);
        }
        var c, d, e = Z.documentElement, f = Z.createElement("div"), g = Z.createElement("div");
        g.style && (g.style.backgroundClip = "content-box", g.cloneNode(!0).style.backgroundClip = "", 
        Y.clearCloneStyle = "content-box" === g.style.backgroundClip, f.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", 
        f.appendChild(g), a.getComputedStyle && _.extend(Y, {
            pixelPosition: function() {
                return b(), c;
            },
            boxSizingReliable: function() {
                return null == d && b(), d;
            },
            reliableMarginRight: function() {
                var b, c = g.appendChild(Z.createElement("div"));
                return c.style.cssText = g.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", 
                c.style.marginRight = c.style.width = "0", g.style.width = "1px", e.appendChild(f), 
                b = !parseFloat(a.getComputedStyle(c, null).marginRight), e.removeChild(f), g.removeChild(c), 
                b;
            }
        }));
    }(), _.swap = function(a, b, c, d) {
        var e, f, g = {};
        for (f in b) g[f] = a.style[f], a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b) a.style[f] = g[f];
        return e;
    };
    var Sa = /^(none|table(?!-c[ea]).+)/, Ta = new RegExp("^(" + va + ")(.*)$", "i"), Ua = new RegExp("^([+-])=(" + va + ")", "i"), Va = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }, Wa = {
        letterSpacing: "0",
        fontWeight: "400"
    }, Xa = [ "Webkit", "O", "Moz", "ms" ];
    _.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = v(a, "opacity");
                        return "" === c ? "1" : c;
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = _.camelCase(b), i = a.style;
                return b = _.cssProps[h] || (_.cssProps[h] = x(i, h)), g = _.cssHooks[b] || _.cssHooks[h], 
                void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c, 
                "string" === f && (e = Ua.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(_.css(a, b)), 
                f = "number"), void (null != c && c === c && ("number" !== f || _.cssNumber[h] || (c += "px"), 
                Y.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), 
                g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c))));
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = _.camelCase(b);
            return b = _.cssProps[h] || (_.cssProps[h] = x(a.style, h)), g = _.cssHooks[b] || _.cssHooks[h], 
            g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = v(a, b, d)), "normal" === e && b in Wa && (e = Wa[b]), 
            "" === c || c ? (f = parseFloat(e), c === !0 || _.isNumeric(f) ? f || 0 : e) : e;
        }
    }), _.each([ "height", "width" ], function(a, b) {
        _.cssHooks[b] = {
            get: function(a, c, d) {
                return c ? Sa.test(_.css(a, "display")) && 0 === a.offsetWidth ? _.swap(a, Va, function() {
                    return A(a, b, d);
                }) : A(a, b, d) : void 0;
            },
            set: function(a, c, d) {
                var e = d && Ra(a);
                return y(a, c, d ? z(a, b, d, "border-box" === _.css(a, "boxSizing", !1, e), e) : 0);
            }
        };
    }), _.cssHooks.marginRight = w(Y.reliableMarginRight, function(a, b) {
        return b ? _.swap(a, {
            display: "inline-block"
        }, v, [ a, "marginRight" ]) : void 0;
    }), _.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        _.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [ c ]; 4 > d; d++) e[a + wa[d] + b] = f[d] || f[d - 2] || f[0];
                return e;
            }
        }, Pa.test(a) || (_.cssHooks[a + b].set = y);
    }), _.fn.extend({
        css: function(a, b) {
            return qa(this, function(a, b, c) {
                var d, e, f = {}, g = 0;
                if (_.isArray(b)) {
                    for (d = Ra(a), e = b.length; e > g; g++) f[b[g]] = _.css(a, b[g], !1, d);
                    return f;
                }
                return void 0 !== c ? _.style(a, b, c) : _.css(a, b);
            }, a, b, arguments.length > 1);
        },
        show: function() {
            return B(this, !0);
        },
        hide: function() {
            return B(this);
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                xa(this) ? _(this).show() : _(this).hide();
            });
        }
    }), _.Tween = C, C.prototype = {
        constructor: C,
        init: function(a, b, c, d, e, f) {
            this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), 
            this.end = d, this.unit = f || (_.cssNumber[c] ? "" : "px");
        },
        cur: function() {
            var a = C.propHooks[this.prop];
            return a && a.get ? a.get(this) : C.propHooks._default.get(this);
        },
        run: function(a) {
            var b, c = C.propHooks[this.prop];
            return this.options.duration ? this.pos = b = _.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a, 
            this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), 
            c && c.set ? c.set(this) : C.propHooks._default.set(this), this;
        }
    }, C.prototype.init.prototype = C.prototype, C.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = _.css(a.elem, a.prop, ""), 
                b && "auto" !== b ? b : 0) : a.elem[a.prop];
            },
            set: function(a) {
                _.fx.step[a.prop] ? _.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[_.cssProps[a.prop]] || _.cssHooks[a.prop]) ? _.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now;
            }
        }
    }, C.propHooks.scrollTop = C.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now);
        }
    }, _.easing = {
        linear: function(a) {
            return a;
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2;
        }
    }, _.fx = C.prototype.init, _.fx.step = {};
    var Ya, Za, $a = /^(?:toggle|show|hide)$/, _a = new RegExp("^(?:([+-])=|)(" + va + ")([a-z%]*)$", "i"), ab = /queueHooks$/, bb = [ G ], cb = {
        "*": [ function(a, b) {
            var c = this.createTween(a, b), d = c.cur(), e = _a.exec(b), f = e && e[3] || (_.cssNumber[a] ? "" : "px"), g = (_.cssNumber[a] || "px" !== f && +d) && _a.exec(_.css(c.elem, a)), h = 1, i = 20;
            if (g && g[3] !== f) {
                f = f || g[3], e = e || [], g = +d || 1;
                do h = h || ".5", g /= h, _.style(c.elem, a, g + f); while (h !== (h = c.cur() / d) && 1 !== h && --i);
            }
            return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), 
            c;
        } ]
    };
    _.Animation = _.extend(I, {
        tweener: function(a, b) {
            _.isFunction(a) ? (b = a, a = [ "*" ]) : a = a.split(" ");
            for (var c, d = 0, e = a.length; e > d; d++) c = a[d], cb[c] = cb[c] || [], cb[c].unshift(b);
        },
        prefilter: function(a, b) {
            b ? bb.unshift(a) : bb.push(a);
        }
    }), _.speed = function(a, b, c) {
        var d = a && "object" == typeof a ? _.extend({}, a) : {
            complete: c || !c && b || _.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !_.isFunction(b) && b
        };
        return d.duration = _.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in _.fx.speeds ? _.fx.speeds[d.duration] : _.fx.speeds._default, 
        (null == d.queue || d.queue === !0) && (d.queue = "fx"), d.old = d.complete, d.complete = function() {
            _.isFunction(d.old) && d.old.call(this), d.queue && _.dequeue(this, d.queue);
        }, d;
    }, _.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(xa).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d);
        },
        animate: function(a, b, c, d) {
            var e = _.isEmptyObject(a), f = _.speed(b, c, d), g = function() {
                var b = I(this, _.extend({}, a), f);
                (e || ra.get(this, "finish")) && b.stop(!0);
            };
            return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g);
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop, b(c);
            };
            return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), 
            this.each(function() {
                var b = !0, e = null != a && a + "queueHooks", f = _.timers, g = ra.get(this);
                if (e) g[e] && g[e].stop && d(g[e]); else for (e in g) g[e] && g[e].stop && ab.test(e) && d(g[e]);
                for (e = f.length; e--; ) f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), 
                b = !1, f.splice(e, 1));
                (b || !c) && _.dequeue(this, a);
            });
        },
        finish: function(a) {
            return a !== !1 && (a = a || "fx"), this.each(function() {
                var b, c = ra.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = _.timers, g = d ? d.length : 0;
                for (c.finish = !0, _.queue(this, a, []), e && e.stop && e.stop.call(this, !0), 
                b = f.length; b--; ) f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), 
                f.splice(b, 1));
                for (b = 0; g > b; b++) d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish;
            });
        }
    }), _.each([ "toggle", "show", "hide" ], function(a, b) {
        var c = _.fn[b];
        _.fn[b] = function(a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(E(b, !0), a, d, e);
        };
    }), _.each({
        slideDown: E("show"),
        slideUp: E("hide"),
        slideToggle: E("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        _.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d);
        };
    }), _.timers = [], _.fx.tick = function() {
        var a, b = 0, c = _.timers;
        for (Ya = _.now(); b < c.length; b++) a = c[b], a() || c[b] !== a || c.splice(b--, 1);
        c.length || _.fx.stop(), Ya = void 0;
    }, _.fx.timer = function(a) {
        _.timers.push(a), a() ? _.fx.start() : _.timers.pop();
    }, _.fx.interval = 13, _.fx.start = function() {
        Za || (Za = setInterval(_.fx.tick, _.fx.interval));
    }, _.fx.stop = function() {
        clearInterval(Za), Za = null;
    }, _.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, _.fn.delay = function(a, b) {
        return a = _.fx ? _.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function(b, c) {
            var d = setTimeout(b, a);
            c.stop = function() {
                clearTimeout(d);
            };
        });
    }, function() {
        var a = Z.createElement("input"), b = Z.createElement("select"), c = b.appendChild(Z.createElement("option"));
        a.type = "checkbox", Y.checkOn = "" !== a.value, Y.optSelected = c.selected, b.disabled = !0, 
        Y.optDisabled = !c.disabled, a = Z.createElement("input"), a.value = "t", a.type = "radio", 
        Y.radioValue = "t" === a.value;
    }();
    var db, eb, fb = _.expr.attrHandle;
    _.fn.extend({
        attr: function(a, b) {
            return qa(this, _.attr, a, b, arguments.length > 1);
        },
        removeAttr: function(a) {
            return this.each(function() {
                _.removeAttr(this, a);
            });
        }
    }), _.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            return a && 3 !== f && 8 !== f && 2 !== f ? typeof a.getAttribute === za ? _.prop(a, b, c) : (1 === f && _.isXMLDoc(a) || (b = b.toLowerCase(), 
            d = _.attrHooks[b] || (_.expr.match.bool.test(b) ? eb : db)), void 0 === c ? d && "get" in d && null !== (e = d.get(a, b)) ? e : (e = _.find.attr(a, b), 
            null == e ? void 0 : e) : null !== c ? d && "set" in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""), 
            c) : void _.removeAttr(a, b)) : void 0;
        },
        removeAttr: function(a, b) {
            var c, d, e = 0, f = b && b.match(na);
            if (f && 1 === a.nodeType) for (;c = f[e++]; ) d = _.propFix[c] || c, _.expr.match.bool.test(c) && (a[d] = !1), 
            a.removeAttribute(c);
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!Y.radioValue && "radio" === b && _.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b), c && (a.value = c), b;
                    }
                }
            }
        }
    }), eb = {
        set: function(a, b, c) {
            return b === !1 ? _.removeAttr(a, c) : a.setAttribute(c, c), c;
        }
    }, _.each(_.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = fb[b] || _.find.attr;
        fb[b] = function(a, b, d) {
            var e, f;
            return d || (f = fb[b], fb[b] = e, e = null != c(a, b, d) ? b.toLowerCase() : null, 
            fb[b] = f), e;
        };
    });
    var gb = /^(?:input|select|textarea|button)$/i;
    _.fn.extend({
        prop: function(a, b) {
            return qa(this, _.prop, a, b, arguments.length > 1);
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[_.propFix[a] || a];
            });
        }
    }), _.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(a, b, c) {
            var d, e, f, g = a.nodeType;
            return a && 3 !== g && 8 !== g && 2 !== g ? (f = 1 !== g || !_.isXMLDoc(a), f && (b = _.propFix[b] || b, 
            e = _.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]) : void 0;
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    return a.hasAttribute("tabindex") || gb.test(a.nodeName) || a.href ? a.tabIndex : -1;
                }
            }
        }
    }), Y.optSelected || (_.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex, null;
        }
    }), _.each([ "tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable" ], function() {
        _.propFix[this.toLowerCase()] = this;
    });
    var hb = /[\t\r\n\f]/g;
    _.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h = "string" == typeof a && a, i = 0, j = this.length;
            if (_.isFunction(a)) return this.each(function(b) {
                _(this).addClass(a.call(this, b, this.className));
            });
            if (h) for (b = (a || "").match(na) || []; j > i; i++) if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hb, " ") : " ")) {
                for (f = 0; e = b[f++]; ) d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                g = _.trim(d), c.className !== g && (c.className = g);
            }
            return this;
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h = 0 === arguments.length || "string" == typeof a && a, i = 0, j = this.length;
            if (_.isFunction(a)) return this.each(function(b) {
                _(this).removeClass(a.call(this, b, this.className));
            });
            if (h) for (b = (a || "").match(na) || []; j > i; i++) if (c = this[i], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(hb, " ") : "")) {
                for (f = 0; e = b[f++]; ) for (;d.indexOf(" " + e + " ") >= 0; ) d = d.replace(" " + e + " ", " ");
                g = a ? _.trim(d) : "", c.className !== g && (c.className = g);
            }
            return this;
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(_.isFunction(a) ? function(c) {
                _(this).toggleClass(a.call(this, c, this.className, b), b);
            } : function() {
                if ("string" === c) for (var b, d = 0, e = _(this), f = a.match(na) || []; b = f[d++]; ) e.hasClass(b) ? e.removeClass(b) : e.addClass(b); else (c === za || "boolean" === c) && (this.className && ra.set(this, "__className__", this.className), 
                this.className = this.className || a === !1 ? "" : ra.get(this, "__className__") || "");
            });
        },
        hasClass: function(a) {
            for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++) if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(hb, " ").indexOf(b) >= 0) return !0;
            return !1;
        }
    });
    var ib = /\r/g;
    _.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0];
            return arguments.length ? (d = _.isFunction(a), this.each(function(c) {
                var e;
                1 === this.nodeType && (e = d ? a.call(this, c, _(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : _.isArray(e) && (e = _.map(e, function(a) {
                    return null == a ? "" : a + "";
                })), b = _.valHooks[this.type] || _.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e));
            })) : e ? (b = _.valHooks[e.type] || _.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, 
            "string" == typeof c ? c.replace(ib, "") : null == c ? "" : c)) : void 0;
        }
    }), _.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = _.find.attr(a, "value");
                    return null != b ? b : _.trim(_.text(a));
                }
            },
            select: {
                get: function(a) {
                    for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++) if (c = d[i], 
                    !(!c.selected && i !== e || (Y.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && _.nodeName(c.parentNode, "optgroup"))) {
                        if (b = _(c).val(), f) return b;
                        g.push(b);
                    }
                    return g;
                },
                set: function(a, b) {
                    for (var c, d, e = a.options, f = _.makeArray(b), g = e.length; g--; ) d = e[g], 
                    (d.selected = _.inArray(d.value, f) >= 0) && (c = !0);
                    return c || (a.selectedIndex = -1), f;
                }
            }
        }
    }), _.each([ "radio", "checkbox" ], function() {
        _.valHooks[this] = {
            set: function(a, b) {
                return _.isArray(b) ? a.checked = _.inArray(_(a).val(), b) >= 0 : void 0;
            }
        }, Y.checkOn || (_.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" : a.value;
        });
    }), _.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
        _.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b);
        };
    }), _.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a);
        },
        bind: function(a, b, c) {
            return this.on(a, null, b, c);
        },
        unbind: function(a, b) {
            return this.off(a, null, b);
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d);
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c);
        }
    });
    var jb = _.now(), kb = /\?/;
    _.parseJSON = function(a) {
        return JSON.parse(a + "");
    }, _.parseXML = function(a) {
        var b, c;
        if (!a || "string" != typeof a) return null;
        try {
            c = new DOMParser(), b = c.parseFromString(a, "text/xml");
        } catch (d) {
            b = void 0;
        }
        return (!b || b.getElementsByTagName("parsererror").length) && _.error("Invalid XML: " + a), 
        b;
    };
    var lb = /#.*$/, mb = /([?&])_=[^&]*/, nb = /^(.*?):[ \t]*([^\r\n]*)$/gm, ob = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, pb = /^(?:GET|HEAD)$/, qb = /^\/\//, rb = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, sb = {}, tb = {}, ub = "*/".concat("*"), vb = a.location.href, wb = rb.exec(vb.toLowerCase()) || [];
    _.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: vb,
            type: "GET",
            isLocal: ob.test(wb[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": ub,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": _.parseJSON,
                "text xml": _.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? L(L(a, _.ajaxSettings), b) : L(_.ajaxSettings, a);
        },
        ajaxPrefilter: J(sb),
        ajaxTransport: J(tb),
        ajax: function(a, b) {
            function c(a, b, c, g) {
                var i, k, r, s, u, w = b;
                2 !== t && (t = 2, h && clearTimeout(h), d = void 0, f = g || "", v.readyState = a > 0 ? 4 : 0, 
                i = a >= 200 && 300 > a || 304 === a, c && (s = M(l, v, c)), s = N(l, s, v, i), 
                i ? (l.ifModified && (u = v.getResponseHeader("Last-Modified"), u && (_.lastModified[e] = u), 
                u = v.getResponseHeader("etag"), u && (_.etag[e] = u)), 204 === a || "HEAD" === l.type ? w = "nocontent" : 304 === a ? w = "notmodified" : (w = s.state, 
                k = s.data, r = s.error, i = !r)) : (r = w, (a || !w) && (w = "error", 0 > a && (a = 0))), 
                v.status = a, v.statusText = (b || w) + "", i ? o.resolveWith(m, [ k, w, v ]) : o.rejectWith(m, [ v, w, r ]), 
                v.statusCode(q), q = void 0, j && n.trigger(i ? "ajaxSuccess" : "ajaxError", [ v, l, i ? k : r ]), 
                p.fireWith(m, [ v, w ]), j && (n.trigger("ajaxComplete", [ v, l ]), --_.active || _.event.trigger("ajaxStop")));
            }
            "object" == typeof a && (b = a, a = void 0), b = b || {};
            var d, e, f, g, h, i, j, k, l = _.ajaxSetup({}, b), m = l.context || l, n = l.context && (m.nodeType || m.jquery) ? _(m) : _.event, o = _.Deferred(), p = _.Callbacks("once memory"), q = l.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (2 === t) {
                        if (!g) for (g = {}; b = nb.exec(f); ) g[b[1].toLowerCase()] = b[2];
                        b = g[a.toLowerCase()];
                    }
                    return null == b ? null : b;
                },
                getAllResponseHeaders: function() {
                    return 2 === t ? f : null;
                },
                setRequestHeader: function(a, b) {
                    var c = a.toLowerCase();
                    return t || (a = s[c] = s[c] || a, r[a] = b), this;
                },
                overrideMimeType: function(a) {
                    return t || (l.mimeType = a), this;
                },
                statusCode: function(a) {
                    var b;
                    if (a) if (2 > t) for (b in a) q[b] = [ q[b], a[b] ]; else v.always(a[v.status]);
                    return this;
                },
                abort: function(a) {
                    var b = a || u;
                    return d && d.abort(b), c(0, b), this;
                }
            };
            if (o.promise(v).complete = p.add, v.success = v.done, v.error = v.fail, l.url = ((a || l.url || vb) + "").replace(lb, "").replace(qb, wb[1] + "//"), 
            l.type = b.method || b.type || l.method || l.type, l.dataTypes = _.trim(l.dataType || "*").toLowerCase().match(na) || [ "" ], 
            null == l.crossDomain && (i = rb.exec(l.url.toLowerCase()), l.crossDomain = !(!i || i[1] === wb[1] && i[2] === wb[2] && (i[3] || ("http:" === i[1] ? "80" : "443")) === (wb[3] || ("http:" === wb[1] ? "80" : "443")))), 
            l.data && l.processData && "string" != typeof l.data && (l.data = _.param(l.data, l.traditional)), 
            K(sb, l, b, v), 2 === t) return v;
            j = _.event && l.global, j && 0 === _.active++ && _.event.trigger("ajaxStart"), 
            l.type = l.type.toUpperCase(), l.hasContent = !pb.test(l.type), e = l.url, l.hasContent || (l.data && (e = l.url += (kb.test(e) ? "&" : "?") + l.data, 
            delete l.data), l.cache === !1 && (l.url = mb.test(e) ? e.replace(mb, "$1_=" + jb++) : e + (kb.test(e) ? "&" : "?") + "_=" + jb++)), 
            l.ifModified && (_.lastModified[e] && v.setRequestHeader("If-Modified-Since", _.lastModified[e]), 
            _.etag[e] && v.setRequestHeader("If-None-Match", _.etag[e])), (l.data && l.hasContent && l.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", l.contentType), 
            v.setRequestHeader("Accept", l.dataTypes[0] && l.accepts[l.dataTypes[0]] ? l.accepts[l.dataTypes[0]] + ("*" !== l.dataTypes[0] ? ", " + ub + "; q=0.01" : "") : l.accepts["*"]);
            for (k in l.headers) v.setRequestHeader(k, l.headers[k]);
            if (l.beforeSend && (l.beforeSend.call(m, v, l) === !1 || 2 === t)) return v.abort();
            u = "abort";
            for (k in {
                success: 1,
                error: 1,
                complete: 1
            }) v[k](l[k]);
            if (d = K(tb, l, b, v)) {
                v.readyState = 1, j && n.trigger("ajaxSend", [ v, l ]), l.async && l.timeout > 0 && (h = setTimeout(function() {
                    v.abort("timeout");
                }, l.timeout));
                try {
                    t = 1, d.send(r, c);
                } catch (w) {
                    if (!(2 > t)) throw w;
                    c(-1, w);
                }
            } else c(-1, "No Transport");
            return v;
        },
        getJSON: function(a, b, c) {
            return _.get(a, b, c, "json");
        },
        getScript: function(a, b) {
            return _.get(a, void 0, b, "script");
        }
    }), _.each([ "get", "post" ], function(a, b) {
        _[b] = function(a, c, d, e) {
            return _.isFunction(c) && (e = e || d, d = c, c = void 0), _.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            });
        };
    }), _._evalUrl = function(a) {
        return _.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        });
    }, _.fn.extend({
        wrapAll: function(a) {
            var b;
            return _.isFunction(a) ? this.each(function(b) {
                _(this).wrapAll(a.call(this, b));
            }) : (this[0] && (b = _(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), 
            b.map(function() {
                for (var a = this; a.firstElementChild; ) a = a.firstElementChild;
                return a;
            }).append(this)), this);
        },
        wrapInner: function(a) {
            return this.each(_.isFunction(a) ? function(b) {
                _(this).wrapInner(a.call(this, b));
            } : function() {
                var b = _(this), c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a);
            });
        },
        wrap: function(a) {
            var b = _.isFunction(a);
            return this.each(function(c) {
                _(this).wrapAll(b ? a.call(this, c) : a);
            });
        },
        unwrap: function() {
            return this.parent().each(function() {
                _.nodeName(this, "body") || _(this).replaceWith(this.childNodes);
            }).end();
        }
    }), _.expr.filters.hidden = function(a) {
        return a.offsetWidth <= 0 && a.offsetHeight <= 0;
    }, _.expr.filters.visible = function(a) {
        return !_.expr.filters.hidden(a);
    };
    var xb = /%20/g, yb = /\[\]$/, zb = /\r?\n/g, Ab = /^(?:submit|button|image|reset|file)$/i, Bb = /^(?:input|select|textarea|keygen)/i;
    _.param = function(a, b) {
        var c, d = [], e = function(a, b) {
            b = _.isFunction(b) ? b() : null == b ? "" : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b);
        };
        if (void 0 === b && (b = _.ajaxSettings && _.ajaxSettings.traditional), _.isArray(a) || a.jquery && !_.isPlainObject(a)) _.each(a, function() {
            e(this.name, this.value);
        }); else for (c in a) O(c, a[c], b, e);
        return d.join("&").replace(xb, "+");
    }, _.fn.extend({
        serialize: function() {
            return _.param(this.serializeArray());
        },
        serializeArray: function() {
            return this.map(function() {
                var a = _.prop(this, "elements");
                return a ? _.makeArray(a) : this;
            }).filter(function() {
                var a = this.type;
                return this.name && !_(this).is(":disabled") && Bb.test(this.nodeName) && !Ab.test(a) && (this.checked || !ya.test(a));
            }).map(function(a, b) {
                var c = _(this).val();
                return null == c ? null : _.isArray(c) ? _.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(zb, "\r\n")
                    };
                }) : {
                    name: b.name,
                    value: c.replace(zb, "\r\n")
                };
            }).get();
        }
    }), _.ajaxSettings.xhr = function() {
        try {
            return new XMLHttpRequest();
        } catch (a) {}
    };
    var Cb = 0, Db = {}, Eb = {
        0: 200,
        1223: 204
    }, Fb = _.ajaxSettings.xhr();
    a.attachEvent && a.attachEvent("onunload", function() {
        for (var a in Db) Db[a]();
    }), Y.cors = !!Fb && "withCredentials" in Fb, Y.ajax = Fb = !!Fb, _.ajaxTransport(function(a) {
        var b;
        return Y.cors || Fb && !a.crossDomain ? {
            send: function(c, d) {
                var e, f = a.xhr(), g = ++Cb;
                if (f.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields) for (e in a.xhrFields) f[e] = a.xhrFields[e];
                a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType), a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                for (e in c) f.setRequestHeader(e, c[e]);
                b = function(a) {
                    return function() {
                        b && (delete Db[g], b = f.onload = f.onerror = null, "abort" === a ? f.abort() : "error" === a ? d(f.status, f.statusText) : d(Eb[f.status] || f.status, f.statusText, "string" == typeof f.responseText ? {
                            text: f.responseText
                        } : void 0, f.getAllResponseHeaders()));
                    };
                }, f.onload = b(), f.onerror = b("error"), b = Db[g] = b("abort");
                try {
                    f.send(a.hasContent && a.data || null);
                } catch (h) {
                    if (b) throw h;
                }
            },
            abort: function() {
                b && b();
            }
        } : void 0;
    }), _.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(a) {
                return _.globalEval(a), a;
            }
        }
    }), _.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET");
    }), _.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function(d, e) {
                    b = _("<script>").prop({
                        async: !0,
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove(), c = null, a && e("error" === a.type ? 404 : 200, a.type);
                    }), Z.head.appendChild(b[0]);
                },
                abort: function() {
                    c && c();
                }
            };
        }
    });
    var Gb = [], Hb = /(=)\?(?=&|$)|\?\?/;
    _.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Gb.pop() || _.expando + "_" + jb++;
            return this[a] = !0, a;
        }
    }), _.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (Hb.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && Hb.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = _.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, 
        h ? b[h] = b[h].replace(Hb, "$1" + e) : b.jsonp !== !1 && (b.url += (kb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), 
        b.converters["script json"] = function() {
            return g || _.error(e + " was not called"), g[0];
        }, b.dataTypes[0] = "json", f = a[e], a[e] = function() {
            g = arguments;
        }, d.always(function() {
            a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Gb.push(e)), g && _.isFunction(f) && f(g[0]), 
            g = f = void 0;
        }), "script") : void 0;
    }), _.parseHTML = function(a, b, c) {
        if (!a || "string" != typeof a) return null;
        "boolean" == typeof b && (c = b, b = !1), b = b || Z;
        var d = ga.exec(a), e = !c && [];
        return d ? [ b.createElement(d[1]) ] : (d = _.buildFragment([ a ], b, e), e && e.length && _(e).remove(), 
        _.merge([], d.childNodes));
    };
    var Ib = _.fn.load;
    _.fn.load = function(a, b, c) {
        if ("string" != typeof a && Ib) return Ib.apply(this, arguments);
        var d, e, f, g = this, h = a.indexOf(" ");
        return h >= 0 && (d = _.trim(a.slice(h)), a = a.slice(0, h)), _.isFunction(b) ? (c = b, 
        b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && _.ajax({
            url: a,
            type: e,
            dataType: "html",
            data: b
        }).done(function(a) {
            f = arguments, g.html(d ? _("<div>").append(_.parseHTML(a)).find(d) : a);
        }).complete(c && function(a, b) {
            g.each(c, f || [ a.responseText, b, a ]);
        }), this;
    }, _.each([ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function(a, b) {
        _.fn[b] = function(a) {
            return this.on(b, a);
        };
    }), _.expr.filters.animated = function(a) {
        return _.grep(_.timers, function(b) {
            return a === b.elem;
        }).length;
    };
    var Jb = a.document.documentElement;
    _.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = _.css(a, "position"), l = _(a), m = {};
            "static" === k && (a.style.position = "relative"), h = l.offset(), f = _.css(a, "top"), 
            i = _.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, 
            j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), 
            _.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), 
            null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m);
        }
    }, _.fn.extend({
        offset: function(a) {
            if (arguments.length) return void 0 === a ? this : this.each(function(b) {
                _.offset.setOffset(this, a, b);
            });
            var b, c, d = this[0], e = {
                top: 0,
                left: 0
            }, f = d && d.ownerDocument;
            return f ? (b = f.documentElement, _.contains(b, d) ? (typeof d.getBoundingClientRect !== za && (e = d.getBoundingClientRect()), 
            c = P(f), {
                top: e.top + c.pageYOffset - b.clientTop,
                left: e.left + c.pageXOffset - b.clientLeft
            }) : e) : void 0;
        },
        position: function() {
            if (this[0]) {
                var a, b, c = this[0], d = {
                    top: 0,
                    left: 0
                };
                return "fixed" === _.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), 
                b = this.offset(), _.nodeName(a[0], "html") || (d = a.offset()), d.top += _.css(a[0], "borderTopWidth", !0), 
                d.left += _.css(a[0], "borderLeftWidth", !0)), {
                    top: b.top - d.top - _.css(c, "marginTop", !0),
                    left: b.left - d.left - _.css(c, "marginLeft", !0)
                };
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var a = this.offsetParent || Jb; a && !_.nodeName(a, "html") && "static" === _.css(a, "position"); ) a = a.offsetParent;
                return a || Jb;
            });
        }
    }), _.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(b, c) {
        var d = "pageYOffset" === c;
        _.fn[b] = function(e) {
            return qa(this, function(b, e, f) {
                var g = P(b);
                return void 0 === f ? g ? g[c] : b[e] : void (g ? g.scrollTo(d ? a.pageXOffset : f, d ? f : a.pageYOffset) : b[e] = f);
            }, b, e, arguments.length, null);
        };
    }), _.each([ "top", "left" ], function(a, b) {
        _.cssHooks[b] = w(Y.pixelPosition, function(a, c) {
            return c ? (c = v(a, b), Qa.test(c) ? _(a).position()[b] + "px" : c) : void 0;
        });
    }), _.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        _.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            _.fn[d] = function(d, e) {
                var f = arguments.length && (c || "boolean" != typeof d), g = c || (d === !0 || e === !0 ? "margin" : "border");
                return qa(this, function(b, c, d) {
                    var e;
                    return _.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement, 
                    Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? _.css(b, c, g) : _.style(b, c, d, g);
                }, b, f ? d : void 0, f, null);
            };
        });
    }), _.fn.size = function() {
        return this.length;
    }, _.fn.andSelf = _.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function() {
        return _;
    });
    var Kb = a.jQuery, Lb = a.$;
    return _.noConflict = function(b) {
        return a.$ === _ && (a.$ = Lb), b && a.jQuery === _ && (a.jQuery = Kb), _;
    }, typeof b === za && (a.jQuery = a.$ = _), _;
}), function(a, b, c, d) {
    "use strict";
    function e(c, d, e, f) {
        function g() {
            t = b.devicePixelRatio > 1, h(e), d("delay") >= 0 && setTimeout(function() {
                i(!0);
            }, d("delay")), (d("delay") < 0 || d("combined")) && (f.e = n(d("throttle"), function(a) {
                "resize" === a.type && (r = s = -1), i(a.all);
            }), f.a = function(a) {
                h(a), e.push.apply(e, a);
            }, f.g = function() {
                return e;
            }, i(), a(d("appendScroll")).on("scroll." + c.name + " resize." + c.name, f.e));
        }
        function h(b) {
            if (b = a(b).filter(function() {
                return !a(this).data(d("handledName")) && (a(this).attr(d("attribute")) || a(this).attr(d("loaderAttribute")));
            }).data("plugin_" + c.name, c), d("defaultImage") || d("placeholder")) for (var e = 0; e < b.length; e++) {
                var f = a(b[e]), g = b[e].tagName.toLowerCase(), h = "background-image";
                "img" == g && d("defaultImage") && !f.attr("src") ? f.attr("src", d("defaultImage")) : "img" == g || !d("placeholder") || f.css(h) && "none" != f.css(h) || f.css(h, "url(" + d("placeholder") + ")");
            }
        }
        function i(b) {
            if (!e.length) return void (d("autoDestroy") && c.destroy());
            for (var f = !1, g = d("imageBase") ? d("imageBase") : "", h = 0; h < e.length; h++) (function(c) {
                if (k(c) || b) {
                    var e, h = a(c), i = c.tagName.toLowerCase(), l = h.attr(d("attribute"));
                    h.data(d("handledName")) || d("visibleOnly") && !h.is(":visible") || !(l && ("img" == i && g + l != h.attr("src") || "img" != i && g + l != h.css("background-image")) || (e = h.attr(d("loaderAttribute")))) || (f = !0, 
                    h.data(d("handledName"), !0), j(h, i, g, e));
                }
            })(e[h]);
            f && (e = a(e).filter(function() {
                return !a(this).data(d("handledName"));
            }));
        }
        function j(b, c, e, f) {
            ++q;
            var g = function() {
                p("onError", b), o();
            };
            if (p("beforeLoad", b), f) b.off("error").one("error", g), b.one("load", function() {
                d("removeAttribute") && b.removeAttr(d("loaderAttribute")), p("afterLoad", b), o();
            }), p(f, b, function(a) {
                a ? b.load() : b.error();
            }) || b.error(); else {
                var h = a(new Image());
                h.one("error", g), h.one("load", function() {
                    b.hide(), "img" == c ? b.attr("src", h.attr("src")) : b.css("background-image", "url(" + h.attr("src") + ")"), 
                    b[d("effect")](d("effectTime")), d("removeAttribute") && b.removeAttr(d("attribute") + " " + d("retinaAttribute")), 
                    p("afterLoad", b), h.remove(), o();
                }), h.attr("src", e + b.attr(d(t && b.attr(d("retinaAttribute")) ? "retinaAttribute" : "attribute"))), 
                h.complete && h.load();
            }
        }
        function k(a) {
            var b = a.getBoundingClientRect(), c = d("scrollDirection"), e = d("threshold"), f = m() + e > b.top && -e < b.bottom, g = l() + e > b.left && -e < b.right;
            return "vertical" == c ? f : "horizontal" == c ? g : f && g;
        }
        function l() {
            return r >= 0 ? r : r = a(b).width();
        }
        function m() {
            return s >= 0 ? s : s = a(b).height();
        }
        function n(a, b) {
            var e, f = 0;
            return function(g, h) {
                function i() {
                    f = +new Date(), b.call(c, g);
                }
                var j = +new Date() - f;
                e && clearTimeout(e), j > a || !d("enableThrottle") || h ? i() : e = setTimeout(i, a - j);
            };
        }
        function o() {
            --q, e.size() || q || p("onFinishedAll");
        }
        function p(a, b, e) {
            return (a = d(a)) ? (a.apply(c, [].slice.call(arguments, 1)), !0) : !1;
        }
        var q = 0, r = -1, s = -1, t = !1;
        !function() {
            "event" == d("bind") ? g() : a(b).load(g);
        }();
    }
    function f(b, c) {
        var f = this, g = a.extend({}, f.configuration, c), h = {};
        return f.config = function(a, b) {
            return b === d ? g[a] : (g[a] = b, f);
        }, f.addItems = function(b) {
            return h.a && h.a("string" === a.type(b) ? a(b) : b), f;
        }, f.getItems = function() {
            return h.g ? h.g() : {};
        }, f.update = function(a) {
            return h.e && h.e({}, !a), f;
        }, f.loadAll = function() {
            return h.e && h.e({
                all: !0
            }, !0), f;
        }, f.destroy = function() {
            return a(f.config("appendScroll")).off("." + f.name, h.e), h = {}, d;
        }, e(f, f.config, b, h), f.config("chainable") ? b : f;
    }
    a.fn.Lazy = a.fn.lazy = function(a) {
        return new f(this, a);
    }, a.extend(f.prototype, {
        name: "lazy",
        configuration: {
            chainable: !0,
            autoDestroy: !0,
            bind: "load",
            threshold: 500,
            visibleOnly: !1,
            appendScroll: b,
            scrollDirection: "both",
            imageBase: null,
            defaultImage: "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",
            placeholder: null,
            delay: -1,
            combined: !1,
            attribute: "data-src",
            retinaAttribute: "data-retina",
            loaderAttribute: "data-loader",
            removeAttribute: !0,
            handledName: "handled",
            effect: "show",
            effectTime: 0,
            enableThrottle: !0,
            throttle: 250,
            beforeLoad: null,
            afterLoad: null,
            onError: null,
            onFinishedAll: null
        }
    });
}(jQuery, window, document), !function(a, b) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.moment = b();
}(this, function() {
    "use strict";
    function a() {
        return Hc.apply(null, arguments);
    }
    function b(a) {
        Hc = a;
    }
    function c(a) {
        return "[object Array]" === Object.prototype.toString.call(a);
    }
    function d(a) {
        return a instanceof Date || "[object Date]" === Object.prototype.toString.call(a);
    }
    function e(a, b) {
        var c, d = [];
        for (c = 0; c < a.length; ++c) d.push(b(a[c], c));
        return d;
    }
    function f(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }
    function g(a, b) {
        for (var c in b) f(b, c) && (a[c] = b[c]);
        return f(b, "toString") && (a.toString = b.toString), f(b, "valueOf") && (a.valueOf = b.valueOf), 
        a;
    }
    function h(a, b, c, d) {
        return Ca(a, b, c, d, !0).utc();
    }
    function i() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        };
    }
    function j(a) {
        return null == a._pf && (a._pf = i()), a._pf;
    }
    function k(a) {
        if (null == a._isValid) {
            var b = j(a);
            a._isValid = !(isNaN(a._d.getTime()) || !(b.overflow < 0) || b.empty || b.invalidMonth || b.invalidWeekday || b.nullInput || b.invalidFormat || b.userInvalidated), 
            a._strict && (a._isValid = a._isValid && 0 === b.charsLeftOver && 0 === b.unusedTokens.length && void 0 === b.bigHour);
        }
        return a._isValid;
    }
    function l(a) {
        var b = h(NaN);
        return null != a ? g(j(b), a) : j(b).userInvalidated = !0, b;
    }
    function m(a, b) {
        var c, d, e;
        if ("undefined" != typeof b._isAMomentObject && (a._isAMomentObject = b._isAMomentObject), 
        "undefined" != typeof b._i && (a._i = b._i), "undefined" != typeof b._f && (a._f = b._f), 
        "undefined" != typeof b._l && (a._l = b._l), "undefined" != typeof b._strict && (a._strict = b._strict), 
        "undefined" != typeof b._tzm && (a._tzm = b._tzm), "undefined" != typeof b._isUTC && (a._isUTC = b._isUTC), 
        "undefined" != typeof b._offset && (a._offset = b._offset), "undefined" != typeof b._pf && (a._pf = j(b)), 
        "undefined" != typeof b._locale && (a._locale = b._locale), Jc.length > 0) for (c in Jc) d = Jc[c], 
        e = b[d], "undefined" != typeof e && (a[d] = e);
        return a;
    }
    function n(b) {
        m(this, b), this._d = new Date(null != b._d ? b._d.getTime() : NaN), Kc === !1 && (Kc = !0, 
        a.updateOffset(this), Kc = !1);
    }
    function o(a) {
        return a instanceof n || null != a && null != a._isAMomentObject;
    }
    function p(a) {
        return 0 > a ? Math.ceil(a) : Math.floor(a);
    }
    function q(a) {
        var b = +a, c = 0;
        return 0 !== b && isFinite(b) && (c = p(b)), c;
    }
    function r(a, b, c) {
        var d, e = Math.min(a.length, b.length), f = Math.abs(a.length - b.length), g = 0;
        for (d = 0; e > d; d++) (c && a[d] !== b[d] || !c && q(a[d]) !== q(b[d])) && g++;
        return g + f;
    }
    function s() {}
    function t(a) {
        return a ? a.toLowerCase().replace("_", "-") : a;
    }
    function u(a) {
        for (var b, c, d, e, f = 0; f < a.length; ) {
            for (e = t(a[f]).split("-"), b = e.length, c = t(a[f + 1]), c = c ? c.split("-") : null; b > 0; ) {
                if (d = v(e.slice(0, b).join("-"))) return d;
                if (c && c.length >= b && r(e, c, !0) >= b - 1) break;
                b--;
            }
            f++;
        }
        return null;
    }
    function v(a) {
        var b = null;
        if (!Lc[a] && "undefined" != typeof module && module && module.exports) try {
            b = Ic._abbr, require("./locale/" + a), w(b);
        } catch (c) {}
        return Lc[a];
    }
    function w(a, b) {
        var c;
        return a && (c = "undefined" == typeof b ? y(a) : x(a, b), c && (Ic = c)), Ic._abbr;
    }
    function x(a, b) {
        return null !== b ? (b.abbr = a, Lc[a] = Lc[a] || new s(), Lc[a].set(b), w(a), Lc[a]) : (delete Lc[a], 
        null);
    }
    function y(a) {
        var b;
        if (a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a) return Ic;
        if (!c(a)) {
            if (b = v(a)) return b;
            a = [ a ];
        }
        return u(a);
    }
    function z(a, b) {
        var c = a.toLowerCase();
        Mc[c] = Mc[c + "s"] = Mc[b] = a;
    }
    function A(a) {
        return "string" == typeof a ? Mc[a] || Mc[a.toLowerCase()] : void 0;
    }
    function B(a) {
        var b, c, d = {};
        for (c in a) f(a, c) && (b = A(c), b && (d[b] = a[c]));
        return d;
    }
    function C(b, c) {
        return function(d) {
            return null != d ? (E(this, b, d), a.updateOffset(this, c), this) : D(this, b);
        };
    }
    function D(a, b) {
        return a._d["get" + (a._isUTC ? "UTC" : "") + b]();
    }
    function E(a, b, c) {
        return a._d["set" + (a._isUTC ? "UTC" : "") + b](c);
    }
    function F(a, b) {
        var c;
        if ("object" == typeof a) for (c in a) this.set(c, a[c]); else if (a = A(a), "function" == typeof this[a]) return this[a](b);
        return this;
    }
    function G(a, b, c) {
        var d = "" + Math.abs(a), e = b - d.length, f = a >= 0;
        return (f ? c ? "+" : "" : "-") + Math.pow(10, Math.max(0, e)).toString().substr(1) + d;
    }
    function H(a, b, c, d) {
        var e = d;
        "string" == typeof d && (e = function() {
            return this[d]();
        }), a && (Qc[a] = e), b && (Qc[b[0]] = function() {
            return G(e.apply(this, arguments), b[1], b[2]);
        }), c && (Qc[c] = function() {
            return this.localeData().ordinal(e.apply(this, arguments), a);
        });
    }
    function I(a) {
        return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "");
    }
    function J(a) {
        var b, c, d = a.match(Nc);
        for (b = 0, c = d.length; c > b; b++) Qc[d[b]] ? d[b] = Qc[d[b]] : d[b] = I(d[b]);
        return function(e) {
            var f = "";
            for (b = 0; c > b; b++) f += d[b] instanceof Function ? d[b].call(e, a) : d[b];
            return f;
        };
    }
    function K(a, b) {
        return a.isValid() ? (b = L(b, a.localeData()), Pc[b] = Pc[b] || J(b), Pc[b](a)) : a.localeData().invalidDate();
    }
    function L(a, b) {
        function c(a) {
            return b.longDateFormat(a) || a;
        }
        var d = 5;
        for (Oc.lastIndex = 0; d >= 0 && Oc.test(a); ) a = a.replace(Oc, c), Oc.lastIndex = 0, 
        d -= 1;
        return a;
    }
    function M(a) {
        return "function" == typeof a && "[object Function]" === Object.prototype.toString.call(a);
    }
    function N(a, b, c) {
        dd[a] = M(b) ? b : function(a) {
            return a && c ? c : b;
        };
    }
    function O(a, b) {
        return f(dd, a) ? dd[a](b._strict, b._locale) : new RegExp(P(a));
    }
    function P(a) {
        return a.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(a, b, c, d, e) {
            return b || c || d || e;
        }).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
    }
    function Q(a, b) {
        var c, d = b;
        for ("string" == typeof a && (a = [ a ]), "number" == typeof b && (d = function(a, c) {
            c[b] = q(a);
        }), c = 0; c < a.length; c++) ed[a[c]] = d;
    }
    function R(a, b) {
        Q(a, function(a, c, d, e) {
            d._w = d._w || {}, b(a, d._w, d, e);
        });
    }
    function S(a, b, c) {
        null != b && f(ed, a) && ed[a](b, c._a, c, a);
    }
    function T(a, b) {
        return new Date(Date.UTC(a, b + 1, 0)).getUTCDate();
    }
    function U(a) {
        return this._months[a.month()];
    }
    function V(a) {
        return this._monthsShort[a.month()];
    }
    function W(a, b, c) {
        var d, e, f;
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), 
        d = 0; 12 > d; d++) {
            if (e = h([ 2e3, d ]), c && !this._longMonthsParse[d] && (this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i"), 
            this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i")), 
            c || this._monthsParse[d] || (f = "^" + this.months(e, "") + "|^" + this.monthsShort(e, ""), 
            this._monthsParse[d] = new RegExp(f.replace(".", ""), "i")), c && "MMMM" === b && this._longMonthsParse[d].test(a)) return d;
            if (c && "MMM" === b && this._shortMonthsParse[d].test(a)) return d;
            if (!c && this._monthsParse[d].test(a)) return d;
        }
    }
    function X(a, b) {
        var c;
        return "string" == typeof b && (b = a.localeData().monthsParse(b), "number" != typeof b) ? a : (c = Math.min(a.date(), T(a.year(), b)), 
        a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c), a);
    }
    function Y(b) {
        return null != b ? (X(this, b), a.updateOffset(this, !0), this) : D(this, "Month");
    }
    function Z() {
        return T(this.year(), this.month());
    }
    function $(a) {
        var b, c = a._a;
        return c && -2 === j(a).overflow && (b = c[gd] < 0 || c[gd] > 11 ? gd : c[hd] < 1 || c[hd] > T(c[fd], c[gd]) ? hd : c[id] < 0 || c[id] > 24 || 24 === c[id] && (0 !== c[jd] || 0 !== c[kd] || 0 !== c[ld]) ? id : c[jd] < 0 || c[jd] > 59 ? jd : c[kd] < 0 || c[kd] > 59 ? kd : c[ld] < 0 || c[ld] > 999 ? ld : -1, 
        j(a)._overflowDayOfYear && (fd > b || b > hd) && (b = hd), j(a).overflow = b), a;
    }
    function _(b) {
        a.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + b);
    }
    function aa(a, b) {
        var c = !0;
        return g(function() {
            return c && (_(a + "\n" + new Error().stack), c = !1), b.apply(this, arguments);
        }, b);
    }
    function ba(a, b) {
        od[a] || (_(b), od[a] = !0);
    }
    function ca(a) {
        var b, c, d = a._i, e = pd.exec(d);
        if (e) {
            for (j(a).iso = !0, b = 0, c = qd.length; c > b; b++) if (qd[b][1].exec(d)) {
                a._f = qd[b][0];
                break;
            }
            for (b = 0, c = rd.length; c > b; b++) if (rd[b][1].exec(d)) {
                a._f += (e[6] || " ") + rd[b][0];
                break;
            }
            d.match(ad) && (a._f += "Z"), va(a);
        } else a._isValid = !1;
    }
    function da(b) {
        var c = sd.exec(b._i);
        return null !== c ? void (b._d = new Date(+c[1])) : (ca(b), void (b._isValid === !1 && (delete b._isValid, 
        a.createFromInputFallback(b))));
    }
    function ea(a, b, c, d, e, f, g) {
        var h = new Date(a, b, c, d, e, f, g);
        return 1970 > a && h.setFullYear(a), h;
    }
    function fa(a) {
        var b = new Date(Date.UTC.apply(null, arguments));
        return 1970 > a && b.setUTCFullYear(a), b;
    }
    function ga(a) {
        return ha(a) ? 366 : 365;
    }
    function ha(a) {
        return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0;
    }
    function ia() {
        return ha(this.year());
    }
    function ja(a, b, c) {
        var d, e = c - b, f = c - a.day();
        return f > e && (f -= 7), e - 7 > f && (f += 7), d = Da(a).add(f, "d"), {
            week: Math.ceil(d.dayOfYear() / 7),
            year: d.year()
        };
    }
    function ka(a) {
        return ja(a, this._week.dow, this._week.doy).week;
    }
    function la() {
        return this._week.dow;
    }
    function ma() {
        return this._week.doy;
    }
    function na(a) {
        var b = this.localeData().week(this);
        return null == a ? b : this.add(7 * (a - b), "d");
    }
    function oa(a) {
        var b = ja(this, 1, 4).week;
        return null == a ? b : this.add(7 * (a - b), "d");
    }
    function pa(a, b, c, d, e) {
        var f, g = 6 + e - d, h = fa(a, 0, 1 + g), i = h.getUTCDay();
        return e > i && (i += 7), c = null != c ? 1 * c : e, f = 1 + g + 7 * (b - 1) - i + c, 
        {
            year: f > 0 ? a : a - 1,
            dayOfYear: f > 0 ? f : ga(a - 1) + f
        };
    }
    function qa(a) {
        var b = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == a ? b : this.add(a - b, "d");
    }
    function ra(a, b, c) {
        return null != a ? a : null != b ? b : c;
    }
    function sa(a) {
        var b = new Date();
        return a._useUTC ? [ b.getUTCFullYear(), b.getUTCMonth(), b.getUTCDate() ] : [ b.getFullYear(), b.getMonth(), b.getDate() ];
    }
    function ta(a) {
        var b, c, d, e, f = [];
        if (!a._d) {
            for (d = sa(a), a._w && null == a._a[hd] && null == a._a[gd] && ua(a), a._dayOfYear && (e = ra(a._a[fd], d[fd]), 
            a._dayOfYear > ga(e) && (j(a)._overflowDayOfYear = !0), c = fa(e, 0, a._dayOfYear), 
            a._a[gd] = c.getUTCMonth(), a._a[hd] = c.getUTCDate()), b = 0; 3 > b && null == a._a[b]; ++b) a._a[b] = f[b] = d[b];
            for (;7 > b; b++) a._a[b] = f[b] = null == a._a[b] ? 2 === b ? 1 : 0 : a._a[b];
            24 === a._a[id] && 0 === a._a[jd] && 0 === a._a[kd] && 0 === a._a[ld] && (a._nextDay = !0, 
            a._a[id] = 0), a._d = (a._useUTC ? fa : ea).apply(null, f), null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm), 
            a._nextDay && (a._a[id] = 24);
        }
    }
    function ua(a) {
        var b, c, d, e, f, g, h;
        b = a._w, null != b.GG || null != b.W || null != b.E ? (f = 1, g = 4, c = ra(b.GG, a._a[fd], ja(Da(), 1, 4).year), 
        d = ra(b.W, 1), e = ra(b.E, 1)) : (f = a._locale._week.dow, g = a._locale._week.doy, 
        c = ra(b.gg, a._a[fd], ja(Da(), f, g).year), d = ra(b.w, 1), null != b.d ? (e = b.d, 
        f > e && ++d) : e = null != b.e ? b.e + f : f), h = pa(c, d, e, g, f), a._a[fd] = h.year, 
        a._dayOfYear = h.dayOfYear;
    }
    function va(b) {
        if (b._f === a.ISO_8601) return void ca(b);
        b._a = [], j(b).empty = !0;
        var c, d, e, f, g, h = "" + b._i, i = h.length, k = 0;
        for (e = L(b._f, b._locale).match(Nc) || [], c = 0; c < e.length; c++) f = e[c], 
        d = (h.match(O(f, b)) || [])[0], d && (g = h.substr(0, h.indexOf(d)), g.length > 0 && j(b).unusedInput.push(g), 
        h = h.slice(h.indexOf(d) + d.length), k += d.length), Qc[f] ? (d ? j(b).empty = !1 : j(b).unusedTokens.push(f), 
        S(f, d, b)) : b._strict && !d && j(b).unusedTokens.push(f);
        j(b).charsLeftOver = i - k, h.length > 0 && j(b).unusedInput.push(h), j(b).bigHour === !0 && b._a[id] <= 12 && b._a[id] > 0 && (j(b).bigHour = void 0), 
        b._a[id] = wa(b._locale, b._a[id], b._meridiem), ta(b), $(b);
    }
    function wa(a, b, c) {
        var d;
        return null == c ? b : null != a.meridiemHour ? a.meridiemHour(b, c) : null != a.isPM ? (d = a.isPM(c), 
        d && 12 > b && (b += 12), d || 12 !== b || (b = 0), b) : b;
    }
    function xa(a) {
        var b, c, d, e, f;
        if (0 === a._f.length) return j(a).invalidFormat = !0, void (a._d = new Date(NaN));
        for (e = 0; e < a._f.length; e++) f = 0, b = m({}, a), null != a._useUTC && (b._useUTC = a._useUTC), 
        b._f = a._f[e], va(b), k(b) && (f += j(b).charsLeftOver, f += 10 * j(b).unusedTokens.length, 
        j(b).score = f, (null == d || d > f) && (d = f, c = b));
        g(a, c || b);
    }
    function ya(a) {
        if (!a._d) {
            var b = B(a._i);
            a._a = [ b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond ], 
            ta(a);
        }
    }
    function za(a) {
        var b = new n($(Aa(a)));
        return b._nextDay && (b.add(1, "d"), b._nextDay = void 0), b;
    }
    function Aa(a) {
        var b = a._i, e = a._f;
        return a._locale = a._locale || y(a._l), null === b || void 0 === e && "" === b ? l({
            nullInput: !0
        }) : ("string" == typeof b && (a._i = b = a._locale.preparse(b)), o(b) ? new n($(b)) : (c(e) ? xa(a) : e ? va(a) : d(b) ? a._d = b : Ba(a), 
        a));
    }
    function Ba(b) {
        var f = b._i;
        void 0 === f ? b._d = new Date() : d(f) ? b._d = new Date(+f) : "string" == typeof f ? da(b) : c(f) ? (b._a = e(f.slice(0), function(a) {
            return parseInt(a, 10);
        }), ta(b)) : "object" == typeof f ? ya(b) : "number" == typeof f ? b._d = new Date(f) : a.createFromInputFallback(b);
    }
    function Ca(a, b, c, d, e) {
        var f = {};
        return "boolean" == typeof c && (d = c, c = void 0), f._isAMomentObject = !0, f._useUTC = f._isUTC = e, 
        f._l = c, f._i = a, f._f = b, f._strict = d, za(f);
    }
    function Da(a, b, c, d) {
        return Ca(a, b, c, d, !1);
    }
    function Ea(a, b) {
        var d, e;
        if (1 === b.length && c(b[0]) && (b = b[0]), !b.length) return Da();
        for (d = b[0], e = 1; e < b.length; ++e) (!b[e].isValid() || b[e][a](d)) && (d = b[e]);
        return d;
    }
    function Fa() {
        var a = [].slice.call(arguments, 0);
        return Ea("isBefore", a);
    }
    function Ga() {
        var a = [].slice.call(arguments, 0);
        return Ea("isAfter", a);
    }
    function Ha(a) {
        var b = B(a), c = b.year || 0, d = b.quarter || 0, e = b.month || 0, f = b.week || 0, g = b.day || 0, h = b.hour || 0, i = b.minute || 0, j = b.second || 0, k = b.millisecond || 0;
        this._milliseconds = +k + 1e3 * j + 6e4 * i + 36e5 * h, this._days = +g + 7 * f, 
        this._months = +e + 3 * d + 12 * c, this._data = {}, this._locale = y(), this._bubble();
    }
    function Ia(a) {
        return a instanceof Ha;
    }
    function Ja(a, b) {
        H(a, 0, 0, function() {
            var a = this.utcOffset(), c = "+";
            return 0 > a && (a = -a, c = "-"), c + G(~~(a / 60), 2) + b + G(~~a % 60, 2);
        });
    }
    function Ka(a) {
        var b = (a || "").match(ad) || [], c = b[b.length - 1] || [], d = (c + "").match(xd) || [ "-", 0, 0 ], e = +(60 * d[1]) + q(d[2]);
        return "+" === d[0] ? e : -e;
    }
    function La(b, c) {
        var e, f;
        return c._isUTC ? (e = c.clone(), f = (o(b) || d(b) ? +b : +Da(b)) - +e, e._d.setTime(+e._d + f), 
        a.updateOffset(e, !1), e) : Da(b).local();
    }
    function Ma(a) {
        return 15 * -Math.round(a._d.getTimezoneOffset() / 15);
    }
    function Na(b, c) {
        var d, e = this._offset || 0;
        return null != b ? ("string" == typeof b && (b = Ka(b)), Math.abs(b) < 16 && (b = 60 * b), 
        !this._isUTC && c && (d = Ma(this)), this._offset = b, this._isUTC = !0, null != d && this.add(d, "m"), 
        e !== b && (!c || this._changeInProgress ? bb(this, Ya(b - e, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, 
        a.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? e : Ma(this);
    }
    function Oa(a, b) {
        return null != a ? ("string" != typeof a && (a = -a), this.utcOffset(a, b), this) : -this.utcOffset();
    }
    function Pa(a) {
        return this.utcOffset(0, a);
    }
    function Qa(a) {
        return this._isUTC && (this.utcOffset(0, a), this._isUTC = !1, a && this.subtract(Ma(this), "m")), 
        this;
    }
    function Ra() {
        return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Ka(this._i)), 
        this;
    }
    function Sa(a) {
        return a = a ? Da(a).utcOffset() : 0, (this.utcOffset() - a) % 60 === 0;
    }
    function Ta() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
    }
    function Ua() {
        if ("undefined" != typeof this._isDSTShifted) return this._isDSTShifted;
        var a = {};
        if (m(a, this), a = Aa(a), a._a) {
            var b = a._isUTC ? h(a._a) : Da(a._a);
            this._isDSTShifted = this.isValid() && r(a._a, b.toArray()) > 0;
        } else this._isDSTShifted = !1;
        return this._isDSTShifted;
    }
    function Va() {
        return !this._isUTC;
    }
    function Wa() {
        return this._isUTC;
    }
    function Xa() {
        return this._isUTC && 0 === this._offset;
    }
    function Ya(a, b) {
        var c, d, e, g = a, h = null;
        return Ia(a) ? g = {
            ms: a._milliseconds,
            d: a._days,
            M: a._months
        } : "number" == typeof a ? (g = {}, b ? g[b] = a : g.milliseconds = a) : (h = yd.exec(a)) ? (c = "-" === h[1] ? -1 : 1, 
        g = {
            y: 0,
            d: q(h[hd]) * c,
            h: q(h[id]) * c,
            m: q(h[jd]) * c,
            s: q(h[kd]) * c,
            ms: q(h[ld]) * c
        }) : (h = zd.exec(a)) ? (c = "-" === h[1] ? -1 : 1, g = {
            y: Za(h[2], c),
            M: Za(h[3], c),
            d: Za(h[4], c),
            h: Za(h[5], c),
            m: Za(h[6], c),
            s: Za(h[7], c),
            w: Za(h[8], c)
        }) : null == g ? g = {} : "object" == typeof g && ("from" in g || "to" in g) && (e = _a(Da(g.from), Da(g.to)), 
        g = {}, g.ms = e.milliseconds, g.M = e.months), d = new Ha(g), Ia(a) && f(a, "_locale") && (d._locale = a._locale), 
        d;
    }
    function Za(a, b) {
        var c = a && parseFloat(a.replace(",", "."));
        return (isNaN(c) ? 0 : c) * b;
    }
    function $a(a, b) {
        var c = {
            milliseconds: 0,
            months: 0
        };
        return c.months = b.month() - a.month() + 12 * (b.year() - a.year()), a.clone().add(c.months, "M").isAfter(b) && --c.months, 
        c.milliseconds = +b - +a.clone().add(c.months, "M"), c;
    }
    function _a(a, b) {
        var c;
        return b = La(b, a), a.isBefore(b) ? c = $a(a, b) : (c = $a(b, a), c.milliseconds = -c.milliseconds, 
        c.months = -c.months), c;
    }
    function ab(a, b) {
        return function(c, d) {
            var e, f;
            return null === d || isNaN(+d) || (ba(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period)."), 
            f = c, c = d, d = f), c = "string" == typeof c ? +c : c, e = Ya(c, d), bb(this, e, a), 
            this;
        };
    }
    function bb(b, c, d, e) {
        var f = c._milliseconds, g = c._days, h = c._months;
        e = null == e ? !0 : e, f && b._d.setTime(+b._d + f * d), g && E(b, "Date", D(b, "Date") + g * d), 
        h && X(b, D(b, "Month") + h * d), e && a.updateOffset(b, g || h);
    }
    function cb(a, b) {
        var c = a || Da(), d = La(c, this).startOf("day"), e = this.diff(d, "days", !0), f = -6 > e ? "sameElse" : -1 > e ? "lastWeek" : 0 > e ? "lastDay" : 1 > e ? "sameDay" : 2 > e ? "nextDay" : 7 > e ? "nextWeek" : "sameElse";
        return this.format(b && b[f] || this.localeData().calendar(f, this, Da(c)));
    }
    function db() {
        return new n(this);
    }
    function eb(a, b) {
        var c;
        return b = A("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = o(a) ? a : Da(a), 
        +this > +a) : (c = o(a) ? +a : +Da(a), c < +this.clone().startOf(b));
    }
    function fb(a, b) {
        var c;
        return b = A("undefined" != typeof b ? b : "millisecond"), "millisecond" === b ? (a = o(a) ? a : Da(a), 
        +a > +this) : (c = o(a) ? +a : +Da(a), +this.clone().endOf(b) < c);
    }
    function gb(a, b, c) {
        return this.isAfter(a, c) && this.isBefore(b, c);
    }
    function hb(a, b) {
        var c;
        return b = A(b || "millisecond"), "millisecond" === b ? (a = o(a) ? a : Da(a), +this === +a) : (c = +Da(a), 
        +this.clone().startOf(b) <= c && c <= +this.clone().endOf(b));
    }
    function ib(a, b, c) {
        var d, e, f = La(a, this), g = 6e4 * (f.utcOffset() - this.utcOffset());
        return b = A(b), "year" === b || "month" === b || "quarter" === b ? (e = jb(this, f), 
        "quarter" === b ? e /= 3 : "year" === b && (e /= 12)) : (d = this - f, e = "second" === b ? d / 1e3 : "minute" === b ? d / 6e4 : "hour" === b ? d / 36e5 : "day" === b ? (d - g) / 864e5 : "week" === b ? (d - g) / 6048e5 : d), 
        c ? e : p(e);
    }
    function jb(a, b) {
        var c, d, e = 12 * (b.year() - a.year()) + (b.month() - a.month()), f = a.clone().add(e, "months");
        return 0 > b - f ? (c = a.clone().add(e - 1, "months"), d = (b - f) / (f - c)) : (c = a.clone().add(e + 1, "months"), 
        d = (b - f) / (c - f)), -(e + d);
    }
    function kb() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
    }
    function lb() {
        var a = this.clone().utc();
        return 0 < a.year() && a.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : K(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : K(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");
    }
    function mb(b) {
        var c = K(this, b || a.defaultFormat);
        return this.localeData().postformat(c);
    }
    function nb(a, b) {
        return this.isValid() ? Ya({
            to: this,
            from: a
        }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate();
    }
    function ob(a) {
        return this.from(Da(), a);
    }
    function pb(a, b) {
        return this.isValid() ? Ya({
            from: this,
            to: a
        }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate();
    }
    function qb(a) {
        return this.to(Da(), a);
    }
    function rb(a) {
        var b;
        return void 0 === a ? this._locale._abbr : (b = y(a), null != b && (this._locale = b), 
        this);
    }
    function sb() {
        return this._locale;
    }
    function tb(a) {
        switch (a = A(a)) {
          case "year":
            this.month(0);

          case "quarter":
          case "month":
            this.date(1);

          case "week":
          case "isoWeek":
          case "day":
            this.hours(0);

          case "hour":
            this.minutes(0);

          case "minute":
            this.seconds(0);

          case "second":
            this.milliseconds(0);
        }
        return "week" === a && this.weekday(0), "isoWeek" === a && this.isoWeekday(1), "quarter" === a && this.month(3 * Math.floor(this.month() / 3)), 
        this;
    }
    function ub(a) {
        return a = A(a), void 0 === a || "millisecond" === a ? this : this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms");
    }
    function vb() {
        return +this._d - 6e4 * (this._offset || 0);
    }
    function wb() {
        return Math.floor(+this / 1e3);
    }
    function xb() {
        return this._offset ? new Date(+this) : this._d;
    }
    function yb() {
        var a = this;
        return [ a.year(), a.month(), a.date(), a.hour(), a.minute(), a.second(), a.millisecond() ];
    }
    function zb() {
        var a = this;
        return {
            years: a.year(),
            months: a.month(),
            date: a.date(),
            hours: a.hours(),
            minutes: a.minutes(),
            seconds: a.seconds(),
            milliseconds: a.milliseconds()
        };
    }
    function Ab() {
        return k(this);
    }
    function Bb() {
        return g({}, j(this));
    }
    function Cb() {
        return j(this).overflow;
    }
    function Db(a, b) {
        H(0, [ a, a.length ], 0, b);
    }
    function Eb(a, b, c) {
        return ja(Da([ a, 11, 31 + b - c ]), b, c).week;
    }
    function Fb(a) {
        var b = ja(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
        return null == a ? b : this.add(a - b, "y");
    }
    function Gb(a) {
        var b = ja(this, 1, 4).year;
        return null == a ? b : this.add(a - b, "y");
    }
    function Hb() {
        return Eb(this.year(), 1, 4);
    }
    function Ib() {
        var a = this.localeData()._week;
        return Eb(this.year(), a.dow, a.doy);
    }
    function Jb(a) {
        return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3);
    }
    function Kb(a, b) {
        return "string" != typeof a ? a : isNaN(a) ? (a = b.weekdaysParse(a), "number" == typeof a ? a : null) : parseInt(a, 10);
    }
    function Lb(a) {
        return this._weekdays[a.day()];
    }
    function Mb(a) {
        return this._weekdaysShort[a.day()];
    }
    function Nb(a) {
        return this._weekdaysMin[a.day()];
    }
    function Ob(a) {
        var b, c, d;
        for (this._weekdaysParse = this._weekdaysParse || [], b = 0; 7 > b; b++) if (this._weekdaysParse[b] || (c = Da([ 2e3, 1 ]).day(b), 
        d = "^" + this.weekdays(c, "") + "|^" + this.weekdaysShort(c, "") + "|^" + this.weekdaysMin(c, ""), 
        this._weekdaysParse[b] = new RegExp(d.replace(".", ""), "i")), this._weekdaysParse[b].test(a)) return b;
    }
    function Pb(a) {
        var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != a ? (a = Kb(a, this.localeData()), this.add(a - b, "d")) : b;
    }
    function Qb(a) {
        var b = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == a ? b : this.add(a - b, "d");
    }
    function Rb(a) {
        return null == a ? this.day() || 7 : this.day(this.day() % 7 ? a : a - 7);
    }
    function Sb(a, b) {
        H(a, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), b);
        });
    }
    function Tb(a, b) {
        return b._meridiemParse;
    }
    function Ub(a) {
        return "p" === (a + "").toLowerCase().charAt(0);
    }
    function Vb(a, b, c) {
        return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM";
    }
    function Wb(a, b) {
        b[ld] = q(1e3 * ("0." + a));
    }
    function Xb() {
        return this._isUTC ? "UTC" : "";
    }
    function Yb() {
        return this._isUTC ? "Coordinated Universal Time" : "";
    }
    function Zb(a) {
        return Da(1e3 * a);
    }
    function $b() {
        return Da.apply(null, arguments).parseZone();
    }
    function _b(a, b, c) {
        var d = this._calendar[a];
        return "function" == typeof d ? d.call(b, c) : d;
    }
    function ac(a) {
        var b = this._longDateFormat[a], c = this._longDateFormat[a.toUpperCase()];
        return b || !c ? b : (this._longDateFormat[a] = c.replace(/MMMM|MM|DD|dddd/g, function(a) {
            return a.slice(1);
        }), this._longDateFormat[a]);
    }
    function bc() {
        return this._invalidDate;
    }
    function cc(a) {
        return this._ordinal.replace("%d", a);
    }
    function dc(a) {
        return a;
    }
    function ec(a, b, c, d) {
        var e = this._relativeTime[c];
        return "function" == typeof e ? e(a, b, c, d) : e.replace(/%d/i, a);
    }
    function fc(a, b) {
        var c = this._relativeTime[a > 0 ? "future" : "past"];
        return "function" == typeof c ? c(b) : c.replace(/%s/i, b);
    }
    function gc(a) {
        var b, c;
        for (c in a) b = a[c], "function" == typeof b ? this[c] = b : this["_" + c] = b;
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source);
    }
    function hc(a, b, c, d) {
        var e = y(), f = h().set(d, b);
        return e[c](f, a);
    }
    function ic(a, b, c, d, e) {
        if ("number" == typeof a && (b = a, a = void 0), a = a || "", null != b) return hc(a, b, c, e);
        var f, g = [];
        for (f = 0; d > f; f++) g[f] = hc(a, f, c, e);
        return g;
    }
    function jc(a, b) {
        return ic(a, b, "months", 12, "month");
    }
    function kc(a, b) {
        return ic(a, b, "monthsShort", 12, "month");
    }
    function lc(a, b) {
        return ic(a, b, "weekdays", 7, "day");
    }
    function mc(a, b) {
        return ic(a, b, "weekdaysShort", 7, "day");
    }
    function nc(a, b) {
        return ic(a, b, "weekdaysMin", 7, "day");
    }
    function oc() {
        var a = this._data;
        return this._milliseconds = Wd(this._milliseconds), this._days = Wd(this._days), 
        this._months = Wd(this._months), a.milliseconds = Wd(a.milliseconds), a.seconds = Wd(a.seconds), 
        a.minutes = Wd(a.minutes), a.hours = Wd(a.hours), a.months = Wd(a.months), a.years = Wd(a.years), 
        this;
    }
    function pc(a, b, c, d) {
        var e = Ya(b, c);
        return a._milliseconds += d * e._milliseconds, a._days += d * e._days, a._months += d * e._months, 
        a._bubble();
    }
    function qc(a, b) {
        return pc(this, a, b, 1);
    }
    function rc(a, b) {
        return pc(this, a, b, -1);
    }
    function sc(a) {
        return 0 > a ? Math.floor(a) : Math.ceil(a);
    }
    function tc() {
        var a, b, c, d, e, f = this._milliseconds, g = this._days, h = this._months, i = this._data;
        return f >= 0 && g >= 0 && h >= 0 || 0 >= f && 0 >= g && 0 >= h || (f += 864e5 * sc(vc(h) + g), 
        g = 0, h = 0), i.milliseconds = f % 1e3, a = p(f / 1e3), i.seconds = a % 60, b = p(a / 60), 
        i.minutes = b % 60, c = p(b / 60), i.hours = c % 24, g += p(c / 24), e = p(uc(g)), 
        h += e, g -= sc(vc(e)), d = p(h / 12), h %= 12, i.days = g, i.months = h, i.years = d, 
        this;
    }
    function uc(a) {
        return 4800 * a / 146097;
    }
    function vc(a) {
        return 146097 * a / 4800;
    }
    function wc(a) {
        var b, c, d = this._milliseconds;
        if (a = A(a), "month" === a || "year" === a) return b = this._days + d / 864e5, 
        c = this._months + uc(b), "month" === a ? c : c / 12;
        switch (b = this._days + Math.round(vc(this._months)), a) {
          case "week":
            return b / 7 + d / 6048e5;

          case "day":
            return b + d / 864e5;

          case "hour":
            return 24 * b + d / 36e5;

          case "minute":
            return 1440 * b + d / 6e4;

          case "second":
            return 86400 * b + d / 1e3;

          case "millisecond":
            return Math.floor(864e5 * b) + d;

          default:
            throw new Error("Unknown unit " + a);
        }
    }
    function xc() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * q(this._months / 12);
    }
    function yc(a) {
        return function() {
            return this.as(a);
        };
    }
    function zc(a) {
        return a = A(a), this[a + "s"]();
    }
    function Ac(a) {
        return function() {
            return this._data[a];
        };
    }
    function Bc() {
        return p(this.days() / 7);
    }
    function Cc(a, b, c, d, e) {
        return e.relativeTime(b || 1, !!c, a, d);
    }
    function Dc(a, b, c) {
        var d = Ya(a).abs(), e = ke(d.as("s")), f = ke(d.as("m")), g = ke(d.as("h")), h = ke(d.as("d")), i = ke(d.as("M")), j = ke(d.as("y")), k = e < le.s && [ "s", e ] || 1 === f && [ "m" ] || f < le.m && [ "mm", f ] || 1 === g && [ "h" ] || g < le.h && [ "hh", g ] || 1 === h && [ "d" ] || h < le.d && [ "dd", h ] || 1 === i && [ "M" ] || i < le.M && [ "MM", i ] || 1 === j && [ "y" ] || [ "yy", j ];
        return k[2] = b, k[3] = +a > 0, k[4] = c, Cc.apply(null, k);
    }
    function Ec(a, b) {
        return void 0 === le[a] ? !1 : void 0 === b ? le[a] : (le[a] = b, !0);
    }
    function Fc(a) {
        var b = this.localeData(), c = Dc(this, !a, b);
        return a && (c = b.pastFuture(+this, c)), b.postformat(c);
    }
    function Gc() {
        var a, b, c, d = me(this._milliseconds) / 1e3, e = me(this._days), f = me(this._months);
        a = p(d / 60), b = p(a / 60), d %= 60, a %= 60, c = p(f / 12), f %= 12;
        var g = c, h = f, i = e, j = b, k = a, l = d, m = this.asSeconds();
        return m ? (0 > m ? "-" : "") + "P" + (g ? g + "Y" : "") + (h ? h + "M" : "") + (i ? i + "D" : "") + (j || k || l ? "T" : "") + (j ? j + "H" : "") + (k ? k + "M" : "") + (l ? l + "S" : "") : "P0D";
    }
    var Hc, Ic, Jc = a.momentProperties = [], Kc = !1, Lc = {}, Mc = {}, Nc = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Oc = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Pc = {}, Qc = {}, Rc = /\d/, Sc = /\d\d/, Tc = /\d{3}/, Uc = /\d{4}/, Vc = /[+-]?\d{6}/, Wc = /\d\d?/, Xc = /\d{1,3}/, Yc = /\d{1,4}/, Zc = /[+-]?\d{1,6}/, $c = /\d+/, _c = /[+-]?\d+/, ad = /Z|[+-]\d\d:?\d\d/gi, bd = /[+-]?\d+(\.\d{1,3})?/, cd = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, dd = {}, ed = {}, fd = 0, gd = 1, hd = 2, id = 3, jd = 4, kd = 5, ld = 6;
    H("M", [ "MM", 2 ], "Mo", function() {
        return this.month() + 1;
    }), H("MMM", 0, 0, function(a) {
        return this.localeData().monthsShort(this, a);
    }), H("MMMM", 0, 0, function(a) {
        return this.localeData().months(this, a);
    }), z("month", "M"), N("M", Wc), N("MM", Wc, Sc), N("MMM", cd), N("MMMM", cd), Q([ "M", "MM" ], function(a, b) {
        b[gd] = q(a) - 1;
    }), Q([ "MMM", "MMMM" ], function(a, b, c, d) {
        var e = c._locale.monthsParse(a, d, c._strict);
        null != e ? b[gd] = e : j(c).invalidMonth = a;
    });
    var md = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), nd = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), od = {};
    a.suppressDeprecationWarnings = !1;
    var pd = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, qd = [ [ "YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/ ], [ "YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/ ], [ "GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/ ], [ "GGGG-[W]WW", /\d{4}-W\d{2}/ ], [ "YYYY-DDD", /\d{4}-\d{3}/ ] ], rd = [ [ "HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/ ], [ "HH:mm:ss", /(T| )\d\d:\d\d:\d\d/ ], [ "HH:mm", /(T| )\d\d:\d\d/ ], [ "HH", /(T| )\d\d/ ] ], sd = /^\/?Date\((\-?\d+)/i;
    a.createFromInputFallback = aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(a) {
        a._d = new Date(a._i + (a._useUTC ? " UTC" : ""));
    }), H(0, [ "YY", 2 ], 0, function() {
        return this.year() % 100;
    }), H(0, [ "YYYY", 4 ], 0, "year"), H(0, [ "YYYYY", 5 ], 0, "year"), H(0, [ "YYYYYY", 6, !0 ], 0, "year"), 
    z("year", "y"), N("Y", _c), N("YY", Wc, Sc), N("YYYY", Yc, Uc), N("YYYYY", Zc, Vc), 
    N("YYYYYY", Zc, Vc), Q([ "YYYYY", "YYYYYY" ], fd), Q("YYYY", function(b, c) {
        c[fd] = 2 === b.length ? a.parseTwoDigitYear(b) : q(b);
    }), Q("YY", function(b, c) {
        c[fd] = a.parseTwoDigitYear(b);
    }), a.parseTwoDigitYear = function(a) {
        return q(a) + (q(a) > 68 ? 1900 : 2e3);
    };
    var td = C("FullYear", !1);
    H("w", [ "ww", 2 ], "wo", "week"), H("W", [ "WW", 2 ], "Wo", "isoWeek"), z("week", "w"), 
    z("isoWeek", "W"), N("w", Wc), N("ww", Wc, Sc), N("W", Wc), N("WW", Wc, Sc), R([ "w", "ww", "W", "WW" ], function(a, b, c, d) {
        b[d.substr(0, 1)] = q(a);
    });
    var ud = {
        dow: 0,
        doy: 6
    };
    H("DDD", [ "DDDD", 3 ], "DDDo", "dayOfYear"), z("dayOfYear", "DDD"), N("DDD", Xc), 
    N("DDDD", Tc), Q([ "DDD", "DDDD" ], function(a, b, c) {
        c._dayOfYear = q(a);
    }), a.ISO_8601 = function() {};
    var vd = aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function() {
        var a = Da.apply(null, arguments);
        return this > a ? this : a;
    }), wd = aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function() {
        var a = Da.apply(null, arguments);
        return a > this ? this : a;
    });
    Ja("Z", ":"), Ja("ZZ", ""), N("Z", ad), N("ZZ", ad), Q([ "Z", "ZZ" ], function(a, b, c) {
        c._useUTC = !0, c._tzm = Ka(a);
    });
    var xd = /([\+\-]|\d\d)/gi;
    a.updateOffset = function() {};
    var yd = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, zd = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
    Ya.fn = Ha.prototype;
    var Ad = ab(1, "add"), Bd = ab(-1, "subtract");
    a.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
    var Cd = aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(a) {
        return void 0 === a ? this.localeData() : this.locale(a);
    });
    H(0, [ "gg", 2 ], 0, function() {
        return this.weekYear() % 100;
    }), H(0, [ "GG", 2 ], 0, function() {
        return this.isoWeekYear() % 100;
    }), Db("gggg", "weekYear"), Db("ggggg", "weekYear"), Db("GGGG", "isoWeekYear"), 
    Db("GGGGG", "isoWeekYear"), z("weekYear", "gg"), z("isoWeekYear", "GG"), N("G", _c), 
    N("g", _c), N("GG", Wc, Sc), N("gg", Wc, Sc), N("GGGG", Yc, Uc), N("gggg", Yc, Uc), 
    N("GGGGG", Zc, Vc), N("ggggg", Zc, Vc), R([ "gggg", "ggggg", "GGGG", "GGGGG" ], function(a, b, c, d) {
        b[d.substr(0, 2)] = q(a);
    }), R([ "gg", "GG" ], function(b, c, d, e) {
        c[e] = a.parseTwoDigitYear(b);
    }), H("Q", 0, 0, "quarter"), z("quarter", "Q"), N("Q", Rc), Q("Q", function(a, b) {
        b[gd] = 3 * (q(a) - 1);
    }), H("D", [ "DD", 2 ], "Do", "date"), z("date", "D"), N("D", Wc), N("DD", Wc, Sc), 
    N("Do", function(a, b) {
        return a ? b._ordinalParse : b._ordinalParseLenient;
    }), Q([ "D", "DD" ], hd), Q("Do", function(a, b) {
        b[hd] = q(a.match(Wc)[0], 10);
    });
    var Dd = C("Date", !0);
    H("d", 0, "do", "day"), H("dd", 0, 0, function(a) {
        return this.localeData().weekdaysMin(this, a);
    }), H("ddd", 0, 0, function(a) {
        return this.localeData().weekdaysShort(this, a);
    }), H("dddd", 0, 0, function(a) {
        return this.localeData().weekdays(this, a);
    }), H("e", 0, 0, "weekday"), H("E", 0, 0, "isoWeekday"), z("day", "d"), z("weekday", "e"), 
    z("isoWeekday", "E"), N("d", Wc), N("e", Wc), N("E", Wc), N("dd", cd), N("ddd", cd), 
    N("dddd", cd), R([ "dd", "ddd", "dddd" ], function(a, b, c) {
        var d = c._locale.weekdaysParse(a);
        null != d ? b.d = d : j(c).invalidWeekday = a;
    }), R([ "d", "e", "E" ], function(a, b, c, d) {
        b[d] = q(a);
    });
    var Ed = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Fd = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Gd = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
    H("H", [ "HH", 2 ], 0, "hour"), H("h", [ "hh", 2 ], 0, function() {
        return this.hours() % 12 || 12;
    }), Sb("a", !0), Sb("A", !1), z("hour", "h"), N("a", Tb), N("A", Tb), N("H", Wc), 
    N("h", Wc), N("HH", Wc, Sc), N("hh", Wc, Sc), Q([ "H", "HH" ], id), Q([ "a", "A" ], function(a, b, c) {
        c._isPm = c._locale.isPM(a), c._meridiem = a;
    }), Q([ "h", "hh" ], function(a, b, c) {
        b[id] = q(a), j(c).bigHour = !0;
    });
    var Hd = /[ap]\.?m?\.?/i, Id = C("Hours", !0);
    H("m", [ "mm", 2 ], 0, "minute"), z("minute", "m"), N("m", Wc), N("mm", Wc, Sc), 
    Q([ "m", "mm" ], jd);
    var Jd = C("Minutes", !1);
    H("s", [ "ss", 2 ], 0, "second"), z("second", "s"), N("s", Wc), N("ss", Wc, Sc), 
    Q([ "s", "ss" ], kd);
    var Kd = C("Seconds", !1);
    H("S", 0, 0, function() {
        return ~~(this.millisecond() / 100);
    }), H(0, [ "SS", 2 ], 0, function() {
        return ~~(this.millisecond() / 10);
    }), H(0, [ "SSS", 3 ], 0, "millisecond"), H(0, [ "SSSS", 4 ], 0, function() {
        return 10 * this.millisecond();
    }), H(0, [ "SSSSS", 5 ], 0, function() {
        return 100 * this.millisecond();
    }), H(0, [ "SSSSSS", 6 ], 0, function() {
        return 1e3 * this.millisecond();
    }), H(0, [ "SSSSSSS", 7 ], 0, function() {
        return 1e4 * this.millisecond();
    }), H(0, [ "SSSSSSSS", 8 ], 0, function() {
        return 1e5 * this.millisecond();
    }), H(0, [ "SSSSSSSSS", 9 ], 0, function() {
        return 1e6 * this.millisecond();
    }), z("millisecond", "ms"), N("S", Xc, Rc), N("SS", Xc, Sc), N("SSS", Xc, Tc);
    var Ld;
    for (Ld = "SSSS"; Ld.length <= 9; Ld += "S") N(Ld, $c);
    for (Ld = "S"; Ld.length <= 9; Ld += "S") Q(Ld, Wb);
    var Md = C("Milliseconds", !1);
    H("z", 0, 0, "zoneAbbr"), H("zz", 0, 0, "zoneName");
    var Nd = n.prototype;
    Nd.add = Ad, Nd.calendar = cb, Nd.clone = db, Nd.diff = ib, Nd.endOf = ub, Nd.format = mb, 
    Nd.from = nb, Nd.fromNow = ob, Nd.to = pb, Nd.toNow = qb, Nd.get = F, Nd.invalidAt = Cb, 
    Nd.isAfter = eb, Nd.isBefore = fb, Nd.isBetween = gb, Nd.isSame = hb, Nd.isValid = Ab, 
    Nd.lang = Cd, Nd.locale = rb, Nd.localeData = sb, Nd.max = wd, Nd.min = vd, Nd.parsingFlags = Bb, 
    Nd.set = F, Nd.startOf = tb, Nd.subtract = Bd, Nd.toArray = yb, Nd.toObject = zb, 
    Nd.toDate = xb, Nd.toISOString = lb, Nd.toJSON = lb, Nd.toString = kb, Nd.unix = wb, 
    Nd.valueOf = vb, Nd.year = td, Nd.isLeapYear = ia, Nd.weekYear = Fb, Nd.isoWeekYear = Gb, 
    Nd.quarter = Nd.quarters = Jb, Nd.month = Y, Nd.daysInMonth = Z, Nd.week = Nd.weeks = na, 
    Nd.isoWeek = Nd.isoWeeks = oa, Nd.weeksInYear = Ib, Nd.isoWeeksInYear = Hb, Nd.date = Dd, 
    Nd.day = Nd.days = Pb, Nd.weekday = Qb, Nd.isoWeekday = Rb, Nd.dayOfYear = qa, Nd.hour = Nd.hours = Id, 
    Nd.minute = Nd.minutes = Jd, Nd.second = Nd.seconds = Kd, Nd.millisecond = Nd.milliseconds = Md, 
    Nd.utcOffset = Na, Nd.utc = Pa, Nd.local = Qa, Nd.parseZone = Ra, Nd.hasAlignedHourOffset = Sa, 
    Nd.isDST = Ta, Nd.isDSTShifted = Ua, Nd.isLocal = Va, Nd.isUtcOffset = Wa, Nd.isUtc = Xa, 
    Nd.isUTC = Xa, Nd.zoneAbbr = Xb, Nd.zoneName = Yb, Nd.dates = aa("dates accessor is deprecated. Use date instead.", Dd), 
    Nd.months = aa("months accessor is deprecated. Use month instead", Y), Nd.years = aa("years accessor is deprecated. Use year instead", td), 
    Nd.zone = aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", Oa);
    var Od = Nd, Pd = {
        sameDay: "[Today at] LT",
        nextDay: "[Tomorrow at] LT",
        nextWeek: "dddd [at] LT",
        lastDay: "[Yesterday at] LT",
        lastWeek: "[Last] dddd [at] LT",
        sameElse: "L"
    }, Qd = {
        LTS: "h:mm:ss A",
        LT: "h:mm A",
        L: "MM/DD/YYYY",
        LL: "MMMM D, YYYY",
        LLL: "MMMM D, YYYY h:mm A",
        LLLL: "dddd, MMMM D, YYYY h:mm A"
    }, Rd = "Invalid date", Sd = "%d", Td = /\d{1,2}/, Ud = {
        future: "in %s",
        past: "%s ago",
        s: "a few seconds",
        m: "a minute",
        mm: "%d minutes",
        h: "an hour",
        hh: "%d hours",
        d: "a day",
        dd: "%d days",
        M: "a month",
        MM: "%d months",
        y: "a year",
        yy: "%d years"
    }, Vd = s.prototype;
    Vd._calendar = Pd, Vd.calendar = _b, Vd._longDateFormat = Qd, Vd.longDateFormat = ac, 
    Vd._invalidDate = Rd, Vd.invalidDate = bc, Vd._ordinal = Sd, Vd.ordinal = cc, Vd._ordinalParse = Td, 
    Vd.preparse = dc, Vd.postformat = dc, Vd._relativeTime = Ud, Vd.relativeTime = ec, 
    Vd.pastFuture = fc, Vd.set = gc, Vd.months = U, Vd._months = md, Vd.monthsShort = V, 
    Vd._monthsShort = nd, Vd.monthsParse = W, Vd.week = ka, Vd._week = ud, Vd.firstDayOfYear = ma, 
    Vd.firstDayOfWeek = la, Vd.weekdays = Lb, Vd._weekdays = Ed, Vd.weekdaysMin = Nb, 
    Vd._weekdaysMin = Gd, Vd.weekdaysShort = Mb, Vd._weekdaysShort = Fd, Vd.weekdaysParse = Ob, 
    Vd.isPM = Ub, Vd._meridiemParse = Hd, Vd.meridiem = Vb, w("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(a) {
            var b = a % 10, c = 1 === q(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th";
            return a + c;
        }
    }), a.lang = aa("moment.lang is deprecated. Use moment.locale instead.", w), a.langData = aa("moment.langData is deprecated. Use moment.localeData instead.", y);
    var Wd = Math.abs, Xd = yc("ms"), Yd = yc("s"), Zd = yc("m"), $d = yc("h"), _d = yc("d"), ae = yc("w"), be = yc("M"), ce = yc("y"), de = Ac("milliseconds"), ee = Ac("seconds"), fe = Ac("minutes"), ge = Ac("hours"), he = Ac("days"), ie = Ac("months"), je = Ac("years"), ke = Math.round, le = {
        s: 45,
        m: 45,
        h: 22,
        d: 26,
        M: 11
    }, me = Math.abs, ne = Ha.prototype;
    ne.abs = oc, ne.add = qc, ne.subtract = rc, ne.as = wc, ne.asMilliseconds = Xd, 
    ne.asSeconds = Yd, ne.asMinutes = Zd, ne.asHours = $d, ne.asDays = _d, ne.asWeeks = ae, 
    ne.asMonths = be, ne.asYears = ce, ne.valueOf = xc, ne._bubble = tc, ne.get = zc, 
    ne.milliseconds = de, ne.seconds = ee, ne.minutes = fe, ne.hours = ge, ne.days = he, 
    ne.weeks = Bc, ne.months = ie, ne.years = je, ne.humanize = Fc, ne.toISOString = Gc, 
    ne.toString = Gc, ne.toJSON = Gc, ne.locale = rb, ne.localeData = sb, ne.toIsoString = aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Gc), 
    ne.lang = Cd, H("X", 0, 0, "unix"), H("x", 0, 0, "valueOf"), N("x", _c), N("X", bd), 
    Q("X", function(a, b, c) {
        c._d = new Date(1e3 * parseFloat(a, 10));
    }), Q("x", function(a, b, c) {
        c._d = new Date(q(a));
    }), a.version = "2.10.6", b(Da), a.fn = Od, a.min = Fa, a.max = Ga, a.utc = h, a.unix = Zb, 
    a.months = jc, a.isDate = d, a.locale = w, a.invalid = l, a.duration = Ya, a.isMoment = o, 
    a.weekdays = lc, a.parseZone = $b, a.localeData = y, a.isDuration = Ia, a.monthsShort = kc, 
    a.weekdaysMin = nc, a.defineLocale = x, a.weekdaysShort = mc, a.normalizeUnits = A, 
    a.relativeTimeThreshold = Ec;
    var oe = a;
    return oe;
}), AuthenticationManager.prototype.login = function(a, b, c) {
    var d = this, e = function(b, e) {
        d.onSuccess.notify({
            user: a,
            roles: e.roles,
            token: e.token,
            url: c
        });
    }, f = function(a, b) {
        EXI.setError("Permission denied"), BUI.showError("Your credentials are invalid");
    };
    EXI.getDataAdapter({
        onSuccess: e,
        onError: f
    }).proposal.authentication.authenticate(a, b, c);
}, Exi.prototype.getDataAdapter = function(a) {
    return new DataAdapterFactory(a);
}, Exi.prototype.setAnonymousMenu = function() {
    this.mainMenu = this.anonymousMenu, Ext.getCmp("mainMenu").removeAll(), Ext.getCmp("mainMenu").add(EXI.mainMenu.getPanel());
}, Exi.prototype.setUserMenu = function() {
    this.mainMenu = this.userMenu, Ext.getCmp("mainMenu").removeAll(), Ext.getCmp("mainMenu").add(EXI.mainMenu.getPanel());
}, Exi.prototype.loadSelected = function(a) {}, Exi.prototype.addMainPanel = function(a) {
    this.keepTabs || Ext.getCmp("main_panel").removeAll(), Ext.getCmp("main_panel").add(a.getPanel()), 
    Ext.getCmp("main_panel").setActiveTab(Ext.getCmp("main_panel").items.length - 1);
}, Exi.prototype.getSelectedDataCollections = function() {
    for (var a = [], b = 0; b < this.experimentListView.length; b++) a = a.concat(this.experimentListView[b].getSelected());
    return a;
}, Exi.prototype.addNavigationPanel = function(a) {
    Ext.getCmp("navigation").add(a.getPanel()), null != Ext.getCmp("navigation") && Ext.getCmp("navigation").expand();
}, Exi.prototype.clearNavigationPanel = function() {
    Ext.getCmp("navigation").removeAll();
}, Exi.prototype.clearMainPanel = function() {
    Ext.getCmp("main_panel").removeAll();
}, Exi.prototype.setLoadingNavigationPanel = function(a) {
    Ext.getCmp("navigation").setLoading(a);
}, Exi.prototype.setLoadingMainPanel = function(a) {
    Ext.getCmp("main_panel").setLoading(a);
}, Exi.prototype.setError = function(a) {
    this.mainStatusBar.showError(a);
}, Exi.prototype.setLoading = function(a) {
    null == a || 1 == a ? this.mainStatusBar.showBusy() : this.mainStatusBar.showReady();
}, Exi.prototype.getHeader = function(a) {
    return '<img class="titleImage" src="images/logo_EMBL.png"><span class="title">Extended ISPyB</span>';
}, Exi.prototype.show = function() {
    var a = this;
    Ext.application({
        name: "ExiSAXS",
        launch: function() {
            Ext.create("Ext.container.Viewport", {
                layout: "border",
                items: [ {
                    region: "north",
                    xtype: "component",
                    padding: 10,
                    height: 75,
                    html: a.getHeader(),
                    cls: a.headerCssClass
                }, {
                    region: "north",
                    cls: "toolbarPanel",
                    id: "mainMenu",
                    xtype: "panel",
                    width: 400,
                    items: a.mainMenu.getPanel()
                }, {
                    xtype: "panel",
                    id: "navigation",
                    region: "west",
                    width: 250,
                    split: !1,
                    title: "Browse by",
                    cls: "navigation",
                    collapsible: !0,
                    collapsed: !0
                }, {
                    region: "center",
                    id: "main_panel",
                    xtype: "tabpanel",
                    cls: "navigation",
                    plain: !0,
                    items: []
                }, {
                    region: "south",
                    xtype: "panel",
                    cls: "statusBar",
                    bbar: a.mainStatusBar.getBar()
                } ],
                listeners: {
                    afterrender: function(b, c) {
                        a.mainMenu.populateCredentialsMenu(), a.onAfterRender.notify(), 0 == a.credentialManager.getCredentials() ? a.setAnonymousMenu() : (a.setUserMenu(), 
                        a.mainMenu.populateCredentialsMenu());
                    }
                }
            });
        }
    });
}, ExiMX.prototype.loadSelected = Exi.prototype.loadSelected, ExiMX.prototype.addMainPanel = Exi.prototype.addMainPanel, 
ExiMX.prototype.getSelectedDataCollections = Exi.prototype.getSelectedDataCollections, 
ExiMX.prototype.addNavigationPanel = Exi.prototype.addNavigationPanel, ExiMX.prototype.clearNavigationPanel = Exi.prototype.clearNavigationPanel, 
ExiMX.prototype.clearMainPanel = Exi.prototype.clearMainPanel, ExiMX.prototype.setLoadingNavigationPanel = Exi.prototype.setLoadingNavigationPanel, 
ExiMX.prototype.setLoadingMainPanel = Exi.prototype.setLoadingMainPanel, ExiMX.prototype.setError = Exi.prototype.setError, 
ExiMX.prototype.setLoading = Exi.prototype.setLoading, ExiMX.prototype.setLoadingMainPanel = Exi.prototype.setLoadingMainPanel, 
ExiMX.prototype.show = Exi.prototype.show, ExiMX.prototype.setAnonymousMenu = Exi.prototype.setAnonymousMenu, 
ExiMX.prototype.setUserMenu = Exi.prototype.setUserMenu, ExiMX.prototype.getHeader = function() {
    return '<img class="titleImage" src="../images/logo_EMBL.png"><span class="title">ExiMX</span><span class="subtitle">Extended ISPyB for MX<sub style="font-size:10px;color:orange">BETA</sub></span>';
}, ExiMX.prototype.getDataAdapter = function(a) {
    return new MxDataAdapterFactory(a);
}, ExiSAXS.prototype.loadSelected = Exi.prototype.loadSelected, ExiSAXS.prototype.addMainPanel = Exi.prototype.addMainPanel, 
ExiSAXS.prototype.getSelectedDataCollections = Exi.prototype.getSelectedDataCollections, 
ExiSAXS.prototype.addNavigationPanel = Exi.prototype.addNavigationPanel, ExiSAXS.prototype.clearNavigationPanel = Exi.prototype.clearNavigationPanel, 
ExiSAXS.prototype.clearMainPanel = Exi.prototype.clearMainPanel, ExiSAXS.prototype.setLoadingNavigationPanel = Exi.prototype.setLoadingNavigationPanel, 
ExiSAXS.prototype.setLoadingMainPanel = Exi.prototype.setLoadingMainPanel, ExiSAXS.prototype.setError = Exi.prototype.setError, 
ExiSAXS.prototype.setLoading = Exi.prototype.setLoading, ExiSAXS.prototype.setLoadingMainPanel = Exi.prototype.setLoadingMainPanel, 
ExiSAXS.prototype.show = Exi.prototype.show, ExiSAXS.prototype.setAnonymousMenu = Exi.prototype.setAnonymousMenu, 
ExiSAXS.prototype.setUserMenu = Exi.prototype.setUserMenu, ExiSAXS.prototype.getHeader = function() {
    return '<img class="titleImage" src="../images/logo_EMBL.png"><span class="title">ExiSAXS</span><span class="subtitle">Extended ISPyB for SAXS<sub style="font-size:10px;color:orange">BETA</sub></span>';
}, ExiSAXS.prototype.getDataAdapter = function(a) {
    return new SaxsDataAdapterFactory(a);
}, MainStatusBar.prototype.getBar = function() {
    return this.statusBar = Ext.create("Ext.ux.StatusBar", {
        id: "main-status-bar",
        text: "Ready",
        iconCls: "accept",
        busyIconCls: "busy",
        busyText: "Connecting to servers...",
        cls: "statusBar",
        statusAlign: "right"
    }), this.statusBar;
}, MainStatusBar.prototype.showBusy = function() {
    this.statusBar.showBusy();
}, MainStatusBar.prototype.showError = function(a) {
    this.statusBar.clearStatus(), this.statusBar.setStatus({
        text: a,
        iconCls: "error"
    });
}, MainStatusBar.prototype.showReady = function() {
    this.statusBar.clearStatus(), this.statusBar.setStatus({
        text: "Ready",
        iconCls: "accept"
    });
}, DataAdapter.prototype.getUrl = function(a, b) {
    return a.url + b.replace("{token}", a.token).replace("{proposal}", a.proposal).replace("{username}", a.username);
}, DataAdapter.prototype.get = function(a) {
    var b = this;
    null != EXI && EXI.setLoading();
    var c = EXI.credentialManager.getConnections();
    1 == c.length ? $.ajax({
        url: this.getUrl(c[0], a),
        type: "get",
        async: this.async,
        statusCode: {
            400: function() {
                BUI.showError("400 : bad request");
            },
            401: function() {
                EXI.setError("401 : Unauthorized. Your session is not valid or may have expired");
            },
            403: function() {
                BUI.showError("403 : forbidden");
            },
            404: function() {
                BUI.showError("404 : not found");
            },
            415: function() {
                BUI.showError("415 : type not allowed");
            },
            500: function() {
                BUI.showError("500 : internal server error");
            }
        },
        success: function(a) {
            b.onSuccess.notify(a), null != EXI && EXI.setLoading(!1);
        },
        error: function(a) {
            b.onError.notify(a), EXI.setError(a.responseText);
        }
    }) : BUI.showError("Number of connections > 1");
}, DataAdapter.prototype.post = function(a, b) {
    var c = this;
    null != EXI && EXI.setLoading();
    var d = EXI.credentialManager.getConnections();
    a = this.getUrl(d[0], a), $.ajax({
        type: "POST",
        url: a,
        data: b,
        success: function(a) {
            c.onSuccess.notify(a), null != EXI && EXI.setLoading(!1);
        },
        error: function(a) {
            c.onError.notify(a), null != EXI && EXI.setError(a);
        }
    });
}, ExiDataAdapter.prototype.getUrl = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return b.exiUrl + a.replace("{token}", b.token).replace("{username}", b.username);
}, ExiDataAdapter.prototype.call = function(a) {
    var b = this;
    $.ajax({
        url: this.getUrl(a),
        type: "get",
        success: function(a) {
            b.onSuccess.notify(a), null != exiSAXS && exiSAXS.setLoading(!1);
        },
        error: function(a) {
            b.onError.notify(a), null != exiSAXS && exiSAXS.setError(a);
        }
    });
}, ExiDataAdapter.prototype.postcall = function(a, b) {
    var c = this, d = EXI.credentialManager.getConnections();
    $.ajax({
        url: d[0].exiUrl + a,
        type: "post",
        data: b,
        success: function(a) {
            c.onSuccess.notify(a), null != exiSAXS && exiSAXS.setLoading(!1);
        },
        error: function(a) {
            c.onError.notify(a), null != exiSAXS && exiSAXS.setError(a);
        }
    });
}, ExiDataAdapter.prototype.getToolUrl = function() {
    return this.getUrl("/{token}/tool");
}, ExiDataAdapter.prototype.authenticate = function() {
    this.call("/{token}/user/{username}/authenticate");
}, ExiDataAdapter.prototype.getProject = function() {
    this.call("/{token}/project/list");
}, ExiDataAdapter.prototype.getRuns = function(a) {
    this.call("/{token}/project/{0}/run/list".format([ a ]));
}, ExiDataAdapter.prototype.save = function(a) {
    this.postcall("/{token}/user/save".format([ tokens[0].token ]), {
        user: JSON.stringify(a)
    });
}, ExiDataAdapter.prototype.getFileContent = function(a) {
    this.call("/file/{0}/content".format([ a ]));
}, ExiDataAdapter.prototype.getFileImage = function(a) {
    return this.getUrl("/file/{0}/image".format([ a ]));
}, AutoProcIntegrationDataAdapter.prototype.get = DataAdapter.prototype.get, AutoProcIntegrationDataAdapter.prototype.post = DataAdapter.prototype.post, 
AutoProcIntegrationDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, 
AutoProcIntegrationDataAdapter.prototype.getByDataCollectionId = function(a) {
    this.get("/{token}/proposal/{proposal}/mx/autoprocintegration/datacollection/{0}/list".format([ a ]));
}, AutoProcIntegrationDataAdapter.prototype.getXScaleCompleteness = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoprocintegration/{0}/xscale/completeness".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getXScaleRfactor = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoprocintegration/{0}/xscale/rfactor".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getXScaleISigma = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoprocintegration/{0}/xscale/isigma".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getXScaleCC2 = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoprocintegration/{0}/xscale/cc2".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getXScaleSigmaAno = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoprocintegration/{0}/xscale/sigmaano".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getXScaleWilson = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoprocintegration/{0}/xscale/wilson".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getXScaleAnnoCorrection = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoprocintegration/{0}/xscale/anomcorr".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getDownloadAttachmentUrl = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/autoproc/autoprocattachmentid/{0}/download".format([ a.toString() ]));
}, AutoProcIntegrationDataAdapter.prototype.getPhasingByAutoprocIds = function(a) {
    this.get("/{token}/proposal/{proposal}/mx/phasing/autoprocid/{0}/list".format([ a.toString() ]));
}, DataCollectionDataAdapter.prototype.get = DataAdapter.prototype.get, DataCollectionDataAdapter.prototype.post = DataAdapter.prototype.post, 
DataCollectionDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, DataCollectionDataAdapter.prototype.getBySessionsId = function(a) {
    this.get("/{token}/proposal/{proposal}/mx/datacollection/session/{0}/list".format([ a.toString() ]));
}, DataCollectionDataAdapter.prototype.getByDataCollectionId = function(a) {
    this.get("/{token}/proposal/{proposal}/mx/datacollection/{0}/get".format([ a.toString() ]));
}, DataCollectionDataAdapter.prototype.getThumbNailById = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/image/{0}/thumbnail".format([ a ]));
}, DataCollectionDataAdapter.prototype.getImageById = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/mx/image/{0}/get".format([ a ]));
}, DataCollectionDataAdapter.prototype.getCrystalSnapshotByDataCollectionId = function(a, b) {
    var c = EXI.credentialManager.getConnections()[0];
    return this.getUrl(c, "/{token}/proposal/{proposal}/mx/datacollection/{0}/crystalsnaphot/{1}/get".format([ a, b ]));
}, AuthenticationDataAdapter.prototype.get = DataAdapter.prototype.get, AuthenticationDataAdapter.prototype.post = DataAdapter.prototype.post, 
AuthenticationDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, AuthenticationDataAdapter.prototype.authenticate = function(a, b, c) {
    var d = this, e = "ESRF";
    -1 != c.indexOf("embl-hamburg") && (e = "EMBL"), -1 != c.indexOf("192.109.31.39") && (e = "EMBL"), 
    $.ajax({
        url: c + "/authenticate?site=" + e,
        type: "post",
        data: {
            login: a,
            password: b
        },
        success: function(a) {
            d.onSuccess.notify(a);
        },
        error: function(a) {
            d.onError.notify(a);
        }
    });
}, DewarDataAdapter.prototype.get = DataAdapter.prototype.get, DewarDataAdapter.prototype.post = DataAdapter.prototype.post, 
DewarDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, DewarDataAdapter.prototype.saveDewar = function(a, b) {
    var c = "/{token}/proposal/{proposal}/shipping/{0}/dewar/save".format([ a ]);
    this.post(c, b);
}, DewarDataAdapter.prototype.removeDewar = function(a, b) {
    var c = "/{token}/proposal/{proposal}/shipping/{0}/dewar/{1}/remove".format([ a, b ]);
    this.get(c);
}, DewarDataAdapter.prototype.addDewar = function(a) {
    this.saveDewar(a, {});
}, ProposalDataAdapter.prototype.get = DataAdapter.prototype.get, ProposalDataAdapter.prototype.post = DataAdapter.prototype.post, 
ProposalDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, ProposalDataAdapter.prototype.getProposals = function() {
    this.get("/{token}/proposal/list");
}, ProposalDataAdapter.prototype.getProposalsInfo = function() {
    this.get("/{token}/proposal/{proposal}/technique/saxs/get");
}, ProposalDataAdapter.prototype.getProposalBySessionId = function(a) {
    this.get("/{token}/proposal/session/{0}/list".format([ a ]));
}, ProposalDataAdapter.prototype.update = function() {
    null != EXI && null != EXI.proposalManager && (this.onSuccess.attach(function(a, b) {
        localStorage.setItem("proposals", JSON.stringify(b));
    }), this.onSuccess._listeners.reverse()), this.getProposalsInfo();
}, SessionDataAdapter.prototype.get = DataAdapter.prototype.get, SessionDataAdapter.prototype.post = DataAdapter.prototype.post, 
SessionDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, SessionDataAdapter.prototype.getSessions = function() {
    this.get("/{token}/proposal/{proposal}/session/list");
}, SessionDataAdapter.prototype.getSessionsByDate = function(a, b) {
    this.get("/{token}/proposal/session/list?startdate={0}&enddate={1}".format([ a, b ]));
}, ShippingDataAdapter.prototype.get = DataAdapter.prototype.get, ShippingDataAdapter.prototype.post = DataAdapter.prototype.post, 
ShippingDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, ShippingDataAdapter.prototype.getShippings = function() {
    this.get("/{token}/proposal/{proposal}/shipping/list");
}, ShippingDataAdapter.prototype.getShipment = function(a) {
    this.get("/{token}/proposal/{proposal}/shipping/{0}/get".format([ a ]));
}, ShippingDataAdapter.prototype.getDewarsByShipmentId = function(a) {
    this.get("/{token}/proposal/{proposal}/shipping/{0}/dewar/list".format([ a ]));
}, ShippingDataAdapter.prototype.getLabContacts = function() {
    this.get("/{token}/proposal/{proposal}/shipping/labcontact/list");
}, ShippingDataAdapter.prototype.getScientists = function() {
    this.get("/{token}/proposal/{proposal}/shipping/labcontact/smis/list");
}, ShippingDataAdapter.prototype.getLabContactById = function(a) {
    this.get("/{token}/proposal/{proposal}/shipping/labcontact/{0}/get".format([ a ]));
}, ShippingDataAdapter.prototype.saveLabContact = function(a) {
    var b = "/{token}/proposal/{proposal}/shipping/labcontact/save";
    this.post(b, {
        labcontact: JSON.stringify(a)
    });
}, ShippingDataAdapter.prototype.saveShipment = function(a) {
    this.post("/{token}/proposal/{proposal}/shipping/save", a);
}, ShippingDataAdapter.prototype.addPuck = function(a, b) {
    this.get("/{token}/proposal/{proposal}/shipping/{0}/dewar/{1}/puck/add".format([ a, b ]));
}, ShippingDataAdapter.prototype.getContainerById = function(a, b, c) {
    this.get("/{token}/proposal/{proposal}/shipping/{0}/dewar/{1}/puck/{2}/get".format([ a, b, c ]));
}, ShippingDataAdapter.prototype.removeContainerById = function(a, b, c) {
    this.get("/{token}/proposal/{proposal}/shipping/{0}/dewar/{1}/puck/{2}/remove".format([ a, b, c ]));
}, ShippingDataAdapter.prototype.saveContainer = function(a, b, c, d) {
    var e = "/{token}/proposal/{proposal}/shipping/{0}/dewar/{1}/puck/{2}/save".format([ a, b, c ]);
    this.post(e, {
        puck: JSON.stringify(d)
    });
}, ShippingDataAdapter.prototype.getDewarLabelURL = function(a, b) {
    var c = EXI.credentialManager.getConnections()[0];
    return this.getUrl(c, "/{token}/proposal/{proposal}/shipping/{0}/dewar/{1}/labels".format([ a, b ]));
}, ProposalManager.prototype.get = function(a) {
    if (null == localStorage.getItem("proposals") || a) {
        var b = function(a, b) {
            localStorage.setItem("proposals", JSON.stringify(b));
        };
        EXI.getDataAdapter({
            async: !1,
            onSuccess: b
        }).proposal.proposal.getProposalsInfo();
    }
    return JSON.parse(localStorage.getItem("proposals"));
}, ProposalManager.prototype.clear = function() {
    localStorage.removeItem("proposals");
}, ProposalManager.prototype.getSessions = function() {
    if (null == localStorage.getItem("sessions")) {
        var a = function(a, b) {
            localStorage.setItem("sessions", JSON.stringify(b));
        };
        EXI.getDataAdapter({
            async: !1,
            onSuccess: a
        }).proposal.session.getSessions();
    }
    return JSON.parse(localStorage.getItem("sessions"));
}, ProposalManager.prototype.getFutureSessions = function() {
    for (var a = this.getSessions(), b = moment(), c = [], d = 0; d < a.length; d++) b.diff(a[d].startDate) < 0 && c.push(a[d]);
    return c;
}, ProposalManager.prototype.getBufferColors = function() {
    return [ "#ffffcc", "#c7e9b4", "#7fcdbb", "#41b6c4", "#2c7fb8", "#253494" ];
}, ProposalManager.prototype.getLabcontacts = function() {
    var a = this.get();
    return a[0].labcontacts;
}, ProposalManager.prototype.getLabcontactById = function(a) {
    for (var b = this.getLabcontacts(), c = 0; c < b.length; c++) if (b[c].labContactId == a) return b[c];
}, ProposalManager.prototype.getPlateTypeById = function(a) {
    for (var b = this.getPlateTypes(), c = 0; c < b.length; c++) if (b[c].plateTypeId == a) return b[c];
    return null;
}, ProposalManager.prototype.getPlateTypes = function() {
    var a = this.get();
    return a[0].plateTypes;
}, ProposalManager.prototype.getPlateByFlavour = function() {
    var a = this.get()[0].plateTypes;
    return [ a[0], a[2], a[3] ];
}, ProposalManager.prototype.getBufferById = function(a) {
    for (var b = this.get(), c = 0; c < b.length; c++) for (var d = 0; d < b[c].buffers.length; d++) if (b[c].buffers[d].bufferId == a) return b[c].buffers[d];
}, ProposalManager.prototype.getMacromoleculeById = function(a) {
    for (var b = this.get(), c = 0; c < b.length; c++) for (var d = 0; d < b[c].macromolecules.length; d++) if (b[c].macromolecules[d].macromoleculeId == a) return b[c].macromolecules[d];
}, ProposalManager.prototype.getMacromoleculeByAcronym = function(a) {
    for (var b = this.get(), c = 0; c < b.length; c++) for (var d = 0; d < b[c].macromolecules.length; d++) if (b[c].macromolecules[d].acronym == a) return b[c].macromolecules[d];
}, ProposalManager.prototype.getStockSolutionById = function(a) {
    for (var b = this.get(), c = 0; c < b.length; c++) for (var d = 0; d < b[c].stockSolutions.length; d++) if (b[c].stockSolutions[d].stockSolutionId == a) return b[c].stockSolutions[d];
}, ProposalManager.prototype.getBuffers = function() {
    for (var a = this.get(), b = [], c = 0; c < a.length; c++) b = b.concat(a[c].buffers);
    return b;
}, ProposalManager.prototype.getMacromolecules = function() {
    for (var a = this.get(), b = [], c = 0; c < a.length; c++) b = b.concat(a[c].macromolecules);
    return b;
}, ProposalManager.prototype.getProposals = function() {
    for (var a = this.get(), b = [], c = 0; c < a.length; c++) a[c].proposal[0].proposal = a[c].proposal[0].code + a[c].proposal[0].number, 
    b = b.concat(a[c].proposal);
    return b;
}, ProposalManager.prototype.getProposalById = function(a) {
    for (var b = this.get(), c = [], d = 0; d < b.length; d++) if (b[d].proposal[0].proposalId == a) return b[d].proposal[0];
    return c;
}, ProposalManager.prototype.getStockSolutions = function() {
    return this.get()[0].stockSolutions;
}, ProposalManager.prototype.getProteins = function() {
    return this.get()[0].proteins;
}, ProposalManager.prototype.getProteinByAcronym = function(a) {
    for (var b = this.getProteins(), c = 0; c < b.length; c++) if (b[c].acronym == a) return b[c];
    return null;
}, ProposalManager.prototype.getStockSolutionsBySpecimen = function(a, b) {
    for (var c = [], d = this.getStockSolutions(), e = 0; e < d.length; e++) d[e].macromoleculeId == a && d[e].bufferId == b && c.push(d[e]);
    return c;
}, ProposalManager.prototype.getUnpackedStockSolutions = function() {
    for (var a = this.getStockSolutions(), b = [], c = 0; c < a.length; c++) null == a[c].boxId && b.push(a[c]);
    return b;
}, ProposalManager.prototype.getStockSolutionsByDewarId = function(a) {
    for (var b = this.getStockSolutions(), c = [], d = 0; d < b.length; d++) b[d].boxId == a && c.push(b[d]);
    return c;
}, BufferSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, BufferSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
BufferSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, BufferSaxsDataAdapter.prototype.getBuffers = function() {
    this.get("/{token}/proposal/{proposal}/saxs/buffer/list");
}, BufferSaxsDataAdapter.prototype.saveBuffer = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/buffer/save";
    this.post(b, {
        buffer: JSON.stringify(a)
    });
}, DataCollectionSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, DataCollectionSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
DataCollectionSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, DataCollectionSaxsDataAdapter.prototype.getDataCollectionsByMacromoleculeAcronym = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/datacollection/macromoleculeAcronym/{0}/list".format([ a ]));
}, DataCollectionSaxsDataAdapter.prototype.getDataCollectionsByKey = function(a, b) {
    this.get("/{token}/proposal/{proposal}/saxs/datacollection/{0}/{1}/list".format([ a, b.toString() ]));
}, DataCollectionSaxsDataAdapter.prototype.getDataCollectionsByDataCollectionId = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/datacollection/dataCollectionId/{0}/list".format([ a ]));
}, DataCollectionSaxsDataAdapter.prototype.getDataCollectionsByIdList = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/datacollection/{0}/list".format([ a ]));
}, DataCollectionSaxsDataAdapter.prototype.getDataCollectionsByExperimentId = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/datacollection/experimentId/{0}/list".format([ a ]));
}, Experiment.prototype.getSpecimenColorByBufferId = function(a) {
    return this.specimenBuffersColors[a];
}, Experiment.prototype.setMacromoleculesColors = function() {
    var a = [ "#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494" ];
    this.macromoleculeColors = {};
    for (var b = this.getMacromolecules(), c = 0; c < b.length; c++) this.macromoleculeColors[b[c].macromoleculeId] = a[c % a.length];
}, Experiment.prototype.getHPLCMacromolecule = function() {
    var a = this.getDataCollections();
    if (a.length > 0) for (var b = 0; 1 > b; b++) {
        var c = a[b].measurementtodatacollection3VOs;
        if (null != c) for (var d = 0; d < c.length; d++) if (2 == c[d].dataCollectionOrder) return this.getSampleById(this.getMeasurementById(c[d].measurementId).specimenId).macromolecule3VO;
    }
}, Experiment.prototype.getSpecimenColors = function() {
    for (var a = this.getSamples(), b = [], c = 0; c < a.length; c++) null === a[c].macromolecule3VO && b.push(a[c]);
    var d = {}, e = EXI.proposalManager.getBufferColors();
    for (c = 0; c < b.length; c++) d[b[c].specimenId] = e[c % e.length];
    return d;
}, Experiment.prototype.getBuffers = function() {
    var a = this.getSamples(), b = {}, c = [];
    if (null !== a) for (var d = 0; d < a.length; d++) null === b[a[d].bufferId] && (c.push(BIOSAXS.proposal.getBufferById(a[d].bufferId)), 
    b[a[d].bufferId] = !0);
    return c;
}, Experiment.prototype.getBufferById = function(a) {
    return EXI.proposalManager.getBufferById(a);
}, Experiment.prototype.getStockSolutions = function() {
    return this.json.stockSolution3VOs;
}, Experiment.prototype.getStockSolutionById = function(a) {
    for (var b = this.getStockSolutions(), c = 0; c < b.length; c++) if (b[c].stockSolutionId == a) return b[c];
}, Experiment.prototype.getMacromolecules = function() {
    for (var a = this.getSamples(), b = {}, c = [], d = 0; d < a.length; d++) null != a[d].macromolecule3VO && null == b[a[d].macromolecule3VO.macromoleculeId] && (c.push(a[d].macromolecule3VO), 
    b[a[d].macromolecule3VO.macromoleculeId] = !0);
    return c;
}, Experiment.prototype.getMeasurementsWithSubtractionAssociated = function() {
    for (var a = this.getMeasurements(), b = [], c = 0; c < a.length; c++) {
        var d = a[c];
        null !== d.run3VO && b.push(d);
    }
    return b;
}, Experiment.prototype.getSamples = function() {
    return this.json.samples3VOs;
}, Experiment.prototype.getSampleById = function(a) {
    return this.getSpecimenById(a);
}, Experiment.prototype.getSpecimenById = function(a) {
    for (var b = this.getSamples(), c = 0; c < b.length; c++) if (b[c].specimenId == a) return b[c];
    return null;
}, Experiment.prototype.getSpecimenByDataCollectionId = function(a) {
    for (var b = this.getDataCollectionById(a), c = {}, d = [], e = 0; e < b.measurementtodatacollection3VOs.length; e++) {
        var f = this.getMeasurementById(b.measurementtodatacollection3VOs[e].measurementId);
        null == c[f.specimenId] && (d.push(f), c[f.specimenId] = !0);
    }
    return d;
}, Experiment.prototype.setSpecimenById = function(a) {
    for (var b = 0; b < this.json.samples3VOs.length; b++) if (this.json.samples3VOs[b].specimenId == a.specimenId) return void (this.json.samples3VOs[b] = a);
    console.log("Specimen with id: " + a.specimenId + " not found");
}, Experiment.prototype.setMeasurement = function(a) {
    for (var b = this.getMeasurements(), c = 0; c < b.length; c++) if (b[c].measurementId == a.measurementId) return void (b[c] = a);
}, Experiment.prototype.getConcentrations = function() {
    for (var a = {}, b = this.getMeasurements(), c = 0; c < b.length; c++) null != b[c].concentration && (a[b[c].concentration] = [ b[c].concentration ]);
    var d = [];
    for (var e in a) "null" != e && d.push(e);
    return d;
}, Experiment.prototype.getConcentrationsBysample = function(a) {
    for (var b = {}, c = this.getSamples(), d = 0; d < c.length; d++) null != c[d].macromolecule3VO && c[d].macromolecule3VO.macromoleculeId == a.macromolecule3VO.macromoleculeId && null != c[d].concentration && (b[c[d].concentration] = [ c[d].concentration ]);
    var e = [];
    for (var f in b) "null" != f && e.push(f);
    return e;
}, Experiment.prototype.setSpecimen = function(a) {
    for (var b = this.getBuffers(), c = 0; c < b.length; c++) for (var d = b[c], e = 0; e < d.specimen3VOs.length; e++) {
        var f = d.specimen3VOs[e];
        if (f.specimenId == a.specimenId) return d.specimen3VOs[e] = a, d;
    }
}, Experiment.prototype.getSamplePlates = function() {
    return this.json.samplePlate3VOs;
}, Experiment.prototype.getSamplePlateById = function(a) {
    for (var b = this.getSamplePlates(), c = 0; c < b.length; c++) if (b[c].samplePlateId == a) return b[c];
}, Experiment.prototype.getSamplePlateBySlotPositionColumn = function(a) {
    for (var b = this.getSamplePlates(), c = 0; c < b.length; c++) if (b[c].slotPositionColumn == a) return b[c];
}, Experiment.prototype.getSpecimenByPosition = function(a, b, c) {
    return this.getSampleByPosition();
}, Experiment.prototype.getSpecimensBySamplePlateId = function(a) {
    for (var b = this.getSamples(), c = [], d = 0; d < b.length; d++) null != b[d].sampleplateposition3VO && b[d].sampleplateposition3VO.samplePlateId == a && c.push(b[d]);
    return c;
}, Experiment.prototype.getSampleByPosition = function(a, b, c) {
    for (var d = this.getSamples(), e = [], f = 0; f < d.length; f++) null != d[f].sampleplateposition3VO && d[f].sampleplateposition3VO.samplePlateId == a && d[f].sampleplateposition3VO.rowNumber == b && d[f].sampleplateposition3VO.columnNumber == c && e.push(d[f]);
    return e;
}, Experiment.prototype.getPlateGroups = function() {
    for (var a = this.getSamplePlates(), b = [], c = {}, d = 0; d < a.length; d++) if (null != a[d].plategroup3VO) {
        var e = a[d].plategroup3VO.plateGroupId;
        null == c[e] && (b.push(a[d].plategroup3VO), c[e] = !0);
    }
    return b;
}, Experiment.prototype.getPlatesByPlateGroupId = function(a) {
    for (var b = this.getSamplePlates(), c = [], d = 0; d < b.length; d++) null != b[d].plategroup3VO && b[d].plategroup3VO.plateGroupId == a && c.push(b[d]);
    return c;
}, Experiment.prototype.getMeasurements = function() {
    var a = [], b = this.getSamples();
    if (null == b) return [];
    for (var c = 0; c < b.length; c++) for (var d = b[c], e = 0; e < d.measurements.length; e++) a.push(d.measurements[e]);
    return a;
}, Experiment.prototype.getMeasurementById = function(a) {
    for (var b = this.getMeasurements(), c = 0; c < b.length; c++) if (b[c].measurementId == a) return b[c];
    return null;
}, Experiment.prototype.getMeasurementByDataCollectionId = function(a) {
    for (var b = [], c = this.getDataCollectionById(a), d = 0; d < c.measurementtodatacollection3VOs.length; d++) b.push(this.getMeasurementById(c.measurementtodatacollection3VOs[d].measurementId));
    return b;
}, Experiment.prototype.getDataCollections = function() {
    for (var a = this.json.dataCollections, b = [], c = 0; c < a.length; c++) 0 != a[c].measurementtodatacollection3VOs.length && b.push(a[c]);
    return b;
}, Experiment.prototype.getDataCollectionsBySpecimenId = function(a) {
    for (var b = this.getMeasurementsBySpecimenId(a), c = [], d = {}, e = 0; e < b.length; e++) for (var f = b[e], g = this.getDataCollectionByMeasurementId(f.measurementId), h = 0; h < g.length; h++) null == d[g[h].dataCollectionId] && (d[g[h].dataCollectionId] = !0, 
    c.push(g[h]));
    return c;
}, Experiment.prototype.getMeasurementsBySpecimenId = function(a) {
    for (var b = this.getMeasurements(), c = [], d = 0; d < b.length; d++) b[d].specimenId == a && c.push(b[d]);
    return c;
}, Experiment.prototype.getDataCollectionByMeasurementId = function(a) {
    function b(a, b) {
        return a.dataCollectionOrder - b.dataCollectionOrder;
    }
    for (var c = this.getDataCollections(), d = [], e = 0; e < c.length; e++) if (0 != c[e].measurementtodatacollection3VOs.length) for (var f = 0; f < c[e].measurementtodatacollection3VOs.length; f++) {
        var g = c[e].measurementtodatacollection3VOs[f];
        g.measurementId == a && (c[e].measurementtodatacollection3VOs.sort(b), d.push(c[e]));
    }
    return d;
}, Experiment.prototype.getSubtractionById = function(a) {
    for (var b = this.getDataCollections(), c = 0; c < b.length; c++) if (null != b[c].substraction3VOs && b[c].substraction3VOs.length > 0) for (var d = 0; d < b[c].substraction3VOs.length; d++) if (b[c].substraction3VOs[d].subtractionId == a) return b[c].substraction3VOs[d];
    return null;
}, Experiment.prototype.getDataCollectionById = function(a) {
    for (var b = this.json.dataCollections, c = 0; c < b.length; c++) if (b[c].dataCollectionId == a) return b[c];
}, Experiment.prototype.getVolumeToLoadBySampleId = function(a) {
    var b = this.getSpecimenById(a);
    if (null != b) {
        for (var c = 0, d = 0; d < b.measurements.length; d++) c += Number(b.measurements[d].volumeToLoad);
        return c;
    }
}, ExperimentList.prototype.getSpecimenColorByBufferId = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b], d = c.getSpecimenColorByBufferId(a);
        if (null != d) return d;
    }
    return "black";
}, ExperimentList.prototype.getColorByMacromoleculeId = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b], d = c.getColorByMacromoleculeId(a);
        if (null != d) return d;
    }
    return "black";
}, ExperimentList.prototype.getMeasurements = function() {
    for (var a = [], b = 0; b < this.experiments.length; b++) for (var c = this.experiments[b], d = c.getMeasurements(), e = 0; e < d.length; e++) a.push(d[e]);
    return a;
}, ExperimentList.prototype.getMeasurementByDataCollectionId = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b].getMeasurementByDataCollectionId(a);
        if (0 != c.length) return c;
    }
    return [];
}, ExperimentList.prototype.getMergesByMeasurements = function(a) {
    for (var b = [], c = 0; c < a.length; c++) if (null != a[c].merge3VOs) for (var d = 0; d < a[c].merge3VOs.length; d++) b.push(a[c].merge3VOs[d]);
    return b;
}, ExperimentList.prototype.getSamplePlateById = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b].getSamplePlateById(a);
        if (null != c) return c;
    }
    return null;
}, ExperimentList.prototype.getMergesByDataCollectionId = function(a) {
    return this.getMergesByMeasurements(this.getMeasurementByDataCollectionId(a));
}, ExperimentList.prototype.getMerges = function() {
    return this.getMergesByMeasurements(this.getMeasurements());
}, ExperimentList.prototype.getDataCollectionById = function(a) {
    for (var b = [], c = 0; c < this.experiments.length; c++) {
        var d = this.experiments[c], e = d.getDataCollectionById(a);
        if (null != e) return e;
    }
    return b;
}, ExperimentList.prototype.getDataCollectionByMeasurementId = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b], d = c.getDataCollectionByMeasurementId(a);
        if (null != d) return d;
    }
    return null;
}, ExperimentList.prototype.getMeasurementsNotCollected = function() {
    for (var a = [], b = 0; b < this.experiments.length; b++) for (var c = this.experiments[b], d = c.getMeasurements(), e = 0; e < d.length; e++) null == d[e].run3VO && a.push(d[e]);
    return a;
}, ExperimentList.prototype.getMeasurementsCollected = function() {
    for (var a = [], b = 0; b < this.experiments.length; b++) for (var c = this.experiments[b], d = c.getMeasurements(), e = 0; e < d.length; e++) null != d[e].run3VO && a.push(d[e]);
    return a;
}, ExperimentList.prototype.getMeasurementById = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b].getMeasurementById(a);
        if (null != c) return c;
    }
    return null;
}, ExperimentList.prototype.getBufferById = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b].getBufferById(a);
        if (null != c) return c;
    }
    return null;
}, ExperimentList.prototype.getSampleById = function(a) {
    for (var b = 0; b < this.experiments.length; b++) {
        var c = this.experiments[b].getSampleById(a);
        if (null != c) return c;
    }
    return null;
}, ExperimentList.prototype.getSamplesByCondition = function(a, b) {
    for (var c = [], d = 0; d < this.experiments.length; d++) for (var e = this.experiments[d].getSamples(), f = 0; f < e.length; f++) null != e[f].macromolecule3VO && e[f].macromolecule3VO.macromoleculeId == a && e[f].bufferId == b && c.push(e[f]);
    return c;
}, ExperimentList.prototype.getFrames = function(a) {
    for (var b = [], c = 0; c < a.length; c++) {
        var d = a[c];
        if (null != d.framelist3VO && null != d.framelist3VO.frametolist3VOs) for (var e = 0; e < d.framelist3VO.frametolist3VOs.length; e++) {
            var f = d.framelist3VO.frametolist3VOs[e].frame3VO;
            null != f && b.push(f);
        }
    }
    return b;
}, ExperimentSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, ExperimentSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
ExperimentSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, ExperimentSaxsDataAdapter.prototype.getByExperimentByKey = function(a, b) {
    this.get("/{token}/proposal/{proposal}/saxs/experiment/{0}/{1}/list".format([ a.toString(), b.toString() ]));
}, ExperimentSaxsDataAdapter.prototype.getExperiments = function() {
    this.get("/{token}/proposal/{proposal}/saxs/experiment/list");
}, ExperimentSaxsDataAdapter.prototype.getExperimentById = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/experiment/{0}/get".format([ a ]));
}, ExperimentSaxsDataAdapter.prototype.getExperimentsBySessionId = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/experiment/session/{0}/list".format([ a ]));
}, ExperimentSaxsDataAdapter.prototype.getByExperimentId = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/experiment/experimentId/{0}/list".format([ a ]));
}, ExperimentSaxsDataAdapter.prototype.saveExperiment = function(a, b, c) {
    var d = "/{token}/proposal/{proposal}/saxs/experiment/{0}/save".format([ a ]);
    this.post(d, {
        name: b,
        comments: c
    });
}, FrameSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, FrameSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
FrameSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, FrameSaxsDataAdapter.prototype.getFramesByAverageId = function(a) {
    this.get("/{0}/saxs/{1}/frame/average/{0}/list".format([ a.toString() ]));
}, FrameSaxsDataAdapter.prototype.getFramesURL = function(a, b, c, d, e, f) {
    null == a && (a = []), null == b && (b = []), null == c && (c = []), null == d && (d = []), 
    null == e && (e = []), null == f && (f = []);
    var g = EXI.credentialManager.getConnections()[0];
    return g.url + "/{0}/proposal/{1}/saxs/frame/datplot?frame={2}&average={3}&subtracted={4}&sampleaverage={5}&bufferaverage={6}&models={7}".format([ g.token, g.user, a.toString(), b.toString(), c.toString(), d.toString(), e.toString(), f.toString() ]);
}, HPLCSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, HPLCSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
HPLCSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, HPLCSaxsDataAdapter.prototype.getHPLCOverviewByExperimentId = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/experiment/{0}/hplc/overview".format([ a ]));
}, HPLCSaxsDataAdapter.prototype.getHPLCFramesScatteringURL = function(a, b) {
    var c = EXI.credentialManager.getConnections()[0];
    return this.getUrl(c, "/{token}/proposal/{proposal}/saxs/experiment/{0}/hplc/frame/{1}/get?operation=log".format([ a, b.toString() ]));
}, MacromoleculeSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, MacromoleculeSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
MacromoleculeSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, MacromoleculeSaxsDataAdapter.prototype.saveMacromolecule = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/macromolecule/save";
    this.post(b, {
        macromolecule: JSON.stringify(a)
    });
}, MacromoleculeSaxsDataAdapter.prototype.getMacromolecules = function() {
    this.get("/{token}/proposal/{proposal}/saxs/macromolecule/list");
}, MacromoleculeSaxsDataAdapter.prototype.getContactDescriptionUploadFileURL = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/saxs/macromolecule/{0}/contactfile/upload".format([ a ]));
}, MacromoleculeSaxsDataAdapter.prototype.removeContactDescriptionFile = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/macromolecule/{0}/contactfile/remove".format([ a ]));
}, MacromoleculeSaxsDataAdapter.prototype.getAddPDBURL = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/saxs/macromolecule/{0}/pdb/upload".format([ a ]));
}, MacromoleculeSaxsDataAdapter.prototype.removeStructure = function(a, b) {
    this.get("/{token}/proposal/{proposal}/saxs/macromolecule/{0}/pdb/{1}/remove".format([ a, b ]));
}, MacromoleculeSaxsDataAdapter.prototype.saveStructure = function(a, b, c, d) {
    var e = "/{token}/proposal/{proposal}/saxs/macromolecule/{0}/pdb/{1}/save".format([ a, b ]);
    this.post(e, {
        symmetry: d,
        multiplicity: c
    });
}, MeasurementSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, MeasurementSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
MeasurementSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, MeasurementSaxsDataAdapter.prototype.saveMeasurement = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/measurement/save";
    this.post(b, {
        measurement: JSON.stringify(a)
    });
}, MeasurementSaxsDataAdapter.prototype.removeMeasurement = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/measurement/{0}/remove".format([ a.measurementId ]);
    this.get(b);
}, MeasurementSaxsDataAdapter.prototype.sortMeasurements = function(a, b) {
    this.get("/{token}/proposal/{proposal}/saxs/measurement/experiment/{0}/type/{1}/sort".format([ a, b ]));
}, ModelSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, ModelSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
ModelSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, ModelSaxsDataAdapter.prototype.saveMeasurement = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/measurement/save";
    this.post(b, {
        measurement: JSON.stringify(a)
    });
}, ModelSaxsDataAdapter.prototype.removeMeasurement = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/measurement/{0}/remove".format([ a.measurementId ]);
    this.get(b);
}, ModelSaxsDataAdapter.prototype.getPDB = function(a, b) {
    var c = "/{token}/proposal/{proposal}/saxs/modeling/pdb/get";
    this.post(c, {
        models: JSON.stringify(a)
    });
}, SpecimenSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, SpecimenSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
SpecimenSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, SpecimenSaxsDataAdapter.prototype.saveSpecimen = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/specimen/save";
    this.post(b, {
        specimen: JSON.stringify(a)
    });
}, SpecimenSaxsDataAdapter.prototype.mergeSpecimens = function(a, b) {
    var c = "/{token}/proposal/{proposal}/saxs/specimen/merge";
    this.post(c, {
        sourceSpecimenId: a,
        targetSpecimenId: b
    });
}, StockSolutionSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, StockSolutionSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
StockSolutionSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, StockSolutionSaxsDataAdapter.prototype.getStockSolutions = function() {
    this.get("/{token}/proposal/{proposal}/saxs/stocksolution/list");
}, StockSolutionSaxsDataAdapter.prototype.saveStockSolution = function(a) {
    var b = "/{token}/proposal/{proposal}/saxs/stocksolution/save";
    this.post(b, {
        stocksolution: JSON.stringify(a)
    });
}, SubtractionSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, SubtractionSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
SubtractionSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, SubtractionSaxsDataAdapter.prototype.getSubtractionsBySubtractionIdList = function(a) {
    this.get("/{token}/proposal/{proposal}/saxs/subtraction/{0}/list".format([ a.toString() ]));
}, SubtractionSaxsDataAdapter.prototype.getImage = function(a, b) {
    var c = EXI.credentialManager.getConnections()[0];
    return this.getUrl(c, "/{token}/proposal/{proposal}/saxs/subtraction/{0}/image/{1}".format([ a, b ]));
}, SubtractionSaxsDataAdapter.prototype.getZip = function(a) {
    var b = EXI.credentialManager.getConnections()[0];
    return this.getUrl(b, "/{token}/proposal/{proposal}/saxs/subtraction/{0}/zip".format([ a ]));
}, TemplateSaxsDataAdapter.prototype.get = DataAdapter.prototype.get, TemplateSaxsDataAdapter.prototype.post = DataAdapter.prototype.post, 
TemplateSaxsDataAdapter.prototype.getUrl = DataAdapter.prototype.getUrl, TemplateSaxsDataAdapter.prototype.getTemplateSourceFile = function(a, b) {
    var c = EXI.credentialManager.getConnections();
    return this.getUrl(c[0], "/{token}/proposal/{proposal}/saxs/experiment/{0}/samplechanger/type/{1}/template".format([ a, b ]));
}, TemplateSaxsDataAdapter.prototype.saveTemplate = function(a, b, c, d) {
    var e = "/{token}/proposal/{proposal}/saxs/experiment/save";
    this.post(e, {
        name: a,
        comments: b,
        experimentId: d,
        measurements: c.toString()
    });
}, MainMenu.prototype.getMenuItems = function() {
    return [];
}, MainMenu.prototype.getHomeItem = function() {
    return {
        text: this._convertToHTMLWhiteSpan("Home"),
        cls: "ExiSAXSMenuToolBar",
        icon: "../images/icon/rsz_ic_home_black_24dp.png",
        handler: function() {
            if (null != EXI.credentialManager.getCredentials()) if (EXI.credentialManager.getCredentials().length > 0) {
                var a = EXI.credentialManager.getCredentials()[0].username, b = EXI.credentialManager.getCredentialByUserName(EXI.credentialManager.getCredentials()[0].username);
                b.isManager() ? location.hash = "/welcome/manager/" + a + "/main" : location.hash = "/welcome/user/" + a + "/main";
            } else BUI.showError("You should sign up"); else BUI.showError("You should sign up");
        }
    };
}, MainMenu.prototype.getShipmentItem = function() {
    function a(a, b) {
        "Shipments" == a.text && (location.hash = "/proposal/shipping/nav"), "Manage shipping addresses" == a.text && (location.hash = "/proposal/addresses/nav"), 
        "Shipment List" == a.text && (location.hash = "/proposal/shipping/nav");
    }
    function b() {
        function a(a, b) {
            "Stock Solutions" == a.text && (location.hash = "/saxs/stocksolution/nav");
        }
        return Ext.create("Ext.menu.Menu", {
            items: [ {
                text: "Stock Solutions",
                icon: "../images/icon/testtube.png",
                handler: a
            } ]
        });
    }
    return {
        text: this._convertToHTMLWhiteSpan("Shipment"),
        cls: "ExiSAXSMenuToolBar",
        menu: Ext.create("Ext.menu.Menu", {
            items: [ {
                text: "BioSAXS",
                icon: "../images/icon/macromolecule.png",
                menu: b()
            }, {
                text: "Manage shipping addresses",
                icon: "../images/icon/contacts.png",
                handler: a
            }, {
                text: "Shipments",
                icon: "../images/icon/shipping.png",
                handler: a
            } ]
        })
    };
}, MainMenu.prototype.getHelpMenu = function() {
    function a(a, b) {
        "ISPyB Web services API Map" == a.text && window.open("/exi/documentation/ispyb-api-ws/print.html"), 
        "Job list" == a.text && (location.hash = "/tool/list");
    }
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: "Developer",
            checked: !1,
            group: "theme",
            menu: {
                items: [ {
                    text: "ISPyB Web services API Map",
                    handler: a
                }, {
                    text: "How to retrieve data from ISPyB?",
                    handler: a
                }, {
                    text: "EXI Router",
                    handler: a
                }, {
                    text: "EXI List Views Objects",
                    handler: a
                }, {
                    text: "EXI Main View Objects",
                    handler: a
                } ]
            }
        }, "-", {
            text: "About",
            checked: !1,
            group: "theme",
            handler: a
        } ]
    });
}, MainMenu.prototype.getAddCredentialMenu = function() {
    return null != EXI.credentialManager.getCredentials() && EXI.credentialManager.getCredentials().length > 0 ? {
        icon: "../images/icon/rsz_1ic_input_black_24dp.png",
        height: 30,
        text: "Add",
        handler: function() {
            window.location.href = "#/login";
        }
    } : void 0;
}, MainMenu.prototype.populateCredentialsMenu = function() {
    this.credentialsMenu.removeAll();
    var a = "";
    if (null != EXI.credentialManager.getCredentials()) for (var b = 0; b < EXI.credentialManager.getCredentials().length; b++) if (a = EXI.credentialManager.getCredentials()[b].username, 
    EXI.credentialManager.getCredentials()[b].activeProposals.length > 0) for (var c = 0; c < EXI.credentialManager.getCredentials()[b].activeProposals.length; c++) a = EXI.credentialManager.getCredentials()[b].activeProposals[c] + "@" + EXI.credentialManager.getCredentials()[b].username, 
    this.credentialsMenu.add({
        text: a,
        icon: "../images/icon/rsz_esrflogo80.gif",
        disabled: !0
    }); else this.credentialsMenu.add({
        text: a,
        icon: "../images/icon/rsz_esrflogo80.gif",
        disabled: !0
    });
    EXI.credentialManager.getCredentials().length > 0 ? (Ext.getCmp(this.loginButtonId).setText("<span style='color:white'>Log out <span style='font-weight:bold;'>" + a + " </span> </span>"), 
    Ext.getCmp(this.loginButtonId).setIcon("../images/rsz_logout.png")) : (Ext.getCmp(this.loginButtonId).setText("<span style='color:white'>Sign In</span>"), 
    Ext.getCmp(this.loginButtonId).setIcon("../images/rsz_login.png"));
}, MainMenu.prototype._convertToHTMLWhiteSpan = function(a) {
    return '<span style="color:white">' + a + "</span>";
}, MainMenu.prototype.isLoggedIn = function() {
    return EXI.credentialManager.getCredentials().length > 0;
}, MainMenu.prototype.getLoginButton = function() {
    var a = "../images/rsz_login.png", b = this._convertToHTMLWhiteSpan("Sign In");
    return EXI.credentialManager.getCredentials().length > 0 && (a = "../images/rsz_logout.png", 
    b = this._convertToHTMLWhiteSpan("log out")), {
        xtype: "splitbutton",
        id: this.loginButtonId,
        text: b,
        cls: "button_log_out",
        icon: a,
        menu: this.credentialsMenu,
        handler: function() {
            0 == EXI.credentialManager.getCredentials().length ? location.hash = "/login" : location.hash = "/logout";
        }
    };
}, MainMenu.prototype.getPanel = function() {
    var a = this;
    this.credentialsMenu = new Ext.menu.Menu({
        id: a.id + "menu",
        items: [ a.getAddCredentialMenu() ]
    });
    var b = this.getMenuItems();
    return b.push("->"), b.push(this.getLoginButton()), this.tb = Ext.create("Ext.toolbar.Toolbar", {
        cls: this.cssClass,
        listeners: {
            afterrender: function(a, b) {}
        },
        items: b
    }), this.tb;
}, MXMainMenu.prototype.populateCredentialsMenu = MainMenu.prototype.populateCredentialsMenu, 
MXMainMenu.prototype.init = MainMenu.prototype.init, MXMainMenu.prototype.getPanel = MainMenu.prototype.getPanel, 
MXMainMenu.prototype._convertToHTMLWhiteSpan = MainMenu.prototype._convertToHTMLWhiteSpan, 
MXMainMenu.prototype.getAddCredentialMenu = MainMenu.prototype.getAddCredentialMenu, 
MXMainMenu.prototype.getLoginButton = MainMenu.prototype.getLoginButton, MXMainMenu.prototype.setText = MainMenu.prototype.setText, 
MXMainMenu.prototype.getHomeItem = MainMenu.prototype.getHomeItem, MXMainMenu.prototype.getHelpMenu = MainMenu.prototype.getHelpMenu, 
MXMainMenu.prototype.getShipmentItem = MainMenu.prototype.getShipmentItem, MXMainMenu.prototype.getMenuItems = function() {
    return [ this.getHomeItem(), this.getShipmentItem(), {
        text: this._convertToHTMLWhiteSpan("Data Explorer"),
        cls: "ExiSAXSMenuToolBar",
        menu: this.getDataExplorerMenu()
    }, {
        text: this._convertToHTMLWhiteSpan("Offline Data Analysis"),
        cls: "ExiSAXSMenuToolBar",
        menu: this.getOnlineDataAnalisysMenu()
    }, {
        text: this._convertToHTMLWhiteSpan("Help"),
        cls: "ExiSAXSMenuToolBar",
        menu: this.getHelpMenu()
    }, "->", {
        xtype: "textfield",
        name: "field1",
        value: "1460800",
        emptyText: "search by data collection Id",
        listeners: {
            specialkey: function(a, b) {
                b.getKey() == b.ENTER && (location.hash = "/autoprocintegration/datacollection/" + a.getValue() + "/main");
            }
        }
    } ];
}, MXMainMenu.prototype.getOnlineDataAnalisysMenu = function() {
    function a(a, b) {
        "Dimple" == a.text && (location.hash = "/tool/dimple/main"), "Job list" == a.text && (location.hash = "/tool/list");
    }
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: "Dimple",
            checked: !1,
            group: "theme",
            handler: a
        }, "-", {
            text: "Job list",
            checked: !1,
            group: "theme",
            handler: a
        } ]
    });
}, MXMainMenu.prototype.getDataExplorerMenu = function() {
    function a(a, b) {
        "Sessions" == a.text && (location.hash = "/session/nav"), "Experiments" == a.text && (location.hash = "/experiment/nav");
    }
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: "Sessions",
            icon: "../images/icon/sessions.png",
            handler: a
        } ]
    });
}, SAXSMainMenu.prototype.populateCredentialsMenu = MainMenu.prototype.populateCredentialsMenu, 
SAXSMainMenu.prototype.init = MainMenu.prototype.init, SAXSMainMenu.prototype.getPanel = MainMenu.prototype.getPanel, 
SAXSMainMenu.prototype._convertToHTMLWhiteSpan = MainMenu.prototype._convertToHTMLWhiteSpan, 
SAXSMainMenu.prototype.getAddCredentialMenu = MainMenu.prototype.getAddCredentialMenu, 
SAXSMainMenu.prototype.getLoginButton = MainMenu.prototype.getLoginButton, SAXSMainMenu.prototype.setText = MainMenu.prototype.setText, 
SAXSMainMenu.prototype.getHelpMenu = MainMenu.prototype.getHelpMenu, SAXSMainMenu.prototype.getHomeItem = MainMenu.prototype.getHomeItem, 
SAXSMainMenu.prototype.getShipmentItem = MainMenu.prototype.getShipmentItem, SAXSMainMenu.prototype.getMenuItems = function() {
    return [ this.getHomeItem(), this.getShipmentItem(), {
        text: this._convertToHTMLWhiteSpan("Prepare Experiment"),
        cls: "ExiSAXSMenuToolBar",
        hidden: this.isHidden,
        menu: this.getPreparationMenu()
    }, {
        text: this._convertToHTMLWhiteSpan("Data Explorer"),
        cls: "ExiSAXSMenuToolBar",
        hidden: this.isHidden,
        menu: this.getDataExplorerMenu()
    }, {
        text: this._convertToHTMLWhiteSpan("Help"),
        cls: "ExiSAXSMenuToolBar",
        menu: this.getHelpMenu()
    }, "->", {
        xtype: "textfield",
        name: "field1",
        emptyText: "search macromolecule",
        hidden: this.isHidden,
        listeners: {
            specialkey: function(a, b) {
                b.getKey() == b.ENTER && (location.hash = "/datacollection/macromoleculeAcronym/" + a.getValue() + "/main");
            }
        }
    } ];
}, SAXSMainMenu.prototype.getPreparationMenu = function() {
    function a(a, b) {
        "Macromolecules" == a.text && (location.hash = "/saxs/macromolecule/nav"), "Buffers" == a.text && (location.hash = "/saxs/buffer/nav"), 
        "Sample Tracking" == a.text && (location.hash = "/saxs/shipping/nav"), "My Experiments" == a.text && (location.hash = "/saxs/template/nav");
    }
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: "Macromolecules",
            icon: "../images/icon/macromolecule.png",
            handler: a
        }, {
            text: "Buffers",
            icon: "../images/icon/buffer.jpg",
            handler: a
        }, "-", {
            text: "My Experiments",
            icon: "../images/icon/edit.png",
            handler: a
        } ]
    });
}, SAXSMainMenu.prototype.getDataExplorerMenu = function() {
    function a(a, b) {
        "Sessions" == a.text && (location.hash = "/proposal/session/nav"), "Experiments" == a.text && (location.hash = "/experiment/nav");
    }
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: "Sessions",
            icon: "../images/icon/sessions.png",
            handler: a
        } ]
    });
}, SAXSMainMenu.prototype.getDataReductionMenu = function() {
    function a(a, c) {
        "Sessions" == a.text && b.onSessionClicked.notify(), "Subtraction" == a.text && (location.hash = "/tool/subtraction/main"), 
        "Experiments" == a.text && b.onExperimentClicked.notify();
    }
    var b = this;
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: '<span class="menuCategoryItem">SEC</span>'
        }, "-", {
            text: "Background Test"
        }, {
            text: "Baseline Checker"
        }, {
            text: "Frame Merge"
        }, "-", {
            text: '<span class="menuCategoryItem">INDIVIDUAL CONCENTRATION</span>'
        }, "-", {
            text: "Subtraction",
            checked: !1,
            group: "theme",
            checkHandler: a
        }, {
            text: "Average"
        }, "-", {
            text: '<span class="menuCategoryItem">COMBINING</span>'
        }, "-", {
            text: "Merging tool"
        } ]
    });
}, SAXSMainMenu.prototype.getOnlineDataAnalisysMenu = function() {
    function a(a, b) {
        "Structure Validation" == a.text && (location.hash = "/tool/crysol/main"), "Job list" == a.text && (location.hash = "/tool/list");
    }
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: "Structure Validation",
            checked: !1,
            group: "theme",
            handler: a
        }, "-", {
            text: "Job list",
            checked: !1,
            group: "theme",
            handler: a
        } ]
    });
}, ExiController.prototype.loadNavigationPanel = function(a) {
    EXI.clearNavigationPanel(), EXI.setLoadingNavigationPanel(!0);
    var b = function(b, c) {
        EXI.addNavigationPanel(a), a.load(c), EXI.setLoadingNavigationPanel(!1);
    }, c = function(a, b) {
        EXI.setLoadingNavigationPanel(!1);
    };
    return EXI.getDataAdapter({
        onSuccess: b,
        onError: c
    });
}, ExiController.prototype.init = function() {
    function a() {}
    function b() {}
    Path.map("#/").to(function() {
        location.hash = "/welcome";
    }).enter(a), Path.map("#/login").to(function() {
        EXI.authenticationForm.show();
    }).enter(a), Path.map("#/welcome").to(function() {
        EXI.addMainPanel(new WelcomeMainView());
    }).enter(a), Path.map("#/welcome/user/:user/main").to(function() {
        var a = this.params.user, b = new UserWelcomeMainView();
        EXI.addMainPanel(b), b.load(a);
    }).enter(a), Path.map("#/welcome/manager/:user/main").to(function() {
        var a = this.params.user, b = new ManagerWelcomeMainView();
        EXI.addMainPanel(b), b.load(a);
    }).enter(a), Path.map("#/logout").to(function() {
        EXI.credentialManager.logout(), EXI.proposalManager.clear();
    }).enter(a), Path.root("#/"), Path.rescue(b);
}, MXExiController.prototype.routeNavigation = function() {
    Path.map("#/:navigation/nav").to(function() {
        if ("session" == this.params.navigation) {
            EXI.clearNavigationPanel(), EXI.setLoadingNavigationPanel(!0);
            var a = new SessionListView();
            a.onSelect.attach(function(a, b) {
                location.hash = "/datacollection/session/" + b[0].sessionId + "/main";
            }), EXI.addNavigationPanel(a), a.load(EXI.proposalManager.getSessions()), EXI.setLoadingNavigationPanel(!1);
        }
    }).enter(this.setPageBackground), Path.map("#/autoprocintegration/datacollection/:datacollectionId/main").to(function() {
        var a = new AutoProcIntegrationMainView();
        EXI.addMainPanel(a), a.load(this.params.datacollectionId), a.onSelect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.append(b);
        }), a.onDeselect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.remove(b);
        });
    }).enter(this.setPageBackground), Path.map("#/mx/datacollection/session/:sessionId/main").to(function() {
        var a = new DataCollectionMxMainView();
        EXI.addMainPanel(a), a.load(this.params.sessionId), a.onSelect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.append(b);
        }), a.onDeselect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.remove(b);
        });
    }).enter(this.setPageBackground), Path.map("#/mx/datacollection/:dataCollectionId/image/:imageId/main").to(function() {
        var a = new ImageMainView();
        EXI.addMainPanel(a), a.load(this.params.imageId, this.params.dataCollectionId);
    }).enter(this.setPageBackground), Path.map("#/mx/image/:imageId/main").to(function() {
        var a = new ImageMainView();
        EXI.addMainPanel(a), a.load(this.params.imageId);
    }).enter(this.setPageBackground);
}, MXExiController.prototype.setPageBackground = function() {}, MXExiController.prototype.notFound = function() {}, 
MXExiController.prototype.init = function() {
    function a() {
        b.notFound();
    }
    var b = this;
    this.routeNavigation(), Path.rescue(a);
}, OfflineExiController.prototype.setPageBackground = function() {}, OfflineExiController.prototype.notFound = function() {}, 
OfflineExiController.prototype.init = function() {
    function a() {
        b.notFound();
    }
    var b = this;
    Path.map("#/tool/dimple/main").to(function() {
        var a = new DimpleMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/tool/crysol/main").to(function() {
        var a = new CrysolMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/tool/subtraction/main").to(function() {
        var a = new SubtractionMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/tool/list").to(function() {
        var a = null, b = new RunListView();
        b.onSelect.attach(function(b, c) {
            var d = c[0].internalId, e = a.internalId;
            "Dimple" == c[0].tool ? location.hash = "/project/" + e + "/dimple/" + d + "/main" : location.hash = "/project/" + e + "/run/" + d + "/main";
        }), EXI.clearNavigationPanel(), EXI.setLoadingNavigationPanel(!0);
        var c = function(c, d) {
            a = d[0], EXI.addNavigationPanel(b), b.load(d[0].runs.reverse()), EXI.setLoadingNavigationPanel(!1);
        }, d = function(a, b) {
            EXI.setLoadingNavigationPanel(!1);
        };
        EXI.getDataAdapter({
            onSuccess: c,
            onError: d
        }).exi.offline.getProject();
    }).enter(this.setPageBackground), Path.map("#/project/:projectId/run/:runId/main").to(function() {
        var a = this.params.projectId, b = this.params.runId, c = function(a, c) {
            for (var d = 0; d < c.length; d++) if (c[d].internalId == b) {
                var e = new RunMainView();
                EXI.addMainPanel(e), e.load(c[d]);
            }
        }, d = function(a) {
            BUI.showError("There was an error");
        };
        EXI.getDataAdapter({
            onSuccess: c,
            onError: d
        }).exi.offline.getRuns(a);
    }).enter(this.setPageBackground), Path.map("#/project/:projectId/dimple/:runId/main").to(function() {
        var a = this.params.projectId, b = this.params.runId, c = function(a, c) {
            for (var d = 0; d < c.length; d++) if (c[d].internalId == b) {
                var e = new DimpleRunMainView();
                EXI.addMainPanel(e), e.load(c[d]);
            }
        }, d = function(a) {
            BUI.showError("There was an error");
        };
        EXI.getDataAdapter({
            onSuccess: c,
            onError: d
        }).exi.offline.getRuns(a);
    }).enter(this.setPageBackground), Path.rescue(a);
}, ProposalExiController.prototype.loadNavigationPanel = ExiController.prototype.loadNavigationPanel, 
ProposalExiController.prototype.setPageBackground = function() {}, ProposalExiController.prototype.notFound = function() {}, 
ProposalExiController.prototype.init = function() {
    function a(a) {
        return c.loadNavigationPanel(a);
    }
    function b() {
        var b = new ShippingListView();
        b.onSelect.attach(function(a, b) {
            location.hash = "/shipping/" + b[0].shippingId + "/main";
        }), e = a(b), e.proposal.shipping.getShippings();
    }
    var c = this, d = null, e = null;
    Path.map("#/proposal/shipping/nav?nomain").to(function() {
        b();
    }), Path.map("#/proposal/:navigation/nav").to(function() {
        "session" == this.params.navigation && (d = new SessionListView(), d.onSelect.attach(function(a, b) {
            "SAXS" == EXI.credentialManager.getTechniqueByBeamline(b[0].beamlineName) ? location.hash = "/session/nav/" + b[0].sessionId + "/session" : location.hash = "/mx/datacollection/session/" + b[0].sessionId + "/main";
        }), e = a(d), e.proposal.session.getSessions()), "addresses" == this.params.navigation && (EXI.clearNavigationPanel(), 
        EXI.setLoadingNavigationPanel(!0), d = new AddressListView(), d.onSelect.attach(function(a, b) {
            location.hash = "/proposal/address/" + b[0].labContactId + "/main";
        }), EXI.addNavigationPanel(d), e = a(d), e.proposal.shipping.getLabContacts(), EXI.addMainPanel(new AddressWelcomeMainView())), 
        "shipping" == this.params.navigation && (b(), EXI.addMainPanel(new ShippingWelcomeMainView()));
    }).enter(this.setPageBackground), Path.map("#/shipping/:shippingId/main").to(function() {
        var a = new ShippingMainView();
        EXI.addMainPanel(a), a.load(this.params.shippingId);
    }).enter(this.setPageBackground), Path.map("#/shipping/main").to(function() {
        var a = new ShippingMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/proposal/address/:lacontactId/main").to(function() {
        var a = new AddressMainView();
        EXI.addMainPanel(a), a.load(this.params.lacontactId);
    }).enter(this.setPageBackground), Path.map("#/puck/:containerId/main").to(function() {
        var a = new PuckMainView();
        EXI.addMainPanel(a), a.load(this.params.containerId);
    }).enter(this.setPageBackground);
}, SAXSExiController.prototype.loadNavigationPanel = ExiController.prototype.loadNavigationPanel, 
SAXSExiController.prototype.routeNavigation = function() {
    function a(a) {
        return b.loadNavigationPanel(a);
    }
    var b = this;
    Path.map("#/saxs/:navigation/nav").to(function() {
        var b = null;
        if ("buffer" == this.params.navigation && (EXI.clearNavigationPanel(), EXI.setLoadingNavigationPanel(!0), 
        b = new BufferListView(), b.onSelect.attach(function(a, b) {
            location.hash = "/buffer/" + b[0].bufferId + "/main";
        }), EXI.addNavigationPanel(b), b.load(EXI.proposalManager.getBuffers()), EXI.setLoadingNavigationPanel(!1), 
        EXI.addMainPanel(new BufferWelcomeMainView())), "stocksolution" == this.params.navigation && (EXI.clearNavigationPanel(), 
        EXI.setLoadingNavigationPanel(!0), b = new StockSolutionListView(), b.onSelect.attach(function(a, b) {
            location.hash = "/stocksolution/" + b[0].stockSolutionId + "/main";
        }), EXI.addNavigationPanel(b), b.load(EXI.proposalManager.getStockSolutions()), 
        EXI.setLoadingNavigationPanel(!1), EXI.addMainPanel(new StockSolutionWelcomeMainView())), 
        "macromolecule" == this.params.navigation && (EXI.clearNavigationPanel(), EXI.setLoadingNavigationPanel(!0), 
        b = new MacromoleculeListView(), b.onSelect.attach(function(a, b) {
            location.hash = "/macromolecule/" + b[0].macromoleculeId + "/main";
        }), EXI.addNavigationPanel(b), b.load(EXI.proposalManager.getMacromolecules()), 
        EXI.setLoadingNavigationPanel(!1), EXI.addMainPanel(new MacromoleculeWelcomeMainView())), 
        "template" == this.params.navigation) {
            EXI.clearNavigationPanel(), EXI.setLoadingNavigationPanel(!0), b = new TemplateListView(), 
            b.onSelect.attach(function(a, b) {
                location.hash = "/experiment/templateId/" + b[0].experimentId + "/main";
            });
            var c = a(b);
            c.saxs.experiment.getByExperimentByKey("experimentType", "TEMPLATE"), EXI.addMainPanel(new ExperimentWelcomeMainView());
        }
    }).enter(this.setPageBackground), Path.map("#/session/nav/:sessionId/session").to(function() {
        var b = new ExperimentListView();
        b.onSelect.attach(function(a, b) {
            "HPLC" == b[0].experimentType && (location.hash = "/experiment/hplc/" + b[0].experimentId + "/main"), 
            ("STATIC" == b[0].experimentType || "CALIBRATION" == b[0].experimentType) && (location.hash = "/experiment/experimentId/" + b[0].experimentId + "/main"), 
            "TEMPLATE" == b[0].experimentType && (location.hash = "/experiment/templateId/" + b[0].experimentId + "/main");
        }), a(b).saxs.experiment.getExperimentsBySessionId(this.params.sessionId);
    }).enter(this.setPageBackground);
}, SAXSExiController.prototype.setPageBackground = function() {}, SAXSExiController.prototype.notFound = function() {}, 
SAXSExiController.prototype.routeExperiment = function() {
    Path.map("#/experiment/experimentId/:experimentId/main").to(function() {
        var a = new ExperimentMainView();
        EXI.addMainPanel(a), a.load(this.params.experimentId), a.onSelect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.append(b);
        }), a.onDeselect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.remove(b);
        });
    }).enter(this.setPageBackground), Path.map("#/experiment/hplc/:experimentId/main").to(function() {
        var a = new HPLCMainView();
        EXI.addMainPanel(a), a.load(this.params.experimentId), a.onSelect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.append(b);
        }), a.onDeselect.attach(function(a, b) {
            EXI.localExtorage.selectedSubtractionsManager.remove(b);
        });
    }).enter(this.setPageBackground), Path.map("#/experiment/:key/:value/main").to(function() {
        EXI.setLoadingMainPanel();
        var a = function(a, b) {
            if (EXI.setLoadingMainPanel(!1), null != b && b.length > 0) {
                var c = null;
                "STATIC" == b[0].experimentType && (c = new ExperimentMainView()), "HPLC" == b[0].experimentType && (c = new HPLCMainView()), 
                "TEMPLATE" == b[0].experimentType && (c = new TemplateMainView()), EXI.addMainPanel(c), 
                c.load(b), c.onSelect.attach(function(a, b) {
                    EXI.localExtorage.selectedSubtractionsManager.append(b);
                }), c.onDeselect.attach(function(a, b) {
                    EXI.localExtorage.selectedSubtractionsManager.remove(b);
                });
            }
        };
        "experimentId" == this.params.key || "templateId" == this.params.key ? EXI.getDataAdapter({
            onSuccess: a
        }).saxs.experiment.getByExperimentId([ this.params.value ]) : EXI.getDataAdapter({
            onSuccess: a
        }).saxs.experiment.getByExperimentByKey(this.params.key, this.params.value);
    }).enter(this.setPageBackground);
}, SAXSExiController.prototype.routeDataCollection = function() {
    Path.map("#/datacollection/macromoleculeAcronym/:value/main").to(function() {
        EXI.setLoadingMainPanel("Searching " + this.params.value + "...");
        var a = function(a, b) {
            if (null != b) if (b.length > 0) {
                var c = new DataCollectionMainView();
                EXI.addMainPanel(c), c.load(b), c.onSelect.attach(function(a, b) {
                    EXI.localExtorage.selectedSubtractionsManager.append(b);
                }), c.onDeselect.attach(function(a, b) {
                    EXI.localExtorage.selectedSubtractionsManager.remove(b);
                });
                var d = new DataCollectionListView();
                d.onSelect.attach(function(a, b) {
                    c.filter(b[0].macromoleculeId, b[0].bufferAcronym);
                }), EXI.addNavigationPanel(d), d.load(b), EXI.setLoadingNavigationPanel(!1);
            } else BUI.showWarning("No macromolecule has been found"); else BUI.showWarning("No data to display");
            EXI.setLoadingMainPanel(!1);
        };
        EXI.getDataAdapter({
            onSuccess: a
        }).saxs.dataCollection.getDataCollectionsByKey(this.params.key, this.params.value);
    }).enter(this.setPageBackground), Path.map("#/saxs/datacollection/:key/:value/main").to(function() {
        EXI.setLoadingMainPanel();
        var a = function(a, b) {
            var c = new DataCollectionMainView();
            EXI.addMainPanel(c), c.load(b), EXI.setLoadingMainPanel(!1), c.onSelect.attach(function(a, b) {
                EXI.localExtorage.selectedSubtractionsManager.append(b);
            }), c.onDeselect.attach(function(a, b) {
                EXI.localExtorage.selectedSubtractionsManager.remove(b);
            });
        };
        EXI.getDataAdapter({
            onSuccess: a
        }).saxs.dataCollection.getDataCollectionsByKey(this.params.key, this.params.value);
    }).enter(this.setPageBackground), Path.map("#/saxs/datacollection/:key/:value/primaryviewer").to(function() {
        var a = function(a, b) {
            var c = new PrimaryDataMainView();
            EXI.addMainPanel(c), c.load(b);
        };
        EXI.getDataAdapter({
            onSuccess: a
        }).saxs.dataCollection.getDataCollectionsByKey(this.params.key, this.params.value);
    }).enter(this.setPageBackground), Path.map("#/saxs/datacollection/:key/:value/merge").to(function() {
        var a = function(a, b) {
            var c = new MergeMainView();
            EXI.addMainPanel(c), c.load(b);
        };
        EXI.getDataAdapter({
            onSuccess: a
        }).saxs.dataCollection.getDataCollectionsByKey(this.params.key, this.params.value);
    }).enter(this.setPageBackground);
}, SAXSExiController.prototype.routePrepare = function() {
    Path.map("#/buffer/:bufferId/main").to(function() {
        var a = new BufferMainView();
        EXI.addMainPanel(a), a.load(this.params.bufferId);
    }).enter(this.setPageBackground), Path.map("#/buffer/add").to(function() {
        var a = new BufferMainView();
        EXI.addMainPanel(a);
    }).enter(this.setPageBackground), Path.map("#/macromolecule/:macromoleculeId/main").to(function() {
        var a = new MacromoleculeMainView();
        EXI.addMainPanel(a), a.load(this.params.macromoleculeId);
    }).enter(this.setPageBackground), Path.map("#/macromolecule/add").to(function() {
        var a = new MacromoleculeMainView();
        EXI.addMainPanel(a);
    }).enter(this.setPageBackground), Path.map("#/stocksolution/:stocksolutionId/main").to(function() {
        var a = new StockSolutionMainView();
        EXI.addMainPanel(a), a.load(this.params.stocksolutionId);
    }).enter(this.setPageBackground), Path.map("#/stocksolution/add").to(function() {
        var a = new StockSolutionMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/prepare/stocksolution/main").to(function() {
        var a = new StockSolutionMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/prepare/templates/main").to(function() {
        var a = new ExperimentDesignerMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/prepare/shipmentpreparation").to(function() {
        var a = new ShipmentPreparationMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground), Path.map("#/prepare/designer").to(function() {
        var a = new DesignerMainView();
        EXI.addMainPanel(a), a.load();
    }).enter(this.setPageBackground);
}, SAXSExiController.prototype.init = function() {
    function a() {
        b.notFound();
    }
    var b = this;
    this.routeNavigation(), this.routeExperiment(), this.routeDataCollection(), this.routePrepare(), 
    Path.map("#/project/:projectId/run/:runId/main").to(function() {
        var a = this.params.projectId, b = this.params.runId, c = function(a, c) {
            for (var d = 0; d < c.length; d++) if (c[d].internalId == b) {
                var e = new RunMainView();
                EXI.addMainPanel(e), e.load(c[d]);
            }
        }, d = function(a, b) {};
        EXI.getDataAdapter({
            onSuccess: c,
            onError: d
        }).exi.offline.getRuns(a);
    }).enter(this.setPageBackground), Path.rescue(a);
}, Credential.prototype.isManager = function() {
    return this._checkRole("manager");
}, Credential.prototype.isLocalContact = function() {
    return this._checkRole("localcontact");
}, Credential.prototype._checkRole = function(a) {
    return -1 != JSON.stringify(this.roles).toLowerCase().indexOf(a);
}, CredentialManager.prototype.addCredential = function(a, b, c, d, e, f) {
    var g = new Credential(a, b, c, d, e, [], f);
    null == localStorage.getItem("credentials") && localStorage.setItem("credentials", "[]");
    var h = this.getCredentials();
    h.push(g), localStorage.setItem("credentials", JSON.stringify(h)), this.onLogin.notify(g);
}, CredentialManager.prototype.getCredentials = function() {
    var a = [];
    return null != JSON.parse(localStorage.getItem("credentials")) && (a = JSON.parse(localStorage.getItem("credentials"))), 
    a;
}, CredentialManager.prototype.getTechniqueByBeamline = function(a) {
    for (var b = this.getConnections(), c = 0; c < b.length; c++) {
        if (-1 != JSON.stringify(b[c].beamlines.MX).toUpperCase().indexOf(a.toUpperCase())) return "MX";
        if (-1 != JSON.stringify(b[c].beamlines.SAXS).toUpperCase().indexOf(a.toUpperCase())) return "SAXS";
    }
    return "UNKNOW";
}, CredentialManager.prototype.getConnections = function() {
    for (var a = this.getCredentials(), b = [], c = 0; c < a.length; c++) if (a[c].activeProposals.length > 0) for (var d = 0; d < a[c].activeProposals.length; d++) b.push({
        username: a[c].username,
        url: a[c].url,
        exiUrl: a[c].exiUrl,
        token: a[c].token,
        beamlines: a[c].properties.beamlines,
        proposal: a[c].activeProposals[d]
    }); else b.push({
        username: a[c].username,
        url: a[c].url,
        exiUrl: a[c].exiUrl,
        token: a[c].token,
        beamlines: a[c].properties.beamlines,
        proposal: null
    });
    return b;
}, CredentialManager.prototype.getCredentialByUserName = function(a, b, c, d) {
    for (var e = this.getCredentials(), f = 0; f < e.length; f++) if (e[f].username == a) return new Credential(e[f].username, e[f].roles, e[f].token, e[f].url, e[f].activeProposals);
}, CredentialManager.prototype.logout = function(a, b, c, d) {
    localStorage.removeItem("credentials"), this.onLogout.notify();
}, CredentialManager.prototype.setActiveProposal = function(a, b) {
    for (var c = this.getCredentials(), d = 0; d < c.length; d++) c[d].username.toLowerCase() == a.toLowerCase() && (c[d].activeProposals = [ b ], 
    localStorage.setItem("credentials", JSON.stringify(c)), localStorage.removeItem("sessions"), 
    this.onActiveProposalChanged.notify());
};

var BUI = {
    interval: 4e4,
    rainbow: function(a, b) {
        var c, d, e, f = b / a, g = ~~(6 * f), h = 6 * f - g, i = 1 - h;
        switch (g % 6) {
          case 0:
            c = 1, d = h, e = 0;
            break;

          case 1:
            c = i, d = 1, e = 0;
            break;

          case 2:
            c = 0, d = 1, e = h;
            break;

          case 3:
            c = 0, d = i, e = 1;
            break;

          case 4:
            c = h, d = 0, e = 1;
            break;

          case 5:
            c = 1, d = 0, e = i;
        }
        var j = "#" + ("00" + (~~(255 * c)).toString(16)).slice(-2) + ("00" + (~~(255 * d)).toString(16)).slice(-2) + ("00" + (~~(255 * e)).toString(16)).slice(-2);
        return j;
    },
    groupBy: function(a, b) {
        var c = {};
        return a.forEach(function(a) {
            var d = JSON.stringify(b(a));
            c[d] = c[d] || [], c[d].push(a);
        }), Object.keys(c).map(function(a) {
            return c[a];
        });
    },
    getFileNameByPath: function(a) {
        if (null != a) {
            var b = a.split("/");
            if (b.length > 0) return b[b.length - 1];
        }
        return "Not file";
    },
    getUpdateInterval: function() {
        return this.interval = this.interval + 2e3, this.interval;
    },
    getRadiationDamageThreshold: function() {
        return .7;
    },
    getQualityThreshold: function() {
        return .7;
    },
    getCreateShipmentURL: function() {
        return "/ispyb/user/viewProjectList.do?reqCode=display&menu=create_shipment";
    },
    getCreateShipmentList: function() {
        return "/ispyb/user/viewProjectList.do?reqCode=display&menu=list_shipment";
    },
    getShippingURL: function(a) {
        return "/ispyb/user/viewProjectList.do?reqCode=display&menu=shipment&shippingId=" + a;
    },
    getMacromoleculeResultsURLByMultipleSearch: function(a) {
        return "/ispyb/user/viewProjectList.do?reqCode=display&menu=macromolecule&search=" + JSON.stringify(a).replace(new RegExp('"', "g"), "'");
    },
    getMacromoleculeResultsURL: function(a) {
        return "/ispyb/user/viewProjectList.do?reqCode=display&menu=macromolecule&macromoleculeId=" + a;
    },
    getMacromoleculeBufferResultsURL: function(a, b) {
        return "/ispyb/user/viewProjectList.do?reqCode=display&menu=macromolecule&bufferId=" + b + "&macromoleculeId=" + a;
    },
    getMacromoleculeHeader: function(a) {
        function b(a) {
            if (null != a) {
                var b = BUI.createFormLabel("Name :", BIOSAXS.proposal.getMacromoleculeById(a).name, 75, 400);
                return b += BUI.createFormLabel("Acronym :", BIOSAXS.proposal.getMacromoleculeById(a).acronym, 75, 400), 
                null != BIOSAXS.proposal.getMacromoleculeById(a).comments && (b += BUI.createFormLabel("Comments :", BIOSAXS.proposal.getMacromoleculeById(a).comments, 75, 400)), 
                b;
            }
        }
        return Ext.create("Ext.container.Container", {
            frame: !1,
            layout: "hbox",
            title: "Macromolecule",
            bodyPadding: "5",
            width: 890,
            margin: "0 0 10 0",
            height: 100,
            style: {
                borderColor: "#BDBDBD",
                borderStyle: "solid",
                borderWidth: "1px"
            },
            fieldDefaults: {
                msgTarget: "side",
                labelWidth: 100
            },
            items: [ {
                margin: "10 0 0 10",
                width: 475,
                border: 0,
                html: b(a)
            }, {
                margin: "10 0 0 10",
                width: 475,
                border: 0,
                html: BUI.getZipHTMLByMacromoleculeId(a)
            } ]
        });
    },
    getZipHTMLByMacromoleculeId: function(a) {
        if (null != a) {
            var b = BIOSAXS.proposal.getMacromoleculeById(a).acronym;
            return "<div><a style='color:blue;' href='/ispyb/user/dataadapter.do?reqCode=getZipFileByMacromoleculeId&fileName=" + b + "&macromoleculeId=" + a + "'><img src='../images/download.png' /> Download</a></div>";
        }
    },
    getZipHTMLByExperimentId: function(a, b) {
        return null == b && (b = "experiment"), "<div><a style='color:blue;' href='/ispyb/user/dataadapter.do?reqCode=getZipFileByExperimentId&fileName=" + b + "&experimentId=" + a + "'><img src='../images/download.png' /> Download</a></div>";
    },
    getZipURLByAverageId: function(a, b) {
        return null == b && (b = "experiment"), "/ispyb/user/dataadapter.do?reqCode=getZipFileByAverageListId&f&mergeIdsList=" + a + "&fileName=" + b;
    },
    getZipURLBySubtractionId: function(a, b) {
        return null == b && (b = "experiment"), "/ispyb/user/dataadapter.do?reqCode=getZipFileByAverageListId&f&subtractionIdList=" + a + "&fileName=" + b;
    },
    getZipHTMLByFrameRangeId: function(a, b, c) {
        return "<div><a style='color:blue;' href='/ispyb/user/dataadapter.do?reqCode=getZipFileH5ByFramesRange&f&experimentId=" + a + "&start=" + Number(b) + "&end=" + Number(c) + "'><img src='../images/download.png' /> Download</a></div>";
    },
    getZipFrameHPLCUrl: function(a, b, c) {
        return "/ispyb/user/dataadapter.do?reqCode=getZipFileH5ByFramesRange&f&experimentId=" + a + "&start=" + Number(b) + "&end=" + Number(c);
    },
    getQueueUrl: function() {
        return "/ispyb/user/dataadapter.do?reqCode=getPagingCompactAnalysisByProposalId";
    },
    getQueueUrlByExperiment: function(a) {
        return "/ispyb/user/dataadapter.do?reqCode=getPagingCompactAnalysisByExperimentId&f&experimentId=" + a;
    },
    getStandardDeviation: function(a) {
        for (var b = 0, c = 0, d = null, e = [], f = 0; f < a.length; f++) {
            var g = a[f];
            null != g && (isNaN(g) || (c += 1, b += Number(g), e.push(Number(g))));
        }
        d = c > 0 ? b / c : b;
        var h = 0;
        for (f = 0; f < e.length; f++) h += Math.pow(e[f] - d, 2);
        var i = Math.sqrt(h / c);
        return {
            std: i,
            sum: b,
            avg: d,
            validNumber: c,
            totalNumber: a.length,
            values: a
        };
    },
    getHTMLTableForFrameAveraged: function(a, b, c, d, e, f, g, h, i) {
        function j(a, b) {
            return "<td style='font:normal 9px tahoma,arial,verdana,sans-serif;color:black'>(" + a + " of " + b + ")</td>";
        }
        function k(a, b) {
            return .5 > a / b ? "#FA5858" : a / b >= .5 && .8 > a / b ? "#FF9900" : "white";
        }
        function l(a, b, c, d) {
            return "<tr style='background-color:" + k(c, d) + ";height:12px;padding:1px;'><td style=' width:10px; height:10px;'> " + BUI.getRectangleColorDIV(a, 10, 10) + "</td> <td style='padding:5px;'> " + b + "</td>" + j(c, d) + "</tr>";
        }
        var m = "<table style='margin: 1,1,1,1;width:100%;font:normal 10px tahoma,arial,verdana,sans-serif;'>";
        return null != a && null != c && (color = BIOSAXS.proposal.bufferColors[g], m += l(color, a, c, f)), 
        null != b && null != d && (null == i ? color = BIOSAXS.proposal.macromoleculeColors[h] : color = i, 
        m += l(color, b, d, f)), null != a && null != e && (color = BIOSAXS.proposal.bufferColors[g], 
        m += l(color, a, e, f)), m + "</table>";
    },
    isWebGLEnabled: function(a) {
        if (window.WebGLRenderingContext) {
            var b = document.createElement("canvas");
            names = [ "webgl", "experimental-webgl", "moz-webgl", "webkit-3d" ], context = !1;
            for (var c = 0; 4 > c; c++) try {
                if (context = b.getContext(names[c]), context && "function" == typeof context.getParameter) return a ? {
                    name: names[c],
                    gl: context
                } : !0;
            } catch (d) {}
            return !1;
        }
        return !1;
    },
    getHTMLTableForPrefixes: function(a, b, c) {
        function d(a) {
            file = a;
            try {
                file = a.split("/")[a.split("/").length - 1];
            } catch (b) {
                file = "NA";
            }
            return "<tr><td  style='height:12px;padding:5px;'>" + file + "</td></tr>";
        }
        var e = "<table style='margin: 1,1,1,1;width:100%;font:normal 10px tahoma,arial,verdana,sans-serif;'>";
        return null != a && (e += d(a)), null != b && (e += d(b)), null != c && (e += d(c)), 
        e + "</table>";
    },
    getBaseURL: function() {
        return "/ispyb/user/dataadapter.do";
    },
    getPrintcomponentURL: function(a) {
        return "/ispyb/user/viewDewarAction.do?reqCode=generateLabels&dewarId=" + a;
    },
    getPDBVisualizerURL: function(a, b, c) {
        return "/ispyb/user/viewProjectList.do?reqCode=display&menu=PDBVisualizer&modelId=" + a + "&experimentId=" + c + "&subtractionId=" + b;
    },
    getURL: function() {
        return this.getBaseURL() + "?reqCode=getImage";
    },
    getAbinitioImageURL: function() {
        return this.getBaseURL() + "?reqCode=getAbinitioImage";
    },
    getNSDImageURL: function(a) {
        return BUI.getAbinitioImageURL() + "&type=NSD&modelListId=" + a;
    },
    getCHI2ImageURL: function(a) {
        return BUI.getAbinitioImageURL() + "&type=CHI2&modelListId=" + a;
    },
    getModelFile: function(a, b, c) {
        return this.getBaseURL() + "?reqCode=getModelFile&type=" + a + "&modelId=" + b + "&format=" + c;
    },
    getPdbURL: function() {
        return this.getBaseURL() + "?reqCode=getPdbFiles";
    },
    getStvArray: function(a, b) {
        return a = Number(a), b = Number(b), [ a - b, a, a + b ];
    },
    getPointArrayForDygraph: function(a, b, c) {
        return [ a, BUI.getStvArray(b, c) ];
    },
    createDIV: function(a, b, c, d) {
        var e = document.createElement("div"), f = document.createElement("span");
        return null != c && f.setAttribute("class", c), null != d ? f.setAttribute("style", "float:left;width:" + b + "px;height:18px;background-color:" + d) : f.setAttribute("style", "float:left;width:" + b + "px;height:18px;"), 
        f.appendChild(document.createTextNode(a)), e.appendChild(f), e;
    },
    createFormLabel: function(a, b, c, d, e) {
        var f = document.createElement("div");
        return f.appendChild(BUI.createDIV(a, c, "bLabel", e)), f.appendChild(BUI.createDIV(b, d, "btext", e)), 
        f.innerHTML;
    },
    createTextArea: function(a, b, c, d, e) {
        var f = document.createElement("div");
        f.appendChild(BUI.createDIV(a, c, "bLabel"));
        var g = document.createElement("textarea");
        return g.setAttribute("rows", d), g.setAttribute("cols", e), g.appendChild(document.createTextNode(b)), 
        f.appendChild(g), f.innerHTML;
    },
    showBetaWarning: function() {
        alert("ISPyB for Biosaxs version Beta has not this functionality enabled");
    },
    formatValuesErrorUnitsScientificFormat: function(a, b, c, d) {
        var e = 14, f = 2, g = 10, h = !1;
        if (null != d && (null != d.fontSize && (e = d.fontSize), null != d.decimals && (f = d.decimals), 
        null != d.errorFontSize && (g = d.errorFontSize), null != d.lineBreak && (h = d.lineBreak)), 
        "" == a) return "";
        if (null == b) return "<span style='font-size:" + e + "px'>" + Number(a).toFixed(f) + "</span>";
        var i = "<span style='font-size:" + e + "px'>" + Number(a).toFixed(f) + "<span style='font-size:" + g + "px;color:gray'>  " + c + "</span></span>";
        return h && (i += "<br/>"), i + "<span style='font-size:" + g + "px'> &#177; " + Number(Number(b).toFixed(3)).toExponential() + "</span></span>";
    },
    formatValuesErrorUnits: function(a, b, c, d) {
        var e = 16, f = 2, g = 10, h = !0;
        if (null != d && (null != d.fontSize && (e = d.fontSize), null != d.decimals && (f = d.decimals), 
        null != d.errorFontSize && (g = d.errorFontSize), null != d.lineBreak && (h = d.lineBreak)), 
        "" == a) return "";
        if (null == b) return "<span style='font-size:" + e + "px'>" + Number(a).toFixed(f) + "</span>";
        var i = "<span style='font-size:" + e + "px'>" + Number(a).toFixed(f) + "<span style='font-size:" + g + "px;color:gray'>  " + c + "</span></span>";
        return h && (i += "<br/>"), i + "<span style='font-size:" + g + "px'> &#177; " + Number(Number(b).toFixed(8)).toExponential() + "</span></span>";
    },
    formatValuesUnits: function(a, b, c) {
        var d = 12, e = 2, f = 10;
        return null != c && (null != c.fontSize && (d = c.fontSize), null != c.decimals && (e = c.decimals), 
        null != c.unitsFontSize && (f = c.unitsFontSize)), "" == a ? "" : null == b ? "<span style='font-size:" + d + "px'>" + Number(a).toFixed(e) + "</span>" : "<span style='font-size:" + d + "px'>" + Number(a).toFixed(e) + " </span><span style='font-size:" + f + "px;color:gray'>  " + b + "</span></span>";
    },
    getGreenButton: function(a, b) {
        var c = 70, d = 20;
        return null != b && (null != b.width && (c = b.width), null != b.height && (d = b.height)), 
        '<input type="button" name="btn" style= "font-size:9px;width:' + c + "px; height:" + d + 'px" class="btn-green" value="' + a + '"/>';
    },
    getBlueButton: function(a, b) {
        var c = 70, d = 20;
        return null != b && (null != b.width && (c = b.width), null != b.height && (d = b.height)), 
        '<input type="button" name="btn" style= "font-size:9px;width:' + c + "px; height:" + d + 'px" class="btn-blue" value="' + a + '"/>';
    },
    getSubmitGreenButton: function(a) {
        return '<input type="submit" type="button" name="btn" class="btn-green" value="' + a + '"/>';
    },
    getRedButton: function(a) {
        return '<input type="button"  name="btn" class="btn-red" value="' + a + '" />';
    },
    getRectangleColorDIV: function(a, b, c) {
        return '<div style="border: 1px solid gray;background-color: ' + a + "; height:" + b + "px;width:" + c + 'px" ></div>';
    },
    openBufferWindow: function(a) {
        var b = new BufferWindow();
        b.draw(tabs.experiment.getBufferById(a), tabs.experiment);
    },
    safetyRenderer: function(a, b, c) {
        var d = a;
        return "YELLOW" == a && (d = "#E9AB17"), '<span style="color:' + d + ';">' + a + "</span>";
    },
    getSampleColor: function() {
        return "#CB181D";
    },
    getLightSampleColor: function() {
        return "#FCBBA1";
    },
    getBufferColor: function() {
        return "#6A51A3";
    },
    getLightBufferColor: function() {
        return "#BCBDDC";
    },
    formatConcentration: function(a) {
        return null != a ? "<span style='font-size:16px'>" + Number(a).toFixed(2) + "</span><span style='font-size:9px'> mg/ml </span>" : a;
    },
    formatVolume: function(a, b) {
        return Number(a.data.volumeToLoad) > Number(a.data.volume) ? "<span style='color:red;font-weight:bold;'>" + b + "</span><span style='font-size:9;color:red;'> ï¿½l</span>" : Number(a.data.volumeToLoad) == Number(a.data.volume) ? "<span style='color:orange;font-weight:bold;'>" + b + "</span><span style='font-size:9;color:orange;'> ï¿½l</span>" : "<span>" + b + "</span><span style='font-size:9'> ï¿½l</span>";
    },
    getProposal: function() {
        return new Proposal();
    },
    getSampleNameRenderer: function(a, b, c) {
        var d = c.data;
        return null == c.raw.macromolecule3VO ? '<span style="color:blue;">' + d.code + "</span>" : '<span style="color:green;">' + d.code + "</span>";
    },
    getSafetyLevels: function() {
        var a = [];
        return a.push({
            safetyLevelId: "",
            name: "UNKNOWN"
        }), a.push({
            safetyLevelId: 1,
            name: "GREEN"
        }), a.push({
            safetyLevelId: 2,
            name: "YELLOW"
        }), a.push({
            safetyLevelId: 3,
            name: "RED"
        }), a;
    },
    getErrorColor: function() {
        return "#F6CED8";
    },
    getWarningColor: function() {
        return "#F5DA81";
    },
    getValidColor: function() {
        return "#E0F8E0";
    },
    getSamplePlateLetters: function() {
        return [ "A", "B", "C", "D", "E", "F", "G", "H" ];
    },
    getSamplePositionHTML: function(a, b) {
        var c = "", d = "", e = "", f = this.getSamplePlateLetters();
        if (null != a.sampleplateposition3VO) {
            var g = b.getSamplePlateById(a.sampleplateposition3VO.samplePlateId);
            if (null != g) {
                c = g.slotPositionColumn, d = a.sampleplateposition3VO.rowNumber, e = a.sampleplateposition3VO.columnNumber;
                var h = "<span style='font-weight:italic'>Plate: </span><span style='font-weight:bold'>" + c + "</span>-<span style='font-weight:bold'>" + f[d - 1] + "</span><span style='font-weight:bold'>" + e + "</span>";
                return h;
            }
        }
        return "";
    },
    getSafetyLabelName: function(a) {
        for (var b = BUI.getSafetyLevels(), c = 0; c < b.length; c++) if (b[c].safetyLevelId == a) return b[c].name;
        return "UNKNOWN";
    },
    id: function() {
        for (var a = "", b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", c = 0; 5 > c; c++) a += b.charAt(Math.floor(Math.random() * b.length));
        return "ExiSAXS" + a;
    },
    showWarning: function(a) {
        Ext.Msg.show({
            title: "Warning",
            msg: a,
            icon: Ext.Msg.WARNING,
            animEl: "elId"
        });
    },
    showError: function(a) {
        Ext.Msg.show({
            title: "Warning",
            msg: a,
            icon: Ext.Msg.ERROR,
            animEl: "elId"
        });
    },
    getTipHTML: function(a) {
        return "<div  class='panelMacro' ><table class='tipMacro'><colgroup span='1'><col span='1' width='24'><col span='1'></colgroup><tbody><tr><td colspan='1' rowspan='1' valign='top'></td><td colspan='1' rowspan='1'><b>Tip</b><br clear='none'>" + a + "</td></tr></tbody></table></div>";
    },
    getWarningHTML: function(a) {
        return "<div class='panelMacro' ><table class='warningMacro'><colgroup span='1'><col span='1' width='24'><col span='1'></colgroup><tbody><tr><td colspan='1' rowspan='1' valign='top'></td><td colspan='1' rowspan='1'><b>Warning</b><br clear='none'>" + a + "</td></tr></tbody></table></div>";
    },
    getErrorHTML: function(a) {
        return "<div class='panelMacro' ><table class='errorMacro'><colgroup span='1'><col span='1' width='24'><col span='1'></colgroup><tbody><tr><td colspan='1' rowspan='1' valign='top'><img align='middle' src='https://cwiki.apache.org/confluence/images/emoticons/forbidden.gif' width='16' height='16' alt='' border='0'></td><td colspan='1' rowspan='1'><b>Error</b><br clear='none'>" + a + "</td></tr></tbody></table></div>";
    },
    getProgessBar: function(a, b) {
        var c = "#0a0";
        c = "#99CC00", a > 100 && (c = "yellow", a = 100), isNaN(a) && (c = "white", a = 0);
        var d = a + "%";
        return null != b && (d = b), "<div class='meter-wrap'><div class='meter-value' style='background-color: " + c + " ; width: " + a + "%;'><div class='meter-text'>" + d + "</div></div></div>";
    },
    getFileName: function(a) {
        return null != a ? a.split("/")[a.split("/").length - 1] : "";
    }
}, BIOSAXS_COMBOMANAGER = {
    getComboProposal: function(a) {
        var b = null, c = 400, d = "proposalIdCombo";
        null != a && (null != a.labelWidth && (b = a.labelWidth), null != a.width && (c = a.width), 
        null != a.id && (d = a.id));
        var e = Ext.create("Ext.data.Store", {
            fields: [ "code", "number", "title", "proposalId", "proposal" ],
            data: EXI.proposalManager.getProposals()
        });
        return Ext.create("Ext.form.ComboBox", {
            fieldLabel: "Proposal",
            id: d,
            width: c,
            store: e,
            labelWidth: b,
            queryMode: "local",
            displayField: "proposal",
            valueField: "proposalId"
        });
    },
    getComboMacromoleculeByMacromolecules: function(a, b) {
        var c = 150, d = "0 0 5 0", e = 300;
        null != b && (null != b.labelWidth && (c = b.labelWidth), null != b.margin && (d = b.margin), 
        null != b.width && (e = b.width));
        var f = Ext.create("Ext.data.Store", {
            fields: [ "macromoleculeId", "acronym" ],
            data: a,
            sorters: [ "acronym" ]
        });
        return Ext.create("Ext.form.ComboBox", {
            fieldLabel: "Macromolecules",
            labelWidth: c,
            width: e,
            margin: d,
            store: f,
            editable: !1,
            queryMode: "local",
            displayField: "acronym",
            valueField: "macromoleculeId"
        });
    },
    getComboBuffers: function(a, b) {
        var c = 150, d = "0 0 5 0", e = 300, f = "Buffer";
        null != b && (null != b.labelWidth && (c = b.labelWidth), null != b.margin && (d = b.margin), 
        null != b.width && (e = b.width), null != b.noLabel && (f = null));
        var g = Ext.create("Ext.data.Store", {
            fields: [ "bufferId", "acronym" ],
            data: a,
            sorters: [ "acronym" ]
        });
        return Ext.create("Ext.form.ComboBox", {
            fieldLabel: f,
            labelWidth: c,
            width: e,
            margin: d,
            editable: !1,
            store: g,
            queryMode: "local",
            displayField: "acronym",
            valueField: "bufferId"
        });
    },
    getComboSessions: function(a, b) {
        var c = 150, d = "0 0 5 0", e = 300;
        null != b && (null != b.labelWidth && (c = b.labelWidth), null != b.margin && (d = b.margin), 
        null != b.width && (e = b.width));
        for (var f = 0; f < a.length; f++) a[f].startDateFormatted = moment(a[f].startDate).format("DD/MM/YYYY"), 
        a[f].sorter = moment(a[f].startDate).format("YYYYMMDD");
        var g = Ext.create("Ext.data.Store", {
            fields: [ "sessionId", "startDateFormatted", "beamlineName", "startDate", "endDate", "beamlineOperator" ],
            data: a,
            sorters: [ "sorter" ]
        });
        return Ext.create("Ext.form.ComboBox", {
            fieldLabel: "Session",
            labelWidth: c,
            width: e,
            margin: d,
            store: g,
            queryMode: "local",
            valueField: "sessionId",
            tpl: Ext.create("Ext.XTemplate", '<tpl for=".">', '<div class="x-boundlist-item">{startDateFormatted}<span style="font-weight:bold"> {beamlineName}</span></div>', "</tpl>"),
            displayTpl: Ext.create("Ext.XTemplate", '<tpl for=".">', "{startDateFormatted} {beamlineName}", "</tpl>")
        });
    },
    getComboStorageTemperature: function(a) {
        var b = 200, c = 500;
        null != a && (null != a.labelWidth && (b = a.labelWidth), null != a.width && (c = a.width));
        var d = Ext.create("Ext.data.Store", {
            fields: [ "value", "name" ],
            data: [ {
                value: "N/A",
                name: "N/A"
            }, {
                value: "-80",
                name: "-80"
            }, {
                value: "-20",
                name: "-20"
            }, {
                value: "+4",
                name: "+4"
            }, {
                value: "Room Temperature",
                name: "Room Temperature"
            } ]
        });
        return this.storageLocationComboBox = Ext.create("Ext.form.ComboBox", {
            fieldLabel: "Storage Condition",
            store: d,
            queryMode: "local",
            labelWidth: b,
            width: c,
            displayField: "name",
            valueField: "value",
            value: "Not set"
        }), this.storageLocationComboBox;
    },
    getComboPuckType: function(a) {
        var b = 200, c = 500, d = null;
        null != a && (null != a.labelWidth && (b = a.labelWidth), null != a.width && (c = a.width), 
        null != a.margin && (d = a.margin));
        var e = Ext.create("Ext.data.Store", {
            fields: [ "value", "name" ],
            data: [ {
                value: 10,
                name: "SPINE"
            }, {
                value: 16,
                name: "UNIPUCK"
            } ]
        });
        return this.storageLocationComboBox = Ext.create("Ext.form.ComboBox", {
            fieldLabel: "Type",
            store: e,
            queryMode: "local",
            labelWidth: b,
            width: c,
            margin: d,
            displayField: "name",
            valueField: "value",
            value: "Not set"
        }), this.storageLocationComboBox;
    }
};

DygraphWidget.prototype.dblclick = function(a, b, c) {
    b.widget.dblclick.notify({
        x: b.lastx_
    });
}, DygraphWidget.prototype._createHTLMWrapper = function(a, b, c) {
    if (null != document.getElementById(this.targetId)) {
        document.getElementById(this.targetId).innerHTML = "";
        var d = document.createElement("table"), e = document.createElement("tr"), f = document.createElement("td");
        this.canvasDiv = document.createElement("div"), this.canvasDiv.setAttribute("id", "dygraph_canvas_" + this.id), 
        this.canvasDiv.setAttribute("style", "width:" + this.width + "px;height:" + this.height + "px"), 
        f.appendChild(this.canvasDiv), this.legendDiv = document.createElement("div"), e.appendChild(f), 
        d.appendChild(e), document.getElementById(this.targetId).appendChild(d);
    }
}, DygraphWidget.prototype.draw = function(a, b, c) {
    var d = this;
    this._createHTLMWrapper(a, b, c), this.dygraph = new Dygraph(this.canvasDiv, a, {
        labels: c,
        labelsDiv: this.legendDiv,
        labelsSeparateLines: !0,
        highlightCircleSize: 3,
        strokeWidth: 1,
        customBars: this.customBars,
        colors: b,
        xlabel: this.xlabel,
        ylabel: this.ylabel,
        showRangeSelector: this.showRangeSelector,
        rangeSelectorPlotStrokeColor: "rgba(50,50,50,0.3)",
        rangeSelectorPlotFillColor: "rgba(50,50,50,0.1)",
        labelsDivStyles: this.labelsDivStyles,
        interactionModel: this.interactionModel,
        underlayCallback: function(a, b, c) {
            if (null != d.ranges) for (var e in d.ranges) {
                var f = c.toDomCoords(d.ranges[e].start, -20), g = c.toDomCoords(d.ranges[e].end, 20), h = f[0], i = g[0];
                a.fillStyle = d.ranges[e].color, a.fillRect(h, b.y, i - h, b.h);
            }
        }
    });
}, StdDevDyGraph.prototype.dblclick = DygraphWidget.prototype.dblclick, StdDevDyGraph.prototype._createHTLMWrapper = DygraphWidget.prototype._createHTLMWrapper, 
StdDevDyGraph.prototype.draw = DygraphWidget.prototype.draw, StdDevDyGraph.prototype.input = function() {
    return {
        data: [ [ 1, [ 2, 3, 3.5 ], [ 4, 4.2, 5 ] ], [ 2, [ 5, 5.5, 5.7 ], [ 4, 4.2, 5 ] ] ],
        colors: [ "blue", "red" ],
        labels: [ "", "data1", "data2" ]
    };
}, StdDevDyGraph.prototype.test = function(a) {
    var b = new StdDevDyGraph(a, {
        width: 500,
        height: 400,
        xlabel: "xLabel",
        showRangeSelector: !1
    });
    b.draw(b.input().data, b.input().colors, b.input().labels);
}, Event.prototype = {
    attach: function(a) {
        this._listeners.push(a);
    },
    notify: function(a) {
        for (var b = 0; b < this._listeners.length; b++) this._listeners[b](this._sender, a);
    }
}, ProgressBar.prototype.getPanel = function(a, b) {
    var c = parseFloat(a) / parseFloat(b) * 100, d = "#337ab7";
    return 100 == c && (d = "green"), 50 > c && (d = "orange"), "<div class='progress'><div class='progress-bar' role='progressbar' aria-valuenow='10' aria-valuemin='0' aria-valuemax='100' style='background-color:" + d + ";width:" + c + "%'></div></div>";
}, String.prototype.format = function(a) {
    var b = this;
    return b.replace(String.prototype.format.regex, function(b) {
        var c, d = parseInt(b.substring(1, b.length - 1));
        return c = d >= 0 ? a[d] : -1 === d ? "{" : -2 === d ? "}" : "";
    });
}, String.prototype.format.regex = new RegExp("{-?[0-9]+}", "g"), TimeLineWidget.prototype.getStartDate = function(a) {
    if (null != a) {
        for (var b = [], c = 0; c < a.length; c++) b.push(a[c].start);
        return b.reduce(function(a, b) {
            return b > a ? a : b;
        });
    }
}, TimeLineWidget.prototype.getEndDate = function(a) {
    if (null != a) {
        for (var b = [], c = 0; c < a.length; c++) b.push(a[c].start);
        return b.reduce(function(a, b) {
            return a > b ? a : b;
        });
    }
}, TimeLineWidget.prototype.load = function(a, b, c) {
    function d() {
        var a = g.getSelection();
        a.length && void 0 != a[0].row && e.onSelected.notify(e.data[a[0].row]);
    }
    var e = this;
    if (this.data = a, document.getElementById(this.targetId)) {
        var f = {
            width: "100%",
            height: "700px",
            cluster: !0,
            axisOnTop: !0,
            groupsChangeable: !0,
            groupsOnRight: !1,
            editable: !1,
            style: "box",
            groupMinHeight: 14,
            end: c,
            max: c,
            start: b,
            min: b
        };
        document.getElementById(this.targetId).setAttribute("width", this.panel.getWidth() + "px");
        var g = new links.Timeline(document.getElementById(this.targetId), f);
        links.events.addListener(g, "select", d), g.draw(a);
    }
}, TimeLineWidget.prototype.getTopBar = function() {
    return null;
}, TimeLineWidget.prototype.getPanel = function() {
    var a = this;
    return this.panel = Ext.create("Ext.panel.Panel", {
        id: this.id,
        layout: {
            type: "fit"
        },
        flex: 1,
        cls: "border-grid",
        flex: 1,
        tbar: this.getTopBar(),
        margin: this.margin,
        items: [ {
            html: '<div style="height:800px;" id="' + this.targetId + '"></div>'
        } ]
    }), this.panel.on("afterrender", function() {}), this.panel.on("afterlayout", function() {
        a.load(a.data);
    }), this.panel;
}, AddressForm.prototype.getAddress = function() {
    return null == this.address && (this.address = {}), this.address.billingReference = Ext.getCmp(this.id + "billingReference").getValue(), 
    this.address.cardName = Ext.getCmp(this.id + "cardName").getValue(), this.address.courierAccount = Ext.getCmp(this.id + "courierAccount").getValue(), 
    this.address.defaultCourrierCompany = Ext.getCmp(this.id + "courrierCompany").getValue(), 
    this.address.dewarAvgCustomsValue = Ext.getCmp(this.id + "dewarAvgCustomsValue").getValue(), 
    this.address.dewarAvgTransportValue = Ext.getCmp(this.id + "dewarAvgTransportValue").getValue(), 
    null == this.address.personVO && (this.address.personVO = {}), this.address.personVO.emailAddress = Ext.getCmp(this.id + "emailAddress").getValue(), 
    this.address.personVO.familyName = Ext.getCmp(this.id + "familyName").getValue(), 
    this.address.personVO.givenName = Ext.getCmp(this.id + "name").getValue(), this.address.personVO.faxNumber = Ext.getCmp(this.id + "faxNumber").getValue(), 
    this.address.personVO.phoneNumber = Ext.getCmp(this.id + "phoneNumber").getValue(), 
    this.address;
}, AddressForm.prototype._loadPerson = function(a, b, c, d, e) {
    Ext.getCmp(this.id + "emailAddress").setValue(c), Ext.getCmp(this.id + "familyName").setValue(b), 
    Ext.getCmp(this.id + "name").setValue(a), Ext.getCmp(this.id + "faxNumber").setValue(d), 
    Ext.getCmp(this.id + "phoneNumber").setValue(e);
}, AddressForm.prototype.load = function(a) {
    this.address = a, null != a && (Ext.getCmp(this.id + "cardName").setValue(a.cardName), 
    Ext.getCmp(this.id + "courrierCompany").setValue(a.defaultCourrierCompany), Ext.getCmp(this.id + "dewarAvgCustomsValue").setValue(a.dewarAvgCustomsValue), 
    Ext.getCmp(this.id + "dewarAvgTransportValue").setValue(a.dewarAvgTransportValue), 
    Ext.getCmp(this.id + "courierAccount").setValue(a.courierAccount), Ext.getCmp(this.id + "billingReference").setValue(a.billingReference), 
    null != a.personVO && this._loadPerson(a.personVO.givenName, a.personVO.familyName, a.personVO.emailAddress, a.personVO.faxNumber, a.personVO.phoneNumber));
}, AddressForm.prototype.getPersonPanel = function() {
    return this.personPanel = Ext.create("Ext.panel.Panel", {
        layout: "vbox",
        margin: "10",
        items: [ {
            padding: 10,
            xtype: "container",
            layout: "hbox",
            border: !1,
            items: [ {
                xtype: "requiredtextfield",
                id: this.id + "name",
                fieldLabel: "Name",
                labelWidth: 75,
                margin: "0 0 0 10",
                disabled: !0,
                width: 200
            }, {
                xtype: "requiredtextfield",
                id: this.id + "familyName",
                fieldLabel: "Surname",
                labelWidth: 75,
                disabled: !0,
                margin: "0 0 0 10",
                width: 200
            }, {
                xtype: "requiredtextfield",
                id: this.id + "emailAddress",
                fieldLabel: "Email",
                labelWidth: 75,
                margin: "0 0 0 10",
                width: 300
            }, {
                id: this.id + "phoneNumber",
                fieldLabel: "Phone",
                xtype: "textfield",
                labelWidth: 75,
                margin: "0 0 0 10",
                width: 220
            }, {
                id: this.id + "faxNumber",
                fieldLabel: "Fax",
                xtype: "textfield",
                labelWidth: 75,
                margin: "0 0 0 10",
                width: 220
            } ]
        }, {
            padding: 10,
            xtype: "container",
            layout: "hbox",
            border: !1,
            items: [ {
                xtype: "requiredtextfield",
                id: this.id + "cardName",
                fieldLabel: "Card Name",
                name: "CardName",
                labelWidth: 150,
                margin: "0 0 0 10",
                width: 300
            }, {
                xtype: "requiredtextfield",
                id: this.id + "courierAccount",
                fieldLabel: "Courier Account",
                margin: "0 0 0 30",
                labelWidth: 150,
                width: 300
            }, {
                xtype: "requiredtextfield",
                id: this.id + "courrierCompany",
                fieldLabel: "Courier Company",
                margin: "0 0 0 30",
                labelWidth: 150,
                width: 300
            } ]
        }, {
            padding: 10,
            xtype: "container",
            layout: "hbox",
            border: !1,
            items: [ {
                id: this.id + "dewarAvgCustomsValue",
                fieldLabel: "Average Custom Value",
                xtype: "numberfield",
                margin: "0 0 0 10",
                minValue: 0,
                maxValue: 15,
                labelWidth: 150,
                width: 300
            }, {
                id: this.id + "dewarAvgTransportValue",
                fieldLabel: "Average Transport Value",
                xtype: "numberfield",
                margin: "0 0 0 30",
                minValue: 0,
                maxValue: 15,
                labelWidth: 150,
                width: 300
            }, {
                id: this.id + "billingReference",
                xtype: "textfield",
                fieldLabel: "Billing Reference",
                margin: "0 0 0 30",
                xtype: "textfield",
                labelWidth: 150,
                width: 300
            } ]
        } ]
    }), this.personPanel;
}, AddressForm.prototype.getPackagePanel = function() {
    return this.packagePanel = Ext.create("Ext.panel.Panel", {
        layout: "hbox",
        items: [ {
            padding: 10,
            xtype: "container",
            layout: "vbox",
            border: !1,
            items: [ {
                xtype: "container",
                layout: "hbox",
                items: []
            }, {
                xtype: "container",
                layout: "hbox",
                margin: "10 0 0 0",
                items: []
            } ]
        } ]
    }), this.packagePanel;
}, AddressForm.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        hidden: this.isHidden,
        layout: "vbox",
        title: "Shipping Address Card",
        cls: "border-grid",
        buttons: this.getToolBar(),
        icon: "../images/icon/ic_email_black_24dp.png",
        items: [ this.getPersonPanel() ]
    }), this.panel;
}, AddressForm.prototype.save = function() {
    var a = this;
    a.panel.setLoading();
    var b = function(b) {
        a.panel.setLoading(!1), EXI.getDataAdapter().proposal.proposal.update();
    };
    EXI.getDataAdapter({
        onSuccess: b
    }).proposal.shipping.saveLabContact(a.getAddress());
}, AddressForm.prototype.getToolBar = function() {
    var a = this;
    return [ {
        text: "Save",
        hidden: a.isSaveButtonHidden,
        width: 100,
        handler: function() {
            a.save();
        }
    } ];
}, AbinitioForm.prototype._renderPDB = function(a) {
    try {
        for (var b = [], c = 0; c < a.length; c++) b.push({
            modelId: a[c],
            color: "0xFF6600",
            opacity: .8
        });
        this.viewer.refresh(b);
    } catch (d) {
        console.log(d);
    }
}, AbinitioForm.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        width: this.width,
        cls: "border-grid",
        layout: "hbox",
        height: this.height,
        margin: 5,
        border: 1,
        defaultType: "textfield",
        items: [ {
            xtype: "container",
            layout: "vbox",
            items: [ this.abinitioGrid.getPanel() ]
        }, {
            xtype: "container",
            layout: "vbox",
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 300,
                margin: "10 0 0 0",
                width: 500,
                items: [ this.curvePlotter.getPanel() ]
            }, this.viewer.getPanel() ]
        } ]
    }), this.panel;
}, AbinitioForm.prototype.load = function(a) {
    this.subtractions = a, this.abinitioGrid.refresh(a);
}, AuthenticationForm.prototype.show = function() {
    this.window = Ext.create("Ext.window.Window", {
        title: 'Authentication <span style="FONT-SIZE:9PX;color:red;">[INTRANET ONLY]</span>',
        height: 250,
        width: 400,
        modal: !0,
        layout: "fit",
        items: [ this.getPanel() ]
    }), this.window.show();
}, AuthenticationForm.prototype.getPanel = function() {
    var a = this, b = Ext.create("Ext.data.Store", {
        fields: [ "name", "url", "exiUrl" ],
        data: ExtISPyB.sites
    });
    return Ext.create("Ext.form.Panel", {
        bodyPadding: 5,
        width: 350,
        layout: "anchor",
        defaults: {
            anchor: "90%"
        },
        defaultType: "textfield",
        items: [ {
            fieldLabel: "User",
            name: "user",
            margin: "10 0 0 10",
            allowBlank: !1
        }, {
            fieldLabel: "Password",
            margin: "10 0 0 10",
            name: "password",
            allowBlank: !1,
            inputType: "password"
        }, {
            xtype: "combo",
            fieldLabel: "Choose site",
            name: "site",
            store: b,
            allowBlank: !1,
            valueField: "url",
            displayField: "name",
            margin: "10 0 0 10"
        } ],
        buttons: [ {
            text: "Login",
            formBind: !0,
            disabled: !0,
            handler: function() {
                for (var b = this.up("form").getForm(), c = null, d = 0; d < ExtISPyB.sites.length; d++) ExtISPyB.sites[d].url == b.getFieldValues().site && (c = ExtISPyB.sites[d]);
                a.onAuthenticate.notify({
                    user: b.getFieldValues().user,
                    password: b.getFieldValues().password,
                    site: b.getFieldValues().site,
                    exiUrl: c.exiUrl,
                    properties: c
                });
            }
        } ]
    });
}, BufferForm.prototype.getBuffer = function() {
    return null == this.buffer && (this.buffer = {}), this.buffer.name = Ext.getCmp(this.id + "buffer_name").getValue(), 
    this.buffer.acronym = Ext.getCmp(this.id + "buffer_acronym").getValue(), this.buffer.comments = Ext.getCmp(this.id + "buffer_comments").getValue(), 
    this.buffer.ph = Ext.getCmp(this.id + "buffer_ph").getValue(), this.buffer.composition = Ext.getCmp(this.id + "buffer_composition").getValue(), 
    this.buffer.proposalId = Ext.getCmp(this.id + "proposalIdCombo").getValue(), this.buffer;
}, BufferForm.prototype.load = function(a) {
    this.buffer = a, null != a && (Ext.getCmp(this.id + "buffer_name").setValue(this.buffer.name), 
    Ext.getCmp(this.id + "buffer_acronym").setValue(this.buffer.acronym), Ext.getCmp(this.id + "buffer_comments").setValue(this.buffer.comments), 
    Ext.getCmp(this.id + "buffer_ph").setValue(this.buffer.ph), Ext.getCmp(this.id + "buffer_composition").setValue(this.buffer.composition)), 
    null != this.buffer && null != this.buffer.proposalId && (Ext.getCmp(this.id + "proposalIdCombo").setValue(this.buffer.proposalId), 
    Ext.getCmp(this.id + "proposalIdCombo").disable());
}, BufferForm.prototype._getTopPanel = function() {
    return {
        xtype: "container",
        layout: "hbox",
        border: 0,
        margin: "40 0 0 0",
        frame: !0,
        items: [ {
            xtype: "container",
            layout: "hbox",
            items: [ {
                xtype: "container",
                flex: 1,
                border: !1,
                layout: "anchor",
                items: [ {
                    xtype: "requiredtextfield",
                    id: this.id + "buffer_name",
                    fieldLabel: "Name",
                    name: "name",
                    width: 300
                }, {
                    xtype: "requiredtextfield",
                    id: this.id + "buffer_acronym",
                    fieldLabel: "Acronym",
                    maskRe: /[a-zA-Z0-9]+/,
                    name: "acronym",
                    width: 300
                } ]
            } ]
        }, {
            xtype: "container",
            flex: 1,
            layout: "anchor",
            defaultType: "textfield",
            margin: "0 0 0 10",
            items: [ {
                id: this.id + "buffer_ph",
                fieldLabel: "pH",
                name: "ph",
                xtype: "numberfield",
                width: 300,
                minValue: 0,
                maxValue: 15
            }, {
                fieldLabel: "Composition",
                id: this.id + "buffer_composition",
                name: "composition",
                width: 300
            } ]
        } ]
    };
}, BufferForm.prototype.getToolBar = function() {
    var a = this;
    return [ {
        text: "Save",
        width: 100,
        handler: function() {
            a.panel.setLoading();
            var b = function(b) {
                a.panel.setLoading(!1), EXI.getDataAdapter().proposal.proposal.update();
            };
            EXI.getDataAdapter({
                onSuccess: b
            }).saxs.buffer.saveBuffer(a.getBuffer());
        }
    } ];
}, BufferForm.prototype.getPanel = function() {
    var a = this;
    return this.panel = Ext.create("Ext.panel.Panel", {
        layout: "vbox",
        buttons: this.getToolBar(),
        cls: "border-grid",
        layout: "vbox",
        items: [ {
            xtype: "container",
            margin: "10 0 0 20",
            layout: "vbox",
            items: [ BIOSAXS_COMBOMANAGER.getComboProposal({
                id: a.id + "proposalIdCombo",
                labelWidth: 100
            }), this._getTopPanel(), {
                id: this.id + "buffer_comments",
                xtype: "textareafield",
                name: "comments",
                fieldLabel: "Comments",
                width: 600,
                height: 80
            } ]
        } ]
    }), this.panel;
}, CaseForm.prototype.fillStores = function() {
    var a = this;
    this.panel.setLoading("Loading Labcontacts from database");
    var b = BUI.getProposal();
    b.onDataRetrieved.attach(function(b, c) {
        a.labContactForSendingStore.loadData(c, !1), a.labContactForReturnStore.loadData(c, !1), 
        a.panel.setLoading(!1);
    }), b.getLabContactsByProposalId();
}, CaseForm.prototype.refresh = function(a) {
    this.setDewar(a);
}, CaseForm.prototype.getDewar = function() {
    return this.dewar.code = Ext.getCmp("dewar_code").getValue(), this.dewar.comments = Ext.getCmp("dewar_comments").getValue(), 
    this.dewar.transportValue = Ext.getCmp("dewar_transportValue").getValue(), this.dewar.storageLocation = this.storageLocationComboBox.getValue(), 
    this.dewar;
}, CaseForm.prototype.setDewar = function(a) {
    this.dewar = a, null == this.dewar && (this.dewar = {}, this.dewar.code = "", this.dewar.transportValue = "", 
    this.dewar.storageLocation = "", this.dewar.comments = ""), Ext.getCmp("dewar_code").setValue(this.dewar.code), 
    Ext.getCmp("dewar_comments").setValue(this.dewar.comments), Ext.getCmp("dewar_transportValue").setValue(this.dewar.transportValue), 
    this.storageLocationComboBox.setValue(this.dewar.storageLocation);
}, CaseForm.prototype.getStorageLocationCombo = function() {
    return this.storageLocationComboBox = BIOSAXS_COMBOMANAGER.getComboStorageTemperature(), 
    this.storageLocationComboBox;
}, CaseForm.prototype.getPanel = function(a) {
    return this.panel = Ext.create("Ext.form.Panel", {
        width: this.width - 10,
        padding: 10,
        height: 300,
        items: [ {
            xtype: "container",
            margin: "2 2 2 2",
            collapsible: !1,
            defaultType: "textfield",
            layout: "anchor",
            items: [ {
                xtype: "container",
                layout: "vbox",
                items: [ {
                    xtype: "requiredtextfield",
                    fieldLabel: "Name",
                    allowBlank: !1,
                    name: "code",
                    id: "dewar_code",
                    labelWidth: 200,
                    width: 500
                } ]
            }, this.getStorageLocationCombo(), {
                xtype: "numberfield",
                width: 500,
                labelWidth: 200,
                margin: "10 0 0 0",
                fieldLabel: "Transport Value",
                id: "dewar_transportValue"
            }, {
                xtype: "textareafield",
                name: "comments",
                fieldLabel: "Comments",
                labelWidth: 200,
                width: 500,
                margin: "10 0 0 0",
                height: 100,
                id: "dewar_comments"
            } ]
        } ]
    }), this.refresh(a), this.panel;
}, DataReductionForm.prototype._parseSelectedItemsToIds = function(a) {
    var b = [];
    if (null != a) for (var c = 0; c < a.length; c++) b.push(a[c].id);
    return b;
}, DataReductionForm.prototype.onSelectionChanged = function(a, b) {
    null != b && ("Frames" == a && (this.selectedItems.frames = b, this.selectedItems.subtractions = []), 
    "Averages" == a && (this.selectedItems.averages = b), "Subtractions" == a && (this.selectedItems.frames = [], 
    this.selectedItems.subtractions = b)), this.plotWidget.refresh(this._parseSelectedItemsToIds(this.selectedItems.frames), this._parseSelectedItemsToIds(this.selectedItems.subtractions));
}, DataReductionForm.prototype._getFramesExtPanel = function(a, b, c) {
    var d = this, e = Ext.create("Ext.selection.RowModel", {
        allowDeselect: !0,
        mode: "MULTI",
        listeners: {
            selectionchange: function(a, c) {
                for (var e = [], f = 0; f < c.length; f++) e.push(c[f].data);
                d.onSelectionChanged(b, e);
            }
        }
    });
    return Ext.create("Ext.grid.Panel", {
        store: a,
        margin: 10,
        height: c,
        width: 200,
        selModel: e,
        columns: [ {
            text: b,
            dataIndex: "fileName",
            flex: 1
        } ],
        viewConfig: {}
    });
}, DataReductionForm.prototype._getFramesPanel = function() {
    var a = [ "fileName", "type", "id" ];
    this.framesStore = Ext.create("Ext.data.Store", {
        fields: a,
        sorters: "fileName"
    }), this.averagesStore = Ext.create("Ext.data.Store", {
        fields: a
    }), this.subtractionStore = Ext.create("Ext.data.Store", {
        fields: a
    });
    var b = this._getFramesExtPanel(this.framesStore, "Frames", 375), c = (this._getFramesExtPanel(this.averagesStore, "Averages", 125), 
    this._getFramesExtPanel(this.subtractionStore, "Subtractions", 75));
    return {
        xtype: "container",
        layout: "vbox",
        items: [ b, c ]
    };
}, DataReductionForm.prototype._getImageContainer = function(a, b) {
    var c = "<div id='" + this.id + "_" + a + "'>" + a + "</div>";
    return {
        xtype: "container",
        layout: "vbox",
        items: [ {
            html: c,
            margin: "5 0 0 0",
            height: 95,
            width: 100
        }, {
            xtype: "label",
            forId: "myFieldId",
            text: b,
            margin: "5 0 0 0",
            cls: "inline-help"
        } ]
    };
}, DataReductionForm.prototype._getItems = function() {
    return [ {
        xtype: "container",
        layout: "hbox",
        items: [ this._getFramesPanel(), this.plotWidget.getPanel(), {
            xtype: "panel",
            width: 110,
            frame: !0,
            margin: "10 5 5 5",
            border: 0,
            layout: "vbox",
            items: [ this._getImageContainer("scattering", "Scattering"), this._getImageContainer("guinier", "Guinier Region"), this._getImageContainer("kratky", "Kratky Plot"), this._getImageContainer("gnom", "P(r) distribution") ]
        } ]
    } ];
}, DataReductionForm.prototype._getButtons = function() {
    return [];
}, DataReductionForm.prototype.getPanel = function() {
    var a = this;
    return this.panel = Ext.create("Ext.form.Panel", {
        width: this.width,
        height: this.height,
        border: 0,
        items: this._getItems(),
        buttons: this._getButtons(),
        listeners: {
            afterrender: function() {
                a._populate();
            }
        }
    }), this.panel;
}, DataReductionForm.prototype._populate = function() {}, DataReductionForm.prototype.refresh = function(a) {
    if (null != a) for (var b = 0; b < a.length; b++) {
        var c = a[b], d = [ {
            fileName: BUI.getFileName(c.bufferAverageFilePath),
            type: "bufferAvg",
            id: c.subtractionId
        }, {
            fileName: BUI.getFileName(c.sampleAverageFilePath),
            type: "sampleAvg",
            id: c.subtractionId
        } ];
        this.averagesStore.loadData(d, !0), this.subtractionStore.loadData([ {
            fileName: BUI.getFileName(c.substractedFilePath),
            type: "SUBTRACTION",
            id: c.subtractionId
        } ], !0);
        var e = [];
        if (null != c.bufferOneDimensionalFiles && null != c.bufferOneDimensionalFiles.frametolist3VOs) for (var f = 0; f < c.bufferOneDimensionalFiles.frametolist3VOs.length; f++) {
            var g = c.bufferOneDimensionalFiles.frametolist3VOs[f];
            null != g.frame3VO && e.push({
                fileName: BUI.getFileName(g.frame3VO.filePath),
                type: "BUFFER",
                id: g.frame3VO.frameId
            });
        }
        if (null != c.sampleOneDimensionalFiles && null != c.sampleOneDimensionalFiles.frametolist3VOs) for (var f = 0; f < c.sampleOneDimensionalFiles.frametolist3VOs.length; f++) {
            var g = c.sampleOneDimensionalFiles.frametolist3VOs[f];
            null != g.frame3VO && e.push({
                fileName: BUI.getFileName(g.frame3VO.filePath),
                type: "SAMPLE",
                id: g.frame3VO.frameId
            });
        }
        this.framesStore.loadData(e, !0), this._displayImage("scattering", c.subtractionId), 
        this._displayImage("kratky", c.subtractionId), this._displayImage("guinier", c.subtractionId), 
        this._displayImage("gnom", c.subtractionId);
    }
}, DataReductionForm.prototype._displayImage = function(a, b) {
    var c = new DataAdapter().getImage(b, a);
    console.log(c);
    var d = "OnClick= window.open('" + c + "')";
    document.getElementById(this.id + "_" + a).innerHTML = "<img src=" + c + '   height="90" width="90" ' + d + ">";
}, DataReductionForm.prototype.input = function() {
    return {};
}, DataReductionForm.prototype.test = function(a) {
    var b = new DataReductionForm(), c = b.getPanel();
    c.render(a);
}, ExperimentHeaderForm.prototype.load = function(a) {
    this.experiment = a, Ext.getCmp(this.id + "name").setValue(a.name), document.getElementById(this.id + "date").innerHTML = "Created on " + a.creationDate, 
    Ext.getCmp(this.id + "comments").setValue(a.json.comments);
}, ExperimentHeaderForm.prototype.getToolBar = function() {
    var a = this;
    return [ {
        text: "Save",
        width: 100,
        handler: function() {
            a.panel.setLoading();
            var b = function(b) {
                a.panel.setLoading(!1);
            };
            EXI.getDataAdapter({
                onSuccess: b
            }).saxs.experiment.saveExperiment(a.experiment.experimentId, Ext.getCmp(a.id + "name").getValue(), Ext.getCmp(a.id + "comments").getValue());
        }
    }, "->", Ext.create("Ext.button.Split", {
        text: "Download",
        menu: new Ext.menu.Menu({
            items: [ {
                text: "For BsxCube on bm29",
                handler: function() {
                    window.open(EXI.getDataAdapter().saxs.template.getTemplateSourceFile(a.experiment.experimentId, "bsxcube"));
                }
            }, {
                text: "For Becquerel on p12",
                handler: function() {
                    window.open(EXI.getDataAdapter().saxs.template.getTemplateSourceFile(a.experiment.experimentId, "becquerel"));
                }
            } ]
        })
    }) ];
}, ExperimentHeaderForm.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        layout: "vbox",
        buttons: this.getToolBar(),
        cls: "border-grid",
        items: [ {
            xtype: "container",
            margin: "10 0 0 20",
            layout: "hbox",
            items: [ {
                xtype: "container",
                layout: "vbox",
                items: [ {
                    xtype: "textfield",
                    fieldLabel: "Name",
                    id: this.id + "name"
                }, {
                    margin: "0 0 0 100",
                    html: "<div style='color:gray;' id='" + this.id + "date';></div>"
                } ]
            }, {
                xtype: "textarea",
                fieldLabel: "Comments",
                margin: "0 0 10 20",
                width: 600,
                height: 80,
                id: this.id + "comments"
            } ]
        } ]
    }), this.panel;
}, AssemblyForm.prototype._getItems = function() {
    return [ {
        xtype: "label",
        forId: "myFieldId",
        text: "List of previously defined macromolecules present in the assembly. This information will be used for additional cross-checks where possible",
        margin: "15 0 20 10",
        cls: "inline-help"
    }, this.molarityGrid.getPanel() ];
}, AssemblyForm.prototype._getButtons = function() {
    return [];
}, AssemblyForm.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.form.Panel", {
        width: this.width,
        height: this.height,
        margin: 10,
        border: 0,
        defaultType: "textfield",
        items: this._getItems(),
        buttons: this._getButtons()
    }), this.panel;
}, AssemblyForm.prototype.refresh = function(a) {
    this.macromolecule = a, this.molarityGrid.refresh(a);
}, AssemblyForm.prototype.input = function() {
    return {};
}, AssemblyForm.prototype.test = function(a) {
    var b = new AssemblyForm(), c = b.getPanel();
    c.render(a);
}, MacromoleculeForm.prototype._getFieldTextWithHelp = function(a, b, c, d) {
    return Ext.create("Ext.container.Container", {
        items: [ {
            xtype: a,
            fieldLabel: b,
            name: c,
            id: this.id + c
        }, {
            xtype: "label",
            forId: "myFieldId",
            text: d,
            margin: "5 0 0 105",
            cls: "inline-help"
        } ]
    });
}, MacromoleculeForm.prototype._getNumericWithHelp = function(a, b, c, d) {
    return Ext.create("Ext.container.Container", {
        margin: "0 0 0 10",
        items: [ {
            xtype: a,
            fieldLabel: b,
            name: c,
            id: this.id + c,
            decimalPrecision: 6,
            width: 220
        }, {
            xtype: "label",
            forId: "myFieldId",
            text: d,
            margin: "5 0 0 10",
            cls: "inline-help"
        } ]
    });
}, MacromoleculeForm.prototype._getButtons = function() {
    var a = this;
    return [ {
        text: "Save",
        handler: function() {
            a._save();
        }
    } ];
}, MacromoleculeForm.prototype._persist = function(a, b, c, d, e, f, g, h) {
    var i = Ext.getCmp("proposalIdCombo").getValue();
    if (null == i) return void BUI.showError("Please select a proposal");
    if (null == a && null != EXI.proposalManager.getMacromoleculeByAcronym(b)) return void BUI.showError("Duplicated acronym");
    null == a ? (this.macromolecule = {}, this.macromolecule.macromoleculeId = null) : this.macromolecule.macromoleculeId = a, 
    this.macromolecule.acronym = b, this.macromolecule.name = c, this.macromolecule.molecularMass = d, 
    this.macromolecule.extintionCoefficient = e, this.macromolecule.comments = f, this.macromolecule.symmetry = Ext.getCmp(this.id + "comboSym").getValue(), 
    this.macromolecule.refractiveIndex = g, this.macromolecule.solventViscosity = h, 
    this.macromolecule.proposalId = i;
    var j = this, k = function(a, b) {
        var c = function(a, b) {
            j.panel.setLoading(!1), j.onSave.notify(), j.onClose.notify();
        };
        j.panel.setLoading("Updading proposal information"), EXI.getDataAdapter({
            onSuccess: c
        }).proposal.proposal.update();
    };
    this.panel.setLoading("Saving Macromolecule"), EXI.getDataAdapter({
        onSuccess: k
    }).saxs.macromolecule.saveMacromolecule(this.macromolecule);
}, MacromoleculeForm.prototype._save = function() {
    var a = this._getField("acronym"), b = this._getField("name"), c = this._getField("molecularMass"), d = this._getField("extintionCoefficient"), e = this._getField("comments"), f = this._getField("refractiveIndex"), g = this._getField("solventViscosity");
    return "" == b ? void BUI.showError("Name field is mandatory") : "" == a ? void BUI.showError("Acroynm field is mandatory") : void (null != this.macromolecule ? null == this.macromolecule.macromoleculeId ? this._persist(null, a, b, c, d, e, f, g) : this._persist(this.macromolecule.macromoleculeId, a, b, c, d, e, f, g) : this._persist(null, a, b, c, d, e, f, g));
}, MacromoleculeForm.prototype._getItems = function() {
    var a = Ext.create("Ext.data.Store", {
        fields: [ "s" ],
        data: this._getSymmetries()
    });
    return this.symmetryComboBox = Ext.create("Ext.form.ComboBox", {
        fieldLabel: "Symmetry",
        store: a,
        id: this.id + "comboSym",
        queryMode: "local",
        displayField: "s",
        valueField: "s",
        value: "P1",
        margin: "0 0 0 30",
        width: 220
    }), [ BIOSAXS_COMBOMANAGER.getComboProposal({
        labelWidth: 100
    }), this._getFieldTextWithHelp("requiredtextfield", "Name", "name", "Long name. i.e: Bovine serum albumin"), this._getFieldTextWithHelp("requiredtextfield", "Acronym", "acronym", "Acronym will be used in the files and analisys. i.e: BSA"), this._getFieldTextWithHelp("textfield", "Mol. Mass (Da)", "molecularMass", "Atomic mass estimation measured in Da"), {
        xtype: "container",
        layout: "hbox",
        margin: "10 0 0 0",
        items: [ this._getNumericWithHelp("numberfield", "Extinction coef.", "extintionCoefficient", ""), this.symmetryComboBox ]
    }, {
        xtype: "container",
        layout: "hbox",
        margin: "5 0 0 0",
        items: [ this._getNumericWithHelp("numberfield", "Refractive Index", "refractiveIndex", "How radiation propagates through the medium"), this._getNumericWithHelp("numberfield", "Solvent Viscosity", "solventViscosity", "") ]
    }, {
        id: this.id + "comments",
        xtype: "textareafield",
        name: "comments",
        margin: "35 0 0 10",
        fieldLabel: "Comments",
        width: this.width - 100,
        height: 100
    } ];
}, MacromoleculeForm.prototype._getSymmetries = function() {
    return [ {
        s: "P1"
    }, {
        s: "P2"
    }, {
        s: "P3"
    }, {
        s: "P4"
    }, {
        s: "P5"
    }, {
        s: "P6"
    }, {
        s: "P32"
    }, {
        s: "P42"
    }, {
        s: "P52"
    }, {
        s: "P62"
    }, {
        s: "P222"
    } ];
}, MacromoleculeForm.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        layout: "hbox",
        buttons: this._getButtons(),
        cls: "border-grid",
        items: [ {
            xtype: "container",
            margin: "20 0 0 20",
            layout: "vbox",
            items: this._getItems()
        } ]
    }), this.panel;
}, MacromoleculeForm.prototype._populateField = function(a, b) {
    null != b && Ext.getCmp(this.id + a).setValue(b);
}, MacromoleculeForm.prototype._getField = function(a) {
    return Ext.getCmp(this.id + a).getValue();
}, MacromoleculeForm.prototype.load = function(a) {
    this.macromolecule = a, null != a && (this._populateField("name", a.name), this._populateField("acronym", a.acronym), 
    this._populateField("extintionCoefficient", a.extintionCoefficient), this._populateField("molecularMass", a.molecularMass), 
    this._populateField("comments", a.comments), this._populateField("refractiveIndex", a.refractiveIndex), 
    this._populateField("solventViscosity", a.solventViscosity), null != a.symmetry && Ext.getCmp(this.id + "comboSym").setValue(a.symmetry), 
    null != this.macromolecule.proposalId && (Ext.getCmp("proposalIdCombo").setValue(this.macromolecule.proposalId), 
    Ext.getCmp("proposalIdCombo").disable()));
}, MacromoleculeForm.prototype.input = function() {
    return {};
}, MacromoleculeForm.prototype.test = function(a) {
    var b = new MacromoleculeForm();
    b.onClose.attach(function(a) {
        alert("Click on close");
    });
    var c = b.getPanel();
    c.render(a);
}, MolarityForm.prototype._getNumericWithHelp = function(a, b, c, d) {
    return Ext.create("Ext.container.Container", {
        margin: "10 0 0 10",
        items: [ {
            xtype: a,
            fieldLabel: b,
            name: c,
            id: this.id + c,
            decimalPrecision: 6
        }, {
            xtype: "label",
            forId: "myFieldId",
            text: d,
            margin: "5 0 0 105",
            cls: "inline-help"
        } ]
    });
}, MolarityForm.prototype._getItems = function() {
    return this.macromoleculeCombo = BIOSAXS_COMBOMANAGER.getComboMacromoleculeByMacromolecules(this.getMacromuleculesCandidates(this.macromolecule), {
        width: 250,
        labelWidth: 100,
        margin: 10
    }), [ {
        xtype: "container",
        flex: 1,
        margin: "10 0 0 10",
        border: 0,
        layout: "anchor",
        defaultType: "requiredtext",
        items: [ this.macromoleculeCombo, this._getNumericWithHelp("textfield", "Ratio", "ratio", "Number in assymmetric units") ]
    } ];
}, MolarityForm.prototype._persist = function() {
    var a = this, b = this.macromoleculeCombo.getValue(), c = Ext.getCmp(this.id + "ratio").getValue(), d = "Not used yet", e = new BiosaxsDataAdapter();
    this.panel.setLoading("Saving"), e.onSuccess.attach(function(b, c) {
        a.onSave.notify();
    }), e.saveStoichiometry(this.macromolecule.macromoleculeId, b, c, d);
}, MolarityForm.prototype._getButtons = function() {
    function a() {
        b.onClose.notify();
    }
    var b = this;
    return [ {
        text: "Save",
        handler: function() {
            b._persist();
        }
    }, {
        text: "Cancel",
        handler: function() {
            a();
        }
    } ];
}, MolarityForm.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.form.Panel", {
        height: this.height,
        margin: 2,
        border: 1,
        defaultType: "requiredtext",
        items: this._getItems(),
        buttons: this._getButtons()
    }), this.panel;
}, MolarityForm.prototype.getMacromuleculesCandidates = function(a) {
    var b = [];
    if (BIOSAXS.proposal.macromolecules) for (var c = 0; c < BIOSAXS.proposal.macromolecules.length; c++) {
        var d = BIOSAXS.proposal.macromolecules[c];
        null != this.macromolecule && d.macromoleculeId != this.macromolecule.macromoleculeId && b.push(d);
    }
    return b;
}, MolarityForm.prototype.refresh = function(a) {
    this.macromolecule = a;
}, MolarityForm.prototype.input = function() {
    return {};
}, MolarityForm.prototype.test = function(a) {
    var b = new MolarityForm(), c = b.getPanel();
    c.render(a);
}, RigidBodyModelingForm.prototype.openUploadManager = function(a) {
    var b = this, c = new UploaderWidget(a);
    c.onUploaded.attach(function(a) {
        b.panel.setLoading(), EXI.proposalManager.get(!0), b.load(EXI.proposalManager.getMacromoleculeById(b.macromolecule.macromoleculeId)), 
        b.panel.setLoading(!1);
    }), c.show();
}, RigidBodyModelingForm.prototype._getItems = function() {
    var a = this;
    return [ {
        xtype: "label",
        forId: "myFieldId",
        text: "Information for model fit, mixture analysis and rigid body modeling",
        margin: "15 0 20 10",
        cls: "inline-help"
    }, this.rigidBodyGrid.getPanel(), {
        xtype: "label",
        forId: "myFieldId",
        text: "Distance restraints may be imposed on the model using contacts conditions file (OPTIONAL)",
        margin: "25 0 5 10",
        cls: "inline-help"
    }, {
        xtype: "container",
        layout: "hbox",
        items: [ {
            xtype: "container",
            border: !1,
            layout: "hbox",
            items: [ {
                xtype: "label",
                forId: "myFieldId",
                text: "Contact Description File: (Optional)",
                width: 150,
                margin: "10 0 0 10"
            }, {
                id: this.id + "contactsDescriptionFilePath",
                xtype: "textfield",
                hideLabel: !0,
                margin: "10 0 0 0",
                width: 400
            }, {
                text: "Upload",
                xtype: "button",
                margin: "10 0 0 10",
                width: 80,
                handler: function() {
                    a.openUploadManager(EXI.getDataAdapter().saxs.macromolecule.getContactDescriptionUploadFileURL(a.macromolecule.macromoleculeId));
                }
            }, {
                text: "Remove",
                id: a.id + "_remove",
                xtype: "button",
                margin: "10 0 0 10",
                width: 80,
                handler: function() {
                    a.panel.setLoading(!0);
                    var b = function() {
                        EXI.proposalManager.get(!0), a.load(EXI.proposalManager.getMacromoleculeById(a.macromolecule.macromoleculeId)), 
                        a.panel.setLoading(!1);
                    };
                    EXI.getDataAdapter({
                        onSuccess: b
                    }).saxs.macromolecule.removeContactDescriptionFile(a.macromolecule.macromoleculeId);
                }
            } ]
        } ]
    }, {
        xtype: "panel",
        html: "<span class='inline-help' >Go to <a target='_blank' href='http://www.embl-hamburg.de/biosaxs/manuals/sasrefcvmx.html#input-format'>SASREF manual</a> for further information</span>",
        margin: "10 0 0 160",
        border: 0
    } ];
}, RigidBodyModelingForm.prototype._update = function(a, b, c) {
    var d = this;
    BIOSAXS.proposal.onInitialized.attach(function() {
        null != BIOSAXS.proposal && (d.refresh(BIOSAXS.proposal.getMacromoleculeById(d.macromolecule.macromoleculeId)), 
        d.panel.setLoading(!1));
    }), this.panel.setLoading(), BIOSAXS.proposal.init();
}, RigidBodyModelingForm.prototype.getPanel = function() {
    var a = this;
    return this.panel = Ext.create("Ext.form.Panel", {
        width: this.width,
        height: this.height,
        cls: "border-grid",
        defaultType: "textfield",
        items: this._getItems(),
        padding: 20,
        listeners: {
            afterrender: function() {
                a._populate();
            }
        }
    }), this.panel;
}, RigidBodyModelingForm.prototype._populate = function() {
    null != this.macromolecule && null != Ext.getCmp(this.id + "contactsDescriptionFilePath") && (null != this.macromolecule.contactsDescriptionFilePath ? (Ext.getCmp(this.id + "contactsDescriptionFilePath").setValue(this.macromolecule.contactsDescriptionFilePath), 
    Ext.getCmp(this.id + "_remove").enable()) : (Ext.getCmp(this.id + "_remove").disable(), 
    Ext.getCmp(this.id + "contactsDescriptionFilePath").setValue("")));
}, RigidBodyModelingForm.prototype.load = function(a) {
    this.macromolecule = a, this.rigidBodyGrid.load(a), this._populate();
}, RigidBodyModelingForm.prototype.input = function() {
    return {};
}, RigidBodyModelingForm.prototype.test = function(a) {
    var b = new RigidBodyModelingForm(), c = b.getPanel();
    c.render(a);
}, PuckForm.prototype.getHeader = function() {
    return [ "Sample Position", "Protein Acronym", "Sample Name", "Space Group", "Experiment Type", "Pin BarCode", "Pre-observed resolution", "Needed resolution", "Pref. Diameter", "Number Of positions", "Radiation Sensitivity", "Required multiplicity", "Required Completeness", "Unit cell A", "Unit cell B", "Unit cell C", "Unit cell Alpha", "Unit cell Beta", "Unit cell Gamma", "Smiles", "Comments" ];
}, PuckForm.prototype.getSamplesData = function(a) {
    function b(a, b) {
        for (var c = 0; c < a.length; c++) if (a[c].location == Number(b)) return a[c];
    }
    function c(a) {
        return a ? void 0 : "";
    }
    var d = a.sampleVOs, e = [ this.getHeader() ];
    d.sort(function(a, b) {
        return Number(a.location) - Number(b.location);
    });
    for (var f = 0; f < a.capacity; f++) {
        var g = b(d, f + 1);
        if (null != g) {
            var h = g.crystalVO, i = h.proteinVO, j = g.diffractionPlanVO;
            null == j && (j = {}), e.push([ f + 1, i.acronym, g.name, h.spaceGroup, j.experimentKind, g.code, c(j.observedResolution), j.requiredResolution, j.preferredBeamDiameter, j.numberOfPositions, j.radiationSensitivity, j.requiredMultiplicity, j.requiredCompleteness, h.cellA, h.cellB, h.cellC, h.cellAlpha, h.cellBeta, h.cellGamma, g.smiles, g.comments ]);
        } else e.push([ f + 1 ]);
    }
    for (var f = e.length - 1; f < a.capacity; f++) e.push([ f + 1 ]);
    return e;
}, PuckForm.prototype.getColumns = function() {
    for (var a = [], b = EXI.proposalManager.getProteins(), c = [], d = 0; d < b.length; d++) c.push(b[d].acronym);
    for (var e = [ "P1", "P2", "P21", "C2", "P222", "P2221", "P21212", "P212121", "C222", "C2221", "F222", "I222", "I212121", "P4", "P41", "P42", "P43", "P422", "P4212", "P4122", "P41212", "P4222", "P42212", "P4322", "P43212", "I4", "I41", "I422", "I4122", "P3", "P31", "P32", "P31", "P321", "P3112", "P3121", "P3212", "P3221", "P6", "P61", "P65", "P62", "P64", "P63", "P622", "P6122", "P6522", "P6222", "P6422", "P6322", "R3", "R32", "P23", "P213", "P432", "P4232", "P4332", "P4132", "F23", "F432", "F4132", "I23", "I213", "I432", "I4132", "UNKNOWN" ], d = 0; d < this.getHeader().length; d++) switch (d) {
      case 0:
        a.push({
            width: 45
        });
        break;

      case 1:
        a.push({
            type: "dropdown",
            source: c
        });
        break;

      case 2:
        a.push({
            width: 160
        });
        break;

      case 3:
        a.push({
            type: "dropdown",
            source: e
        });
        break;

      case 4:
        a.push({
            type: "dropdown",
            width: 100,
            source: [ "Default", "MXPressE", "MXPressO", "MXPressI", "MXPressE_SAD", "MXScore", "MXPressM" ]
        });
        break;

      case 5:
        a.push({
            width: 60
        });
        break;

      case 6:
        a.push({
            width: 60
        });
        break;

      case 7:
        a.push({
            width: 45
        });
        break;

      case 13:
        a.push({
            width: 40
        });
        break;

      case 14:
        a.push({
            width: 40
        });
        break;

      case 15:
        a.push({
            width: 40
        });
        break;

      case 16:
        a.push({
            width: 40
        });
        break;

      case 17:
        a.push({
            width: 40
        });
        break;

      case 18:
        a.push({
            width: 40
        });
        break;

      case 20:
        a.push({
            width: 150
        });
        break;

      default:
        a.push({});
    }
    return a;
}, PuckForm.prototype.load = function(a, b) {
    function c(a, b, c, d, e, f, g) {
        Handsontable.renderers.TextRenderer.apply(this, arguments), b.style.fontWeight = "bold", 
        b.style.color = "green", b.style.fontSize = "9px", b.style.background = "#CEC";
    }
    function d(a, b, c, d, e, f, g) {
        return Handsontable.renderers.TextRenderer.apply(this, arguments), a.getDataAtRow(c)[1] ? void (2 == d && (f && "" != f || (b.className = "custom-row-text-required"))) : void (b.style.background = "#EEE");
    }
    this.puck = a, null != a && (Ext.getCmp(this.id + "puck_name").setValue(this.puck.code), 
    this.capacityCombo.setValue(this.puck.capacity));
    var e = document.getElementById(this.id + "_samples");
    Handsontable.renderers.registerRenderer("ValueRenderer", d), this.spreadSheet = new Handsontable(e, {
        data: this.getSamplesData(a),
        colWidths: 70,
        columns: this.getColumns(),
        cells: function(a, b, d) {
            var e = {};
            return (0 === a || 0 === b) && (e.readOnly = !0), 0 === b ? (e.renderer = c, e) : (0 === a ? e.renderer = c : e.renderer = "ValueRenderer", 
            e);
        }
    });
}, PuckForm.prototype.getToolBar = function() {
    var a = this;
    return [ "->", {
        text: "Save",
        width: 100,
        handler: function() {
            a.save();
        }
    } ];
}, PuckForm.prototype.save = function(a) {
    var b = this;
    this.panel.setLoading("Saving Puck");
    var c = this.parseData(this.spreadSheet.getData()), d = function(a, c) {
        b.panel.setLoading(!1), b.load(c), b.onSaved.notify();
    };
    EXI.getDataAdapter({
        onSuccess: d
    }).proposal.shipping.saveContainer(this.puck.containerId, this.puck.containerId, this.puck.containerId, c);
}, PuckForm.prototype.checkMandatoryFields = function(a) {
    for (var b = [ "Sample Name", "Protein Acronym", "Experiment Type", "Unit cell A", "Unit cell B", "Unit cell C", "Unit cell Alpha", "Unit cell Beta", "Unit cell Gamma" ], c = 0; c < b.length; c++) if ("" === a[b[c]] || null == a[b[c]]) return b[c];
    return !0;
}, PuckForm.prototype.checkData = function(a) {
    for (var b = 0; b < a.length; b++) {
        var c = a[b];
        if (null != c["Protein Acronym"] && "" != c["Protein Acronym"]) {
            var d = this.checkMandatoryFields(c);
            1 != d && BUI.showError("For sample #" + (b + 1) + " there is missing column " + d);
        }
    }
    return !0;
}, PuckForm.prototype.parseTableData = function() {
    for (var a = [], b = this.spreadSheet.getData(), c = 1; c < b.length; c++) {
        var d = {};
        d.location = c;
        for (var e = 0; e < b[c].length; e++) {
            var f = b[0][e], g = b[c][e];
            d[f] = g;
        }
        d["Protein Acronym"] && d["Protein Acronym"].length > 0 && a.push(d);
    }
    for (var h = [], i = 0; i < a.length; i++) null != a[i]["Protein Acronym"] && h.push(a[i]);
    return h;
}, PuckForm.prototype.parseData = function(a) {
    var b = JSON.parse(JSON.stringify(this.puck));
    b.code = Ext.getCmp(this.id + "puck_name").getValue(), b.capacity = this.capacityCombo.getValue();
    var c = this.parseTableData();
    b.sampleVOs = [];
    for (var d = 0; d < c.length; d++) {
        console.log(c[d]);
        var e = {};
        e.name = c[d]["Sample Name"], e.smiles = c[d].Smiles, e.location = c[d].location, 
        e.comments = c[d].Comments, null == e.crystalVO && (e.crystalVO = {}, e.crystalVO.proteinVO = EXI.proposalManager.getProteinByAcronym(c[d]["Protein Acronym"])), 
        e.crystalVO.spaceGroup = c[d]["Space Group"], e.crystalVO.cellA = Number(c[d]["Unit cell A"]), 
        e.crystalVO.cellB = Number(c[d]["Unit cell B"]), e.crystalVO.cellC = Number(c[d]["Unit cell C"]), 
        e.crystalVO.cellAlpha = Number(c[d]["Unit cell Alpha"]), e.crystalVO.cellBeta = Number(c[d]["Unit cell Beta"]), 
        e.crystalVO.cellGamma = Number(c[d]["Unit cell Gamma"]), e.diffractionPlanVO = {}, 
        e.diffractionPlanVO.radiationSensitivity = Number(c[d]["Radiation Sensitivity"]), 
        e.diffractionPlanVO.requiredCompleteness = Number(c[d]["Required Completeness"]), 
        e.diffractionPlanVO.requiredMultiplicity = Number(c[d]["Required multiplicity"]), 
        e.diffractionPlanVO.requiredResolution = Number(c[d]["Needed resolution"]), e.diffractionPlanVO.observedResolution = Number(c[d]["Pre-observed resolution"]), 
        e.diffractionPlanVO.preferredBeamDiameter = Number(c[d]["Pref. Diameter"]), e.diffractionPlanVO.numberOfPositions = Number(c[d]["Number Of positions"]), 
        e.diffractionPlanVO.experimentKind = c[d]["Experiment Type"], b.sampleVOs.push(e);
    }
    return b;
}, PuckForm.prototype.getPanel = function() {
    var a = this, b = BIOSAXS_COMBOMANAGER.getComboPuckType({
        margin: "10 0 10 20",
        labelWidth: 100,
        width: 300
    });
    return b.on("select", function(b, c) {
        var d = c[0].data.value, e = a.spreadSheet.getData();
        if (e.length < d) for (var f = e.length; d >= f; f++) e.push([ f ]); else e = e.slice(0, d + 1);
        a.spreadSheet.loadData(e);
    }), this.capacityCombo = b, this.panel = Ext.create("Ext.panel.Panel", {
        layout: "vbox",
        buttons: this.getToolBar(),
        layout: "vbox",
        items: [ {
            xtype: "container",
            margin: "2 0 2 2",
            layout: "vbox",
            items: [ {
                xtype: "requiredtextfield",
                id: this.id + "puck_name",
                fieldLabel: "Name",
                name: "name",
                width: 300,
                margin: "0 0 0 20",
                labelWidth: 100
            }, this.capacityCombo, {
                html: '<div  style="overflow: auto;overflow-y: hidden; border:1px solid gray;background-color:white;height:500px;width:' + (a.width - 20) + 'px"; id="' + this.id + '_samples"; ></div>',
                margin: "20 0 20 10",
                height: 520,
                border: 1
            } ]
        } ]
    }), this.panel.on("afterlayout", function() {}), this.panel;
}, ShipmentForm.prototype.fillStores = function() {
    this.panel.setLoading("Loading Labcontacts from database");
    var a = EXI.proposalManager.getLabcontacts();
    this.labContactForSendingStore.loadData(a, !1), a.sort(function(a, b) {
        return a.cardName < b.cardName ? -1 : a.cardName > b.cardName ? 1 : 0;
    }), $.extend(a, [ {
        cardName: "Same as for shipping to beamline",
        labContactId: -1
    }, {
        cardName: "No return requested",
        labContactId: 0
    } ]), this.labContactForReturnStore.loadData(a, !1), this.labContactsReturnCombo.setValue(-1), 
    this.panel.setLoading(!1), null != this.shipment && this.setShipment(this.shipment);
}, ShipmentForm.prototype.draw = function(a) {
    this.getPanel().render(a);
}, ShipmentForm.prototype.load = function(a) {
    this.shipment = a;
    var b = this;
    if (Ext.getCmp(b.id + "shippingName").setValue(a.shippingName), Ext.getCmp(b.id + "comments").setValue(a.comments), 
    null != a.sendingLabContactVO && this.labContactsSendingCombo.setValue(a.sendingLabContactVO.labContactId), 
    null == a.returnLabContactVO ? this.labContactsReturnCombo.setValue(0) : a.returnLabContactVO.labContactId == a.sendingLabContactVO.labContactId ? this.labContactsReturnCombo.setValue(-1) : this.labContactsReturnCombo.setValue(a.returnLabContactVO.labContactId), 
    null != a.sessions && a.sessions.length > 0) {
        var c = a.sessions[0];
        this.sessionComboBox.setValue(c.sessionId);
    }
}, ShipmentForm.prototype._saveShipment = function() {
    var a = this, b = null;
    null != this.shipment && (b = this.shipment.shippingId);
    var c = this.sendingAddressForm.getAddress(), d = this.returnAddressForm.getAddress(), e = d.labContactId;
    0 == this.labContactsReturnCombo.getValue() && (e = 0), -1 == this.labContactsReturnCombo.getValue() && (e = -1);
    var f = {
        shippingId: b,
        name: Ext.getCmp(a.id + "shippingName").getValue(),
        status: "Not set",
        sendingLabContactId: this.sendingAddressForm.getAddress().labContactId,
        returnLabContactId: e,
        returnCourier: d.labContactId,
        courierAccount: c.courierAccount,
        billingReference: c.billingReference,
        dewarAvgCustomsValue: c.dewarAvgCustomsValue,
        dewarAvgTransportValue: c.dewarAvgTransportValue,
        comments: Ext.getCmp(a.id + "comments").getValue(),
        sessionId: this.sessionComboBox.getValue()
    }, g = function(c, d) {
        null == b && (location.hash = "#/shipping/" + d.shippingId + "/main"), a.panel.setLoading(!1), 
        a.onSaved.notify(d);
    };
    return "" == f.name ? void BUI.showError("Name field is mandatory") : null == f.sendingLabContactId ? void BUI.showError("Lab contact for sending field is mandatory") : (this.panel.setLoading(), 
    EXI.getDataAdapter({
        onSuccess: g
    }).proposal.shipping.saveShipment(f), this.sendingAddressForm.save(), void (this.labContactsReturnCombo.getValue() > 0 && this.returnAddressForm.save()));
}, ShipmentForm.prototype.getPanel = function() {
    var a = this, b = '<span style="color:red;font-weight:bold" data-qtip="Required">*</span>', c = [];
    return a.creationMode ? c.push({
        text: "Create",
        scope: this,
        handler: function() {
            a._saveShipment();
        }
    }) : c.push({
        text: "Save",
        scope: this,
        handler: function() {
            a._saveShipment();
        }
    }), this.labContactForSendingStore = Ext.create("Ext.data.Store", {
        fields: [ "cardName", "labContactId" ],
        sorters: "cardName"
    }), this.labContactForReturnStore = Ext.create("Ext.data.Store", {
        fields: [ "cardName", "labContactId" ]
    }), this.labContactsSendingCombo = Ext.create("Ext.form.ComboBox", {
        id: a.id + "shipmentform_sendingLabContactId",
        fieldLabel: "User contact information for shipping to beamline",
        afterLabelTextTpl: b,
        store: this.labContactForSendingStore,
        queryMode: "local",
        labelWidth: 350,
        width: 800,
        displayField: "cardName",
        valueField: "labContactId",
        listeners: {
            change: function(b, c) {
                null != c ? (a.sendingAddressForm.load(EXI.proposalManager.getLabcontactById(c)), 
                a.sendingAddressForm.panel.setVisible(!0)) : a.sendingAddressForm.panel.setVisible(!1);
            }
        }
    }), this.labContactsReturnCombo = Ext.create("Ext.form.ComboBox", {
        id: a.id + "returnLabContactId",
        fieldLabel: "User contact information for return to home institute",
        afterLabelTextTpl: b,
        store: this.labContactForReturnStore,
        queryMode: "local",
        labelWidth: 350,
        width: 800,
        displayField: "cardName",
        valueField: "labContactId",
        listeners: {
            change: function(b, c) {
                return 0 == c || -1 == c ? void a.returnAddressForm.panel.setVisible(!1) : void (null != c ? (a.returnAddressForm.load(EXI.proposalManager.getLabcontactById(c)), 
                a.returnAddressForm.panel.setVisible(!0)) : a.returnAddressForm.panel.setVisible(!1));
            }
        }
    }), this.sessionComboBox = BIOSAXS_COMBOMANAGER.getComboSessions(EXI.proposalManager.getSessions(), {
        margin: "10 0 0 10",
        width: 400,
        labelWidth: 100
    }), null == this.panel && (this.panel = Ext.create("Ext.form.Panel", {
        bodyPadding: 5,
        cls: "border-grid",
        buttons: c,
        items: [ {
            xtype: "container",
            layout: "hbox",
            items: [ {
                xtype: "requiredtextfield",
                fieldLabel: "Name",
                allowBlank: !1,
                labelWidth: 75,
                width: 500,
                margin: "10 20 0 10",
                name: "shippingName",
                id: a.id + "shippingName",
                value: ""
            }, this.sessionComboBox ]
        }, {
            xtype: "textareafield",
            name: "comments",
            id: a.id + "comments",
            fieldLabel: "Comments",
            value: "",
            labelWidth: 75,
            margin: "10 20 0 10",
            width: 500
        }, {
            html: "<span class='exi-toolBar' style='font-size:18px; '>Address for shipping to Beamline</span>",
            margin: "30 0 0 10",
            flex: 1
        }, {
            xtype: "container",
            layout: "vbox",
            items: [ {
                xtype: "container",
                layout: "vbox",
                margin: "10 20 0 10",
                items: [ this.labContactsSendingCombo, this.sendingAddressForm.getPanel() ]
            }, {
                html: "<span class='exi-toolBar' style='font-size:18px; '>Address for return to home institute</span>",
                margin: "30 0 0 10",
                flex: 1
            }, {
                xtype: "container",
                layout: "vbox",
                margin: "10 0 10 20",
                items: [ this.labContactsReturnCombo, this.returnAddressForm.getPanel() ]
            } ]
        } ]
    })), this.fillStores(), this.panel;
}, StockSolutionForm.prototype._getButtons = function() {
    var a = this;
    return [ {
        text: "Save",
        handler: function() {
            var b = function(b, c) {
                a.panel.setLoading(!1), a.onSaved.notify();
            };
            return null == a.getStockSolution().bufferId ? void BUI.showError("Buffer field is mandatory") : "" == a.getStockSolution().name ? void BUI.showError("Acronym field is mandatory") : "" == a.getStockSolution().concentration ? void BUI.showError("Concentration field is mandatory") : "" == a.getStockSolution().volume ? void BUI.showError("Volume field is mandatory") : (a.panel.setLoading("ISPyB: saving stock solution"), 
            void EXI.getDataAdapter({
                onSuccess: b
            }).saxs.stockSolution.saveStockSolution(a.getStockSolution()));
        }
    } ];
}, StockSolutionForm.prototype.getStockSolution = function() {
    return null == this.stockSolution ? {
        concentration: Ext.getCmp(this.id + "stockSolution_concentration").getValue(),
        storageTemperature: this.storageLocationComboBox.getValue(),
        volume: Ext.getCmp(this.id + "stockSolution_volume").getValue(),
        comments: Ext.getCmp(this.id + "stockSolution_comments").getValue(),
        name: Ext.getCmp(this.id + "stockSolution_name").getValue(),
        bufferId: this.bufferCombo.getValue(),
        macromoleculeId: this.macromoleculeCombo.getValue(),
        proposalId: Ext.getCmp("proposalIdCombo").getValue()
    } : (this.stockSolution.concentration = Ext.getCmp(this.id + "stockSolution_concentration").getValue(), 
    this.stockSolution.storageTemperature = this.storageLocationComboBox.getValue(), 
    this.stockSolution.volume = Ext.getCmp(this.id + "stockSolution_volume").getValue(), 
    this.stockSolution.comments = Ext.getCmp(this.id + "stockSolution_comments").getValue(), 
    this.stockSolution.name = Ext.getCmp(this.id + "stockSolution_name").getValue(), 
    this.stockSolution.proposalId = Ext.getCmp("proposalIdCombo").getValue(), this.stockSolution.bufferId = this.bufferCombo.getValue(), 
    null != this.macromoleculeCombo.getValue() ? this.stockSolution.macromoleculeId = this.macromoleculeCombo.getValue() : this.stockSolution.macromolecule3VO = null, 
    this.stockSolution);
}, StockSolutionForm.prototype.load = function(a) {
    this.stockSolution = a, null != a && (null != a.macromoleculeId && this.macromoleculeCombo.setValue(a.macromoleculeId), 
    this.bufferCombo.setValue(a.bufferId), Ext.getCmp(this.id + "stockSolution_concentration").setValue(this.stockSolution.concentration), 
    this.storageLocationComboBox.setValue(this.stockSolution.storageTemperature), Ext.getCmp(this.id + "stockSolution_volume").setValue(this.stockSolution.volume), 
    Ext.getCmp(this.id + "stockSolution_name").setValue(this.stockSolution.name), Ext.getCmp(this.id + "stockSolution_comments").setValue(this.stockSolution.comments), 
    null != a && null != a.proposalId && (Ext.getCmp("proposalIdCombo").setValue(a.proposalId), 
    Ext.getCmp("proposalIdCombo").disable()));
}, StockSolutionForm.prototype.getBufferCombo = function() {
    return this.bufferCombo = BIOSAXS_COMBOMANAGER.getComboBuffers(EXI.proposalManager.getBuffers(), {
        labelWidth: 150,
        margin: "0 0 10 0",
        width: 400
    }), this.bufferCombo;
}, StockSolutionForm.prototype.getMacromoleculeCombo = function() {
    return this.macromoleculeCombo = BIOSAXS_COMBOMANAGER.getComboMacromoleculeByMacromolecules(EXI.proposalManager.getMacromolecules(), {
        labelWidth: 150,
        margin: "0 0 10 0",
        width: 400
    }), this.macromoleculeCombo;
}, StockSolutionForm.prototype.refresh = function() {}, StockSolutionForm.prototype._getTopPanel = function() {
    return this.storageLocationComboBox = BIOSAXS_COMBOMANAGER.getComboStorageTemperature({
        labelWidth: 150,
        width: 400
    }), {
        xtype: "container",
        layout: "hbox",
        border: 0,
        buttons: this._getButtons(),
        items: [ {
            xtype: "container",
            layout: "hbox",
            items: [ {
                xtype: "container",
                flex: 1,
                border: !1,
                layout: "anchor",
                defaultType: "textfield",
                items: [ BIOSAXS_COMBOMANAGER.getComboProposal({
                    labelWidth: 150,
                    width: 400
                }), this.getMacromoleculeCombo(), this.getBufferCombo(), {
                    xtype: "requiredtextfield",
                    id: this.id + "stockSolution_name",
                    fieldLabel: "Acronym",
                    labelWidth: 150,
                    width: 400
                }, {
                    xtype: "requiredtextfield",
                    id: this.id + "stockSolution_concentration",
                    fieldLabel: "Conc. (mg/ml)",
                    labelWidth: 150,
                    width: 400
                }, this.storageLocationComboBox, {
                    xtype: "requiredtextfield",
                    id: this.id + "stockSolution_volume",
                    fieldLabel: "Volume (&#181l)",
                    labelWidth: 150,
                    width: 400
                } ]
            } ]
        } ]
    };
}, StockSolutionForm.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        padding: 0,
        buttons: this._getButtons(),
        cls: "border-grid",
        items: [ {
            xtype: "container",
            padding: 20,
            items: [ this._getTopPanel(), {
                id: this.id + "stockSolution_comments",
                xtype: "textareafield",
                name: "comments",
                fieldLabel: "Comments",
                labelWidth: 150,
                width: "100%",
                height: 100
            } ]
        } ]
    }), this.panel;
}, StockSolutionForm.prototype.input = function() {
    return {
        stock: {
            stockSolutionId: 6,
            proposalId: 3124,
            macromoleculeId: 5933,
            bufferId: 811,
            instructionSet3VO: null,
            boxId: 305861,
            storageTemperature: "20",
            volume: "300",
            concentration: "1.2",
            comments: "Buffer EDTA with A",
            name: "A_EDTA_1.2",
            samples: [],
            buffer: "EDTA",
            macromolecule: "A"
        },
        proposal: new MeasurementGrid().input().proposal
    };
}, StockSolutionForm.prototype.test = function(a) {
    var b = new StockSolutionForm();
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = b.getPanel(new Shipment(b.input().stock));
    c.render(a);
}, GrayScalePlot.prototype.getText = function() {
    return "Click on two points to calculate the intensity";
}, GrayScalePlot.prototype.getPanel = function() {
    return "<div id=" + this.id + " style='text-align:center;width:" + this.width + "px;height:" + this.height + "px;'>" + this.getText() + "</div>";
}, GrayScalePlot.prototype.reset = function() {
    document.getElementById(this.id).innerHTML = this.getText();
}, GrayScalePlot.prototype.load = function(a) {
    if (null != a && null != a.length) {
        for (var b = document.getElementById(this.id), c = [], d = 0; d < a.length; d++) c.push([ d, 255 - a[d].luminance ]);
        try {
            new Dygraph(b, c, {
                title: "Intensity"
            });
        } catch (e) {}
    }
}, AbinitioGrid.prototype.refresh = function(a) {
    this.store.loadData(this._prepareData(a));
}, AbinitioGrid.prototype._prepareData = function(a) {
    for (var b = [], c = 0; c < a.length; c++) for (var d = a[c], e = 0; e < d.substractionToAbInitioModel3VOs.length; e++) {
        var f = d.substractionToAbInitioModel3VOs[e].abinitiomodel3VO;
        if (null != f.averagedModel && (b.push(f.averagedModel), b[b.length - 1].type = "Reference"), 
        null != f.shapeDeterminationModel && (b.push(f.shapeDeterminationModel), b[b.length - 1].type = "Refined"), 
        null != f.modelList3VO && null != f.modelList3VO.modeltolist3VOs) for (var g = 0; g < f.modelList3VO.modeltolist3VOs.length; g++) b.push(f.modelList3VO.modeltolist3VOs[g].model3VO), 
        b[b.length - 1].type = "Model";
    }
    return b;
}, AbinitioGrid.prototype.getPanel = function() {
    var a = this, b = [ "modelId", "type", "chiSqrt", "dmax", "firFile", "logFile", "fitFile", "pdbFile", "rfactor", "rg", "volume" ];
    Ext.define("AbinitioModel", {
        extend: "Ext.data.Model",
        fields: b
    }), this.store = Ext.create("Ext.data.Store", {
        model: "AbinitioModel",
        autoload: !0,
        groupField: "type"
    });
    var c = Ext.create("Ext.grid.feature.Grouping", {
        groupHeaderTpl: '{name} ({rows.length} model{[values.rows.length > 1 ? "s" : ""]})',
        startCollapsed: !1,
        collapsible: !0
    }), d = Ext.create("Ext.selection.RowModel", {
        allowDeselect: !0,
        listeners: {
            selectionchange: function(b, c) {
                c.length > 0 && a.onSelected.notify([ c[0].data ]);
            }
        }
    });
    return this.grid = Ext.create("Ext.grid.Panel", {
        collapsible: !1,
        resizable: !0,
        selModel: d,
        features: [ c ],
        autoscroll: !0,
        multiSelect: !0,
        store: this.store,
        cls: "border-grid",
        height: this.height,
        width: this.width,
        margin: 10,
        columns: [ {
            text: "Type",
            dataindex: "type",
            hidden: !0,
            renderer: function(a, b, c) {
                return c.data.type;
            },
            flex: 1
        }, {
            text: "ModelId",
            dataindex: "modelId",
            hidden: !0,
            renderer: function(a, b, c) {
                return c.data.modelId;
            },
            flex: 1
        }, {
            text: "chiSqrt",
            dataindex: "chiSqrt",
            renderer: function(a, b, c) {
                return null != c.data.dmax ? BUI.formatValuesUnits(c.data.chiSqrt, "", 12, this.decimals) : void 0;
            },
            flex: 1
        }, {
            text: "Dmax",
            dataindex: "dmax",
            renderer: function(a, b, c) {
                return null != c.data.dmax ? BUI.formatValuesUnits(c.data.dmax, "nm", 12, this.decimals) : void 0;
            },
            flex: 1
        }, {
            text: "rFactor",
            dataindex: "rfactor",
            hidden: !0,
            renderer: function(a, b, c) {
                return null != c.data.rfactor ? c.data.rfactor : void 0;
            },
            flex: 1
        }, {
            text: "Rg",
            dataindex: "rg",
            renderer: function(a, b, c) {
                return null != c.data.rg ? BUI.formatValuesUnits(c.data.rg, "nm", 12, this.decimals) : void 0;
            },
            flex: 1
        }, {
            text: "Volume",
            dataindex: "volume",
            renderer: function(a, b, c) {
                return null != c.data.volume ? BUI.formatValuesUnits(c.data.volume, "") + "<span style='font-size:8px;color:gray;'> nm<sub>3</sub></span>" : void 0;
            },
            flex: 1
        }, {
            text: "PDB",
            dataindex: "pdbFile",
            renderer: function(a, b, c) {
                return null != c.data.pdbFile ? c.data.pdbFile.split("/")[c.data.pdbFile.split("/").length - 1] : void 0;
            },
            flex: 1
        }, {
            text: "Fir",
            dataindex: "firFile",
            renderer: function(a, b, c) {
                return null != c.data.firFile ? c.data.firFile.split("/")[c.data.firFile.split("/").length - 1] : void 0;
            },
            flex: 1
        }, {
            text: "LOG",
            dataindex: "logFile",
            hidden: !0,
            renderer: function(a, b, c) {
                return null != c.data.logFile ? c.data.logFile.split("/")[c.data.logFile.split("/").length - 1] : void 0;
            },
            flex: 1
        } ],
        viewConfig: {
            enableTextSelection: !0,
            preserveScrollOnRefresh: !0,
            stripeRows: !0,
            listeners: {}
        }
    }), this.grid;
}, AprioriRigidBodyGrid.prototype._getColumns = function() {}, AprioriRigidBodyGrid.prototype._getTopButtons = function() {
    var a = this, b = [];
    return b.push(Ext.create("Ext.Action", {
        icon: "../images/add.png",
        text: "Add",
        disabled: !1,
        handler: function(b, c) {
            a.onAddButtonClicked.notify();
        }
    })), b;
}, AprioriRigidBodyGrid.prototype.load = function(a) {
    this.macromolecule = a, null != a && this.pdbStore.loadData(a.structure3VOs);
}, AprioriRigidBodyGrid.prototype._prepareData = function() {
    for (var a = [], b = 0; b < this.features.length; b++) a.push(this.features[b]);
    return a;
}, AprioriRigidBodyGrid.prototype._updateProposalInformation = function() {
    EXI.proposalManager.get(!0), this.load(EXI.proposalManager.getMacromoleculeById(this.macromolecule.macromoleculeId)), 
    this.panel.setLoading(!1);
}, AprioriRigidBodyGrid.prototype._getPlugins = function() {
    var a = this, b = [];
    return b.push(Ext.create("Ext.grid.plugin.RowEditing", {
        clicksToEdit: 1,
        listeners: {
            validateedit: function(b, c) {
                var d = c.newValues.multiplicity, e = c.newValues.symmetry, f = c.record.data.macromoleculeId, g = c.record.data.structureId;
                a.panel.setLoading();
                var h = function() {
                    a._updateProposalInformation();
                }, i = function(b) {
                    BUI.showError("Ops, there was a problem"), a._updateProposalInformation();
                };
                a.panel.setLoading(), EXI.getDataAdapter({
                    onSuccess: h,
                    onError: i
                }).saxs.macromolecule.saveStructure(f, g, d, e);
            }
        }
    })), b;
}, AprioriRigidBodyGrid.prototype.getPanel = function() {
    var a = this;
    return this.pdbStore = Ext.create("Ext.data.Store", {
        fields: [ "filePath", "structureId", "structureType", "symmetry", "structureId", "name", "multiplicity" ],
        groupField: "structureType",
        sorters: {
            property: "structureId",
            direction: "DESC"
        }
    }), this.panel = Ext.create("Ext.grid.Panel", {
        margin: "15 10 0 10",
        height: this.height,
        store: this.pdbStore,
        plugins: a._getPlugins(),
        cls: "border-grid",
        tbar: [ {
            text: "Add Modeling Option (PDB)",
            icon: "../images/icon/add.png",
            handler: function() {
                a.onUploadFile.notify("PDB", "Upload PDB File");
            }
        } ],
        columns: [ {
            text: "structureId",
            flex: .2,
            hidden: !0,
            dataIndex: "structureId",
            sortable: !0
        }, {
            text: "File",
            flex: 1,
            dataIndex: "filePath",
            sortable: !0,
            hidden: !0
        }, {
            text: "PDB",
            flex: .4,
            dataIndex: "name",
            sortable: !0
        }, {
            text: "Symmetry",
            flex: .2,
            dataIndex: "symmetry",
            sortable: !0,
            editor: {
                xtype: "combobox",
                typeAhead: !0,
                triggerAction: "all",
                selectOnTab: !0,
                store: [ [ "P1", "P1" ], [ "P2", "P2" ], [ "P3", "P3" ], [ "P4", "P4" ], [ "P5", "P5" ], [ "P6", "P6" ], [ "P32", "P32" ], [ "P42", "P42" ], [ "P52", "P52" ], [ "P62", "P62" ], [ "P222", "P222" ] ]
            }
        }, {
            text: "Multiplicity",
            flex: .2,
            dataIndex: "multiplicity",
            sortable: !0,
            editor: {
                xtype: "textfield"
            }
        }, {
            text: "Subunit",
            flex: .2,
            dataIndex: "isSubunit",
            sortable: !0,
            hidden: !0
        }, {
            text: "Type",
            flex: .2,
            dataIndex: "structureType",
            sortable: !0,
            hidden: !0
        }, {
            xtype: "actioncolumn",
            flex: .1,
            text: "Remove",
            editor: {
                xtype: "textfield"
            },
            items: [ {
                icon: "../images/icon/ic_delete_black_24dp.png",
                tooltip: "Remove",
                handler: function(b, c, d) {
                    function e(b) {
                        if ("yes" == b) {
                            var c = function() {
                                a._updateProposalInformation();
                            }, d = function() {
                                BUI.showWarning("ISPyB could not remove this structure. Have it been already used?"), 
                                a._updateProposalInformation();
                            };
                            a.panel.setLoading(), EXI.getDataAdapter({
                                onSuccess: c,
                                onError: d
                            }).saxs.macromolecule.removeStructure(h, g);
                        }
                    }
                    var f = b.getStore().getAt(c), g = f.data.structureId, h = f.data.macromoleculeId;
                    Ext.MessageBox.show({
                        title: "Warning",
                        fn: e,
                        msg: "You are removing a PDB structure option. <br />Sure?",
                        buttons: Ext.MessageBox.YESNO,
                        icon: Ext.MessageBox.QUESTION
                    });
                }
            } ]
        } ],
        listeners: {
            beforeedit: function(a, b, c) {
                return "actioncolumn" != b.column.xtype;
            }
        }
    }), this.panel;
}, BufferGrid.prototype._edit = function(a) {
    function b() {
        return [ {
            text: "Save",
            handler: function() {
                var a = function(a) {
                    var b = function(a, b) {
                        c.window.close(), c.onUpdated.notify(), c.panel.setLoading(!1);
                    };
                    c.panel.setLoading("Updading proposal information"), EXI.getDataAdapter({
                        onSuccess: b
                    }).proposal.proposal.update();
                };
                return "" == c.bufferForm.getBuffer().name ? void BUI.showWarning("Name field is mandatory") : "" == c.bufferForm.getBuffer().acronym ? void BUI.showWarning("Acronym field is mandatory") : "" == c.bufferForm.getBuffer().proposalId || null == c.bufferForm.getBuffer().proposalId ? void BUI.showWarning("Proposal field is mandatory") : void EXI.getDataAdapter({
                    onSuccess: a
                }).saxs.buffer.saveBuffer(c.bufferForm.getBuffer());
            }
        }, {
            text: "Cancel",
            handler: function() {
                c.window.close();
            }
        } ];
    }
    var c = this;
    this.bufferForm = new BufferForm({
        height: 400,
        width: 700
    }), this.window = Ext.create("Ext.window.Window", {
        title: "Edit buffer",
        layout: "fit",
        items: this.bufferForm.getPanel(),
        buttons: b()
    }).show(), this.bufferForm.load(this.getBufferById(a));
}, BufferGrid.prototype.getBufferById = function(a) {
    for (var b = 0; b < this.buffers.length; b++) if (this.buffers[b].bufferId == a) return this.buffers[b];
    return {};
}, BufferGrid.prototype.load = function(a) {
    this.buffers = a, this.proposalKey = {}, this.proposalColor = {};
    for (var b = 0; b < a.length; b++) {
        var c = EXI.proposalManager.getProposalById(a[b].proposalId);
        a[b].proposal = c.code + c.number;
    }
    this.store.loadData(a, !1);
}, BufferGrid.prototype._getTbar = function() {
    var a = this, b = [];
    return b.push(Ext.create("Ext.Action", {
        text: "Add",
        icon: "images/icon/add.png",
        disabled: !1,
        handler: function(b, c) {
            a._edit();
        }
    })), b;
}, BufferGrid.prototype.getPanel = function() {
    var a = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "proposal", "bufferId", "acronym", "name", "composition", "comments", "ph" ]
    }), this.store.sort("acronym");
    var b = "Ext.grid.Panel";
    return 1 == this.searchBar && (b = "Ext.ux.LiveSearchGridPanel"), this.panel = Ext.create(b, {
        title: "Buffers",
        collapsible: this.collapsible,
        collapsed: this.collapsed,
        store: this.store,
        height: this.height,
        width: this.width,
        columns: [ {
            text: "Proposal",
            dataIndex: "proposal",
            flex: 1
        }, {
            text: "Acronym",
            dataIndex: "acronym",
            flex: 2
        }, {
            text: "Name",
            dataIndex: "name",
            flex: 2,
            hidden: !1
        }, {
            text: "pH",
            dataIndex: "ph",
            flex: 2
        }, {
            text: "Composition",
            dataIndex: "composition",
            flex: 2,
            hidden: !1
        }, {
            text: "Comments",
            dataIndex: "comments",
            flex: 4,
            hidden: !1
        }, {
            xtype: "actioncolumn",
            width: 40,
            text: "Edit",
            items: [ {
                icon: "images/icon/edit.png",
                tooltip: "Edit",
                handler: function(b, c, d) {
                    var e = b.getStore().getAt(c);
                    a._edit(e.get("bufferId"));
                }
            } ]
        } ],
        flex: 1,
        viewConfig: {
            stripeRows: !0,
            listeners: {
                celldblclick: function(b, c, d, e, f, g, h, i) {
                    a._edit(e.data.bufferId);
                }
            }
        }
    }), this.tbar && this.panel.addDocked({
        xtype: "toolbar",
        cls: "toolBarGrid",
        height: 48,
        items: this._getTbar()
    }), this.panel;
}, BufferGrid.prototype.input = function() {
    return new MacromoleculeGrid().input();
}, BufferGrid.prototype.test = function(a) {
    var b = new BufferGrid({
        width: 800,
        height: 350,
        collapsed: !1,
        tbar: !0
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = b.getPanel(BIOSAXS.proposal.macromolecules);
    c.render(a);
}, CaseGrid.prototype._getHTMLTable = function(a) {
    for (var b = "<table style='font-size:14px;color:gray;'>", c = 0; c < a.length; c++) b += "<tr>", 
    b += "<td>", b += a[c].key, b += "</td>", b += "<td style='font-weight:bold;color:black;'>", 
    b += a[c].value, b += "</td>", b += "</tr>";
    return b + "</table>";
}, CaseGrid.prototype._getHTMLButton = function(a, b) {
    return '<input id="' + a + ' "type="button" name="btn" style="font-size:9px;width:90px; height:40px" class="btn-component" value="' + b + '" >';
}, CaseGrid.prototype._getUnpackStockSolutionButton = function(a, b) {
    return '<input id="' + a + '"type="button" name="stockSolution" style="font-size:9px;width:90px; height:40px" class="btn-component-remove" value="' + b + '" >';
}, CaseGrid.prototype._getRemoveContainerButton = function(a, b) {
    return '<input id="' + a + '"type="button" name="puck" style="font-size:9px;width:90px; height:40px" class="btn-component-remove" value="' + b + '" >';
}, CaseGrid.prototype._getEditPuckButton = function(a, b, c) {
    return '<input id="' + a + "_" + b + '"type="button" name="edit" style="font-size:9px;width:90px; height:40px" class="btn-component-puck-edit" value="' + c + '" >';
}, CaseGrid.prototype._getPrintParcelButton = function(a, b) {
    return '<input id="' + a + ' "type="button" name="printLabels" style="font-size:9px;width:90px; height:40px" class="btn-component-print-parcel" value="' + b + '" >';
}, CaseGrid.prototype._getEditParcelButton = function(a, b) {
    return '<input id="' + a + ' "type="button" name="editParcel" style="font-size:9px;width:90px; height:40px" class="btn-component-edit-parcel" value="' + b + '" >';
}, CaseGrid.prototype._getRemoveParcelButton = function(a, b) {
    return '<input id="' + a + ' "type="button" name="removeParcel" style="font-size:9px;width:90px; height:40px" class="btn-component-remove" value="' + b + '" >';
}, CaseGrid.prototype._getComponentRowHTML = function(a, b, c, d, e) {
    var f = "";
    return f += "<tr  class='tr-component'>", f += "<td>", f += this._getEditPuckButton(b, Number(e), "Edit"), 
    f += "</td>", f += "<td>", f += b, f += "</td>", f += "<td>", f += c, f += "</td>", 
    f += "<td>", f += d, f += "</td>", "Stock Solution" == b && (f += "<td>", f += this._getUnpackStockSolutionButton(Number(e), "Unpack"), 
    f += "</td>"), "Puck" == b && (f += "<td>", f += this._getRemoveContainerButton(Number(e), "Remove"), 
    f += "</td>"), f += "</tr>";
}, CaseGrid.prototype._getComponentHTML = function(a, b) {
    var c = "";
    if (b.length > 0) {
        c = "<table  class='table-component'><tr><th class='th-component'></th><th class='th-component'>Type</th><th class='th-component'>Code</th><th class='th-component'>Capacity</th><th></th></tr>";
        for (var d = 0; d < b.length; d++) {
            var e = "../images/BasketView_24x24_01.png";
            "Puck" == b[d].type && (c += this._getComponentRowHTML(e, b[d].type, b[d].code, b[d].sampleCount + "/" + b[d].capacity, b[d].id)), 
            "Stock Solution" == b[d].type && (e = "../images/SampleHolderView_24x24_01.png", 
            c += this._getComponentRowHTML(e, b[d].type, b[d].code, b[d].capacity, b[d].id));
        }
        c += "</table>";
    } else c += "<br /><br /><span class='parcel-empty-msg'>This parcel is empty</span>";
    return 0 == b.length && (c = this._getHTMLButton(a, "Add Solution") + this._getHTMLButton(a, "Add Puck") + c), 
    b.length > 0 && (c = "Puck" == b[0].type ? this._getHTMLButton(a, "Add Puck") + c : this._getHTMLButton(a, "Add Solution") + c), 
    '<div  class="header-component-table" >Components</div><div  style="margin:0px 0px 0px 0px !important;width:610px;">' + c + "</div>";
}, CaseGrid.prototype._getParcelHTML = function(a) {
    var b = "<table  class='table-component'><tr><th class='th-component'>Code</th><th class='th-component'>Status</th><th class='th-component'>Store Location</th><th class='th-component'>Comments</th></tr>", c = a.Dewar_storageLocation, d = a.Dewar_code, e = a.Dewar_status, f = a.Dewar_comments;
    return null == d && (d = "<span style='color:orange'>Not set</span>"), null == e && (e = "<span style='color:orange'>Unknown</span>"), 
    null == c && (c = "<span style='color:orange'>Not set</span>"), null == f && (f = ""), 
    b = b + "<tr class='tr-component'><td>" + d + "</td><td>" + e + "</td><td>" + c + "</td><td>" + f + "</td></tr></table>", 
    b = this._getEditParcelButton(a.Dewar_dewarId, "Edit") + this._getPrintParcelButton(a.Dewar_dewarId, "Print Labels") + this._getRemoveParcelButton(a.Dewar_dewarId, "Remove") + b, 
    '<div  class="header-component-table" >Parcel</div><div  style="margin:0px 0px 0px 0px !important;width:610px;">' + b + "</div>";
}, CaseGrid.prototype._getColumns = function() {
    var a = this, b = [ {
        header: "General",
        dataIndex: "type",
        name: "type",
        type: "string",
        flex: .5,
        renderer: function(b, c, d) {
            var e = JSON.parse(d.data.serialized);
            return a._getParcelHTML(e[0]);
        }
    }, {
        header: "Content",
        dataIndex: "Dewar_comments",
        name: "type",
        type: "string",
        flex: .5,
        renderer: function(b, c, d) {
            var e = JSON.parse(d.data.serialized), f = e[0].Dewar_dewarId, g = [];
            if (null != e && e.length > 0) for (var h = 0; h < e.length; h++) if ("Puck" == e[h].Container_containerType) {
                var i = "";
                null != e[h].Container_code && (i = e[h].Container_code), g.push({
                    type: e[h].Container_containerType,
                    code: i,
                    capacity: e[h].Container_capacity,
                    sampleCount: e[h].sampleCount,
                    id: e[h].Container_containerId
                });
            }
            for (var j = EXI.proposalManager.getStockSolutionsByDewarId(f), h = 0; h < j.length; h++) g.push({
                type: "Stock Solution",
                code: j[h].name,
                capacity: j[h].volume + "ml",
                sampleCount: "",
                id: j[h].stockSolutionId
            });
            return a._getComponentHTML(f, g);
        }
    } ];
    return b;
}, CaseGrid.prototype._getTopButtons = function() {
    var a = this, b = [];
    return b.push(Ext.create("Ext.Action", {
        icon: "../images/icon/add.png",
        text: "Add",
        disabled: !1,
        handler: function(b, c) {
            a.edit();
        }
    })), b;
}, CaseGrid.prototype.groupBy = function(a, b) {
    var c = {};
    return a.forEach(function(a) {
        var d = JSON.stringify(b(a));
        c[d] = c[d] || [], c[d].push(a);
    }), Object.keys(c).map(function(a) {
        return c[a];
    });
}, CaseGrid.prototype.load = function(a) {
    function b(a, b) {
        for (var d = c.groupBy(b, function(a) {
            return [ a.Dewar_dewarId ];
        }), e = [], f = 0; f < d.length; f++) e.push({
            serialized: JSON.stringify(d[f])
        });
        c.store.loadData(e);
    }
    var c = this;
    this.shipment = a, this.dewars = a.dewarVOs, this.dewars.length > 0 && EXI.getDataAdapter({
        onSuccess: b
    }).proposal.shipping.getDewarsByShipmentId(a.shippingId);
}, CaseGrid.prototype.edit = function(a) {
    var b = this, c = new CaseForm(), d = Ext.create("Ext.window.Window", {
        title: "Parcel",
        height: 360,
        width: 600,
        modal: !0,
        layout: "fit",
        items: [ c.getPanel(a) ],
        buttons: [ {
            text: "Save",
            handler: function() {
                new DataAdapter();
                b.panel.setLoading();
                var a = c.getDewar(), e = function(a, c) {
                    b.load(c), d.close(), b.panel.setLoading(!1);
                };
                a.sessionId = a.firstExperimentId, a.shippingId = b.shipment.shippingId, EXI.getDataAdapter({
                    onSuccess: e
                }).proposal.dewar.saveDewar(b.shipment.shippingId, a);
            }
        }, {
            text: "Cancel",
            handler: function() {
                d.close();
            }
        } ]
    });
    d.show();
}, CaseGrid.prototype._getStoreFields = function() {
    return [ {
        name: "serialized",
        type: "string"
    } ];
}, CaseGrid.prototype.getDewarById = function(a) {
    for (var b = this, c = 0; c < b.dewars.length; c++) if (b.dewars[c].dewarId == a) return b.dewars[c];
}, CaseGrid.prototype.saveStockSolution = function(a) {
    var b = this;
    this.panel.setLoading();
    var c = function() {
        var a = function() {
            b.panel.setLoading(!1), b.load(b.shipment);
        };
        EXI.getDataAdapter({
            onSuccess: a
        }).proposal.proposal.update();
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).saxs.stockSolution.saveStockSolution(a);
}, CaseGrid.prototype.addPuckToDewar = function(a) {
    var b = this;
    this.panel.setLoading();
    var c = function() {
        b.load(b.shipment), b.panel.setLoading(!1);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).proposal.shipping.addPuck(this.shipment.shippingId, Number(a));
}, CaseGrid.prototype.removePuck = function(a) {
    var b = this;
    this.panel.setLoading();
    var c = function(a, c) {
        b.load(b.shipment), b.panel.setLoading(!1);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).proposal.shipping.removeContainerById(b.shipment.shippingId, a, a);
}, CaseGrid.prototype.openStockSolutionWindow = function(a) {
    var b = this, c = new StockSolutionGrid({
        btnAddVisible: !1,
        btnEditVisible: !1,
        btnRemoveVisible: !1,
        btnAddExisting: !1,
        isPackedVisible: !1,
        multiselect: !0
    }), d = Ext.create("Ext.window.Window", {
        height: 400,
        width: 700,
        items: [ c.getPanel() ],
        buttons: [ {
            text: "Pack",
            handler: function() {
                d.close(), c.selectedStockSolutions[0].boxId = a, b.saveStockSolution(c.selectedStockSolutions[0]);
            }
        }, {
            text: "Cancel",
            handler: function() {
                d.close();
            }
        } ]
    }).show();
    c.load(EXI.proposalManager.getUnpackedStockSolutions());
}, CaseGrid.prototype.getPanel = function() {
    var a = this;
    return this.store = Ext.create("Ext.data.Store", {
        fields: this._getStoreFields(),
        data: [],
        autoload: !0
    }), this.panel = Ext.create("Ext.grid.Panel", {
        style: {
            padding: 15
        },
        cls: "border-grid",
        height: 800,
        deferEmptyText: !1,
        emptyText: "No data",
        store: this.store,
        columns: this._getColumns(),
        disableSelection: !0,
        viewConfig: {
            stripeRows: !0,
            enableTextSelection: !0,
            preserveScrollOnRefresh: !0,
            stripeRows: !0,
            rowLines: !0,
            listeners: {
                celldblclick: function(b, c, d, e, f, g, h, i) {
                    a.edit(a.getDewarById(JSON.parse(e.data.serialized)[0].Dewar_dewarId));
                },
                cellclick: function(b, c, d, e, f, g, h, i) {
                    function j(b) {
                        "yes" == b && a.removePuck(s);
                    }
                    if ("printLabels" == h.target.name) {
                        var k = h.target.id.trim(), l = EXI.getDataAdapter().proposal.shipping.getDewarLabelURL(a.shipment.shippingId, k);
                        return console.log(k), void (location.href = l);
                    }
                    if ("removeParcel" == h.target.name) return void BUI.showWarning("Not implemented yet");
                    if ("editParcel" == h.target.name) return void a.edit(a.getDewarById(parseInt(h.target.id.trim())));
                    if ("edit" == h.target.name) {
                        if (-1 != h.target.id.indexOf("Stock Solution")) {
                            var m = h.target.id.split("_")[1];
                            location.hash = "/stocksolution/" + m + "/main";
                        }
                        if (-1 != h.target.id.indexOf("Puck")) {
                            var n = h.target.id.split("_")[1], o = new PuckForm({
                                width: Ext.getBody().getWidth() - 150
                            });
                            o.onSaved.attach(function(b, c) {
                                a.load(a.shipment), p.close();
                            });
                            var p = Ext.create("Ext.window.Window", {
                                title: "Edit Puck",
                                height: 700,
                                width: Ext.getBody().getWidth() - 100,
                                modal: !0,
                                resizable: !0,
                                layout: "fit",
                                items: o.getPanel()
                            }).show();
                            if (null != n) {
                                var q = function(a, b) {
                                    o.load(b);
                                };
                                EXI.getDataAdapter({
                                    onSuccess: q
                                }).proposal.shipping.getContainerById(n, n, n);
                            }
                        }
                    }
                    if ("Add Solution" == h.target.defaultValue && a.openStockSolutionWindow(h.target.id), 
                    "Add Puck" == h.target.defaultValue && a.addPuckToDewar(h.target.id), "Unpack" == h.target.defaultValue && "stockSolution" == h.target.name) {
                        var r = EXI.proposalManager.getStockSolutionById(h.target.id);
                        r.boxId = null, a.saveStockSolution(r);
                    }
                    if ("Remove" == h.target.defaultValue) {
                        var s = Number(h.target.id);
                        "puck" == h.target.name && Ext.MessageBox.show({
                            title: "Save Changes?",
                            msg: "Removing a puck from this parcel will remove also its content. <br />Are you sure you want to continue?",
                            buttons: Ext.MessageBox.YESNOCANCEL,
                            fn: j,
                            animateTarget: "mb4",
                            icon: Ext.MessageBox.QUESTION
                        });
                    }
                }
            }
        },
        selModel: {
            mode: "SINGLE"
        }
    }), this.panel.addDocked({
        height: 45,
        xtype: "toolbar",
        items: a._getTopButtons(),
        cls: "exi-top-bar"
    }), this.panel;
}, ExperimentGrid.prototype._getFilterTypes = function() {
    return [];
}, ExperimentGrid.prototype._prepareData = function(a) {
    var b = [], c = 0;
    a.sort(function(a, b) {
        return b.experimentId - a.experimentId;
    });
    for (var d = 0; d < a.length; d++) {
        var e = a[d];
        this.dates[moment(e.creationDate).format("YYYYMMDD")] = moment(e.creationDate).format("MMM Do YY"), 
        null != this.filtered && e.experimentType != this.filtered || !(c < this.limit || null == this.limit) || null != this.sessionIdFilter && null == this.date && (null != this.date || this.sessionIdFilter != e.sessionId) || (b.push({
            experimentId: e.experimentId,
            status: e.status,
            dataAcquisitionFilePath: e.dataAcquisitionFilePath,
            type: e.experimentType,
            name: e.name,
            macromolecules_names: e.macromolecules,
            percentageAnalysed: {
                value: e.dataCollectionDoneCount / e.dataCollectionCount * 100,
                text: e.dataCollectionDoneCount + " of " + e.dataCollectionCount
            },
            percentageCollected: {
                value: e.measurementDoneCount / e.measurementCount * 100,
                text: e.measurementDoneCount + " of " + e.measurementCount
            },
            percentageMerged: {
                value: e.measurementAveragedCount / e.measurementCount * 100,
                text: e.measurementAveragedCount + " of " + e.measurementCount
            },
            date: moment(e.creationDate).format("YYYYMMDD"),
            time: moment(e.creationDate).format("YYYYMMDDHHmmss"),
            creationDate: e.creationDate
        }), c++);
    }
    return b;
}, ExperimentGrid.prototype.getPanel = function(a) {
    return this.features = a, this._renderGrid(a);
}, ExperimentGrid.prototype.refresh = function(a) {
    this.experiments = a;
    for (var b = [], c = 0; c < a.length; c++) "TEMPLATE" != a[c].experimentType && b.push(a[c]);
    this.parsedData = this._prepareData(b);
    for (var d = {}, e = [], c = 0; c < this.experiments.length; c++) {
        var f = moment(this.experiments[c].creationDate).format("MMM Do YYYY");
        null == d[f] && (e.push({
            date: f,
            value: moment(this.experiments[c].creationDate)
        }), d[f] = !0);
    }
    this.storeDate.loadData(e, !1), this.store.loadData(this.parsedData, !1), null != this.date && this._filterByDate(this.date);
}, ExperimentGrid.prototype._getTopButtons = function() {
    var a = this, b = [];
    return b.push(Ext.create("Ext.Action", {
        icon: "../images/calendar_icon.png",
        text: "Show Calendar",
        disabled: !1,
        handler: function(b, c) {
            var d = Ext.create("Ext.window.Window", {
                title: "Calendar",
                width: 600,
                height: 600,
                modal: !0,
                closable: !0,
                layout: {
                    type: "vbox",
                    align: "stretch"
                },
                items: [ {
                    xtype: "label",
                    html: "Click on a data acquisition to select:",
                    margin: "5 5 5 5"
                }, {
                    html: '<div id="calendar" style="height:450px;overflow-y: scroll;"></div>',
                    margin: "5 5 5 5"
                } ]
            }).show(), e = new CalendarWidget({
                height: 450
            }), f = a.limit;
            a.limit = null, a.sessionIdFilter = null, e.loadData(a._prepareData(a.experiments)), 
            a.limit = f, e.draw("calendar"), e.onClick.attach(function(b, c) {
                c = moment(c, "YYYY-MM-DD"), a._filterByDate(c), d.close();
            });
        }
    })), this.storeDate = Ext.create("Ext.data.ArrayStore", {
        fields: [ "date", "value" ],
        data: []
    }), this.dateMenu = Ext.create("Ext.form.field.ComboBox", {
        hideLabel: !0,
        store: this.storeDate,
        displayField: "date",
        typeAhead: !0,
        queryMode: "local",
        margin: "0 0 0 30",
        triggerAction: "all",
        emptyText: "Select a date...",
        selectOnFocus: !0,
        width: 135,
        listeners: {
            scope: this,
            select: function(b, c, d) {
                a.limit = null, a._filterByDate(moment(c[0].raw.value, "YYYY-MM-DD"));
            }
        }
    }), b.push(this.dateMenu), b.push("->"), null != a.filtered ? b.push({
        html: "<span>Experiment Type: " + a.filtered + "</span>"
    }) : b.push({
        html: "<span>Experiment Type: ALL</span>"
    }), b;
}, ExperimentGrid.prototype._filterByDate = function(a) {
    for (var b = [], c = 0; c < this.experiments.length; c++) {
        var d = this.experiments[c];
        if (null != d.creationDate) {
            var e = moment(d.creationDate);
            e.year() == a.year() && e.month() == a.month() && e.date() == a.date() && b.push(d);
        }
    }
    var f = this._prepareData(b);
    this.store.loadData(f), this.date = a;
}, ExperimentGrid.prototype._removeExperimentById = function(a) {
    var b = this, c = new BiosaxsDataAdapter();
    c.onSuccess.attach(function(a, c) {
        b.grid.setLoading(!1), document.getElementById(BIOSAXS.targetId).innerHTML = "", 
        BIOSAXS.start(BIOSAXS.targetId);
    }), this.grid.setLoading("Removing experiment "), c.removeExperimentById(a);
}, ExperimentGrid.prototype._renderGrid = function() {
    var a = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "name" ],
        autoload: !0,
        data: [],
        remoteSort: !1,
        sorters: this.sorters
    });
    var b = Ext.create("Ext.grid.feature.Grouping", {
        groupHeaderTpl: Ext.create("Ext.XTemplate", "<div style='background:#0ca3d2; color:white; float:left; margin:6px 8px 0 0; padding:5px 8px;'>{name:this.formatName}</div>", {
            formatName: function(b) {
                return a.dates[b];
            }
        }),
        hideGroupedHeader: !0,
        startCollapsed: !1
    });
    this.features = [], this.grouping && this.features.push(b), this.grid = Ext.create(this.gridType, {
        hideHeaders: this.hideHeaders,
        resizable: !0,
        title: this.title,
        width: this.width,
        minHeight: this.minHeight,
        height: this.height,
        features: this.features,
        store: this.store,
        columns: this._getColumns(),
        selModel: {
            mode: "SINGLE"
        },
        viewConfig: {
            stripeRows: !0,
            getRowClass: function(a, b, c, d) {
                return "TEMPLATE" == a.raw.type ? "template-color-row" : "CALIBRATION" == a.raw.type && "FINISHED" == a.raw.status ? "blue-row" : void 0;
            },
            listeners: {
                itemdblclick: function(b, c, d, e) {
                    a._editExperiment(c.raw.experimentId);
                },
                cellclick: function(b, c, d, e, f, g, h, i) {
                    b.getGridColumns()[d].getId() == a.id + "GO" && a._editExperiment(e.raw.experimentId), 
                    b.getGridColumns()[d].getId() == a.id + "REMOVE" && a._removeExperimentById(e.raw.experimentId);
                }
            }
        }
    });
    var c = a._getTopButtons();
    return this.tbar && (this.grid.addDocked({
        xtype: "toolbar",
        height: 48,
        items: c
    }), this.grid.getSelectionModel().on({
        selectionchange: function(a, b) {
            if (b.length) for (var d = 0; d < c.length; d++) c[d].enable && c[d].enable(); else for (var d = 0; d < c.length; d++) 0 == c[d].alwaysEnabled && c[d].disable && c[d].disable();
        }
    })), this.grid;
}, ExperimentGrid.prototype._getColumns = function() {
    var a = this;
    return [ {
        text: "experimentId",
        dataIndex: "experimentId",
        name: "experimentId",
        type: "string",
        hidden: !0
    }, {
        xtype: "rownumberer",
        width: 40
    }, {
        text: "Name",
        dataIndex: "name",
        name: "name",
        type: "string",
        flex: 1
    }, {
        text: "Type",
        dataIndex: "type",
        name: "type",
        type: "string",
        flex: 1,
        renderer: function(a) {
            return "CALIBRATION" == a ? "<span style='color:blue;'>" + a + "</span>" : a;
        }
    }, {
        text: "Macromolecules",
        name: "macromolecules_names",
        dataIndex: "macromolecules_names",
        flex: 1,
        renderer: function(a) {
            return null != a ? " <span style='font-weight:bold'>" + a + "</span>" : " <span style='font-style:italic;color:gray;'>Information not available</span>";
        }
    }, {
        text: "Buffers",
        dataIndex: "buffer_names",
        name: "buffer_names",
        flex: 1,
        hidden: !0,
        renderer: function(a) {
            return "Buffer/s: <span style='font-weight:bold'>" + a + "</span>";
        }
    }, {
        text: "Status",
        dataIndex: "status",
        name: "status",
        type: "string",
        flex: 1,
        renderer: function(a, b, c) {
            return "TEMPLATE" == c.raw.type ? "READY" : "ABORTED" == c.raw.status ? "<span style='color:red;'>" + a + "</span>" : "<span style='color:green;'>" + a + "</span>";
        }
    }, {
        text: "Download",
        dataIndex: "creationDate",
        name: "creationDate",
        renderer: function(a, b, c) {
            if (null != c) {
                if ("HPLC" == c.raw.type) return;
                return BUI.getZipHTMLByExperimentId(c.raw.experimentId, c.raw.name);
            }
        },
        width: 100
    }, {
        header: "Measurements",
        dataIndex: "percentageCollected",
        name: "percentageCollected",
        type: "string",
        renderer: function(a, b, c) {
            return "TEMPLATE" != c.raw.type && "HPLC" != c.raw.type ? "<table><tr><td>" + BUI.getProgessBar(c.raw.percentageCollected.value, c.raw.percentageCollected.text) + "</td></table>" : void 0;
        },
        width: 100
    }, {
        header: "Averaged",
        dataIndex: "percentageMerged",
        name: "percentageMerged",
        type: "string",
        renderer: function(a, b, c) {
            return "TEMPLATE" != c.raw.type && "HPLC" != c.raw.type ? "<table><tr><td>" + BUI.getProgessBar(c.raw.percentageMerged.value, c.raw.percentageMerged.text) + "</td></table>" : void 0;
        },
        width: 100
    }, {
        header: "Subtractions",
        dataIndex: "percentageAnalysed",
        name: "percentageAnalysed",
        type: "string",
        renderer: function(a, b, c) {
            return "TEMPLATE" != c.raw.type && "HPLC" != c.raw.type ? "<table><tr><td>" + BUI.getProgessBar(c.raw.percentageAnalysed.value, c.raw.percentageAnalysed.text) + "</td></table>" : void 0;
        },
        width: 100
    }, {
        text: "time",
        dataIndex: "time",
        name: "time",
        hidden: !0,
        renderer: function(a) {
            return a;
        },
        width: 100
    }, {
        text: "Date",
        dataIndex: "date",
        name: "date",
        renderer: function(a) {
            return a;
        },
        width: 100
    }, {
        text: "Time",
        dataIndex: "creationDate",
        name: "creationDate",
        renderer: function(a) {
            return moment(a).format(" HH:mm:ss");
        },
        width: 100
    }, {
        id: a.id + "GO",
        width: 80,
        sortable: !1,
        renderer: function(a, b, c, d, e, f) {
            return BUI.getGreenButton("GO");
        }
    } ];
}, ExperimentGrid.prototype._editExperiment = function(a) {
    null != Ext.urlDecode(window.location.href).sessionId ? location.href = "viewProjectList.do?reqCode=display&experimentId=" + a + "&sessionId=" + Ext.urlDecode(window.location.href).sessionId : location.href = "viewProjectList.do?reqCode=display&experimentId=" + a;
}, ExperimentGrid.prototype.input = function() {
    var a = DATADOC.getExperimentList_10();
    return {
        experiments: a,
        proposal: new MeasurementGrid().input().proposal
    };
}, ExperimentGrid.prototype.test = function(a) {
    var b = new ExperimentGrid({
        height: 350,
        minHeight: 350,
        width: 1e3
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = b.getPanel(b.input().experiments);
    b.refresh(b.input().experiments), c.render(a);
}, FrameSelectorGrid.prototype.loadData = function(a, b) {
    function c(a) {
        function b(a) {
            for (var b = 0; b < e.measurements.length; b++) if (e.measurements[b].measurementId == a) return null != e.measurements[b].macromoleculeId ? e.measurements[b].macromoleculeAcronym + ":  " + e.measurements[b].concentration + "mg/ml" : "";
        }
        var c = "";
        a.measurementtodatacollection3VOs.sort(function(a, b) {
            return a.dataCollectionOrder - b.dataCollectionOrder;
        });
        for (var d = 0; d < a.measurementtodatacollection3VOs.length; d++) c = c + " " + b(a.measurementtodatacollection3VOs[d].measurementId);
        return c;
    }
    function d(a) {
        function b(a) {
            var b = [];
            if (a.frametolist3VOs) for (var c = 0; c < a.frametolist3VOs.length; c++) b.push({
                text: a.frametolist3VOs[c].frame3VO.filePath,
                type: "Frame",
                frameId: a.frametolist3VOs[c].frame3VO.frameId,
                leaf: !0
            });
            return b;
        }
        var c = [];
        if (null != a && null != a.substraction3VOs && (a.substraction3VOs.sort(function(a, b) {
            return a.subtractionId - b.subtractionId;
        }), a.substraction3VOs.length > 0)) {
            var d = a.substraction3VOs[a.substraction3VOs.length - 1];
            c.push({
                text: d.substractedFilePath,
                subtractionId: d.subtractionId,
                type: "Subtraction",
                leaf: !0
            }), c.push({
                text: d.sampleAverageFilePath,
                subtractionId: d.subtractionId,
                type: "SampleAverage",
                leaf: !0
            }), c.push({
                text: d.bufferAverageFilePath,
                subtractionId: d.subtractionId,
                type: "BufferAverage",
                leaf: !0
            }), null != d.sampleOneDimensionalFiles && c.push({
                text: "Sample",
                leaf: !1,
                type: "Sample",
                children: b(d.sampleOneDimensionalFiles, "Sample")
            }), null != d.bufferOneDimensionalFiles && c.push({
                text: "Buffer",
                leaf: !1,
                type: "Buffer",
                children: b(d.bufferOneDimensionalFiles, "Buffer")
            });
        }
        return c;
    }
    for (var e = this, f = [], g = 0; g < b.length; g++) f.push({
        text: c(b[g]),
        leaf: !1,
        children: d(b[g])
    });
    e.treePanel.setRootNode({
        expanded: !0,
        children: f
    });
}, FrameSelectorGrid.prototype.load = function(a) {
    var b = this;
    this.measurements = a, this.subtractionIds = [];
    var c = [];
    if (null != this.measurements) for (var d = 0; d < this.measurements.length; d++) null != this.measurements[d].dataCollectionId && (c.push(this.measurements[d].dataCollectionId), 
    this.subtractionIds.push(this.measurements[d].subtractionId));
    this.subtractionIds = $.unique(this.subtractionIds);
    var e = function(a, c) {
        null != c && b.loadData(b.measurements, c);
    };
    EXI.getDataAdapter({
        onSuccess: e
    }).saxs.dataCollection.getDataCollectionsByIdList(c);
}, FrameSelectorGrid.prototype.getPanel = function() {
    var a = this;
    this.store = Ext.create("Ext.data.TreeStore", {
        proxy: {
            type: "memory"
        },
        columns: [ {
            xtype: "treecolumn",
            text: "Text",
            dataIndex: "text"
        } ]
    });
    var b = Ext.create("Ext.selection.RowModel", {
        allowDeselect: !0,
        mode: "multi",
        listeners: {
            selectionchange: function(b, c) {
                var d = [], e = [], f = [], g = [];
                if (null != c) {
                    for (var h = 0; h < c.length; h++) c[h].data.type && ("Frame" == c[h].data.type && d.push(c[h].data.frameId), 
                    "SampleAverage" == c[h].data.type && e.push(c[h].data.subtractionId), "BufferAverage" == c[h].data.type && f.push(c[h].data.subtractionId), 
                    "Subtraction" == c[h].data.type && g.push(c[h].data.subtractionId));
                    a.onSelectionChange.notify({
                        frame: d,
                        average: [],
                        sampleaverage: e,
                        bufferaverage: f,
                        subtracted: g
                    });
                }
            }
        }
    });
    return this.treePanel = Ext.create("Ext.tree.Panel", {
        title: "Data Collections",
        selModel: b,
        store: this.store,
        rootVisible: !1,
        buttons: [ {
            text: "Download",
            xtype: "button",
            handler: function(b) {
                window.open(EXI.getDataAdapter().saxs.subtraction.getZip(a.subtractionIds.toString()));
            }
        } ],
        columns: [ {
            xtype: "treecolumn",
            dataIndex: "text",
            flex: 1,
            renderer: function(a, b, c) {
                return c.data.leaf && -1 != c.data.text.lastIndexOf("/") ? c.data.text.substr(c.data.text.lastIndexOf("/") + 1) : c.data.text;
            }
        } ]
    }), this.treePanel;
}, MacromoleculeGrid.prototype.edit = function(a) {
    var b = this, c = new MacromoleculeWindow();
    c.onSave.attach(function(a) {
        b.store.loadData(EXI.proposalManager.getMacromolecules());
    }), c.draw(a);
}, MacromoleculeGrid.prototype.getTbar = function() {
    var a = this, b = [];
    return b.push(Ext.create("Ext.Action", {
        icon: "images/icon/add.png",
        text: "Add",
        disabled: !1,
        handler: function(b, c) {
            a.edit();
        }
    })), b.push("->"), b.push(Ext.create("Ext.Action", {
        icon: "images/icon/refresh.png",
        text: "Update From SMIS",
        tooltip: "Retrieve all the macromolecules of your proposal from SMIS database",
        disabled: !1,
        handler: function(b, c) {
            a.grid.setLoading("Connecting to SMIS");
            var d = new BiosaxsDataAdapter();
            d.onSuccess.attach(function(b, c) {
                BIOSAXS.proposal.setMacromolecules(c.macromolecules), a.refresh(BIOSAXS.proposal.macromolecules), 
                a.grid.setLoading(!1);
            }), d.onError.attach(function(b, c) {
                a.grid.setLoading(!1);
            }), d.updateDataBaseFromSMIS();
        }
    })), b;
}, MacromoleculeGrid.prototype.deselectAll = function() {
    this.grid.getSelectionModel().deselectAll();
}, MacromoleculeGrid.prototype.selectById = function(a) {
    this.grid.getSelectionModel().deselectAll();
    for (var b = 0; b < this.grid.getStore().data.items.length; b++) {
        var c = this.grid.getStore().data.items[b].raw;
        c.macromoleculeId == a && this.grid.getSelectionModel().select(b);
    }
}, MacromoleculeGrid.prototype.load = function(a) {
    this.store.loadData(a, !1);
}, MacromoleculeGrid.prototype.getColumns = function() {
    var a = this, b = [ {
        text: "Acronym",
        dataIndex: "acronym",
        id: this.id + "acronym",
        flex: 1,
        renderer: function(b, c, d, e, f, g) {
            return null != a.cssFontStyle ? "<span style='" + a.cssFontStyle + "'>" + b + "</span>" : b;
        }
    }, {
        text: "Name",
        dataIndex: "name",
        id: this.id + "name",
        flex: 1,
        hidden: !1
    }, {
        text: "Comments",
        dataIndex: "comments",
        id: this.id + "comments",
        flex: 1,
        hidden: !1
    } ];
    return this.btnEditVisible && b.push({
        xtype: "actioncolumn",
        width: 40,
        text: "Edit",
        items: [ {
            icon: "images/icon/edit.png",
            tooltip: "Edit",
            handler: function(b, c, d) {
                var e = b.getStore().getAt(c);
                a.edit(EXI.proposalManager.getMacromoleculeById(e.get("macromoleculeId")));
            }
        } ]
    }), this.btnRemoveVisible && b.push({
        id: a.id + "buttonRemoveMacromolecule",
        width: 85,
        sortable: !1,
        renderer: function(b, c, d, e, f, g) {
            return a.btnRemoveVisible ? BUI.getRedButton("REMOVE") : null;
        }
    }), b;
}, MacromoleculeGrid.prototype._prepareData = function(a) {
    return a;
}, MacromoleculeGrid.prototype.getPanel = function(a) {
    var b = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "macromoleculeId", "name", "acronym", "comments" ],
        data: b._prepareData(a)
    }), this.store.sort("acronym");
    var c = "Ext.grid.Panel";
    1 == this.searchBar && (c = "Ext.ux.LiveSearchGridPanel");
    var d = null;
    return this.multiselect && (d = Ext.create("Ext.selection.CheckboxModel", {
        multiSelect: this.multiselect,
        listeners: {
            selectionchange: function(a, c) {
                for (var d = [], e = 0; e < c.length; e++) d.push(c[e].raw);
                b.onSelected.notify(d);
            }
        }
    })), this.grid = Ext.create(c, {
        id: this.id,
        title: "Macromolecules",
        collapsible: this.collapsible,
        collapsed: this.collapsed,
        store: this.store,
        height: this.height,
        maxHeight: this.maxHeight,
        selModel: d,
        allowDeselect: !0,
        columns: this.getColumns(),
        width: this.width,
        viewConfig: {
            stripeRows: !0,
            listeners: {
                celldblclick: function(a, c, d, e, f, g, h, i) {
                    b.edit(EXI.proposalManager.getMacromoleculeById(e.data.macromoleculeId));
                },
                cellclick: function(a, c, d, e, f, g, h, i) {
                    a.getGridColumns()[d].getId() == b.id + "buttonEditMacromolecule" && b.edit(EXI.proposalManager.getMacromoleculeById(e.data.macromoleculeId)), 
                    a.getGridColumns()[d].getId() == b.id + "buttonRemoveMacromolecule" && BUI.showBetaWarning();
                }
            }
        }
    }), this.tbar && this.grid.addDocked({
        xtype: "toolbar",
        height: 50,
        items: this.getTbar()
    }), this.grid;
}, MacromoleculeGrid.prototype.input = function() {
    return {
        proposal: DATADOC.getProposal_10()
    };
}, MacromoleculeGrid.prototype.test = function(a) {
    var b = new MacromoleculeGrid({
        width: 800,
        height: 350,
        collapsed: !1,
        tbar: !0
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = b.getPanel(BIOSAXS.proposal.macromolecules);
    c.render(a);
}, MeasurementGrid.prototype.edit = function(a) {
    var b = new MacromoleculeWindow();
    b.onSave.attach(function(a) {}), b.draw(a);
}, MeasurementGrid.prototype.deselectAll = function() {
    this.grid.getSelectionModel().deselectAll();
}, MeasurementGrid.prototype.selectById = function(a) {
    this.grid.getSelectionModel().deselectAll();
    for (var b = 0; b < this.grid.getStore().data.items.length; b++) {
        var c = this.grid.getStore().data.items[b].raw;
        c.macromoleculeId == a && this.grid.getSelectionModel().select(b);
    }
}, MeasurementGrid.prototype.load = function(a) {
    this.store.loadData(a, !1);
}, MeasurementGrid.prototype.loadExperiment = function(a) {
    this.experimentList = new ExperimentList([ a ]);
    var b = this._prepareData(this.experimentList.getMeasurements(), this.experimentList);
    this.load(b);
}, MeasurementGrid.prototype._prepareData = function(a, b) {
    for (var c = [], d = 0; d < a.length; d++) {
        var e = a[d], f = b.getSampleById(e.specimenId), g = EXI.proposalManager.getBufferById(f.bufferId);
        if (e.buffer_acronym = g.acronym, e.bufferId = g.bufferId, e.volume = f.volume, 
        null != f.macromolecule3VO && (e.acronym = f.macromolecule3VO.acronym, e.macromoleculeId = f.macromolecule3VO.macromoleculeId), 
        e.concentration = f.concentration, null != e.run3VO) {
            e.energy = e.run3VO.energy, e.expExposureTemperature = e.run3VO.exposureTemperature, 
            e.storageTemperature = e.run3VO.storageTemperature, e.timePerFrame = e.run3VO.timePerFrame, 
            e.radiationAbsolute = e.run3VO.radiationAbsolute, e.radiationRelative = e.run3VO.radiationRelative, 
            e.status = "DONE";
            try {
                null != e.run3VO.timeStart && "" != e.run3VO.timeStart && (e.miliseconds = moment(e.run3VO.timeStart).format("X"));
            } catch (h) {
                console.log(h);
            }
        }
        if (b.getDataCollectionByMeasurementId(e.measurementId).length > 0) for (var i = b.getDataCollectionByMeasurementId(e.measurementId)[0].measurementtodatacollection3VOs, j = 0; j < i.length; j++) if (1 == i[j].dataCollectionOrder) {
            var k = b.getSampleById(b.getMeasurementById(i[j].measurementId).specimenId);
            null != k.sampleplateposition3VO && (e.bufferSampleplateposition3VO = k.sampleplateposition3VO, 
            e.bufferSampleplate = b.getSamplePlateById(k.sampleplateposition3VO.samplePlateId));
        }
        this.collapsed ? null != f.macromolecule3VO && c.push(e) : c.push(e);
    }
    return c;
}, MeasurementGrid.prototype._getEditor = function(a) {
    return null != this.editor && null != this.editor[a] ? this.editor[a] : null;
}, MeasurementGrid.prototype.getColumns = function() {
    var a = this, b = [ {
        text: "Order",
        dataIndex: "priority",
        flex: .3,
        hidden: a.isPriorityColumnHidden,
        sortable: !0,
        hidden: !0
    }, {
        text: "Run Number",
        dataIndex: "code",
        flex: .5,
        hidden: !0,
        sortable: !0
    }, {
        text: "Specimen",
        columns: [ {
            text: "",
            dataIndex: "macromoleculeId",
            flex: 1,
            hidden: !0,
            sortable: !0
        }, {
            text: "Macromolecule",
            dataIndex: "acronym",
            flex: 1,
            sortable: !0
        }, {
            text: "Conc. ",
            dataIndex: "concentration",
            flex: 1,
            sortable: !0
        }, {
            text: "",
            dataIndex: "bufferId",
            flex: 1,
            hidden: !0,
            sortable: !0
        }, {
            text: "Buffer",
            dataIndex: "buffer_acronym",
            flex: 1,
            renderer: function(a, b, c) {
                return null != c.data.bufferSampleplateposition3VO ? EXI.proposalManager.getBufferById(c.data.bufferId).acronym + "<span style='font-style:oblique;'> Plate: [" + c.data.bufferSampleplate.slotPositionColumn + ", " + BUI.getSamplePlateLetters()[c.data.bufferSampleplateposition3VO.rowNumber - 1] + "-" + c.data.bufferSampleplateposition3VO.columnNumber + "]</span>" : a;
            },
            sortable: !0
        }, {
            text: "Position",
            flex: 1,
            hidden: !0
        } ]
    }, {
        text: "Parameters",
        columns: [ {
            text: "Ex. Flow. time (s)",
            dataIndex: "extraFlowTime",
            flex: 1,
            hidden: !0
        }, {
            text: "Exp. Temp.",
            dataIndex: "exposureTemperature",
            flex: 1,
            sortable: !0,
            editor: this._getEditor("exposureTemperature")
        }, {
            text: "Vol. Load",
            dataIndex: "volumeToLoad",
            flex: .5,
            hidden: !1,
            editor: this._getEditor("volumeToLoad")
        }, {
            text: "Volume in Well",
            dataIndex: "volume",
            hidden: !0,
            editor: this._getEditor("volume"),
            flex: 1
        }, {
            text: "Trans.",
            dataIndex: "transmission",
            flex: 1,
            editor: this._getEditor("transmission")
        }, {
            text: "Wait T.",
            dataIndex: "waitTime",
            editor: this._getEditor("waitTime"),
            flex: .5
        }, {
            text: "Flow",
            dataIndex: "flow",
            editor: this._getEditor("flow"),
            flex: .3
        }, {
            text: "Viscosity",
            dataIndex: "viscosity",
            tooltip: 'The viscosity of a fluid is a measure of its resistance to gradual deformation by shear stress or tensile stress. For liquids, it corresponds to the informal notion of "thickness"',
            editor: this._getEditor("viscosity"),
            flex: .5
        } ]
    }, {
        text: "Status",
        dataIndex: "status",
        flex: 1,
        hidden: a.isStatusColumnHidden,
        renderer: function(a, b, c) {
            return null != a ? "<span style='font-weight: bold;'>" + a + "</span>" : void 0;
        }
    }, {
        text: "Time",
        dataIndex: "time",
        flex: 1,
        hidden: a.isTimeColumnHidden
    }, {
        text: "Energy",
        dataIndex: "energy",
        flex: 1,
        hidden: !0
    }, {
        text: "Real Exp. Temp.(C)",
        flex: 1,
        dataIndex: "expExposureTemperature",
        hidden: !0
    }, {
        text: "Storage Temp.(C)",
        flex: 1,
        dataIndex: "storageTemperature",
        hidden: !0
    }, {
        text: "Time/Frame (s)",
        flex: 1,
        dataIndex: "timePerFrame",
        hidden: !0
    }, {
        text: "Radiation Relative",
        dataIndex: "radiationRelative",
        flex: 1,
        hidden: !0
    }, {
        text: "Radiation Absolute",
        dataIndex: "radiationAbsolute",
        flex: 1,
        hidden: !0
    }, {
        text: "Comments",
        dataIndex: "comments",
        flex: 1,
        hidden: !0,
        editor: this._getEditor("comments")
    }, {
        id: a.id + "buttonRemoveSample",
        text: "",
        hidden: !a.removeBtnEnabled,
        flex: 1,
        renderer: function(b, c, d, e, f, g) {
            return null != d.data.macromoleculeId && a.removeBtnEnabled ? BUI.getRedButton("REMOVE") : void 0;
        }
    } ];
    return b;
}, MeasurementGrid.prototype._getPlugins = function() {
    var a = this, b = [];
    return this.updateRowEnabled && b.push(Ext.create("Ext.grid.plugin.RowEditing", {
        clicksToEdit: 1,
        listeners: {
            validateedit: function(b, c) {
                for (var d in a.editor) c.record.data[d] = c.newValues[d];
                c.record.data.comments = c.newValues.comments;
                var e = function(b, c) {
                    a.onMeasurementChanged.notify(c), a.grid.setLoading(!1);
                };
                a.grid.setLoading(), EXI.getDataAdapter({
                    onSuccess: e
                }).saxs.measurement.saveMeasurement(c.record.data);
            }
        }
    })), b;
}, MeasurementGrid.prototype.getPanel = function() {
    var a = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "macromoleculeId", "name", "acronym", "comments" ],
        data: [],
        sorters: this.sorter
    }), this.multiselect && (this.selModel = Ext.create("Ext.selection.CheckboxModel", {
        multiSelect: this.multiselect,
        listeners: {
            selectionchange: function(b, c) {
                for (var d = [], e = 0; e < c.length; e++) d.push(c[e].raw);
                a.onSelected.notify(d);
            }
        }
    }));
    var b = (Ext.create("Ext.grid.plugin.RowEditing", {
        clicksToEdit: 1,
        autoCancel: !0
    }), {});
    try {
        b = Ext.create("Ext.ux.StatusBar", {
            id: a.id + "basic-statusbar",
            defaultText: "Ready",
            text: "Ready",
            iconCls: "x-status-valid",
            items: []
        });
    } catch (c) {
        console.log("bbar error");
    }
    return this.grid = Ext.create("Ext.grid.Panel", {
        id: this.id,
        title: this.title,
        plugins: this._getPlugins(),
        margin: this.margin,
        store: this.store,
        height: this.height,
        maxHeight: this.maxHeight,
        columns: this.getColumns(),
        bbar: b,
        tbar: this._getMenu(),
        cls: "border-grid",
        viewConfig: {
            stripeRows: !0,
            getRowClass: function(a, b, c, d) {
                return "DONE" == a.data.status ? "green-row" : void 0;
            },
            listeners: {
                celldblclick: function(a, b, c, d, e, f, g, h) {},
                cellclick: function(b, c, d, e, f, g, h, i) {
                    if (-1 != c.innerHTML.indexOf("REMOVE") && (b.getStore().removeAt(g), null != e.data.measurementId)) {
                        b.setLoading("ISPyB: Removing measurement");
                        var j = function(c, d) {
                            b.setLoading(!1);
                            var e = function(b, c) {
                                a.onRemoved.notify(c), a._showStatusBarReady("Ready");
                            };
                            EXI.getDataAdapter({
                                onSuccess: e
                            }).saxs.experiment.getExperimentById(a.experimentList.experiments[0].experimentId, "MEDIUM"), 
                            a._showStatusBarBusy("ISPyB: Removing Unused Specimens");
                        };
                        EXI.getDataAdapter({
                            onSuccess: j
                        }).saxs.measurement.removeMeasurement(e.data);
                    }
                }
            }
        }
    }), this.grid;
}, MeasurementGrid.prototype._showStatusBarReady = function(a) {
    var b = Ext.getCmp(this.id + "basic-statusbar");
    b.setStatus({
        text: a,
        iconCls: "x-status-valid",
        clear: !1
    });
}, MeasurementGrid.prototype._showStatusBarBusy = function(a) {
    var b = Ext.getCmp(this.id + "basic-statusbar");
    b.setStatus({
        text: a,
        iconCls: "x-status-busy",
        clear: !1
    });
}, MeasurementGrid.prototype._openAddMeasurementWindow = function(a, b) {
    var c = this, d = new WizardWidget({
        windowMode: !0,
        width: 1200
    });
    d.onFinished.attach(function(a, b) {
        c.grid.setLoading(), d.window.close();
        var e = function(a, b) {
            c.onExperimentChanged.notify(b), c.grid.setLoading(!1);
        };
        d.current.setLoading("ISPyB: Adding measurements"), EXI.getDataAdapter({
            onSuccess: e
        }).saxs.template.saveTemplate(b.name, b.comments, b.data, c.experimentList.experiments[0].experimentId);
    }), d.draw(null, new MeasurementCreatorStepWizardForm(EXI.proposalManager.getMacromolecules(), EXI.proposalManager.getBuffers(), {
        noNext: !0
    }));
}, MeasurementGrid.prototype._getMenu = function() {
    var a = this;
    if (this.tbar) {
        var b = [];
        if (a.addBtnEnable && b.push({
            icon: "../images/icon/add.png",
            text: "Add",
            handler: function() {
                a._openAddMeasurementWindow();
            }
        }), a.addBtnMultipleEdit, a.sortingBtnEnable) {
            var c = Ext.create("Ext.button.Split", {
                text: "Sort by",
                icon: "../images/icon/sort.png",
                handler: function() {},
                menu: new Ext.menu.Menu({
                    items: [ {
                        text: "First Created First Measured",
                        handler: function() {
                            a._sortBy("FIFO");
                        }
                    }, "-", {
                        text: "Default",
                        handler: function() {
                            a._sortBy("DEFAULT");
                        }
                    } ]
                })
            });
            b.push(c);
        }
        a.collapseBtnEnable && b.push({
            text: "Collapse buffers",
            enableToggle: !0,
            scope: this,
            toggleHandler: function(a, b) {
                this.collapsed = b, this.grid.getStore().loadData(this._prepareData(this.measurements, this.experiments), !1);
            },
            pressed: this.collapsed
        });
        var d = Ext.create("Ext.toolbar.Toolbar", {
            cls: "exi-top-bar",
            height: 45,
            items: b
        });
        return d;
    }
    return null;
}, MeasurementGrid.prototype._sortBy = function(a) {
    var b = this, c = (new DataAdapter(), function(a, c) {
        b.onExperimentChanged.notify(c), b.grid.setLoading(!1);
    });
    b.grid.setLoading("Sorting"), EXI.getDataAdapter({
        onSuccess: c
    }).saxs.measurement.sortMeasurements(this.experimentList.experiments[0].experimentId, a);
}, MeasurementGrid.prototype.input = function() {
    return {
        proposal: DATADOC.getProposal_10()
    };
}, MeasurementGrid.prototype.test = function(a) {
    var b = new b({
        width: 800,
        height: 350,
        collapsed: !1,
        tbar: !0
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = b.getPanel(BIOSAXS.proposal.macromolecules);
    c.render(a);
}, MolarityGrid.prototype._getColumns = function() {
    return [ {
        text: "Subunit",
        columns: [ {
            text: "Acronym",
            width: 100,
            hidden: !1,
            dataIndex: "acronym",
            sortable: !0
        }, {
            text: "Name",
            width: 125,
            hidden: !1,
            dataIndex: "name",
            sortable: !0
        }, {
            text: "MM Est.",
            width: 100,
            dataIndex: "molecularMass",
            sortable: !0,
            renderer: function(a, b, c) {
                return BUI.formatValuesUnits(c.data.molecularMass, "Da", 10, 2);
            }
        } ]
    }, {
        text: "Ratio",
        width: 100,
        dataIndex: "ratio",
        tooltip: "Number of times the subunit is present in the macromolecule",
        sortable: !0
    }, {
        id: this.id + "MOLARITY_REMOVE",
        flex: .1,
        sortable: !1,
        renderer: function(a, b, c, d, e, f) {
            return BUI.getRedButton("REMOVE");
        }
    } ];
}, MolarityGrid.prototype._openMolarityWindow = function() {
    this.molarityWindow = Ext.create("Ext.window.Window", {
        title: "Molarity",
        height: 220,
        width: 500,
        modal: !0,
        items: [ this.molarityForm.getPanel() ]
    }).show();
}, MolarityGrid.prototype._getButtons = function() {
    var a = this;
    return [ {
        text: "Add subunit",
        icon: "../images/add.png",
        handler: function() {
            a._openMolarityWindow();
        }
    } ];
}, MolarityGrid.prototype.updateProposal = function() {
    var a = this;
    this.panel.setLoading(), BIOSAXS.proposal.onInitialized.attach(function() {
        if (null != BIOSAXS.proposal) for (var b = BIOSAXS.proposal.macromolecules, c = 0; c < b.length; c++) b[c].macromoleculeId == a.macromolecule.macromoleculeId && (a.refresh(b[c]), 
        a.panel.setLoading(!1));
    }), BIOSAXS.proposal.init();
}, MolarityGrid.prototype.getPanel = function() {
    var a = this;
    return this.molarityStore = Ext.create("Ext.data.Store", {
        fields: [ "acronym", "ratio", "comments", "stoichiometryId", "name", "molecularMass" ],
        sorters: {
            property: "ratio",
            direction: "DESC"
        }
    }), this.panel = Ext.create("Ext.grid.Panel", {
        store: this.molarityStore,
        height: this.height,
        padding: 5,
        columns: this._getColumns(),
        listeners: {
            cellclick: function(b, c, d, e, f, g, h, i) {
                if (b.getGridColumns()[d].getId() == a.id + "MOLARITY_REMOVE") {
                    var j = new BiosaxsDataAdapter();
                    j.onSuccess.attach(function(b) {
                        a.updateProposal();
                    }), j.removeStoichiometry(e.data.stoichiometryId), a.panel.setLoading("Removing Structure");
                }
            }
        },
        tbar: this._getButtons()
    }), this.panel;
}, MolarityGrid.prototype._prepareData = function(a) {
    var b = [];
    if (null != a.stoichiometry) for (var c = 0; c < a.stoichiometry.length; c++) {
        var d = BIOSAXS.proposal.getMacromoleculeById(a.stoichiometry[c].macromoleculeId);
        b.push({
            ratio: a.stoichiometry[c].ratio,
            acronym: d.acronym,
            comments: d.comments,
            molecularMass: d.molecularMass,
            stoichiometryId: a.stoichiometry[c].stoichiometryId,
            name: d.name
        });
    }
    return b;
}, MolarityGrid.prototype.refresh = function(a) {
    null != a && (this.molarityStore.loadData(this._prepareData(a)), this.molarityForm.refresh(a), 
    this.macromolecule = a);
}, MolarityGrid.prototype.input = function() {
    return {
        proposal: DATADOC.getProposal_10(),
        dewars: DATADOC.getDewars_10()
    };
}, MolarityGrid.prototype.test = function(a) {
    var b = new b({
        height: 150
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = b.getPanel(b.input().dewars);
    c.render(a);
}, ProposalGrid.prototype.load = function(a) {
    this.data = a, this.store.loadData(a, !1);
}, ProposalGrid.prototype.getFilter = function(a) {
    return [ {
        property: "Proposal_proposalNumber",
        value: a,
        anyMacth: !0
    } ];
}, ProposalGrid.prototype.filter = function(a) {}, ProposalGrid.prototype._getTbar = function() {
    var a = this, b = [];
    return b.push({
        xtype: "textfield",
        name: "field1",
        emptyText: "search by number",
        hidden: this.isHidden,
        listeners: {
            change: function(b, c) {
                var d = b.getValue();
                "" != d ? a.store.filter(a.getFilter(b.getValue())) : (a.store.clearFilter(!0), 
                a.load(a.data));
            }
        }
    }), b;
}, ProposalGrid.prototype.getPanel = function() {
    var a = this;
    return this.store = Ext.create("Ext.data.Store", {
        fields: [ "Proposal_proposalId", "Proposal_title", "Proposal_proposalCode", "Proposal_proposalNumber", "Proposal_proposalType" ]
    }), this.store.sort([ "Proposal_proposalCode", "Proposal_proposalNumber" ]), this.panel = Ext.create("Ext.grid.Panel", {
        title: "Proposals",
        store: this.store,
        cls: "border-grid",
        tbar: this._getTbar(),
        height: this.height,
        width: this.width,
        columns: [ {
            text: "Proposal",
            dataIndex: "Proposal_code",
            width: 125,
            renderer: function(a, b, c) {
                return c.data.Proposal_proposalCode + c.data.Proposal_proposalNumber;
            }
        }, {
            text: "Code",
            dataIndex: "Proposal_number",
            width: 75,
            hidden: !0
        }, {
            text: "Number",
            dataIndex: "number",
            width: 75,
            hidden: !0
        }, {
            text: "Title",
            dataIndex: "Proposal_title",
            flex: 1
        } ],
        flex: 1,
        viewConfig: {
            stripeRows: !0,
            listeners: {
                cellclick: function(b, c, d, e, f, g, h, i) {
                    a.onSelected.notify(e.data);
                }
            }
        }
    }), this.tbar && this.panel.addDocked({
        xtype: "toolbar",
        cls: "toolBarGrid",
        height: 48,
        items: this._getTbar()
    }), this.panel;
}, QueueGrid.prototype.getSorters = function() {
    return {};
}, QueueGrid.prototype.getSelected = function() {
    return this.selected;
}, QueueGrid.prototype.getSelectedData = function() {
    for (var a = this.panel.getSelectionModel().selected.items, b = [], c = 0; c < a.length; c++) b.push(a[c].data);
    return b;
}, QueueGrid.prototype.getFields = function() {
    return [ "experimentId", "subtractionId", "macromoleculeAcronym", "priorityLevelId", "code", "exposureTemperature", "concentration" ];
}, QueueGrid.prototype.getRunHTML = function(a) {
    var b = a.data.dataCollectionId, c = document.createElement("table");
    if (null != this.key[b]) {
        this.key[b].sort(function(a, b) {
            return b.measurementId - a.measurementId;
        });
        for (i in this.key[b]) {
            var d = this.key[b][i], e = document.createElement("tr"), f = document.createElement("td");
            null != d.measurementCode ? null == d.macromoleculeId ? (f.setAttribute("style", "padding-top:1px;width:130px;color:gray;"), 
            f.appendChild(document.createTextNode("# " + d.measurementCode))) : (f.setAttribute("style", "padding-top:1px;width:130px;font-weight:bold;"), 
            f.appendChild(document.createTextNode("# " + d.measurementCode))) : f.appendChild(document.createTextNode(" - ")), 
            e.appendChild(f), c.appendChild(e);
        }
    }
    return "<table>" + c.innerHTML + "</table>";
}, QueueGrid.prototype.getPercentage = function(a, b) {
    var c = document.createElement("td"), d = "green";
    return null == a && (a = "NA", d = "orange"), null == b && (b = "NA", d = "orange"), 
    "NA" != a & "NA" != b && (a / b >= .3 && (d = "orange"), a / b > .7 && (d = "#BCF5A9"), 
    .3 > a / b && (d = "red")), c.appendChild(document.createTextNode(a + " / " + b)), 
    c.setAttribute("style", "background-color:" + d + ";"), c;
}, QueueGrid.prototype.getFramesHTML = function(a) {
    var b = a.data.dataCollectionId, c = document.createElement("table");
    if (null != this.key[b]) {
        this.key[b].sort(function(a, b) {
            return b.measurementId - a.measurementId;
        });
        for (i in this.key[b]) {
            var d = this.key[b][i], e = document.createElement("tr"), f = document.createElement("td");
            null == d.macromoleculeId ? (f.setAttribute("style", "width:130px;color:gray;"), 
            f.appendChild(document.createTextNode(d.bufferAcronym))) : (f.setAttribute("style", "width:130px;font-weight:bold;"), 
            f.appendChild(document.createTextNode(d.macromoleculeAcronym))), e.appendChild(f), 
            e.appendChild(this.getPercentage(d.framesMerge, d.framesCount));
            var f = document.createElement("td"), g = document.createElement("a");
            null == d.macromoleculeId ? g.setAttribute("href", BUI.getZipURLByAverageId(d.mergeId, d.measurementCode)) : g.setAttribute("href", BUI.getZipURLBySubtractionId(d.subtractionId, d.measurementCode)), 
            e.appendChild(f), c.appendChild(e);
        }
    }
    return "<table>" + c.innerHTML + "</table>";
}, QueueGrid.prototype.getHTMLTable = function(a) {
    for (var b = "", c = 0; c < a.length; c++) b = b + "<tr><td class='key_subgrid'>" + a[c].key + "</td><td class='value_subgrid'>" + a[c].value + "</td></tr>";
    return "<table>" + b + "</table>";
}, QueueGrid.prototype.getImage = function(a, b) {
    if (null != a.data.macromoleculeId && null != a.data.subtractionId) {
        var c = EXI.getDataAdapter().saxs.subtraction.getImage(a.data.subtractionId, b);
        return "<img src=" + c + '   height="70" width="70" >';
    }
}, QueueGrid.prototype.getColumns = function() {
    var a = this;
    return [ {
        header: "dataCollectionId",
        name: "dataCollectionId",
        dataIndex: "dataCollectionId",
        flex: 1,
        hidden: !0
    }, {
        header: "Exp. Id",
        name: "experimentId",
        dataIndex: "experimentId",
        flex: 1,
        hidden: !0
    }, {
        header: "Exp. Name",
        name: "name",
        dataIndex: "name",
        flex: 1,
        hidden: !0
    }, {
        header: "MeasurementId",
        name: "measurementId",
        dataIndex: "measurementId",
        hidden: !0,
        flex: 1,
        renderer: function(a, b, c) {
            return c.raw.measurementId;
        }
    }, {
        header: "Date",
        name: "date",
        flex: 1,
        dataIndex: "runCreationDate",
        hidden: !0
    }, {
        header: "Run",
        flex: .2,
        name: "runNumber",
        dataIndex: "measurementCode",
        renderer: function(b, c, d) {
            return a.getRunHTML(d);
        }
    }, {
        header: "Frames (Average/Total)",
        dataIndex: "macromoleculeId",
        name: "macromoleculeAcronym",
        flex: 1,
        hidden: !1,
        renderer: function(b, c, d) {
            return a.getFramesHTML(d);
        }
    }, {
        text: "Scattering",
        dataIndex: "subtractionId",
        width: 110,
        name: "subtractionId",
        renderer: function(b, c, d) {
            return a.getImage(d, "scattering");
        }
    }, {
        header: "Macromolecule",
        name: "macromoleculeAcronym",
        dataIndex: "macromoleculeAcronym",
        flex: 1,
        hidden: !0
    }, {
        header: "Concentration",
        name: "concentration",
        flex: .5,
        dataIndex: "concentration",
        hidden: !1,
        renderer: function(a, b, c) {
            return 0 != c.data.concentration ? BUI.formatValuesUnits(c.data.concentration, "mg/ml", 7, this.decimals) : void 0;
        }
    }, {
        header: "Exp. Temp.",
        name: "bufferAcronym",
        dataIndex: "bufferAcronym",
        flex: .5,
        renderer: function(a, b, c) {
            return BUI.formatValuesUnits(c.data.exposureTemperature, "C", 10, this.decimals);
        }
    }, {
        text: "Kratky.",
        dataIndex: "subtractionId",
        hidden: !0,
        flex: 1,
        name: "subtractionId",
        renderer: function(b, c, d) {
            return a.getImage(d, "kratky");
        }
    }, {
        text: "P(r).",
        hidden: !0,
        flex: 1,
        dataIndex: "subtractionId",
        type: "string",
        renderer: function(b, c, d) {
            return a.getImage(d, "density");
        }
    }, {
        text: "Guinier.",
        hidden: !0,
        flex: 1,
        dataIndex: "subtractionId",
        type: "string",
        renderer: function(b, c, d) {
            return a.getImage(d, "guinier");
        }
    }, {
        text: "Guinier",
        name: "Guinier",
        flex: .8,
        dataIndex: "subtractionId",
        renderer: function(b, c, d) {
            if (null != d.data.macromoleculeId && null != d.data.subtractionId) {
                var e = [];
                return null != d.data.rg ? e.push({
                    key: "Rg",
                    value: BUI.formatValuesUnits(d.data.rg, "nm", 12, this.decimals)
                }) : e.push({
                    key: "Rg",
                    value: "<span class='notavailablefield'>NA</span>"
                }), null != d.data.rg ? e.push({
                    key: "Points",
                    value: "<span>" + d.data.firstPointUsed + " - " + d.data.lastPointUsed + " (" + (d.data.lastPointUsed - d.data.firstPointUsed) + ")</span>"
                }) : e.push({
                    key: "Points",
                    value: "<span class='notavailablefield'>NA</span>"
                }), null != d.data.I0 ? e.push({
                    key: "I0",
                    value: BUI.formatValuesErrorUnitsScientificFormat(d.data.I0, d.data.I0Stdev, "")
                }) : e.push({
                    key: "I0",
                    value: "<span class='notavailablefield'>NA</span>"
                }), a.getHTMLTable(e);
            }
        }
    }, {
        text: "Gnom",
        name: "Gnom",
        flex: .7,
        dataIndex: "subtractionId",
        renderer: function(b, c, d) {
            if (null != d.data.macromoleculeId && null != d.data.subtractionId) {
                var e = [];
                return null != d.data.rgGnom ? e.push({
                    key: "Rg",
                    value: BUI.formatValuesUnits(d.data.rgGnom, "nm")
                }) : e.push({
                    key: "Rg",
                    value: "<span class='notavailablefield'>NA</span>"
                }), null != d.data.rgGnom ? e.push({
                    key: "Total",
                    value: BUI.formatValuesUnits(d.data.total, "")
                }) : e.push({
                    key: "Total",
                    value: "<span class='notavailablefield'>NA</span>"
                }), null != d.data.dmax ? e.push({
                    key: "D<sub>max</sub>",
                    value: BUI.formatValuesUnits(d.data.dmax, "") + "<span style='font-size:8px;color:gray;'> nm</span>"
                }) : e.push({
                    key: "D<sub>max</sub>",
                    value: "<span class='notavailablefield'>NA</span>"
                }), a.getHTMLTable(e);
            }
        }
    }, {
        text: "Porod",
        name: "Porod",
        flex: 1,
        dataIndex: "subtractionId",
        renderer: function(b, c, d) {
            if (null != d.data.macromoleculeId && null != d.data.subtractionId) {
                var e = [];
                return null != d.data.volumePorod ? e.push({
                    key: "Volume",
                    value: BUI.formatValuesUnits(d.data.volumePorod, "") + "<span style='font-size:8px;color:gray;'> nm<sub>3</sub></span>"
                }) : e.push({
                    key: "Volume",
                    value: "<span class='notavailablefield'>NA</span>"
                }), null != d.data.volumePorod ? e.push({
                    key: "MM Vol. est.",
                    value: Number(d.data.volumePorod / 2).toFixed(1) + " - " + Number(d.data.volumePorod / 1.5).toFixed(1) + "<span style='font-size:8px;color:gray;'>kD</span>"
                }) : e.push({
                    key: "MM Vol. est.",
                    value: "<span class='notavailablefield'>NA</span>"
                }), a.getHTMLTable(e);
            }
        }
    }, {
        text: "Advanced",
        hidden: !1,
        id: this.id + "buttonAction",
        dataIndex: "subtrationId",
        flex: 1,
        renderer: function(a, b, c) {
            var d = "<table><tr><td style='padding-bottom: 1px;'>" + BUI.getGreenButton("Data Reduction", {
                width: 90,
                height: 15
            }) + "</td></tr>";
            return d = c.data.abinitioCount > 0 ? d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getGreenButton("Abinitio", {
                width: 90,
                height: 15
            }) + "</td></tr>" : d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getBlueButton("Abinitio", {
                width: 90,
                height: 15
            }) + "</td></tr>", d = c.data.fitCount > 0 ? d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getGreenButton("Fit", {
                width: 90,
                height: 15
            }) + "</td></tr>" : d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getBlueButton("Fit", {
                width: 90,
                height: 15
            }) + "</td></tr>", d = c.data.superposisitionCount > 0 ? d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getGreenButton("Superposition", {
                width: 90,
                height: 15
            }) + "</td></tr>" : d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getBlueButton("Superposition", {
                width: 90,
                height: 15
            }) + "</td></tr>", d = c.data.rigidbodyCount > 0 ? d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getGreenButton("Rigid Body", {
                width: 90,
                height: 15
            }) + "</td></tr>" : d + "<tr><td style='padding-bottom: 1px;'>" + BUI.getBlueButton("Rigid Body", {
                width: 90,
                height: 15
            }) + "</td></tr>", d + "</table>";
        }
    } ];
}, QueueGrid.prototype.load = function(a) {
    null != a ? (this.key = {}, this.store.loadData(a, !0)) : this.store.load();
}, QueueGrid.prototype.getPanel = function() {
    var a = this;
    Ext.define("Queue", {
        extend: "Ext.data.Model",
        fields: [ "name", "date", "volumePorod", "runCreationDate", "measurementCode", "macromoleculeAcronym", "bufferAcronym", "I0", "I0Stdev", "acronym", "averageFilePath", "bufferAverageFilePath", "bufferId", "bufferOnedimensionalFiles", "code", "comments", "composition", "concentration", "creationDate", "creationTime", "dataAcquisitionFilePath", "dataCollectionId", "discardedFrameNameList", "dmax", "experimentId", "experimentType", "exposureTemperature", "extintionCoefficient", "extraFlowTime", "firstPointUsed", "flow", "frameListId", "framesCount", "framesMerge", "gnomFilePath", "gnomFilePathOutput", "guinierFilePath", "isagregated", "kratkyFilePath", "lastPointUsed", {
            name: "macromoleculeId",
            id: "macromoleculeId"
        }, {
            name: "measurementId",
            type: "int"
        }, "mergeId", "molecularMass", "name", "pH", "priorityLevelId", "proposalId", "quality", "rg", "rgGnom", "rgGuinier", "rgStdev", "runId", "safetyLevelId", "sampleAverageFilePath", "sampleOneDimensionalFiles", "samplePlatePositionId", "scatteringFilePath", "sequence", "sessionId", "sourceFilePath", "specimenId", "status", "stockSolutionId", "substractedFilePath", "subtractionId", "total", "transmission", "viscosity", "volume", "volumeToLoad", "waitTime", "reference", "refined", "fitCount", "superposisitionCount", "rigidbodyCount", "abinitioCount" ]
    }), this.store = Ext.create("Ext.data.Store", {
        model: "Queue",
        data: [],
        filters: this.filters,
        listeners: {
            beforeload: function() {
                return a.key = {}, !0;
            },
            load: function(a, b) {}
        },
        proxy: {
            type: "memory",
            reader: {
                type: "json"
            }
        }
    });
    var b = Ext.create("Ext.selection.RowModel", {
        allowDeselect: !0,
        mode: this.selectionMode,
        listeners: {
            selectionchange: function(b, c) {
                a.selected = a.getSelectedData(), a.onSelectionChange.notify(a.selected);
            },
            select: function(b, c) {
                a.onSelect.notify(c.data);
            },
            deselect: function(b, c) {
                a.onDeselect.notify(c.data);
            }
        }
    });
    return this.panel = Ext.create("Ext.grid.Panel", {
        title: this.title,
        border: !0,
        cls: "defaultGridPanel",
        maxHeight: this.maxHeight,
        overflow: "auto",
        margin: 5,
        store: this.store,
        columns: this.getColumns(),
        allowDeselect: !0,
        selModel: b,
        collapsible: this.collapsible,
        collapsed: this.collapsed,
        viewConfig: {
            enableTextSelection: !0,
            preserveScrollOnRefresh: !0,
            stripeRows: !0,
            rowLines: !0,
            listeners: {
                cellclick: function(b, c, d, e, f, g, h, i) {
                    "Data Reduction" == h.target.defaultValue && (location.hash = "/saxs/datacollection/dataCollectionId/" + e.data.dataCollectionId + "/primaryviewer"), 
                    "Abinitio" == h.target.defaultValue && a.onAbinitioButtonClicked(e.raw), "Fit" == h.target.defaultValue && a.onFitButtonClicked(e.raw), 
                    "Superposition" == h.target.defaultValue && a.onSuperpositionButtonClicked(e.raw), 
                    "Rigid Body" == h.target.defaultValue && a.onRigidBodyButtonClicked(e.raw);
                }
            }
        }
    }), this.panel;
}, QueueGrid.prototype.onDataReductionButtonClicked = function(a) {
    var b = new DataAdapter(), c = new DataReductionForm({});
    Ext.create("Ext.window.Window", {
        title: "Data Reduction",
        height: 540,
        width: 1e3,
        modal: !0,
        items: [ c.getPanel() ]
    }).show(), c.panel.setLoading(), b.onSuccess.attach(function(a, b) {
        c.refresh(b), c.panel.setLoading(!1);
    }), b.getSubtractionsBySubtractionIdList([ a.subtractionId ]);
}, RigidModelGrid.prototype.refresh = function(a) {
    var b = [];
    if (null != a && a.length > 0) for (j in a) {
        var c = a[j];
        if (null != c.rigidBodyModeling3VOs) for (i in c.rigidBodyModeling3VOs) b.push(c.rigidBodyModeling3VOs[i]);
    }
    this.store.loadData(b);
}, RigidModelGrid.prototype.getPanel = function() {
    return this.store = Ext.create("Ext.data.Store", {
        fields: [ "symmetry", "subtractionId", "subUnitConfigFilePath", "rigidBodyModelingId", "rigidBodyModelFilePath", "logFilePath", "fitFilePath", "curveConfigFilePath", "crossCorrConfigFilePath", "contactDescriptionFilePath" ],
        data: []
    }), this.store.sort([ {
        property: "name",
        direction: "ASC"
    } ]), this.panel = Ext.create("Ext.grid.Panel", {
        store: this.store,
        width: this.width,
        height: this.height,
        margin: 10,
        deferredRender: !1,
        columns: [ {
            text: "RBM",
            dataIndex: "rigidBodyModelFilePath",
            hidden: !1,
            flex: 1,
            renderer: function(a) {
                return BUI.getFileName(a);
            }
        }, {
            text: "Sub Unit Conf.",
            dataIndex: "subUnitConfigFilePath",
            hidden: !0,
            flex: 1,
            renderer: function(a) {
                return BUI.getFileName(a);
            }
        }, {
            text: "Log",
            dataIndex: "logFilePath",
            hidden: !0,
            flex: 1,
            renderer: function(a) {
                return BUI.getFileName(a);
            }
        }, {
            text: "Fit",
            dataIndex: "fitFilePath",
            hidden: !1,
            flex: 1,
            renderer: function(a) {
                return BUI.getFileName(a);
            }
        }, {
            text: "Curve Conf.",
            dataIndex: "curveConfigFilePath",
            hidden: !1,
            flex: 1,
            renderer: function(a) {
                return BUI.getFileName(a);
            }
        }, {
            text: "Cross Corr.",
            dataIndex: "crossCorrConfigFilePath",
            hidden: !1,
            flex: 1,
            renderer: function(a) {
                return BUI.getFileName(a);
            }
        }, {
            text: "Contact Desc.",
            dataIndex: "contactDescriptionFilePath",
            hidden: !0,
            flex: 1,
            renderer: function(a) {
                return BUI.getFileName(a);
            }
        } ],
        viewConfig: {
            enableTextSelection: !0,
            preserveScrollOnRefresh: !0
        },
        listeners: {
            cellclick: function(a, b, c, d, e, f, g, h) {},
            afterrender: function() {}
        }
    }), this.panel;
}, SessionGrid.prototype.load = function(a) {
    this.store.loadData(a, !0);
}, SessionGrid.prototype.goToSession = function(a) {
    "SAXS" == EXI.credentialManager.getTechniqueByBeamline(a.beamlineName) ? location.hash = "/session/nav/" + a.sessionId + "/session" : location.hash = "/mx/datacollection/session/" + a.sessionId + "/main";
}, SessionGrid.prototype.getPanel = function() {
    var a = this;
    return this.store = Ext.create("Ext.data.Store", {
        fields: [ "startDate", "beamlineName", "beamlineOperator", "diff" ],
        emptyText: "No sessions",
        data: []
    }), this.panel = Ext.create("Ext.grid.Panel", {
        title: this.title,
        store: this.store,
        icon: "../images/icon/sessions.png",
        cls: "border-grid",
        height: this.height,
        margin: this.margin,
        width: this.width,
        emptyText: "No sessions",
        columns: [ {
            text: "Proposal",
            dataIndex: "beamlineName",
            flex: .75,
            renderer: function(a, b, c) {
                return c.data.proposalVO.code + c.data.proposalVO.number;
            }
        }, {
            text: "Type",
            dataIndex: "beamlineName",
            flex: .5,
            renderer: function(a, b, c) {
                return null != c.data.beamlineName ? EXI.credentialManager.getTechniqueByBeamline(c.data.beamlineName) : void 0;
            }
        }, {
            text: "Beamline",
            dataIndex: "beamlineName",
            flex: 1
        }, {
            text: "Date",
            dataIndex: "startDate",
            flex: 2,
            renderer: function(a, b, c) {
                return moment(c.data.startDate).format("lll");
            }
        }, {
            text: "Local Contact",
            dataIndex: "beamlineOperator",
            flex: 1
        }, {
            xtype: "actioncolumn",
            icon: "../images/icon/ic_arrow_forward_black_48dp.png",
            flex: .5,
            text: "Go",
            hidden: this.hiddenGoColumn,
            handler: function(b, c, d) {
                a.goToSession(b.getStore().getAt(c).data);
            }
        } ],
        flex: 1,
        viewConfig: {
            stripeRows: !0,
            getRowClass: function(a, b, c, d) {
                if (null != a.data.beamlineName) {
                    if ("SAXS" == EXI.credentialManager.getTechniqueByBeamline(a.data.beamlineName)) return b % 2 == 0 ? "saxs-grid-row-light" : "saxs-grid-row-dark";
                    if ("MX" == EXI.credentialManager.getTechniqueByBeamline(a.data.beamlineName)) return b % 2 == 0 ? "mx-grid-row-light" : "mx-grid-row-dark";
                }
                return "warning-grid-row";
            },
            listeners: {
                cellclick: function(b, c, d, e, f, g, h, i) {
                    a.onSelected.notify(e.data);
                },
                itemdblclick: function(b, c, d, e, f, g) {
                    a.goToSession(c.data);
                }
            }
        }
    }), this.tbar && this.panel.addDocked({
        xtype: "toolbar",
        cls: "toolBarGrid",
        height: 48,
        items: this._getTbar()
    }), this.panel;
}, SpecimenGrid.prototype._prepareData = function(a) {
    for (var b = [], c = a.getSamples(), d = 0; d < c.length; d++) {
        var e = c[d];
        null != e.macromolecule3VO && (e.macromolecule = e.macromolecule3VO.acronym, e.exposureTemperature = [], 
        e.macromoleculeId = e.macromolecule3VO.macromoleculeId), null != e.sampleplateposition3VO ? null != e.sampleplateposition3VO.samplePlateId && (e.samplePlateId = e.sampleplateposition3VO.samplePlateId, 
        e.rowNumber = e.sampleplateposition3VO.rowNumber, e.columnNumber = e.sampleplateposition3VO.columnNumber, 
        null != a.getSamplePlateById(e.sampleplateposition3VO.samplePlateId).plategroup3VO && (e.plateGroupName = a.getSamplePlateById(e.sampleplateposition3VO.samplePlateId).plategroup3VO.name, 
        e.samplePlateName = a.getSamplePlateById(e.sampleplateposition3VO.samplePlateId).name + "  [" + e.plateGroupName + "]", 
        e.slotPositionColumn = a.getSamplePlateById(e.sampleplateposition3VO.samplePlateId).slotPositionColumn)) : e.samplePlateName = "Unallocated Specimens", 
        e.groupIndex = e.bufferId + e.macromoleculeId;
        var f = EXI.proposalManager.getMacromoleculeById(e.macromoleculeId);
        e.acronym = "Buffers", null != f && (e.acronym = EXI.proposalManager.getMacromoleculeById(e.macromoleculeId).acronym), 
        e.buffer = a.getBufferById(e.bufferId), e.volumeToLoad = a.getVolumeToLoadBySampleId(e.sampleId), 
        b.push(e);
    }
    return b;
}, SpecimenGrid.prototype.deselectAll = function() {
    this.grid.getSelectionModel().deselectAll();
}, SpecimenGrid.prototype.selectById = function(a) {
    this.grid.getSelectionModel().deselectAll();
    for (var b = 0; b < this.grid.getStore().data.items.length; b++) {
        var c = this.grid.getStore().data.items[b].data;
        c.specimenId == a && this.grid.getSelectionModel().select(b);
    }
}, SpecimenGrid.prototype.getStore = function() {
    return this.store;
}, SpecimenGrid.prototype.getPlugins = function() {
    var a = this, b = [];
    return this.updateRowEnabled && b.push(Ext.create("Ext.grid.plugin.RowEditing", {
        clicksToEdit: 1,
        listeners: {
            validateedit: function(b, c) {
                var d = [];
                if (c.newValues.bufferId != c.record.data.bufferId) {
                    var e = [];
                    if (null == c.record.data.macromoleculeId) e = e.concat(a.experiment.getDataCollectionsBySpecimenId(c.record.data.specimenId)); else for (var f = a.experiment.getDataCollectionsBySpecimenId(c.record.data.specimenId), g = 0; g < f.length; g++) {
                        var h = f[g];
                        if (null != h) for (var i = 0; i < h.measurementtodatacollection3VOs.length; i++) {
                            var j = h.measurementtodatacollection3VOs[i];
                            1 == j.dataCollectionOrder && (e = e.concat(a.experiment.getDataCollectionsBySpecimenId(a.experiment.getMeasurementById(j.measurementId).specimenId)));
                        }
                    }
                    var g = null;
                    for (g = 0; g < e.length; g++) {
                        var k = e[g], l = a.experiment.getSpecimenByDataCollectionId(k.dataCollectionId);
                        d = d.concat(l);
                    }
                    for (g = 0; g < d.length; g++) {
                        var m = d[g], n = a.experiment.getSpecimenById(m.specimenId);
                        n.bufferId = c.newValues.bufferId, new DataAdapter().saveSpecimen(n, a.experiment);
                    }
                }
                if (c.record.data.concentration = c.newValues.concentration, c.record.data.volume = c.newValues.volume, 
                null != c.record.data.sampleplateposition3VO) {
                    var o = a.experiment.getSamplePlateBySlotPositionColumn(c.newValues.slotPositionColumn);
                    null != o && (c.record.data.sampleplateposition3VO = {
                        columnNumber: c.newValues.columnNumber,
                        rowNumber: c.newValues.rowNumber,
                        samplePlateId: o.samplePlateId
                    });
                } else if (null != c.newValues.slotPositionColumn) {
                    var o = a.experiment.getSamplePlateBySlotPositionColumn(c.newValues.slotPositionColumn);
                    null != o && (c.record.data.sampleplateposition3VO = {
                        columnNumber: c.newValues.columnNumber,
                        rowNumber: c.newValues.rowNumber,
                        samplePlateId: o.samplePlateId
                    });
                }
                var p = c.record.data.macromoleculeId, q = function(b, c) {
                    debugger;
                    null != p && (c.macromolecule3VO = EXI.proposalManager.getMacromoleculeById(p)), 
                    a.onSpecimenChanged.notify(c), a.grid.setLoading(!1);
                };
                a.grid.setLoading(), EXI.getDataAdapter({
                    onSuccess: q
                }).saxs.specimen.saveSpecimen(c.record.data);
            }
        }
    })), b;
}, SpecimenGrid.prototype._getRowCombo = function() {
    for (var a = [], b = 1; 8 >= b; b++) a.push({
        rowNumber: b,
        name: BUI.getSamplePlateLetters()[b - 1]
    });
    var c = Ext.create("Ext.data.Store", {
        fields: [ "rowNumber", "name" ],
        data: a
    });
    return Ext.create("Ext.form.ComboBox", {
        store: c,
        queryMode: "local",
        displayField: "name",
        valueField: "rowNumber"
    });
}, SpecimenGrid.prototype._getColumnCombo = function() {
    for (var a = [], b = 1; 12 >= b; b++) a.push({
        columnNumber: b
    });
    var c = Ext.create("Ext.data.Store", {
        fields: [ "columnNumber" ],
        data: a
    });
    return Ext.create("Ext.form.ComboBox", {
        store: c,
        queryMode: "local",
        displayField: "columnNumber",
        valueField: "columnNumber"
    });
}, SpecimenGrid.prototype._getSlotColumBombo = function() {
    if (this.experiment) {
        for (var a = this.experiment.getSamplePlates().length, b = [], c = 1; a >= c; c++) b.push({
            slotPositionColumn: c
        });
        var d = Ext.create("Ext.data.Store", {
            fields: [ "slotPositionColumn" ],
            data: b
        });
        return Ext.create("Ext.form.ComboBox", {
            store: d,
            queryMode: "local",
            displayField: "slotPositionColumn",
            valueField: "slotPositionColumn"
        });
    }
}, SpecimenGrid.prototype.getPanelByExperiment = function(a) {
    this.experiment = a;
    var b = this._prepareData(a);
    return this.getPanel(b);
}, SpecimenGrid.prototype.refresh = function(a) {
    this.experiment = a;
    var b = this._prepareData(a);
    this.store.loadData(b);
}, SpecimenGrid.prototype.getPanel = function() {
    var a = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "buffer", "bufferId", "code", "macromolecule", "acronym", "macromoleculeId", "concentration", "volume", "samplePlateId", "slotPositionColumn", "rowNumber", "columnNumber", "groupIndex" ],
        data: [],
        groupField: "acronym"
    }), this.store.sort([ {
        property: "concentration",
        direction: "ASC"
    }, {
        property: "buffer",
        direction: "ASC"
    } ]);
    var b = Ext.create("Ext.selection.RowModel", {
        allowDeselect: !0,
        listeners: {
            select: function(b, c, d, e) {
                a.onSelected.notify([ c.data ]);
            }
        }
    }), c = [];
    return this.grouped && c.push({
        ftype: "grouping",
        groupHeaderTpl: "{name}",
        hideGroupedHeader: !1,
        startCollapsed: !1,
        id: "myGroupedStore"
    }), this.grid = Ext.create("Ext.grid.Panel", {
        title: this.title,
        height: this.height,
        width: this.width,
        selModel: b,
        store: this.store,
        features: c,
        margin: this.margin,
        plugins: this.getPlugins(),
        cls: "border-grid",
        columns: [ {
            text: "",
            dataIndex: "macromolecule",
            width: 20,
            renderer: function(b, c, d) {
                var e = null;
                return e = null != d.data.macromolecule3VO ? d.data.macromolecule3VO.macromoleculeId : d.data.macromoleculeId, 
                null != e ? BUI.getRectangleColorDIV(a.experiment.macromoleculeColors[e], 10, 10) : void 0;
            }
        }, {
            text: "Macromolecule",
            dataIndex: "macromolecule",
            width: 100
        }, {
            text: "",
            dataIndex: "buffer",
            width: 20,
            renderer: function(b, c, d) {
                var e = "black";
                return null != d.data.bufferId ? (null != a.experiment.getDataCollectionsBySpecimenId(d.data.specimenId)[0] && (e = a.experiment.getSpecimenColorByBufferId(a.experiment.getMeasurementById(a.experiment.getDataCollectionsBySpecimenId(d.data.specimenId)[0].measurementtodatacollection3VOs[0].measurementId).specimenId)), 
                BUI.getRectangleColorDIV(e, 10, 10)) : void 0;
            }
        }, {
            text: "Buffer",
            dataIndex: "bufferId",
            width: 140,
            editor: BIOSAXS_COMBOMANAGER.getComboBuffers(EXI.proposalManager.getBuffers(), {
                noLabel: !0,
                width: 300
            }),
            renderer: function(a, b, c) {
                return null != c.data.bufferId ? EXI.proposalManager.getBufferById(a).acronym : void 0;
            }
        }, {
            text: "Conc.",
            dataIndex: "concentration",
            width: 100,
            editor: {
                allowBlank: !1
            },
            renderer: function(a, b, c) {
                return isNaN(a) ? (b.tdCls = "yellow-cell", a) : 0 != a ? BUI.formatValuesUnits(a, "mg/ml", {
                    fontSize: 16,
                    decimals: 3,
                    unitsFontSize: this.unitsFontSize
                }) : void 0;
            }
        }, {
            text: "Vol. Well",
            dataIndex: "volume",
            width: 70,
            editor: {
                allowBlank: !0
            },
            renderer: function(a, b, c) {
                return BUI.formatValuesUnits(c.data.volume, "&#181l", {
                    fontSize: 12,
                    decimals: 2,
                    unitsFontSize: this.unitsFontSize
                });
            }
        }, {
            text: "Position",
            hidden: !0,
            flex: 1,
            renderer: function(b, c, d) {
                return BUI.getSamplePositionHTML(d.data, a.experiment);
            }
        }, {
            text: "samplePlateId",
            dataIndex: "samplePlateId",
            hidden: !0
        }, {
            text: "Plate",
            hidden: this.isPositionColumnHidden,
            dataIndex: "slotPositionColumn",
            editor: a._getSlotColumBombo(),
            flex: 1,
            renderer: function(a, b, c) {
                return null != a & "" != a ? a : void (b.tdCls = "yellow-cell");
            }
        }, {
            text: "Row",
            hidden: this.isPositionColumnHidden,
            dataIndex: "rowNumber",
            editor: this._getRowCombo(),
            flex: 1,
            renderer: function(a, b, c) {
                return null != a && "" != a ? BUI.getSamplePlateLetters()[a - 1] : void (b.tdCls = "yellow-cell");
            }
        }, {
            text: "Well",
            hidden: this.isPositionColumnHidden,
            dataIndex: "columnNumber",
            editor: this._getColumnCombo(),
            flex: 1,
            renderer: function(a, b, c) {
                return null != a && "" != a ? a : void (b.tdCls = "yellow-cell");
            }
        }, {
            id: a.id + "buttonEditSample",
            text: "Edit",
            width: 80,
            sortable: !1,
            hidden: !a.editEnabled,
            renderer: function(b, c, d, e, f, g) {
                return a.editEnabled ? BUI.getGreenButton("EDIT") : void 0;
            }
        }, {
            id: a.id + "buttonRemoveSample",
            text: "",
            hidden: !a.removeBtnEnabled,
            width: 100,
            sortable: !1,
            renderer: function(b, c, d, e, f, g) {
                return a.removeBtnEnabled ? BUI.getRedButton("REMOVE") : void 0;
            }
        } ],
        viewConfig: {
            preserveScrollOnRefresh: !0,
            stripeRows: !0,
            getRowClass: function(b) {
                var c = a.experiment.getSampleByPosition(b.data.samplePlateId, b.data.rowNumber, b.data.columnNumber);
                return c.length > 1 ? "red-row" : void 0;
            },
            listeners: {
                selectionchange: function(b, c) {
                    a.onClick.notify(record.data);
                },
                cellclick: function(b, c, d, e, f) {
                    b.getGridColumns()[d].getId() == a.id + "buttonEditSample", b.getGridColumns()[d].getId() == a.id + "buttonRemoveSample" && (b.getStore().removeAt(rowIndex), 
                    a.onRemoved.notify());
                }
            }
        }
    }), this.grid;
}, SpecimenGrid.prototype.input = function() {
    return {
        experiment: DATADOC.getExperiment_10(),
        proposal: DATADOC.getProposal_10()
    };
}, SpecimenGrid.prototype.test = function(a) {
    var b = new SpecimenGrid({
        height: 400,
        maxHeight: 400,
        width: 1e3
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = new Experiment(b.input().experiment), d = b.getPanelByExperiment(c);
    d.render(a);
}, StockSolutionGrid.prototype._getColumns = function() {
    var a = this, b = [ {
        header: "Proposal",
        dataIndex: "proposal",
        name: "proposalId",
        flex: 1,
        hidden: !1
    }, {
        header: "Macromolecule",
        dataIndex: "macromolecule",
        id: a.id + "macromolecule",
        type: "string",
        renderer: function(a, b, c) {
            return null != a ? '<span style="color:blue;">' + a + "</span>" : void 0;
        },
        hidden: !1,
        flex: 1
    }, {
        header: "Buffer",
        dataIndex: "buffer",
        name: "buffer",
        hidden: !1,
        renderer: function(a, b, c) {
            return '<span style="color:green;">' + a + "</span>";
        },
        type: "string",
        flex: 1
    }, {
        header: "Acronym",
        dataIndex: "name",
        name: "name",
        flex: 1,
        hidden: !0
    }, {
        header: "Storage Temp. (C)",
        dataIndex: "storageTemperature",
        name: "storageTemperature",
        flex: 1,
        hidden: !1
    }, {
        header: "Volume (&#181l)",
        name: "volume",
        dataIndex: "volume",
        flex: 1,
        hidden: !1
    }, {
        header: "Concentration (mg/ml)",
        dataIndex: "concentration",
        name: "concentration",
        name: "concentration",
        flex: 1
    }, {
        header: "Packed",
        dataIndex: "comments",
        id: a.id + "box",
        type: "string",
        width: 50,
        hidden: !this.isPackedVisible,
        renderer: function(a, b, c) {
            return null != c.raw.boxId ? "<div style='cursor: pointer;'><img height='15px' src='../images/plane.gif'></div>" : void 0;
        }
    }, {
        header: "Comments",
        dataIndex: "comments",
        type: "string",
        flex: 1
    } ];
    return this.btnEditVisible && b.push({
        xtype: "actioncolumn",
        width: 40,
        text: "Edit",
        items: [ {
            icon: "../images/icon/edit.png",
            tooltip: "Edit",
            handler: function(b, c, d) {
                var e = b.getStore().getAt(c);
                a.edit(e.get("stockSolutionId"));
            }
        } ]
    }), this.btnRemoveVisible && b.push({
        id: a.id + "buttonRemove",
        width: 85,
        sortable: !1,
        renderer: function(b, c, d, e, f, g) {
            return a.btnRemoveVisible ? BUI.getRedButton("REMOVE") : void 0;
        }
    }), this.btnUnpackVisible && b.push({
        xtype: "actioncolumn",
        width: 40,
        text: "Unpack",
        items: [ {
            icon: "../images/icon/ic_highlight_remove_black_24dp.png",
            tooltip: "Unpack",
            handler: function(b, c, d) {
                var e = b.getStore().getAt(c).data;
                a.unpack(e);
            }
        } ]
    }), b;
}, StockSolutionGrid.prototype._getTopButtons = function() {
    var a = this, b = [];
    return this.btnAddVisible && b.push(Ext.create("Ext.Action", {
        icon: "../images/icon/add.png",
        text: "Add",
        tooltip: "Will create a new stock solution",
        disabled: !1,
        alwaysEnabled: !0,
        handler: function(b, c) {
            a.edit();
        }
    })), this.btnAddExisting && b.push(Ext.create("Ext.Action", {
        icon: "images/icon/add.png",
        text: "Add Existing",
        tooltip: "Allows to select upacked stock solutions",
        disabled: !1,
        alwaysEnabled: !0,
        handler: function(b, c) {
            var d = new StockSolutionGrid({
                btnAddVisible: !1,
                btnEditVisible: !1,
                btnRemoveVisible: !1,
                btnAddExisting: !1,
                isPackedVisible: !1,
                multiselect: !0
            }), e = Ext.create("Ext.window.Window", {
                title: "Select",
                height: 800,
                width: 900,
                layout: "fit",
                items: [ d.getPanel() ],
                buttons: [ {
                    text: "Pack",
                    handler: function() {
                        d.selectedStockSolutions.length > 0 && a.onPack.notify(d.selectedStockSolutions[0]), 
                        e.close();
                    }
                }, {
                    text: "Cancel",
                    handler: function() {
                        e.close();
                    }
                } ]
            }).show();
            d.load(EXI.proposalManager.getUnpackedStockSolutions());
        }
    })), b;
}, StockSolutionGrid.prototype.load = function(a) {
    for (var b = [], c = 0; c < a.length; c++) {
        var d = a[c];
        null != EXI.proposalManager.getBufferById(d.bufferId) && (d.buffer = EXI.proposalManager.getBufferById(d.bufferId).acronym), 
        d.proposal = EXI.proposalManager.getProposalById(d.proposalId).code + EXI.proposalManager.getProposalById(d.proposalId).number, 
        null != EXI.proposalManager.getMacromoleculeById(d.macromoleculeId) && (d.macromolecule = EXI.proposalManager.getMacromoleculeById(d.macromoleculeId).acronym), 
        b.push(d);
    }
    this.store.loadData(b, !1);
}, StockSolutionGrid.prototype.getPanel = function() {
    return this._renderGrid();
}, StockSolutionGrid.prototype.edit = function(a) {
    var b = this, c = new StockSolutionWindow();
    c.onSaved.attach(function(a, c) {
        b.onSaved.notify(c);
    }), c.draw(EXI.proposalManager.getStockSolutionById(a));
}, StockSolutionGrid.prototype.unpack = function(a) {
    this.onUnpack.notify(a);
}, StockSolutionGrid.prototype._renderGrid = function() {
    var a = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "proposalId", "name", "stockSolutionId", "macromolecule", "buffer", "storageTemperature", "volume", "concentration", "buffer", "comments" ],
        autoload: !0
    });
    var b = ({
        ftype: "filters",
        local: !0,
        filters: this.filters
    }, null);
    b = this.multiselect ? Ext.create("Ext.selection.CheckboxModel", {
        mode: "SINGLE",
        listeners: {
            selectionchange: function(b, c) {
                a.selectedStockSolutions = [];
                for (var d = 0; d < c.length; d++) a.selectedStockSolutions.push(c[d].data);
            }
        }
    }) : {
        mode: "SINGLE"
    }, this.store.sort("stockSolutionId", "desc"), this.grid = Ext.create("Ext.grid.Panel", {
        margin: 10,
        cls: "defaultGridPanel",
        title: this.title,
        selModel: b,
        store: this.store,
        columns: this._getColumns(),
        viewConfig: {
            stripeRows: !0,
            listeners: {
                itemdblclick: function(b, c, d, e) {
                    a.edit(c.data.stockSolutionId);
                },
                cellclick: function(b, c, d, e, f, g, h, i) {
                    var j = null;
                    b.getGridColumns()[d].getId() == a.id + "box" && (window.location = BUI.getShippingURL(BIOSAXS.proposal.getShipmentByDewarId(e.raw.boxId).shippingId)), 
                    b.getGridColumns()[d].getId() == a.id + "buttonRemove" && (a.grid.setLoading("ISPyB: Removing stock solution"), 
                    j = new BiosaxsDataAdapter(), j.onSuccess.attach(function(b) {
                        a.onProposalChanged.notify(), a.grid.setLoading(!1);
                    }), j.onError.attach(function(b) {
                        a.onProposalChanged.notify(), a.grid.setLoading(!1);
                    }), j.removeStockSolution(e.data.stockSolutionId));
                }
            }
        }
    });
    var c = a._getTopButtons(), d = null;
    return this.grid.getSelectionModel().on({
        selectionchange: function(a, b) {
            if (b.length) for (d = 0; d < c.length; d++) c[d].enable && c[d].enable(); else for (d = 0; d < c.length; d++) 0 == c[d].alwaysEnabled && c[d].disable && c[d].disable();
        }
    }), this.grid;
}, TemplateGrid.prototype.getTbar = function() {
    var a = [];
    return a.push(Ext.create("Ext.Action", {
        icon: "images/icon/add.png",
        text: "Add",
        disabled: !1,
        handler: function(a, b) {
            var c = new WizardWidget({
                windowMode: !0,
                width: 1200
            });
            c.onFinished.attach(function(a, b) {
                var d = new DataAdapter();
                d.onSuccess.attach(function(a, b) {
                    c.window.close(), location.hash = "/experiment/experimentId/" + b.experimentId + "/main";
                }), c.current.setLoading(), d.saveTemplate(b.name, "comments", b.data);
            });
            var d = new ProposalUpdater();
            d.onSuccess.attach(function(a, b) {
                c.draw(this.targetId, new MeasurementCreatorStepWizardForm(ProposalManager.getMacromolecules(), ProposalManager.getBuffers()));
            }), d.get();
        }
    })), a;
}, TemplateGrid.prototype.deselectAll = function() {
    this.grid.getSelectionModel().deselectAll();
}, TemplateGrid.prototype.selectById = function(a) {
    this.grid.getSelectionModel().deselectAll();
    for (var b = 0; b < this.grid.getStore().data.items.length; b++) {
        var c = this.grid.getStore().data.items[b].raw;
        c.macromoleculeId == a && this.grid.getSelectionModel().select(b);
    }
}, TemplateGrid.prototype.load = function(a) {
    this.store.loadData(a, !1);
}, TemplateGrid.prototype.getColumns = function() {
    var a = this, b = [ {
        text: "Name",
        dataIndex: "name",
        id: this.id + "name",
        flex: 1,
        hidden: !1
    }, {
        xtype: "actioncolumn",
        width: 40,
        text: "Edit",
        items: [ {
            icon: "images/icon/edit.png",
            tooltip: "Edit",
            handler: function(a, b, c) {
                location.hash = "/experiment/experimentId/" + a.getStore().getAt(b).get("experimentId") + "/main";
            }
        } ]
    }, {
        id: a.id + "REMOVE",
        width: 100,
        sortable: !1,
        renderer: function(a, b, c, d, e, f) {
            return BUI.getRedButton("REMOVE");
        }
    } ];
    return this.btnRemoveVisible && b.push({
        id: a.id + "buttonRemoveMacromolecule",
        width: 85,
        sortable: !1,
        renderer: function(b, c, d, e, f, g) {
            return a.btnRemoveVisible ? BUI.getRedButton("REMOVE") : null;
        }
    }), b;
}, TemplateGrid.prototype._prepareData = function(a) {
    return a;
}, TemplateGrid.prototype.getPanel = function() {
    return this.store = Ext.create("Ext.data.Store", {
        fields: [ "name", "comments" ],
        data: [],
        sorters: [ {
            property: "experimentId",
            direction: "desc"
        } ]
    }), this.grid = Ext.create("Ext.grid.Panel", {
        id: this.id,
        title: "My Experiments",
        store: this.store,
        height: this.height,
        maxHeight: this.maxHeight,
        columns: this.getColumns(),
        width: this.width,
        viewConfig: {
            stripeRows: !0,
            listeners: {
                celldblclick: function(a, b, c, d, e, f, g, h) {
                    location.hash = "/experiment/experimentId/" + d.data.experimentId + "/main";
                },
                cellclick: function(a, b, c, d, e, f, g, h) {}
            }
        }
    }), this.grid.addDocked({
        xtype: "toolbar",
        height: 50,
        items: this.getTbar()
    }), this.grid;
}, TemplateGrid.prototype.input = function() {
    return {
        proposal: DATADOC.getProposal_10()
    };
}, TemplateGrid.prototype.test = function(a) {
    var b = new b({
        width: 800,
        height: 350,
        collapsed: !1,
        tbar: !0
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = b.getPanel(BIOSAXS.proposal.macromolecules);
    c.render(a);
}, VolumeGrid.prototype.load = function(a) {
    this.experiment = a, this.store.loadData(this._prepareData(a));
}, VolumeGrid.prototype.getPanel = function(a, b) {
    var c = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "name", "volume", "macromoleculeId", "bufferId" ]
    }), this.store.sort([ {
        property: "name",
        direction: "ASC"
    } ]);
    var d = Ext.create("Ext.grid.Panel", {
        title: "Sample Requirements and existing stock solutions",
        cls: "border-grid",
        height: 400,
        maxHeight: 400,
        width: 900,
        store: this.store,
        margin: "10 0 50 10",
        viewConfig: {
            stripeRows: !0,
            listeners: {
                cellclick: function(a, b, d, e, f, g, h, i) {
                    if (a.getGridColumns()[d].getId() == c.id + "buttonCreate") {
                        var j = new StockSolutionWindow();
                        j.onSaved.attach(function(a) {});
                        var k = "ST";
                        null != e.data.macromoleculeId && (k = k + "_" + EXI.proposalManager.getMacromoleculeById(e.data.macromoleculeId).acronym), 
                        null != e.data.bufferId && (k = k + "_" + EXI.proposalManager.getBufferById(e.data.bufferId).acronym), 
                        j.draw({
                            concentration: e.data.concentration,
                            macromoleculeId: e.data.macromoleculeId,
                            bufferId: e.data.bufferId,
                            name: k,
                            volume: e.data.volume
                        });
                    }
                    if (a.getGridColumns()[d].getId() == c.id + "buttonStockSolutions") {
                        var l = new StockSolutionGrid({
                            btnAddVisible: !1,
                            btnEditVisible: !1,
                            btnRemoveVisible: !1,
                            btnAddExisting: !1,
                            isPackedVisible: !0,
                            multiselect: !1
                        }), m = Ext.create("Ext.window.Window", {
                            title: "Stock solutions by specimen",
                            height: 400,
                            width: 800,
                            layout: "fit",
                            items: [ l.getPanel() ],
                            buttons: [ {
                                text: "Close",
                                handler: function() {
                                    m.close();
                                }
                            } ]
                        }).show();
                        l.refresh(EXI.proposalManager.getStockSolutionsBySpecimen(e.data.macromoleculeId, e.data.bufferId));
                    }
                }
            }
        },
        columns: [ {
            text: "Specimen",
            dataIndex: "name",
            flex: .5
        }, {
            text: "Estimated Volume",
            dataIndex: "volume",
            tooltip: "Estimation of the maximum volume needed for making this experiment",
            flex: .5,
            editor: {
                allowBlank: !0
            },
            renderer: function(a, b, c) {
                return BUI.formatValuesUnits(c.data.volume, "&#181l", {
                    fontSize: 16,
                    decimals: 2,
                    unitsFontSize: this.unitsFontSize
                });
            }
        }, {
            text: "Stock Solution",
            flex: .5,
            tooltip: "Stock Solutions containing this specimen in this proposal",
            renderer: function(a, b, c, d, e, f) {
                var g = c.data.macromoleculeId, h = c.data.bufferId, i = EXI.proposalManager.getStockSolutionsBySpecimen(g, h);
                return i.length > 0 ? "<div><span style='font-size:18px'>" + i.length + "</span> x<img height='15px' src='images/icon/testtube.png'></div>" : void 0;
            }
        }, {
            id: c.id + "buttonCreate",
            text: "",
            hidden: !0,
            tooltip: "Create a new stock solution for shipping",
            width: 170,
            sortable: !1,
            renderer: function(a, b, c, d, e, f) {
                return BUI.getGreenButton("CREATE STOCK SOLUTION", {
                    width: 160
                });
            }
        } ]
    });
    return d;
}, VolumeGrid.prototype._prepareData = function(a) {
    for (var b = {}, c = 0; c < a.getSamples().length; c++) {
        var d = a.getSamples()[c], e = "";
        null == d.macromoleculeId && (e = a.getBufferById(d.bufferId).acronym, null == b[e] && (b[e] = {
            macromoleculeId: d.macromoleculeId,
            name: e,
            bufferId: d.bufferId,
            volume: 0
        }), b[e].volume = Number(d.volume) + Number(b[e].volume)), (null != d.macromolecule3VO || null != d.macromoleculeId) && (macromoleculeId = d.macromoleculeId, 
        null == d.macromoleculeId && (d.macromoleculeId = d.macromolecule3VO.macromoleculeId), 
        e = EXI.proposalManager.getMacromoleculeById(d.macromoleculeId).acronym + " + " + a.getBufferById(d.bufferId).acronym, 
        null == b[e] && (b[e] = {
            macromoleculeId: d.macromoleculeId,
            name: e,
            bufferId: d.bufferId,
            volume: 0
        }), b[e].volume = Number(d.volume) + Number(b[e].volume));
    }
    var f = [];
    for (var g in b) f.push(b[g]);
    return f;
}, VolumeGrid.prototype.refresh = function(a) {
    this.experiment = a, this.macromoleculeGrid.getStore().loadData(this._prepareData(this.experiment), !1);
}, VolumeGrid.prototype.render = function() {
    return this.macromoleculeGrid = this.getPanel([], "Estimation of required Volume"), 
    {
        xtype: "container",
        layout: "vbox",
        margin: "0, 0, 0, 5",
        items: [ {
            xtype: "container",
            layout: "hbox",
            margin: "0, 0, 0, 0",
            items: [ this.macromoleculeGrid ]
        } ]
    };
}, VolumeGrid.prototype.input = function(a) {
    return {
        experiment: DATADOC.getExperiment_10()
    };
}, VolumeGrid.prototype.test = function(a) {
    var b = new VolumeGrid();
    BIOSAXS.proposal = new Proposal(new MeasurementGrid().input().proposal);
    var c = b.getPanel(new Experiment(new VolumeGrid().input().experiment));
    Ext.create("Ext.panel.Panel", {
        height: 500,
        width: 1e3,
        renderTo: a,
        items: [ c ]
    });
}, HPLCGraph.prototype.getMenu = function() {
    function a(a, c) {
        c ? b.plots[a.param] = !0 : delete b.plots[a.param], b.reloadData(this.hplcData);
    }
    for (var b = this, c = [], d = 0; d < this.hplcData.length; d++) if (0 != this.hplcData[d].showOnMenu) {
        var e = this.hplcData[d].param, f = "style='padding:0 0px 0 5px;'";
        c.push({
            text: "<table><tr><td>" + BUI.getRectangleColorDIV(this.hplcData[d].color, 10, 10) + "</td><td " + f + "> " + this.hplcData[d].label + "</td></tr></table>",
            id: b.id + e,
            param: e,
            enableToggle: !0,
            scope: this,
            toggleHandler: a,
            pressed: null != b.plots[e]
        });
    }
    return c.push("-"), c.push({
        text: "Scale",
        enableToggle: !0,
        scope: this,
        pressed: this.scaled,
        icon: "../images/icon_graph.png",
        toggleHandler: function(a, c) {
            b.scaled = c, b.reloadData(this.hplcData);
        }
    }), c.push("->"), c.push({
        text: "Save",
        scope: this,
        icon: "images/icon/ic_get_app_black_24dp.png",
        handler: function(a, b) {
            var c = document.createElement("img");
            c.style.display = "block", c.style.width = "200px", c.style.height = "200px", c.setAttribute("src", Dygraph.Export.asCanvas(this.dygraphObject.dygraph).toDataURL()), 
            window.open(Dygraph.Export.asCanvas(this.dygraphObject.dygraph).toDataURL(), "Image", "");
        }
    }), c;
}, HPLCGraph.prototype.scaledData = function(a) {
    for (var b = 0; b < a.length; b++) {
        var c = this.getMaxAndMinValue(a[b]);
        a[b] = this.divideValuesByMax(a[b], c.max), this.ranges[a[b].label] = c;
    }
    return a;
}, HPLCGraph.prototype.divideValuesByMax = function(a, b) {
    for (var c = 0; c < a.data.length; c++) 0 != b && (a.data[c] = Number(a.data[c]) / b, 
    a.std[c] = Number(a.std[c]) / b);
    return a;
}, HPLCGraph.prototype.getMaxAndMinValue = function(a) {
    for (var b = 0, c = a.data[0], d = 0; d < a.data.length; d++) Number(a.data[d]) > b && (b = Number(a.data[d])), 
    Number(a.std[d]) > b && (b = Number(a.std[d])), Number(a.data[d]) < c && (c = Number(a.data[d]));
    return {
        max: Number(b),
        min: Number(c)
    };
}, HPLCGraph.prototype.getPoint = function(a, b) {
    var c = parseFloat(a.data[b]), d = parseFloat(a.std[b]);
    return null == a.fdata ? [ c - d, c, c + d ] : null != a.fstd ? [ a.fstd(c - d), a.fdata(c), a.fstd(c + d) ] : [ a.fdata(c) - d, a.fdata(c), a.fdata(c) + d ];
}, HPLCGraph.prototype.reloadData = function(a) {
    this.panel.setLoading(!1), this.hplcData = a;
    var b = a;
    this.scaled && (b = this.scaledData(JSON.parse(JSON.stringify(a))));
    for (var c = {}, d = [], e = 0, f = 0; f < b[0].data.length - 1; f++) {
        var g = [];
        for (e = 0; e < b.length; e++) null != this.plots ? null != this.plots[b[e].param] && (g.push(this.getPoint(b[e], f)), 
        c[b[e].param] = g.length - 1) : g.push([ b[e].data[f] - b[e].std[f], b[e].data[f], b[e].data[f] + b[e].std[f] ]);
        d.push([]);
        var h = f;
        for (null != this.xParam && (h = parseFloat(b[this.xParam].data[f])), d[d.length - 1].push(h), 
        e = 0; e < b.length; e++) null != this.plots ? null != this.plots[b[e].param] && d[d.length - 1].push(g[c[b[e].param]]) : d[d.length - 1].push(g[e]);
    }
    var i = [], j = [ "" ];
    for (e = 0; e < b.length; e++) null != this.plots ? null != this.plots[b[e].param] && (i.push(b[e].color), 
    j.push(b[e].label)) : d[d.length - 1].push(g[e]);
    this._renderDygraph(d, i, j);
}, HPLCGraph.prototype._renderDygraph = function(a, b, c) {
    var d = this;
    Ext.getCmp(this.id).setWidth(this.panel.getWidth()), this.dygraphObject = new StdDevDyGraph(this.id, {
        width: this.panel.getWidth() - 20,
        height: this.height - 10,
        xlabel: this.xlabel,
        showRangeSelector: this.showRangeSelector,
        interactionModel: this.interactionModel,
        scaled: this.scaled
    }), this.dygraphObject.draw(a, b, c);
    var d = this;
    this.dygraphObject.onZoomX.attach(function(a, b) {
        try {
            d.onZoomX.notify(b);
        } catch (c) {}
    }), this.dygraphObject.onResetZoom.attach(function(a, b) {
        try {
            d.onResetZoom.notify(b);
        } catch (c) {}
    }), this.dygraphObject.dblclick.attach(function(a, b) {
        try {
            d.dblclick.notify(b);
        } catch (c) {}
    });
}, HPLCGraph.prototype.loadData = function(a) {
    var b = this;
    this.reloadData(a), this.panel.addDocked({
        cls: "hplcMenu",
        xtype: "toolbar",
        items: this.getMenu()
    }), 1 == this.bbar && this.panel.addDocked({
        border: 1,
        xtype: "toolbar",
        dock: "bottom",
        cls: "hplcMenu",
        items: [ {
            xtype: "numberfield",
            id: "main_field_start",
            fieldLabel: "Range from",
            width: 200,
            labelWidth: 100,
            value: 0,
            minValue: 0
        }, {
            xtype: "numberfield",
            id: "main_field_end",
            fieldLabel: "to",
            width: 130,
            labelWidth: 30,
            value: 0,
            minValue: 0
        }, {
            xtype: "button",
            text: "Go",
            handler: function() {
                var a = parseFloat(Ext.getCmp("main_field_start").getValue()), c = parseFloat(Ext.getCmp("main_field_end").getValue());
                if (0 > a && (a = 0), 0 > c && (c = 0), a > c) {
                    var d = c;
                    c = a, a = d;
                }
                b.dygraphObject.dygraph.updateOptions({
                    isZoomedIgnoreProgrammaticZoom: !0,
                    dateWindow: [ a, c ]
                });
            }
        }, "->", {
            xtype: "button",
            text: "Clear Selection",
            handler: function() {
                b.onClearSelection.notify();
            }
        } ]
    });
}, HPLCGraph.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        padding: this.plotPanelPadding,
        items: [ {
            html: "",
            id: this.id,
            flex: 1,
            height: this.height
        } ]
    }), this.panel.on("afterrender", function(a) {
        document.getElementById(this.id).setAttribute("style", "border: 1px solid #000000; height:" + (a.getHeight() - 1) + "px;width:" + (a.getWidth() - 50) + "px;");
    }), this.panel;
}, HPLCGraph.prototype.input = function() {
    return DATADOC.getHPLCData();
}, HPLCGraph.prototype.getDataByFrameNumber = function(a) {
    var b = {};
    b.frameNumber = a;
    for (var c in this.hplcData) b[this.hplcData[c].label] = this.hplcData[c].data[a];
    return b;
}, HPLCGraph.prototype.test = function(a) {
    var b = new HPLCGraph({
        title: "I0",
        width: 800,
        height: 400,
        plots: {
            I0: !0,
            Rg: !0,
            Mass: !0
        },
        xlabel: "HPLC Frames",
        scaled: this.scaled,
        interactionModel: {
            dblclick: function(a, b, c) {}
        }
    });
    b.getPanel().render(a), b.loadData(b.input());
}, MergesHPLCGraph.prototype.scaledData = HPLCGraph.prototype.scaledData, MergesHPLCGraph.prototype.divideValuesByMax = HPLCGraph.prototype.divideValuesByMax, 
MergesHPLCGraph.prototype.getMaxAndMinValue = HPLCGraph.prototype.getMaxAndMinValue, 
MergesHPLCGraph.prototype.getPoint = HPLCGraph.prototype.getPoint, MergesHPLCGraph.prototype.reloadData = HPLCGraph.prototype.reloadData, 
MergesHPLCGraph.prototype._renderDygraph = HPLCGraph.prototype._renderDygraph, MergesHPLCGraph.prototype.loadData = HPLCGraph.prototype.loadData, 
MergesHPLCGraph.prototype.getPanel = HPLCGraph.prototype.getPanel, MergesHPLCGraph.prototype.getDataByFrameNumber = HPLCGraph.prototype.getDataByFrameNumber, 
MergesHPLCGraph.prototype.setPeaks = function(a) {
    this.peaks = a, this.peakKeys = [], this.colorPeak = {};
    var b = 1;
    for (var c in this.peaks) if (this.peaks.hasOwnProperty(c)) {
        var d = this.peakColors[b % this.peakColors.length];
        b += 1, this.peakKeys.push(c), this.colorPeak[c] = d;
    }
    this.peakKeys.sort();
}, MergesHPLCGraph.prototype.getMenu = function() {
    function a(a, c) {
        c ? b.plots[a.param] = !0 : delete b.plots[a.param], b.reloadData(b.hplcData);
    }
    var b = this, c = [];
    if (null != this.peaks) {
        for (var d = [], e = 0; e < this.peakKeys.length; e++) {
            var f = this.colorPeak[this.peakKeys[e]];
            d.push({
                text: "<span style='color:" + f + "; font-weight:bold;'>Peak #" + e + " " + this.peakKeys[e].replace("- ", " to #").replace(".0", "").replace(".0", "") + "</span>",
                peakid: this.peakKeys[e],
                checked: !1,
                checkHandler: function(b, c) {
                    var d = new Object();
                    d.param = b.peakid, a(d, c);
                }
            });
        }
        var g = Ext.create("Ext.menu.Menu", {
            id: "mainMenu",
            style: {
                overflow: "visible"
            },
            items: d
        }), h = Ext.create("Ext.toolbar.Toolbar");
        h.add({
            text: "Peaks Avg.",
            menu: g
        }), c.push(h);
    }
    for (var e = 0; e < this.hplcData.length; e++) if (0 != this.hplcData[e].showOnMenu) {
        var i = this.hplcData[e].param, j = "style='padding:0 0px 0 5px;'";
        c.push({
            text: "<table><tr><td>" + BUI.getRectangleColorDIV(this.hplcData[e].color, 10, 10) + "</td><td " + j + "> " + this.hplcData[e].label + "</td></tr></table>",
            id: b.id + i,
            param: i,
            enableToggle: !0,
            scope: this,
            margin: 5,
            toggleHandler: a,
            pressed: null != b.plots[i]
        });
    }
    return c.push("->"), c.push({
        text: "Save",
        scope: this,
        icon: "images/icon/ic_get_app_black_24dp.png",
        handler: function(a, b) {
            var c = document.createElement("img");
            c.style.display = "block", c.style.width = "200px", c.style.height = "200px", c.setAttribute("src", Dygraph.Export.asCanvas(this.dygraphObject.dygraph).toDataURL()), 
            window.open(Dygraph.Export.asCanvas(this.dygraphObject.dygraph).toDataURL(), "Image", "");
        }
    }), c;
}, MergesHPLCGraph.prototype.input = function() {
    return DATADOC.getScatteringHPLCFrameData();
}, MergesHPLCGraph.prototype.test = function(a) {
    var b = new MergesHPLCGraph({
        title: "Scattering",
        width: this.plotWidth,
        height: 500,
        showRangeSelector: !1,
        xParam: 0,
        xlabel: "scattering_I",
        plots: {
            scattering_I: !0,
            subtracted_I: !0,
            buffer_I: !0
        }
    });
    b.getPanel().render(a), b.loadData(b.input());
}, ImageResolutionViewer.prototype.getImagePanel = function() {
    return {
        xtype: "container",
        layout: "vbox",
        items: [ {
            html: '<div style="height:' + (this.canvasHeight + 45) + 'px;background-color: white;position:relative">			<div style="height : ' + this.canvasHeight / this.zoomRatio + "px; width : " + this.canvasWidth / this.zoomRatio + 'px; background-color :white;position:relative;  z-index: 31; right: -10px; top : 40px">' + this.image.getPanel() + '</div> 			<div style=" position:relative;  z-index: 2;  right: 0px; top : -' + this.canvasWidth / this.zoomRatio + 'px">' + this.zoomImage.getPanel() + "</div> 			</div>",
            margin: "-15 0 0 5"
        } ]
    };
}, ImageResolutionViewer.prototype.getPanel = function() {
    return {
        xtype: "container",
        layout: "hbox",
        margin: 10,
        items: [ {
            xtype: "container",
            layout: "vbox",
            width: 600,
            items: [ {
                html: "<div class='key_subgrid'>Double on the thumbnail to zoom IN</div>",
                margin: "5 0 0 20"
            }, {
                html: "<div class='key_subgrid'>Right-click to zoom OUT</div>",
                margin: "5 0 0 20"
            }, this.getImagePanel(), {
                html: this.zoomGrayScalePlot.getPanel(),
                margin: "5 0 0 5"
            }, {
                html: '<div style="width:800px; height:200px;" id="calc"></div>',
                margin: "0 0 0 20"
            } ]
        } ]
    };
}, ImageResolutionViewer.prototype.getSpanTag = function(a) {
    return "<span id=" + this.id + a + "></span>";
}, ImageResolutionViewer.prototype.setSpanTag = function(a, b) {
    document.getElementById(this.id + a).innerHTML = b;
}, ImageResolutionViewer.prototype.displayTable = function(a, b, c, d, e, f, g, h, i, j) {
    document.getElementById("calc").innerHTML = this.makeHTMLTable("Coordinates", null, [ "local coor", "Real Coor", "color", "luminance", "waveLength", "detectorDistance", "Sensitive Center", "Local Center", "real Center", "Real Distance", "Local Distance", "resolution" ], [ [ this.getSpanTag("coordinates"), this.getSpanTag("realcoordinates"), this.getSpanTag("color"), this.getSpanTag("luminance"), this.getSpanTag("wavelength"), this.getSpanTag("detectordistance"), this.getSpanTag("centerbeam"), this.getSpanTag("localcenterbeam"), this.getSpanTag("realcenterbeam"), this.getSpanTag("distance"), this.getSpanTag("localdistance"), this.getSpanTag("resolution") ] ], {
        width: this.canvasWidth
    });
}, ImageResolutionViewer.prototype.getLocalCoordinates = function(a, b, c, d) {
    var e = a * this.canvasWidth / c, f = b * this.canvasHeight / d;
    return {
        x: Math.floor(e),
        y: Math.floor(f)
    };
}, ImageResolutionViewer.prototype.load = function(a, b, c, d, e, f) {
    this.detectorResolution = f, this.waveLength = b, this.detectorDistance = c, this.xBeam = d, 
    this.yBeam = e, this.localCenter = this.getLocalCoordinates(d, e, f.sensitiveArea.x, f.sensitiveArea.y), 
    this.image.load(a), this.zoomImage.center = this.localCenter, this.zoomImage.load(a);
}, ImageViewer.prototype.getCanvas = function(a) {
    return document.getElementById(this.id);
}, ImageViewer.prototype.getContext = function(a) {
    return this.getCanvas().getContext("2d");
}, ImageViewer.prototype.getPanel = function() {
    return '<canvas style="border: 1px solid gray;" id="' + this.id + '" width="' + this.width + '" height="' + this.height + '"></canvas>';
}, ImageViewer.prototype.clear = function() {
    this.getContext().clearRect(0, 0, this.getCanvas().width, this.getCanvas().height);
}, ImageViewer.prototype.findPosition = function(a) {
    var b = 0, c = 0;
    if (a.offsetParent) {
        do b += a.offsetLeft, c += a.offsetTop; while (a = a.offsetParent);
        return {
            x: b,
            y: c
        };
    }
}, ImageViewer.prototype.rgbToHex = function(a, b, c) {
    if (a > 255 || b > 255 || c > 255) throw "Invalid color component";
    return (a << 16 | b << 8 | c).toString(16);
}, ImageViewer.prototype.getMatrix = function() {
    for (var a = [], b = 0; b < this.width; b++) {
        a[b] = new Array(Math.floor(this.height));
        for (var c = 0; c < this.height; c++) a[b][c] = this.getColorLuminance(b, c);
    }
    return a;
}, ImageViewer.prototype.getCoordinatesInfo = function(a, b) {
    var c = this.findPosition(a), d = b.pageX - c.x, e = b.pageY - c.y, f = this.getContext("2d").getImageData(d, e, 1, 1).data, g = "#" + ("000000" + this.rgbToHex(f[0], f[1], f[2])).slice(-6);
    return {
        x: d / this.zoom - this.offsetX,
        y: e / this.zoom - this.offsetY,
        localX: d,
        localY: e,
        offsetX: this.offsetX,
        offsetY: this.offsetY,
        zoom: this.zoom,
        color: g
    };
}, ImageViewer.prototype.getColorLuminance = function(a, b) {
    var c = this.getContext("2d").getImageData((this.offsetX + a) * this.zoom, b * this.zoom, 1, 1).data;
    return Math.floor(.2126 * c[0] + .7152 * c[1] + .0722 * c[2]);
}, ImageViewer.prototype.getAllPoints = function(a, b, c, d) {
    if (a > c) {
        var e = a, f = b;
        a = c, c = e, b = d, d = f;
    }
    for (var g = [], h = (d - b) / (c - a), i = c - a, j = 0; i > j; j++) {
        var k = a + j, l = b + h * j;
        g.push({
            x: k,
            y: l
        });
    }
    return g;
}, ImageViewer.prototype.drawLine = function(a, b, c, d, e) {
    this.drawPoints(this.getAllPoints(a, b, c, d), e);
}, ImageViewer.prototype.drawPoints = function(a, b) {
    var c = this;
    this.clear(), this.reload(function() {
        for (var d = c.getContext(), e = 0; e < a.length; e++) {
            var f = (a[e].x + c.offsetX) * c.zoom, g = a[e].y * c.zoom;
            d.beginPath(), d.arc(f, g, 1, 0, 2 * Math.PI, !1), d.fillStyle = b, d.fill(), d.lineWidth = 1, 
            d.strokeStyle = b, d.stroke();
        }
    });
}, ImageViewer.prototype.drawPoint = function(a, b, c) {
    var d = this;
    this.clear(), a = (d.offsetX + a) * d.zoom, b *= d.zoom, this.reload(function() {
        var e = d.getContext();
        e.beginPath(), e.arc(a, b, 2, 0, 2 * Math.PI, !1), e.fillStyle = c, e.fill(), e.lineWidth = 1, 
        e.strokeStyle = c, e.stroke();
    });
}, ImageViewer.prototype.drawCross = function(a, b, c, d) {
    var e = this.getContext();
    e.strokeStyle = d, e.beginPath(), e.moveTo(a, b - 10), e.lineTo(a, b + 10), e.stroke(), 
    e.moveTo(a - 10, b), e.lineTo(a + 10, b), e.stroke();
}, ImageViewer.prototype.drawCenterBeam = function(a) {
    var b = this.center.x * this.zoom + this.offsetX, c = this.center.y * this.zoom + this.offsetY;
    this.drawCross(b, c, 10, "#990099");
}, ImageViewer.prototype.reload = function(a) {
    var b = this, c = new Image();
    c.crossOrigin = "Anonymous", c.src = this.url, this.clear(), c.onload = function() {
        var d = b.getContext();
        d.drawImage(c, b.offsetX, b.offsetY, b.width * b.zoom, b.height * b.zoom), a(), 
        null != b.center && b.drawCenterBeam();
    };
}, ImageViewer.prototype.luminance = function(a) {
    var b = this;
    if (b.selectedPoints.push({
        x: a.x,
        y: a.y + this.offsetY
    }), 2 == b.selectedPoints.length) {
        console.log(b.selectedPoints);
        for (var c = b.getAllPoints(b.selectedPoints[0].x, b.selectedPoints[0].y, b.selectedPoints[1].x, b.selectedPoints[1].y), d = [], e = 0; e < c.length; e++) d.push({
            luminance: b.getColorLuminance(c[e].x, c[e].y),
            x: c[e].x,
            y: c[e].y
        });
        b.drawLine(b.selectedPoints[0].x, b.selectedPoints[0].y, b.selectedPoints[1].x, b.selectedPoints[1].y, "#ACFA58"), 
        b.onLuminanceCalculated.notify(d);
    }
    1 == b.selectedPoints.length && b.drawPoint(b.selectedPoints[0].x, b.selectedPoints[0].y, "#ACFA58");
}, ImageViewer.prototype.redraw = function(a, b, c) {
    this.zoom = a, this.offsetX = b, this.offsetY = c, this.reload(function() {});
}, ImageViewer.prototype.applyZoomOnPoint = function(a, b) {
    this.zoom = 5;
    var c = a.localX * this.zoom, d = a.localY * this.zoom, e = -(c - a.x), f = -(d - a.y), g = e - (a.x - a.localX), h = f - (a.y - a.localY);
    this.redraw(this.zoom, g, h);
}, ImageViewer.prototype.load = function(a) {
    var b = this;
    null == this.url && ($("#" + b.id).mousemove(function(a) {
        if (b.onMouseOver.notify(b.getCoordinatesInfo(this, a)), b._isDragging) {
            var c = b.findPosition(this), d = a.pageX - c.x;
            a.pageY - c.y;
            b.offsetX = b.offsetX + (d - b._draggingPoint.x), b.reload(function() {});
        }
    }), $("#" + b.id).click(function(a) {
        b.onMouseClick.notify(b.getCoordinatesInfo(this, a)), b.allowLuminance && (b.selectedPoints.length < 2 ? b.luminance(b.getCoordinatesInfo(this, a)) : (b.selectedPoints = [], 
        b.redraw(b.zoom, b.offsetX, b.offsetY), b.onLuminanceReset.notify()));
    }), $("#" + b.id).dblclick(function(a) {
        b.onDblClick.notify(b.getCoordinatesInfo(this, a));
    }), $("#" + b.id).mouseup(function(a) {
        var c = b._isDragging;
        b._isDragging = !1, c || console.log("dragging"), b.onMouseUp.notify(b.getCoordinatesInfo(this, a));
    }), $("#" + b.id).mousedown(function(a) {
        if (2 == a.button) document.oncontextmenu = function() {
            return !1;
        }, b.onMouseRightDown.notify(b.getCoordinatesInfo(this, a)); else {
            b._isDragging = !0;
            var c = b.findPosition(this);
            b._draggingPoint = {
                x: a.pageX - c.x,
                y: a.pageY - c.y
            }, b.onMouseDown.notify(b.getCoordinatesInfo(this, a));
        }
    })), this.url = a;
    var c = new Image();
    c.crossOrigin = "Anonymous", c.src = a, this.clear(), c.onload = function() {
        var a = b.getContext();
        a.drawImage(c, b.offsetX, b.offsetY, b.width * b.zoom, b.height * b.zoom), null != b.center && b.drawCenterBeam(), 
        b.onRendered.notify();
    };
}, AutoProcIntegrationAttachmentGrid.prototype.load = function(a) {
    for (var b = [], c = 0; c < a.details.autoProcProgAttachmentsWebBeans.length; c++) {
        var d = a.details.autoProcProgAttachmentsWebBeans[c];
        null != a.details.autoProcProgAttachmentsWebBeans[c].ispybAutoProcAttachment && (d.fileName = a.details.autoProcProgAttachmentsWebBeans[c].ispybAutoProcAttachment.fileName, 
        d.step = a.details.autoProcProgAttachmentsWebBeans[c].ispybAutoProcAttachment.step, 
        d.category = a.details.autoProcProgAttachmentsWebBeans[c].ispybAutoProcAttachment.fileCategory, 
        d.description = a.details.autoProcProgAttachmentsWebBeans[c].ispybAutoProcAttachment.description, 
        d.autoProcProgramAttachmentId = a.details.autoProcProgAttachmentsWebBeans[c].autoProcProgramAttachmentId), 
        b.push(d);
    }
    this.store.loadData(b, !1);
}, AutoProcIntegrationAttachmentGrid.prototype.selectRowByAutoProcIntegrationId = function(a) {
    this.panel.getSelectionModel().select(this.store.find("autoProcIntegrationId", a));
}, AutoProcIntegrationAttachmentGrid.prototype.getPanel = function() {
    this.store = Ext.create("Ext.data.Store", {
        groupField: "category",
        fields: [ "fileName", "step", "category", "description", "autoProcProgramAttachmentId" ]
    });
    var a = Ext.create("Ext.grid.feature.Grouping", {});
    return this.panel = Ext.create("Ext.grid.Panel", {
        title: "Auto-Processing Files",
        store: this.store,
        cls: "border-grid",
        margin: this.margin,
        features: [ a ],
        overflow: "auto",
        maxHeight: this.maxHeight,
        minHeight: this.maxHeight,
        columns: [ {
            text: "fileName",
            dataIndex: "fileName",
            flex: 1,
            renderer: function(a, b, c, d, e) {
                return -1 != c.data.fileName.indexOf("XSCALE") ? "<span style='color:green; font-weight: bold;'>" + c.data.fileName + "</span>" : c.data.fileName;
            }
        }, {
            text: "autoProcProgramAttachmentId",
            dataIndex: "autoProcProgramAttachmentId",
            hidden: !0,
            flex: .5
        }, {
            text: "step",
            dataIndex: "step",
            flex: .2
        }, {
            text: "category",
            dataIndex: "category",
            flex: .3
        }, {
            text: "description",
            dataIndex: "description",
            flex: 1
        }, {
            xtype: "actioncolumn",
            flex: .3,
            text: "Download",
            items: [ {
                icon: "../images/icon/ic_get_app_black_24dp.png",
                tooltip: "Download",
                handler: function(a, b, c) {
                    console.log(a.store.getAt(b).data.autoProcProgramAttachmentId), window.open(EXI.getDataAdapter().mx.autoProcIntegrationDataAdapter.getDownloadAttachmentUrl(a.store.getAt(b).data.autoProcProgramAttachmentId));
                }
            } ]
        } ],
        flex: 1,
        viewConfig: {
            stripeRows: !0,
            listeners: {}
        }
    }), this.panel;
}, AutoProcIntegrationGrid.prototype.load = function(a) {
    for (var b = [], c = 0; c < a.length; c++) {
        var d = a[c].autoproc;
        d.anomalous = a[c].autointegration.anomalous, d.autoProcIntegrationId = a[c].autointegration.autoProcIntegrationId, 
        d.processingPrograms = a[c].autoprocprogram.processingPrograms, b.push(d);
    }
    this.store.loadData(b, !1);
}, AutoProcIntegrationGrid.prototype.selectRowByAutoProcIntegrationId = function(a) {
    this.preventSelection = !0, this.panel.getSelectionModel().select(this.store.find("autoProcIntegrationId", a));
}, AutoProcIntegrationGrid.prototype.getPanel = function() {
    var a = this;
    this.store = Ext.create("Ext.data.Store", {
        groupField: "anomalous",
        sorters: "spaceGroup",
        fields: [ "autoProcId", "refinedCellA", "autoProcIntegrationId", "refinedCellAlpha", "refinedCellB", "refinedCellBeta", "refinedCellC", "refinedCellGamma", "anomalous", "processingPrograms", "spaceGroup" ]
    });
    var b = Ext.create("Ext.grid.feature.Grouping", {}), c = Ext.create("Ext.selection.RowModel", {
        allowDeselect: !0,
        mode: "multi",
        listeners: {
            selectionchange: function(b, c) {
                var d = [];
                if (null != c) {
                    for (var e = 0; e < c.length; e++) d.push(c[e].data);
                    a.preventSelection ? a.preventSelection = !1 : a.onSelected.notify(d);
                }
            }
        }
    });
    return this.panel = Ext.create("Ext.grid.Panel", {
        title: "Auto-Processing Integration",
        store: this.store,
        selModel: c,
        cls: "border-grid",
        maxHeight: this.maxHeight,
        minHeight: this.maxHeight,
        features: [ b ],
        columns: [ {
            text: "id",
            dataIndex: "autoProcId",
            flex: 1,
            hidden: !0
        }, {
            text: "Method",
            dataIndex: "processingPrograms",
            flex: 1
        }, {
            text: "anomalous",
            dataIndex: "anomalous",
            flex: 1,
            hidden: !0
        }, {
            text: "spaceGroup",
            dataIndex: "spaceGroup",
            flex: 1
        }, {
            text: "cell a",
            dataIndex: "refinedCellA",
            flex: 1
        }, {
            text: "cell b",
            dataIndex: "refinedCellB",
            flex: 1
        }, {
            text: "cell c",
            dataIndex: "refinedCellC",
            flex: 1
        }, {
            text: "cell alpha",
            dataIndex: "refinedCellAlpha",
            flex: 1
        }, {
            text: "cell beta",
            dataIndex: "refinedCellBeta",
            flex: 1
        }, {
            text: "cell gamma",
            dataIndex: "refinedCellGamma",
            flex: 1
        }, {
            text: "Anomalous",
            dataIndex: "AutoProcIntegration_anomalous",
            flex: 1,
            hidden: !0
        } ],
        flex: 1,
        viewConfig: {
            stripeRows: !0,
            listeners: {}
        }
    }), this.panel;
}, DataCollectionMxGrid.prototype.setArgs = function(a) {
    null != a && (null != a.height && (this.height = a.height), null != a.contextPath && (this.contextPath = a.contextPath), 
    null != a.title && (this.title = a.title), null != a.listOfCrystalClass && (this.listOfCrystalClass = a.listOfCrystalClass), 
    null != a.contextPath && (this.contextPath = a.contextPath), null != a.displayLastCollect && (this.displayLastCollect = a.displayLastCollect), 
    null != a.isManager && (this.isManager = a.isManager), null != a.pagingMode && (this.pagingMode = a.pagingMode), 
    null != a.isIndustrial && (this.isIndustrial = a.isIndustrial), null != a.groupFieldDefault && (this.groupFieldDefault = a.groupFieldDefault), 
    null != a.iSigmaCutoff && (this.iSigmaCutoff = a.iSigmaCutoff), null != a.rMergeCutoff && (this.rMergeCutoff = a.rMergeCutoff));
}, DataCollectionMxGrid.prototype._sort = function() {
    this.store.sort("startTime", "DESC");
}, DataCollectionMxGrid.prototype.getGrid = function(a) {
    return this.features = a, this.renderGrid(a);
}, DataCollectionMxGrid.prototype.refresh = function(a) {
    this.features = a.dataCollectionList, this.store.loadData(this.features, !1), this.title = "Last " + this.features.length + " DataCollections", 
    this.grid.setTitle(this.title);
}, DataCollectionMxGrid.prototype.getPanel = function() {
    this.features = [];
    var a = this;
    if (this.features && this.features.length > 0) {
        this.minDCId = this.features[0].dataCollectionId, this.maxDCId = this.features[0].dataCollectionId;
        for (var b = this.features.length, c = 0; b > c; c++) {
            var d = this.features[c].dataCollectionId;
            d > this.maxDCId && (this.maxDCId = d), d < this.minDCId && (this.minDCId = d);
        }
    }
    var e = this._getColumns();
    this.pagingMode ? this.store = Ext.create("Ext.data.Store", {
        model: "DataCollectionModel",
        autoload: !1,
        pageSize: this.pageSize,
        proxy: {
            type: "pagingmemory",
            data: this.features,
            reader: {
                type: "array"
            }
        }
    }) : a.groupFieldDefault ? this.store = Ext.create("Ext.data.Store", {
        model: "DataCollectionModel",
        autoload: !1,
        groupField: a.groupFieldDefault
    }) : this.store = Ext.create("Ext.data.Store", {
        model: "DataCollectionModel",
        autoload: !1
    });
    var f = null, g = "Pagination";
    this.pagingMode && (g = "Remove pagination", f = Ext.create("Ext.PagingToolbar", {
        store: this.store,
        pageSize: this.pageSize,
        displayInfo: !0,
        displayMsg: "Displaying dataCollections {0} - {1} of {2}",
        emptyMsg: "No dataCollection to display",
        listeners: {
            afterrender: function() {
                for (var a = Ext.query("button[data-qtip=Refresh]"), b = 0; b < a.length; b++) a[b].style.display = "none";
            }
        }
    })), this.store.loadData(this.features, !1), this.displayLastCollect ? this.title = "Last " + this.features.length + " DataCollections" : this.title = this.features.length + " DataCollections";
    var h = Ext.create("Ext.grid.plugin.CellEditing", {
        clicksToEdit: 1
    });
    a.groupingFeature = Ext.create("Ext.grid.feature.Grouping", {
        groupHeaderTpl: '{columnName}: {name} ({rows.length} Item{[values.rows.length > 1 ? "s" : ""]})',
        hideGroupedHeader: !0,
        startCollapsed: !1,
        id: "dataCollectionGrouping"
    });
    var i = [], j = (i.length, Ext.create("Ext.form.field.ComboBox", {
        displayField: "name",
        width: 100,
        labelWidth: 10,
        queryMode: "local",
        typeAhead: !0,
        forceSelection: !0,
        value: "EDNA",
        listeners: {
            change: function(b, c, d) {
                a.changeRank();
            }
        }
    })), k = [];
    return this.displayLastCollect || (k.push({
        text: "Save",
        tooltip: "Save dataCollections: comments and skip status",
        icon: "../images/save.gif",
        handler: function() {
            a.onSaveButtonClicked.notify({});
        }
    }), k.push({
        text: "Experiment Parameters",
        tooltip: "Expand or Collapse Experiment Parameter",
        icon: "../images/Info_16x16_01.png",
        handler: function() {
            a.hideAndShowExperimentParameter();
        }
    }), k.push({
        text: "Rank",
        tooltip: "Start Sample Ranking",
        handler: function() {
            a.startRank();
        }
    }, j)), this.displayLastCollect && k.push({
        text: g,
        handler: function() {
            a.onPagingMode.notify();
        }
    }), k.push("->"), k.push({
        text: "Expand All",
        handler: function() {
            var b = a.groupingFeature.view.getEl().query(".x-grid-group-body");
            Ext.each(b, function(b) {
                a.groupingFeature.expand(Ext.get(b));
            });
        }
    }, {
        text: "Collapse All",
        handler: function() {
            var b = a.groupingFeature.view.getEl().query(".x-grid-group-body");
            Ext.each(b, function(b) {
                a.groupingFeature.collapse(Ext.get(b));
            });
        }
    }), k.push({
        text: "Clear Grouping",
        iconCls: "icon-clear-group",
        handler: function() {
            a.groupingFeature.disable();
        }
    }), this.grid = Ext.create("Ext.grid.Panel", {
        style: {
            padding: 0
        },
        width: "100%",
        height: "100%",
        model: "DataCollectionModel",
        store: this.store,
        resizable: !0,
        columns: e,
        title: this.title,
        viewConfig: {
            stripeRows: !0,
            enableTextSelection: !0
        },
        selModel: {
            mode: "SINGLE"
        },
        plugins: [ h ],
        features: [ a.groupingFeature ],
        tbar: k,
        bbar: f
    }), this.pagingMode && this.store.load(), this.grid;
}, DataCollectionMxGrid.prototype._getIndex = function(a) {
    for (var b = this.grid.columns, c = b.length, d = 0; c > d; d++) if (b[d].dataIndex == a) return d;
    return -1;
}, DataCollectionMxGrid.prototype._hideCol = function() {
    if (!this.displayLastCollect) {
        var a = this._getIndex("experimentParameters");
        -1 != a && this.grid.columns[a].setVisible(this.hideCol);
        var b = this._getIndex("wavelength"), c = this._getIndex("resolution");
        if (-1 != b && -1 != c) for (var d = c - b + 1, e = 0; d > e; e++) this.grid.columns[b + e].setVisible(!this.hideCol);
    }
}, DataCollectionMxGrid.prototype._getColumns = function() {
    function a(a, b, c) {
        var d = Ext.Date.format(a, "H:i:s"), e = Ext.Date.format(a, "d-m-Y");
        return d + "<br />" + e;
    }
    function b(a, b, c) {
        return '<div style="white-space:normal !important;word-wrap: break-word"><a href="' + r.contextPath + "/user/viewResults.do?reqCode=display&dataCollectionId=" + c.getId() + '">' + a + "</a></div>";
    }
    function c(a, b, c) {
        return c.data.pdbFileName && "" !== c.data.pdbFileName ? (b.tdAttr = 'data-qtip="pdb file uploaded:' + c.data.pdbFileName + '"', 
        "<img src='../images/attach.png' border='0'  />" + a) : a;
    }
    function d(a, b, c) {
        return a ? a.toFixed(2) : "";
    }
    function e(a, b, c) {
        return a ? a.toFixed(3) : "";
    }
    function f(a, b, c, d, e, f, g, h) {
        var i = "";
        return i += "<TABLE cellSpacing=2 cellPadding=0 width=100% border=0>", i += "<TR><TD valign=middle><img src='" + a + "' border=0/></TD><TD class='smallText_black' nowrap>" + b + "</TD></TR>", 
        i += "<TR><TD valign=middle><img src='" + c + "' border=0/></TD><TD class='smallText_black' nowrap>" + d + "</TD></TR>", 
        i += "<TR><TD valign=middle><img src='" + e + "' border=0/></TD><TD class='smallText_black' nowrap>" + f + "</TD></TR>", 
        i += "<TR><TD valign=middle><img src='" + g + "' border=0/></TD><TD class='smallText_black' nowrap>" + h + "</TD></TR>", 
        i += "</TABLE>";
    }
    function g(a, b, c) {
        var d = "../images/Sphere_White_12.png", e = "../images/Sphere_White_12.png", g = "../images/Sphere_White_12.png", h = "../images/Sphere_White_12.png", i = "", j = "", k = "", l = "";
        c.data.hasSnapshot && c.data.hasSnapshot ? (d = "../images/Sphere_Green_12.png", 
        i = "This collection has a crystal snapshot.") : (d = "../images/Sphere_White_12.png", 
        i = "This collection has no crystal snapshot."), c.data.runStatus && (j = c.data.runStatus, 
        e = -1 != c.data.runStatus.search("successful") ? "../images/Sphere_Green_12.png" : -1 != c.data.runStatus.search("failed") ? "../images/Sphere_Red_12.png" : -1 != c.data.runStatus.search("Running") ? "../images/Sphere_Orange_12.png" : "../images/Sphere_Yelow_12.png"), 
        c.data.screeningOutput ? c.data.screeningOutput.indexingSuccess && c.data.screeningOutput.strategySuccess ? 1 == c.data.screeningOutput.indexingSuccess ? 1 == c.data.screeningOutput.strategySuccess ? (g = "../images/Sphere_Green_12.png", 
        k = "Indexing is successful.") : (g = "../images/Sphere_Orange_12.png", k = "Indexing is successful but no strategy.") : (g = "../images/Sphere_Red_12.png", 
        k = "Indexing failed.") : (g = "../images/Sphere_Yelow_12.png", k = "Indexing status unknown.") : (g = "../images/Sphere_White_12.png", 
        k = "Indexing has not been launched."), c.data.autoprocessingStatus ? "Successful" == c.data.autoprocessingStatus ? (h = "../images/Sphere_Green_12.png", 
        l = "Autoprocessing: " + c.data.autoprocessingStep + " Successful") : "Launched" == c.data.autoprocessingStatus ? (h = "../images/Sphere_Orange_12.png", 
        l = "Autoprocessing: " + c.data.autoprocessingStep + " Launched") : "Failed" == c.data.autoprocessingStatus && (h = "../images/Sphere_Red_12.png", 
        l = "Autoprocessing: " + c.data.autoprocessingStep + " Failed") : (h = "../images/Sphere_White_12.png", 
        l = "Autoprocessing status unknown.");
        var m = f(d, i, e, j, g, k, h, l);
        return b.tdAttr = 'data-qtip="' + m + '"', "<img src='" + d + "' border=0><img src='" + e + "' border=0><img src='" + g + "' border=0><img src='" + h + "' border=0>";
    }
    function h(a, b, c) {
        if (c.data.autoProcStatisticsOverall && c.data.autoProcStatisticsOuter && c.data.autoProcStatisticsInner) {
            var d = c.data.autoProcStatisticsInner.completeness, e = c.data.autoProcStatisticsOuter.completeness, f = c.data.autoProcStatisticsOverall.completeness, g = -61, h = 122, i = h / 2 / 100, j = i * d, k = g + j, l = 85 > d ? 4 : 1, m = i * e, n = g + m, o = 85 > e ? 4 : 1, p = i * f, q = g + p, r = 85 > f ? 4 : 1, s = "";
            return (0 !== d || 0 !== e || 0 !== f) && (s += '<img " src="../images/percentImage_small.png" title="' + d + '% (inner)" alt="' + d + '% (inner)" class="percentImage' + l + '" style="background-position: ' + k + 'px 0pt; "/><br/>', 
            s += '<img  src="../images/percentImage_small.png" title="' + e + '% (outer)" alt="' + e + '% (outer)" class="percentImage' + o + '" style="background-position: ' + n + 'px 0pt; "/><br/>', 
            s += '<img  src="../images/percentImage_small.png" title="' + f + '% (overall)" alt="' + f + '% (overall)" class="percentImage' + r + '" style="background-position: ' + q + 'px 0pt; "/><br/>'), 
            s;
        }
        return "";
    }
    function i(a, b, c) {
        if (c.data.autoProcStatisticsOverall && c.data.autoProcStatisticsOuter && c.data.autoProcStatisticsInner) {
            var d = (c.data.autoProcStatisticsInner.resolutionLimitLow ? c.data.autoProcStatisticsInner.resolutionLimitLow : "") + " - " + (c.data.autoProcStatisticsInner.resolutionLimitHigh ? c.data.autoProcStatisticsInner.resolutionLimitHigh : "") + "<br />";
            return d += (c.data.autoProcStatisticsOuter.resolutionLimitLow ? c.data.autoProcStatisticsOuter.resolutionLimitLow : "") + " - " + (c.data.autoProcStatisticsOuter.resolutionLimitHigh ? c.data.autoProcStatisticsOuter.resolutionLimitHigh : "") + "<br />", 
            d += (c.data.autoProcStatisticsOverall.resolutionLimitLow ? c.data.autoProcStatisticsOverall.resolutionLimitLow : "") + " - " + (c.data.autoProcStatisticsOverall.resolutionLimitHigh ? c.data.autoProcStatisticsOverall.resolutionLimitHigh : "") + "<br />";
        }
        return c.data.screeningOutput ? Number(c.data.screeningOutput.rankingResolution).toFixed(2) : "";
    }
    function j(a, b, c) {
        if (c.data.autoProcStatisticsOverall && c.data.autoProcStatisticsOuter && c.data.autoProcStatisticsInner) {
            var d = (c.data.autoProcStatisticsInner.rmerge ? Number(c.data.autoProcStatisticsInner.rmerge).toFixed(1) : "") + "<br />";
            return d += (c.data.autoProcStatisticsOuter.rmerge ? Number(c.data.autoProcStatisticsOuter.rmerge).toFixed(1) : "") + "<br />", 
            d += (c.data.autoProcStatisticsOverall.rmerge ? Number(c.data.autoProcStatisticsOverall.rmerge).toFixed(1) : "") + "<br />";
        }
        return "";
    }
    function k(a, b, c) {
        var d = 2;
        if (c.data.autoProc) {
            var e = c.data.autoProc.refinedCellA ? Number(c.data.autoProc.refinedCellA).toFixed(d) + ", " : "";
            return e += c.data.autoProc.refinedCellB ? Number(c.data.autoProc.refinedCellB).toFixed(d) + ", " : "", 
            e += c.data.autoProc.refinedCellC ? Number(c.data.autoProc.refinedCellC).toFixed(d) + "<br />" : "", 
            e += c.data.autoProc.refinedCellAlpha ? Number(c.data.autoProc.refinedCellAlpha).toFixed(d) + ", " : "", 
            e += c.data.autoProc.refinedCellBeta ? Number(c.data.autoProc.refinedCellBeta).toFixed(d) + ", " : "", 
            e += c.data.autoProc.refinedCellGamma ? Number(c.data.autoProc.refinedCellGamma).toFixed(d) : "";
        }
        if (c.data.lattice) {
            var f = c.data.lattice.unitCell_a ? Number(c.data.lattice.unitCell_a).toFixed(d) + ", " : "";
            return f += c.data.lattice.unitCell_b ? Number(c.data.lattice.unitCell_b).toFixed(d) + ", " : "", 
            f += c.data.lattice.unitCell_c ? Number(c.data.lattice.unitCell_c).toFixed(d) + "<br />" : "", 
            f += c.data.lattice.unitCell_alpha ? Number(c.data.lattice.unitCell_alpha).toFixed(d) + ", " : "", 
            f += c.data.lattice.unitCell_beta ? Number(c.data.lattice.unitCell_beta).toFixed(d) + ", " : "", 
            f += c.data.lattice.unitCell_gamma ? Number(c.data.lattice.unitCell_gamma).toFixed(d) : "";
        }
        return "";
    }
    function l(a, b, c) {
        return c.data.autoProc ? c.data.autoProc.spaceGroup : c.data.lattice ? c.data.lattice.spaceGroup : "";
    }
    function m(a) {
        return a ? '<div style="white-space:normal !important;">' + a + "</div>" : "";
    }
    function n(a, b, c) {
        var d = "../images/Info_16x16_01.png", e = "";
        return e += "Wavelength: " + (c.data.wavelength ? c.data.wavelength.toFixed(3) : ""), 
        e += "<br/>", e += "Transmission: " + (c.data.transmission ? c.data.transmission.toFixed(3) : ""), 
        e += "<br/>", e += "ex. Time: " + (c.data.exposureTime ? c.data.exposureTime.toFixed(2) : ""), 
        e += "<br/>", e += "PhiStart: " + (c.data.axisStart ? c.data.axisStart.toFixed(2) : ""), 
        e += "<br/>", e += "PhiRange: " + (c.data.axisRange ? c.data.axisRange.toFixed(2) : ""), 
        e += "<br/>", e += "Detector Resolution: " + (c.data.resolution ? c.data.resolution.toFixed(2) : ""), 
        b.tdAttr = 'data-qtip="' + e + '"', "<img src='" + d + "' border=0>";
    }
    function o(a, b, c) {
        var d = !1, e = !1;
        c.data.screeningOutput ? c.data.screeningOutput.indexingSuccess && c.data.screeningOutput.strategySuccess && 1 == c.data.screeningOutput.indexingSuccess && (d = !0) : c.data.autoProc && (e = !0);
        var f = "";
        return d && (f += "<input checked='" + d + "' name='rankIdList[" + c.data.dataCollectionId + "]' value='on' type='checkbox'>", 
        f += "<img  src='../images/checkbox_grey.png' id='rankIdImage[" + c.data.dataCollectionId + "]' style='display:none'>"), 
        e && (f += "<input checked='" + e + "' name='rankIdAutoProcList[" + c.data.dataCollectionId + "]' value='on' type='checkbox' style='display:none'>", 
        f += "<img  src='../images/checkbox_grey.png' id='rankIdAutoProcImage[" + c.data.dataCollectionId + "]' style='display:none'>"), 
        d || e ? f : "<img src='../images/checkbox_grey.png' border=0>";
    }
    function p(a, b, c) {
        var d = "<input " + (a ? "checked='checked'" : "") + " property='skipIdList[" + c.data.dataCollectionId + "]'  value='1' type='checkbox'>";
        return d;
    }
    function q(a, b, c, d, e, f) {
        return c.get("hasAutoProcAttachment") ? void 0 : "x-hide-display";
    }
    var r = this, s = [];
    return this.displayLastCollect && s.push({
        text: "Beamline<br/>Name",
        dataIndex: "beamLineName",
        flex: .08,
        id: "beamLineName"
    }), this.isManager && s.push({
        text: "Proposal",
        dataIndex: "proposal",
        flex: .1,
        id: "proposal"
    }), this.isManager && s.push({
        text: "User",
        dataIndex: "login",
        flex: .1,
        id: "login"
    }), s.push({
        text: "Image<br/>Prefix",
        dataIndex: "imagePrefix",
        width: 70,
        renderer: b
    }, {
        text: "Run<br/>No",
        dataIndex: "dataCollectionNumber",
        flex: .02
    }, {
        text: "#<br/>images",
        dataIndex: "numberOfImages",
        flex: .05
    }), this.displayLastCollect || (s.push({
        text: "Exp.<br/>Param.<br/>",
        dataIndex: "experimentParameters",
        flex: .05,
        renderer: n
    }), s.push({
        text: "Wavelenth",
        dataIndex: "wavelength",
        flex: .07,
        renderer: e
    }, {
        text: "Transm.",
        dataIndex: "transmission",
        flex: .07,
        renderer: e
    }), this.isIndustrial && s.push({
        text: "Distance",
        dataIndex: "detectorDistance",
        flex: .05,
        renderer: d
    }), s.push({
        text: "Ex.<br>Time",
        dataIndex: "exposureTime",
        flex: .05,
        renderer: d
    }, {
        text: "Phi<br>start",
        dataIndex: "axisStart",
        flex: .05,
        renderer: d
    }, {
        text: "Phi<br>range",
        dataIndex: "axisRange",
        flex: .05,
        renderer: d
    }), this.isIndustrial && s.push({
        text: "Xbeam",
        dataIndex: "xbeam",
        flex: .05,
        renderer: d
    }, {
        text: "Ybeam",
        dataIndex: "ybeam",
        flex: .05,
        renderer: d
    }), s.push({
        text: "Detector<br/>Resolution",
        dataIndex: "resolution",
        flex: .07,
        renderer: d
    })), s.push({
        text: "Status",
        dataIndex: "status",
        flex: .05,
        renderer: g
    }, {
        text: "Space<br/>Group",
        dataIndex: "autoProc",
        width: 70,
        renderer: l
    }, {
        text: "Completeness",
        dataIndex: "completeness",
        width: 70,
        renderer: h
    }, {
        text: "Resolution",
        dataIndex: "resolution",
        width: 80,
        renderer: i
    }, {
        text: "Rsymm<br/><small><i>Inner<br/>Outer<br/>Overall</i></small>",
        dataIndex: "autoProcStatisticsOverall",
        width: 40,
        renderer: j
    }, {
        text: "Unit_cell<br/><small><i>a, b, c<br/>alpha, beta, gamma</i></small>",
        dataIndex: "autoProcStatisticsInner",
        width: 120,
        renderer: k
    }, {
        text: "Exp.<br/>Type",
        dataIndex: "experimentType",
        flex: .05
    }, {
        text: "Protein<br>Acronym",
        dataIndex: "proteinAcronym",
        flex: .05,
        renderer: c
    }, {
        text: "Start<br/>time",
        dataIndex: "startTime",
        width: 75,
        renderer: a
    }), this.displayLastCollect || s.push({
        header: "Sample<br/>Ranking",
        dataIndex: "dataCollectionId",
        flex: .05,
        renderer: o
    }), this.isIndustrial || s.push({
        xtype: "checkcolumn",
        header: "Skip",
        dataIndex: "skipForReport",
        flex: .04,
        renderer: p
    }), this.displayLastCollect || this.isIndustrial ? s.push({
        text: "Comments",
        dataIndex: "comments",
        flex: .2,
        renderer: m
    }) : s.push({
        text: "Comments",
        dataIndex: "comments",
        flex: .2,
        editor: {
            xtype: "textfield",
            allowBlank: !0
        },
        renderer: m
    }), s.push({
        xtype: "actioncolumn",
        width: 50,
        header: "Download<br>autoproc<br>files",
        items: [ {
            icon: "../images/download.png",
            tooltip: "Download autoproc",
            getClass: q,
            handler: function(a, b, c) {
                r.downloadAutoproc(r.store.getAt(b).data.dataCollectionId);
            }
        } ],
        sortable: !1
    }), s;
}, DataCollectionMxGrid.prototype.viewDataCollection = function(a) {
    document.location.href = this.contextPath + "/menuSelected.do?leftMenuId=-1&topMenuId=16&targetUrl=/user/viewDataCollection.do?reqCode=displayForDataCollectionGroup&dataCollectionGroupId=" + a;
}, DataCollectionMxGrid.prototype.getPagingMode = function() {
    return this.pagingMode;
}, DataCollectionMxGrid.prototype.hideAndShowExperimentParameter = function() {
    this.hideCol = !this.hideCol, this._hideCol();
}, DataCollectionMxGrid.prototype.getListDataCollection = function() {
    var a = Ext.encode(Ext.pluck(this.store.data.items, "data"));
    return a;
}, DataCollectionMxGrid.prototype.changeRank = function() {
    this.rankEDNA = !this.rankEDNA, this.setRankValue();
}, DataCollectionMxGrid.prototype.setRankValue = function() {
    for (var a = this.minDCId; a <= this.maxDCId; a++) {
        var b = document.getElementsByName("rankIdList[" + a + "]");
        null != b && null != b.item(0) && (this.rankEDNA ? b.item(0).style.display = "" : b.item(0).style.display = "none");
        var c = document.getElementsByName("rankIdAutoProcList[" + a + "]");
        null != c && null != c.item(0) && (this.rankEDNA ? c.item(0).style.display = "none" : c.item(0).style.display = "");
        var d = document.getElementById("rankIdImage[" + a + "]");
        null != d && (this.rankEDNA ? d.style.display = "none" : d.style.display = "");
        var e = document.getElementById("rankIdAutoProcImage[" + a + "]");
        null != e && (this.rankEDNA ? e.style.display = "" : e.style.display = "none");
    }
}, DataCollectionMxGrid.prototype.startRank = function() {
    this.rankEDNA ? this.onRankButtonClicked.notify({}) : this.onRankAutoProcButtonClicked.notify({});
}, DataCollectionMxGrid.prototype.getListDataCollectionRank = function() {
    for (var a = [], b = this.minDCId; b <= this.maxDCId; b++) {
        var c = document.getElementsByName("rankIdList[" + b + "]");
        null != c && null != c.item(0) && a.push(b);
    }
    return a;
}, DataCollectionMxGrid.prototype.getListDataCollectionRankAutoProc = function() {
    for (var a = [], b = this.minDCId; b <= this.maxDCId; b++) {
        var c = document.getElementsByName("rankIdAutoProcList[" + b + "]");
        null != c && null != c.item(0) && a.push(b);
    }
    return a;
}, DataCollectionMxGrid.prototype.getListDataCollectionSkip = function() {
    for (var a = [], b = this.minDCId; b <= this.maxDCId; b++) {
        var c = document.getElementsByName("skipIdList[" + b + "]");
        null != c && null != c.item(0) && 0 == c.item(0) && a.push(b);
    }
    return a;
}, DataCollectionMxGrid.prototype.downloadAutoproc = function(a) {
    var b = this.rMergeCutoff, c = this.iSigmaCutoff;
    document.location.href = this.contextPath + "/menuSelected.do?leftMenuId=-1&topMenuId=16&targetUrl=/user/viewDataCollection.do?reqCode=download&dataCollectionId=" + a + "&rmerge=" + b + "&isigma=" + c + "&anomalous=false";
}, DataCollectionSummaryGrid.prototype.getHTMLTable = function(a) {
    for (var b = document.createElement("table"), c = 0; c < a.length; c++) {
        var d = document.createElement("tr"), e = document.createElement("td");
        e.appendChild(document.createTextNode(a[c].key)), null == a[c].value && e.setAttribute("style", "color:#D8D8D8"), 
        null != a[c].value && e.setAttribute("style", "color:gray;font-weight:bold");
        var f = document.createElement("td");
        null != a[c].value && (f.appendChild(document.createTextNode(a[c].value)), f.setAttribute("style", "font-weight:bold")), 
        d.appendChild(e), d.appendChild(f), b.appendChild(d);
    }
    return "<table>" + b.innerHTML + "</table>";
}, DataCollectionSummaryGrid.prototype._getHTMLImage = function(a) {
    return '<img class="lazy" onclick="myFunction()"  data-src=' + a + " src=" + a + ' height="80" width="80" >';
}, DataCollectionSummaryGrid.prototype._getHTMLZoomImage = function(a, b, c) {
    var d = "#/mx/datacollection/" + b + "/image/" + c + "/main";
    return "<a href=" + d + '><img class="lazy"  data-src=' + a + " src=" + a + ' height="80" width="80" ></a>';
}, DataCollectionSummaryGrid.prototype._getColumns = function() {
    var a = this, b = [ {
        header: "Type",
        dataIndex: "DataCollectionGroup_experimentType",
        name: "DataCollectionGroup_experimentType",
        flex: 1,
        renderer: function(b, c, d) {
            return a.getHTMLTable([ {
                key: "Type",
                value: d.data.DataCollectionGroup_experimentType
            }, {
                key: "Image Prefix",
                value: d.data.DataCollection_imagePrefix
            }, {
                key: "Start Time",
                value: d.data.DataCollection_startTime
            } ]);
        }
    }, {
        header: "id",
        dataIndex: "DataCollection_dataCollectionId",
        name: "DataCollection_dataCollectionId",
        flex: 1,
        hidden: !0
    }, {
        header: "Sample",
        dataIndex: "Protein_acronym",
        name: "Protein_acronym",
        flex: 1,
        renderer: function(b, c, d) {
            return a.getHTMLTable([ {
                key: "Acronym",
                value: d.data.Protein_acronym
            }, {
                key: "Protein",
                value: d.data.Protein_name
            }, {
                key: "Name",
                value: d.data.BLSample_name
            }, {
                key: "Location",
                value: d.data.BLSample_location
            }, {
                key: "Holder Length",
                value: d.data.BLSample_holderLength
            } ]);
        }
    }, {
        header: "Img Prefix",
        dataIndex: "DataCollection_imagePrefix",
        name: "DataCollection_imagePrefix",
        flex: 1,
        hidden: !0
    }, {
        header: "Data Collection",
        dataIndex: "DataCollection_imagePrefix",
        name: "DataCollection_imagePrefix",
        flex: 1,
        renderer: function(b, c, d) {
            return a.getHTMLTable([ {
                key: "nbImages",
                value: d.data.DataCollection_numberOfImages
            }, {
                key: "Exp. Time",
                value: d.data.DataCollection_exposureTime
            }, {
                key: "Resolution",
                value: d.data.DataCollection_resolution
            }, {
                key: "Flux",
                value: d.data.DataCollection_flux
            }, {
                key: "Transmission",
                value: d.data.DataCollection_transmission
            }, {
                key: "WaveLenght",
                value: d.data.DataCollection_wavelength
            } ]);
        }
    }, {
        header: "Screening",
        dataIndex: "DataCollection_imagePrefix",
        name: "DataCollection_imagePrefix",
        flex: 1,
        renderer: function(b, c, d) {
            return a.getHTMLTable([ {
                key: "mosaicity",
                value: d.data.ScreeningOutput_mosaicity
            }, {
                key: "rankingResolution",
                value: d.data.ScreeningOutput_rankingResolution
            }, {
                key: "spotDeviationR",
                value: d.data.ScreeningOutput_spotDeviationR
            }, {
                key: "totalExposureTime",
                value: d.data.ScreeningOutput_totalExposureTime
            }, {
                key: "totalNumberOfImages",
                value: d.data.ScreeningOutput_totalNumberOfImages
            }, {
                key: "totalRotationRange",
                value: d.data.ScreeningOutput_totalRotationRange
            } ]);
        }
    }, {
        text: "First",
        dataIndex: "DataCollection_imagePrefix",
        width: 115,
        renderer: function(b, c, d) {
            return a._getHTMLZoomImage(EXI.getDataAdapter().mx.dataCollection.getThumbNailById(d.data.firstImageId), d.data.DataCollection_dataCollectionId, d.data.firstImageId);
        }
    }, {
        text: "Last.",
        dataIndex: "DataCollection_imagePrefix",
        width: 115,
        renderer: function(b, c, d) {
            return a._getHTMLZoomImage(EXI.getDataAdapter().mx.dataCollection.getThumbNailById(d.data.lastImageId), d.data.DataCollection_dataCollectionId, d.data.lastImageId);
        }
    }, {
        text: "Crystal",
        dataIndex: "DataCollection_imagePrefix",
        width: 115,
        renderer: function(b, c, d) {
            return a._getHTMLImage(EXI.getDataAdapter().mx.dataCollection.getCrystalSnapshotByDataCollectionId(d.data.DataCollection_dataCollectionId, 1));
        }
    }, {
        text: "Crystal",
        dataIndex: "DataCollection_imagePrefix",
        width: 115,
        renderer: function(b, c, d) {
            return a._getHTMLImage(EXI.getDataAdapter().mx.dataCollection.getCrystalSnapshotByDataCollectionId(d.data.DataCollection_dataCollectionId, 2));
        }
    }, {
        text: "Crystal",
        dataIndex: "DataCollection_imagePrefix",
        width: 115,
        renderer: function(b, c, d) {
            return a._getHTMLImage(EXI.getDataAdapter().mx.dataCollection.getCrystalSnapshotByDataCollectionId(d.data.DataCollection_dataCollectionId, 3));
        }
    } ];
    return b;
}, DataCollectionSummaryGrid.prototype.load = function(a) {
    this.store.loadData(a, !1), this.store.sort("DataCollection_dataCollectionId", "DESC");
}, DataCollectionSummaryGrid.prototype.getPanel = function() {
    return this._renderGrid();
}, DataCollectionSummaryGrid.prototype.edit = function(a) {
    var b = this, c = new StockSolutionWindow();
    c.onSaved.attach(function(a, c) {
        b.onSaved.notify(c);
    }), c.draw(EXI.proposalManager.getStockSolutionById(a));
}, DataCollectionSummaryGrid.prototype.unpack = function(a) {
    this.onUnpack.notify(a);
}, DataCollectionSummaryGrid.prototype._renderGrid = function() {
    var a = this;
    this.store = Ext.create("Ext.data.Store", {
        fields: [ "DataCollectionGroup_experimentType", "DataCollection_dataCollectionId", "Protein_acronym", "DataCollection_imagePrefix" ]
    });
    return this.grid = Ext.create("Ext.grid.Panel", {
        title: "Data Collection Summary",
        id: this.id,
        store: this.store,
        columns: this._getColumns(),
        viewConfig: {
            stripeRows: !0,
            listeners: {
                itemdblclick: function(a, b, c, d) {
                    location.hash = "/autoprocintegration/datacollection/" + b.data.DataCollection_dataCollectionId + "/main";
                }
            }
        }
    }), this.grid.on("afterrender", function() {
        var b = setTimeout(function() {
            $(".lazy").lazy({
                bind: "event",
                appendScroll: document.getElementById(document.getElementById(a.id).parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.id),
                beforeLoad: function(a) {},
                afterLoad: function(a) {},
                onError: function(a) {},
                onFinishedAll: function() {}
            }), clearTimeout(b);
        }, 1e3);
    }), this.grid;
}, PhasingGrid.prototype.load = function(a) {
    this.store.loadData(a, !1);
}, PhasingGrid.prototype.getPanel = function() {
    return this.store = Ext.create("Ext.data.Store", {
        fields: [ "phasingAnalysisId", "name", "highRes", "lowRes", "method", "enantiomorph", "solventContent", "bravaisLattice", "hP", "mxUsed", "spaceGroupName", "spaceGroupNumber", "spaceGroupShortName" ]
    }), this.panel = Ext.create("Ext.grid.Panel", {
        title: "Auto-Processing Integration",
        store: this.store,
        margin: this.margin,
        cls: "border-grid",
        maxHeight: this.maxHeight,
        minHeight: this.maxHeight,
        columns: [ {
            text: "phasingAnalysisId",
            dataIndex: "phasingAnalysisId",
            flex: 1
        }, {
            text: "name",
            dataIndex: "name",
            flex: 1
        }, {
            text: "bravaisLattice",
            dataIndex: "bravaisLattice",
            flex: 1
        }, {
            text: "hP",
            dataIndex: "hP",
            flex: 1
        }, {
            text: "mxUsed",
            dataIndex: "mxUsed",
            flex: 1
        }, {
            text: "spaceGroupName",
            dataIndex: "spaceGroupName",
            flex: 1
        }, {
            text: "spaceGroupNumber",
            dataIndex: "spaceGroupNumber",
            flex: 1
        }, {
            text: "spaceGroupShortName",
            dataIndex: "spaceGroupShortName",
            flex: 1
        }, {
            text: "lowRes",
            dataIndex: "lowRes",
            flex: 1
        }, {
            text: "lowRes",
            dataIndex: "lowRes",
            flex: 1
        }, {
            text: "highRes",
            dataIndex: "highRes",
            flex: 1
        }, {
            text: "enantiomorph",
            dataIndex: "enantiomorph",
            flex: 1
        }, {
            text: "solventContent",
            dataIndex: "solventContent",
            flex: 1
        } ],
        flex: 1,
        viewConfig: {
            stripeRows: !0,
            listeners: {}
        }
    }), this.panel;
}, PDBViewer.prototype.getTitle = function() {
    return "<div style='width:" + this.width + "px; height:20px; font-weight:bold;background-color: #E6E6E6;color:black'>" + this.title + "</div>";
}, PDBViewer.prototype.getTextAreaId = function() {
    return this.id + "_src";
}, PDBViewer.prototype.getCanvas = function() {
    var a = "width:" + this.width + "px; height: " + this.height + "px;display: none;", b = "<textarea id='" + this.getTextAreaId() + "'; style='" + a + "' ></textarea>", c = "width: " + this.width + "px; height: " + this.height + "px; background-color: black;";
    return b + "<div id='" + this.id + "'; style='" + c + "' ></div>";
}, PDBViewer.prototype.getDownload = function(a, b) {
    var c = BUI.getPdbURL() + "&type=" + a + "&abInitioModelId=" + b;
    return html = "<a href=" + c + ' style="color:blue;font-weight:bold;"  height="80" width="80" >Download</a><br /><br />', 
    "<div style='width:" + this.width + "px; height:20px; font-weight:bold;background-color: #336699;color:white'>" + html + "</div>";
}, PDBViewer.prototype.getBar = function() {
    return "<div style='width:" + this.width + "px; height:20px; font-weight:bold;background-color: #336699;color:white'></div>";
}, PDBViewer.prototype.refresh = function(a) {
    var b = this;
    if (BUI.isWebGLEnabled()) {
        this.models = a, b.panel.setLoading("Rendering");
        var c = function(a, c) {
            null != c.models && null != c.models[0] && (document.getElementById(b.getTextAreaId()).innerHTML = c.models[0].XYZ, 
            null == b.glMol ? b.glMol = new GLmol(b.id) : b.glMol.loadMolecule()), b.panel.setLoading(!1);
        };
        EXI.getDataAdapter({
            onSuccess: c
        }).saxs.model.getPDB(a, []);
    } else this.webGLNotAvailable();
}, PDBViewer.prototype.getOpacity = function(a) {
    return "Invisible" == a ? "0" : "Minimum" == a ? "0.2" : "Medium" == a ? "0.5" : "High" == a ? "0.7" : "1";
}, PDBViewer.prototype.getMenu = function(a) {
    function b(b, d, e) {
        if (d) {
            var f = null;
            if ("Opacity" == b.group) for (f = 0; f < c.models.length; f++) {
                var g = c.getOpacity(b.text);
                a.opacity = g;
            }
            if ("Radius" == b.group) for (f = 0; f < c.models.length; f++) {
                var h = c.getOpacity(b.text);
                a.radius = h;
            }
            c.refresh(c.models);
        }
    }
    var c = this;
    return Ext.create("Ext.menu.Menu", {
        items: [ {
            text: "Opacity",
            menu: {
                items: [ {
                    text: "Invisible",
                    checked: !1,
                    group: "Opacity",
                    checkHandler: b
                }, {
                    text: "Minimum",
                    checked: !1,
                    group: "Opacity",
                    checkHandler: b
                }, {
                    text: "Medium",
                    checked: !1,
                    group: "Opacity",
                    checkHandler: b
                }, {
                    text: "High",
                    checked: !1,
                    group: "Opacity",
                    checkHandler: b
                }, {
                    text: "Opaque",
                    checked: !1,
                    group: "Opacity",
                    checkHandler: b
                } ]
            }
        } ]
    });
}, PDBViewer.prototype.getTbar = function() {
    for (var a = this, b = Ext.create("Ext.toolbar.Toolbar"), c = [], d = 0; d < this.models.length; d++) {
        b.add({
            text: this.models[d].title,
            menu: this.getMenu(this.models[d])
        });
        var e = "#" + this.models[d].color.replace("0x", "");
        c.push({
            html: "<table><tr><td width='15px'>" + BUI.getRectangleColorDIV(e, 10, 10) + "</td><td>" + this.models[d].title + "</td></table>"
        });
    }
    return b.add({
        xtype: "numberfield",
        labelWidth: 50,
        width: 120,
        fieldLabel: "Radius",
        value: 3,
        maxValue: 10,
        step: .2,
        minValue: .1,
        listeners: {
            change: function(b) {
                for (var c = b.getValue(), d = 0; d < a.models.length; d++) a.models[d].radius = c;
                a.refresh(a.models);
            }
        }
    }), b.add("->"), b.add(c), b;
}, PDBViewer.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        margin: this.margin,
        border: 0,
        layout: {
            type: "vbox"
        },
        width: this.width - 4,
        height: this.height + 30,
        items: [ {
            html: this.getCanvas()
        } ],
        listeners: {
            afterRender: function() {}
        }
    }), this.panel.setLoading("Rendering"), this.panel;
}, PDBViewer.prototype.webGLNotAvailable = function() {
    document.getElementById(_this.id).innerHTML = BUI.getWarningHTML("Your browser doesn't support WebGL"), 
    document.getElementById(_this.id).innerHTML = document.getElementById(_this.id).innerHTML + "<br />", 
    document.getElementById(_this.id).innerHTML = document.getElementById(_this.id).innerHTML + BUI.getTipHTML("<a href='http://www.browserleaks.com/webgl#howto-enable-disable-webgl'>How to enable WebGL</a>"), 
    document.getElementById(_this.id).innerHTML = document.getElementById(_this.id).innerHTML + "<br />", 
    document.getElementById(_this.id).innerHTML = document.getElementById(_this.id).innerHTML + BUI.getTipHTML("<a href='http://caniuse.com/webgl'>Can I use WebGL?</a>");
}, PDBViewer.prototype.draw = function(a) {
    this.models = a;
    var b = this;
    return this.panel = Ext.create("Ext.panel.Panel", {
        margin: 2,
        layout: {
            type: "vbox"
        },
        tbar: this.getTbar(),
        width: this.width - 4,
        height: this.height + 30,
        items: [ {
            html: this.getCanvas()
        } ],
        listeners: {
            afterRender: function() {
                b.refresh(a);
            }
        }
    }), this.panel.setLoading("Rendering"), this.panel;
}, SuperpositionPDBViewer.prototype.draw = PDBViewer.prototype.draw, SuperpositionPDBViewer.prototype.getBar = PDBViewer.prototype.getBar, 
SuperpositionPDBViewer.prototype.getCanvas = PDBViewer.prototype.getCanvas, SuperpositionPDBViewer.prototype.getDownload = PDBViewer.prototype.getDownload, 
SuperpositionPDBViewer.prototype.getMenu = PDBViewer.prototype.getMenu, SuperpositionPDBViewer.prototype.getOpacity = PDBViewer.prototype.getOpacity, 
SuperpositionPDBViewer.prototype.getPanel = PDBViewer.prototype.getPanel, SuperpositionPDBViewer.prototype.getTbar = PDBViewer.prototype.getTbar, 
SuperpositionPDBViewer.prototype.getTextAreaId = PDBViewer.prototype.getTextAreaId, 
SuperpositionPDBViewer.prototype.getTitle = PDBViewer.prototype.getTitle, SuperpositionPDBViewer.prototype.refresh = PDBViewer.prototype.refresh, 
SuperpositionPDBViewer.prototype.webGLNotAvailable = PDBViewer.prototype.webGLNotAvailable, 
SuperpositionPDBViewer.prototype.refresh = function(a) {
    var b = this;
    if (BUI.isWebGLEnabled()) {
        this.models = a;
        var c = new BiosaxsDataAdapter();
        b.panel.setLoading("Rendering"), c.onSuccess.attach(function(a, c) {
            document.getElementById(b.getTextAreaId()).innerHTML = c.XYZ, null == b.glMol ? b.glMol = new GLmol(b.id) : b.glMol.loadMolecule(), 
            b.panel.setLoading(!1);
        }), c.onError.attach(function(a, c) {
            b.panel.setLoading("Not available");
        }), c.getAbinitioPDBContentBySuperpositionList(a);
    } else this.webGLNotAvailable();
}, AlignedSuperpositionPDBViewer.prototype.draw = PDBViewer.prototype.draw, AlignedSuperpositionPDBViewer.prototype.getBar = PDBViewer.prototype.getBar, 
AlignedSuperpositionPDBViewer.prototype.getCanvas = PDBViewer.prototype.getCanvas, 
AlignedSuperpositionPDBViewer.prototype.getDownload = PDBViewer.prototype.getDownload, 
AlignedSuperpositionPDBViewer.prototype.getMenu = PDBViewer.prototype.getMenu, AlignedSuperpositionPDBViewer.prototype.getOpacity = PDBViewer.prototype.getOpacity, 
AlignedSuperpositionPDBViewer.prototype.getPanel = PDBViewer.prototype.getPanel, 
AlignedSuperpositionPDBViewer.prototype.getTbar = PDBViewer.prototype.getTbar, AlignedSuperpositionPDBViewer.prototype.getTextAreaId = PDBViewer.prototype.getTextAreaId, 
AlignedSuperpositionPDBViewer.prototype.getTitle = PDBViewer.prototype.getTitle, 
AlignedSuperpositionPDBViewer.prototype.refresh = PDBViewer.prototype.refresh, AlignedSuperpositionPDBViewer.prototype.webGLNotAvailable = PDBViewer.prototype.webGLNotAvailable, 
AlignedSuperpositionPDBViewer.prototype.refresh = function(a) {
    var b = this;
    if (BUI.isWebGLEnabled()) {
        this.models = a, b.panel.setLoading("Rendering PDB");
        var c = new BiosaxsDataAdapter();
        c.onError.attach(function(a, b) {
            console.log(a);
        }), c.onSuccess.attach(function(c, d) {
            var e = d.superpositions[0][a[0]];
            document.getElementById(b.id).innerHTML = "", b.glMol = new GLmol(b.id, !1, !1, e.apriori.data), 
            b.glMol.addSuperpositionXYZ(e.aligned.XYZ, "0xFFFFFF", .3, 1);
            var f = b.glMol.getView();
            b.glMol.setView(f), b.panel.setLoading(!1);
        }), null != a && 0 != a.length && c.getDataPDB([], a);
    } else this.webGLNotAvailable();
}, StructurePDBViewer.prototype.draw = PDBViewer.prototype.draw, StructurePDBViewer.prototype.getBar = PDBViewer.prototype.getBar, 
StructurePDBViewer.prototype.getCanvas = PDBViewer.prototype.getCanvas, StructurePDBViewer.prototype.getDownload = PDBViewer.prototype.getDownload, 
StructurePDBViewer.prototype.getMenu = PDBViewer.prototype.getMenu, StructurePDBViewer.prototype.getOpacity = PDBViewer.prototype.getOpacity, 
StructurePDBViewer.prototype.getPanel = PDBViewer.prototype.getPanel, StructurePDBViewer.prototype.getTbar = PDBViewer.prototype.getTbar, 
StructurePDBViewer.prototype.getTextAreaId = PDBViewer.prototype.getTextAreaId, 
StructurePDBViewer.prototype.getTitle = PDBViewer.prototype.getTitle, StructurePDBViewer.prototype.refresh = PDBViewer.prototype.refresh, 
StructurePDBViewer.prototype.webGLNotAvailable = PDBViewer.prototype.webGLNotAvailable, 
StructurePDBViewer.prototype.refresh = function(a) {
    var b = this;
    if (BUI.isWebGLEnabled()) {
        this.models = a, b.panel.setLoading("Rendering");
        var c = new BiosaxsDataAdapter();
        c.onSuccess.attach(function(a, c) {
            document.getElementById(b.getTextAreaId()).innerHTML = c;
            new GLmol(b.id);
            b.panel.setLoading(!1);
        }), c.onError.attach(function(a, c) {
            b.panel.setLoading("Not available");
        }), c.getDataPDB(models, []);
    } else this.webGLNotAvailable();
}, CurvePlotter.prototype.getPanel = function() {
    return this.plotPanel = Ext.create("Ext.container.Container", {
        layout: {
            type: "hbox"
        },
        flex: .7,
        margin: this.margin,
        items: [ {
            html: '<div id="' + this.targetId + '"></div>',
            id: this.id
        } ]
    }), this.plotPanel.on("afterrender", function() {}), this.plotPanel.on("resize", function() {}), 
    this.plotPanel;
}, CurvePlotter.prototype.getPointCount = function() {
    return this.dygraph.rawData_.length;
}, CurvePlotter.prototype.getColors = function() {
    return this.dygraph.getColors();
}, CurvePlotter.prototype.getLabels = function() {
    return this.dygraph.getLabels();
}, CurvePlotter.prototype.render = function(a) {
    var b = this;
    if (null != document.getElementById(this.targetId)) {
        document.getElementById(this.targetId).innerHTML = "", this.width = this.plotPanel.getWidth(), 
        this.height = this.plotPanel.getHeight(), document.getElementById(this.targetId).setAttribute("style", "border: 1px solid #000000; height:" + (this.plotPanel.getHeight() - 1) + "px;width:" + (this.plotPanel.getWidth() - 2) + "px;"), 
        Ext.getCmp(this.id).setHeight(this.plotPanel.getHeight()), Ext.getCmp(this.id).setWidth(this.plotPanel.getWidth()), 
        this.dygraph = new Dygraph(document.getElementById(this.targetId), a, {
            title: this.title,
            titleHeight: 20,
            legend: this.legend,
            labelsSeparateLines: !0,
            errorBars: !0,
            connectSeparatedPoints: !0,
            pointClickCallback: function(a, c) {
                b.onPointClickCallback.notify(c.name);
            }
        });
        var b = this;
        this.dygraph.ready(function() {
            b.onRendered.notify();
        });
    }
}, CurvePlotter.prototype.loadMerge = function(a, b, c, d) {
    this.render(EXI.getDataAdapter().saxs.hplc.getFramesMergeURL(a, b, c, d));
}, CurvePlotter.prototype.loadHPLCFrame = function(a, b) {
    this.render(EXI.getDataAdapter().saxs.hplc.getHPLCFramesScatteringURL(a, b));
}, CurvePlotter.prototype.loadUrl = function(a) {
    this.render(a);
}, CurvePlotter.prototype.load = function(a) {
    this.render(EXI.getDataAdapter().saxs.frame.getFramesURL(a.frame, a.average, a.subtracted, a.sampleaverage, a.bufferaverage));
}, AutoProcIntegrationCurvePlotter.prototype.getPanel = CurvePlotter.prototype.getPanel, 
AutoProcIntegrationCurvePlotter.prototype.getPointCount = CurvePlotter.prototype.getPointCount, 
AutoProcIntegrationCurvePlotter.prototype.getLabels = CurvePlotter.prototype.getLabels, 
AutoProcIntegrationCurvePlotter.prototype.render = CurvePlotter.prototype.render, 
AutoProcIntegrationCurvePlotter.prototype.loadUrl = CurvePlotter.prototype.loadUrl, 
AutoProcIntegrationCurvePlotter.prototype.getPanel = function() {
    return this.plotPanel = Ext.create("Ext.panel.Panel", {
        layout: {
            type: "fit"
        },
        height: this.height,
        margin: this.margin,
        items: [ {
            html: '<div id="' + this.targetId + '"></div>',
            id: this.id
        } ]
    }), this.plotPanel.on("afterrender", function() {}), this.plotPanel.on("resize", function() {}), 
    this.plotPanel;
}, DataSet.prototype.loadFromJSON = function(a) {
    null != a && this.validate(a) && (this.json = a);
}, DataSet.prototype.toJSON = function(a) {
    return this.json;
}, DataSet.prototype.validate = function(a) {
    return !0;
};

var DOM = {};

DOM.createNewElement = function(a, b, c) {
    for (var d = document.createElement(a), e = 0; e < c.length; e++) d.setAttribute(c[e][0], c[e][1]);
    return b.appendChild(d), d;
}, DOM.createTextNode = function(a, b) {
    var c = document.createTextNode(a);
    return b.appendChild(c), c;
}, DOM.removeChilds = function(a) {
    for (var b = document.getElementById(a); b.childNodes.length > 0; ) b.removeChild(b.childNodes[0]);
}, DOM.select = function(a) {
    return document.getElementById(a);
}, GraphCanvas.prototype.showLabels = function(a) {
    this.args.labeled = a, this.removeLabels(), a && this.renderLabels();
}, GraphCanvas.prototype.getSelectedVertices = function() {
    return this.args.selectedVertices;
}, GraphCanvas.prototype.getSelectedEdges = function() {
    var a = [];
    for (var b in this.args.isEdgeSelected) a.push(b);
    return a;
}, GraphCanvas.prototype.createSVGDom = function(a, b, c, d, e) {
    var f = document.getElementById(a);
    return this._svg = SVG.createSVGCanvas(f, [ [ "style", "background-color:" + e + ";" ], [ "id", b ], [ "dragx", 0 ], [ "dragy", 0 ], [ "height", this.getFormatter().getHeight() ], [ "width", this.getFormatter().getWidth() ] ]), 
    this._svg;
}, GraphCanvas.prototype.isMultipleSelectionEnabled = function() {
    return this.args.multipleSelectionEnabled;
}, GraphCanvas.prototype.setMultipleSelection = function(a) {
    this.args.multipleSelectionEnabled = a, this.args.draggingCanvasEnabled = !a;
}, GraphCanvas.prototype.setSelecting = function(a) {
    this.selecting = a;
}, GraphCanvas.prototype.setLinking = function(a) {
    this.args.linkEnabled = a, this.selecting = !a, this.dragging = !a;
}, GraphCanvas.prototype.setDraggingCanvas = function(a) {
    this.args.draggingCanvasEnabled = a, this.args.multipleSelectionEnabled = !a;
}, GraphCanvas.prototype.isDraggingCanvasEnabled = function() {
    return this.args.draggingCanvasEnabled;
}, GraphCanvas.prototype.getScale = function() {
    return this.getFormatter().getZoomScale();
}, GraphCanvas.prototype.setScale = function(a) {
    var b = document.getElementById(this.args.idGraph);
    b.setAttribute("transform", b.getAttribute("transform").replace("scale(" + this.getScale() + ")", "scale(" + a + ")")), 
    this.getFormatter().setZoomScale(a);
}, GraphCanvas.prototype.zoomIn = function() {
    this.setScale(this.getScale() + this.getFormatter().getZoomScaleStepFactor());
}, GraphCanvas.prototype.zoomOut = function() {
    this.setScale(this.getScale() - this.getFormatter().getZoomScaleStepFactor());
}, GraphCanvas.prototype.getSVGCoordenates = function(a) {
    var b = this._svg.createSVGPoint();
    b.x = a.clientX, b.y = a.clientY;
    var c = this._svg.getScreenCTM(document.documentElement);
    return b = b.matrixTransform(c.inverse());
}, GraphCanvas.prototype.mouseClick = function(a) {
    if (0 == a.button) {
        if (!this.args.interactive) return;
        this.isVertex(a.target) && this.clickNode(this.getVertexIdFromSVGId(a.target.id)), 
        this.dragging && (this.dragging = !1);
    }
}, GraphCanvas.prototype.mouseMove = function(a) {
    if (this.selecting) {
        this.clearLabels();
        var b = this.getSVGCoordenates(a).x - this.selectorX, c = this.getSVGCoordenates(a).y - this.selectorY;
        b > 0 && c > 0 && this.displaySelection(this.selectorX, this.selectorY, b, c), b > 0 && 0 > c && this.displaySelection(this.selectorX, this.getSVGCoordenates(a).y, b, Math.abs(c)), 
        0 > b && 0 > c && this.displaySelection(this.getSVGCoordenates(a).x, this.getSVGCoordenates(a).y, Math.abs(b), Math.abs(c)), 
        0 > b && c > 0 && this.displaySelection(this.selectorX + b, this.selectorY, Math.abs(b), Math.abs(c));
        var d = (parseFloat(this.selectorSVGNode.getAttribute("x")) - DOM.select(this.id).getAttribute("dragx")) / this.getFormatter().getWidth(), e = (parseFloat(this.selectorSVGNode.getAttribute("y")) - DOM.select(this.id).getAttribute("dragy")) / this.getFormatter().getHeight(), f = d + parseFloat(this.selectorSVGNode.getAttribute("width") / this.getFormatter().getWidth()), g = e + parseFloat(this.selectorSVGNode.getAttribute("height") / this.getFormatter().getHeight());
        this.deselectNodes(this.getLayout());
        for (var h = this.getLayout().getVerticesByArea(d / this.getFormatter().getZoomScale(), e / this.getFormatter().getZoomScale(), f / this.getFormatter().getZoomScale(), g / this.getFormatter().getZoomScale()), i = 0; i < h.length; i++) this.selectNode(h[i].getId()), 
        this.renderLabel(h[i].getId());
    }
    var j = null;
    this.args.linking && (j = this.getSVGCoordenates(a), null != this.linkSVGNode && (this.linkSVGNode.setAttribute("x2", j.x - 2), 
    this.linkSVGNode.setAttribute("y2", j.y - 2))), this.dragging && (j = this.getSVGCoordenates(a), 
    j.x -= this.nMouseOffsetX, j.y -= this.nMouseOffsetY, this.desplazamientoX = this.getSVGCoordenates(a).x - this.dragStartX, 
    this.desplazamientoY = this.getSVGCoordenates(a).y - this.dragStartY, null != this.draggingElement && (this.isNodeCanvas(this.draggingElement) ? (j = this.getSVGCoordenates(a), 
    j.x = this.desplazamientoX, j.y = this.desplazamientoY, this.draggingElement.setAttribute("dragx", j.x), 
    this.draggingElement.setAttribute("dragy", j.y), this.draggingElement = document.getElementById(this.args.idGraph), 
    this.draggingElement.setAttribute("transform", "translate(" + j.x + "," + j.y + "), scale(" + this.getScale() + ")"), 
    DOM.select(this.id).setAttribute("dragx", j.x), DOM.select(this.id).setAttribute("dragy", j.y), 
    null != this.NodeSVGbackgroundImage && (this.NodeSVGbackgroundImage.setAttribute("dragx", j.x), 
    this.NodeSVGbackgroundImage.setAttribute("dragy", j.y))) : this.isVertex(this.draggingElement) ? (this.selectNode(this.getVertexIdFromSVGId(this.draggingElement.id)), 
    this.desplazamientoX = this.desplazamientoX / this.getFormatter().getZoomScale(), 
    this.desplazamientoY = this.desplazamientoY / this.getFormatter().getZoomScale(), 
    this.moveSelectedNodes(this.desplazamientoX, this.desplazamientoY), this.dragStartX = this.getSVGCoordenates(a).x, 
    this.dragStartY = this.getSVGCoordenates(a).y) : this.isNodeBackground(this.draggingElement) ? (this.draggingElement.setAttribute("dragx", j.x), 
    this.draggingElement.setAttribute("dragy", j.y), this.draggingElement = document.getElementById(this.args.idGraph), 
    this.draggingElement.setAttribute("transform", "translate(" + j.x + "," + j.y + "), scale(" + this.getScale() + ")")) : this.draggingElement.setAttribute("transform", "translate(" + j.x + "," + j.y + ")")));
}, GraphCanvas.prototype.moveSelectedNodes = function(a, b) {
    for (var c = 0; c < this.getSelectedVertices().length; c++) {
        var d = this.getSelectedVertices()[c], e = this.getSVGNodeId(d), f = parseFloat(DOM.select(e).getAttribute("dragx")) + parseFloat(a), g = parseFloat(DOM.select(e).getAttribute("dragy")) + parseFloat(b);
        this._movingNode(DOM.select(e), f, g);
    }
}, GraphCanvas.prototype.mouseDown = function(a) {
    if (0 == event.button) {
        if (!this.args.interactive) return;
        var b = this.getSVGCoordenates(a);
        if ((this.isNodeCanvas(a.target) || this.isNodeBackground(a.target)) && (this.deselectNodes(), 
        this.deselectEdges(), this.onCanvasClicked.notify()), this.args.linkEnabled) return void (this.args.linking ? (this.linkNodeTarget = this.getVertexIdFromSVGId(a.target.id), 
        this.args.linking = !1, this.args.linkEnabled = !1, this.isVertex(a.target) && this.getDataset().addEdge(this.linkNodeSource + "_" + this.linkNodeTarget, this.linkNodeSource, this.linkNodeTarget, {}), 
        this.linkSVGNode.parentNode.removeChild(this.linkSVGNode)) : (this.args.linking = !0, 
        this.isVertex(a.target) && (this.linkStartX = b.x, this.linkStartY = b.y, this.linkSVGNode = SVG.drawLine(b.x, b.y, b.x, b.y, this._svg, {
            stroke: "#FF0000"
        }), this.linkNodeSource = this.getVertexIdFromSVGId(a.target.id))));
        (this.isVertex(a.target) || this.isNodeCanvas(a.target) || this.isNodeBackground(a.target)) && this._startDragging(a), 
        this.isEdge(a.target) && this.selectEdge(this.getEdgeIdFromSVGId(a.target.getAttribute("id"))), 
        this.args.multipleSelectionEnabled && (this.dragging || (this.setSelecting(!0), 
        this.selectorX = b.x, this.selectorY = b.y, this.displaySelection(b.x, b.y, 1, 1)));
    }
    1 == event.button && (this.setLinking(!1), this.setMultipleSelection(!1), this.selecting = !1, 
    (this.isVertex(a.target) || this.isNodeCanvas(a.target) || this.isNodeBackground(a.target)) && this._startDragging(a));
}, GraphCanvas.prototype.mouseUp = function(a) {
    if (this.args.interactive) {
        if (this.dragging && (this._stopDragging(a), this.isVertex(a.target))) {
            var b = this.getVertexIdFromSVGId(a.target.id);
            this.getDataset().getVertexById(b).getEdges().length >= this.args.maxNumberEdgesMoving && this.moveEdge(b);
        }
        if (this.selecting) {
            this.setSelecting(!1);
            for (var c = (parseFloat(this.selectorSVGNode.getAttribute("x")) - DOM.select(this.id).getAttribute("dragx")) / this.getFormatter().getWidth(), d = (parseFloat(this.selectorSVGNode.getAttribute("y")) - DOM.select(this.id).getAttribute("dragy")) / this.getFormatter().getHeight(), e = c + parseFloat(this.selectorSVGNode.getAttribute("width") / this.formatter.getWidth()), f = d + parseFloat(this.selectorSVGNode.getAttribute("height") / this.formatter.getHeight()), g = this.getLayout().getVerticesByArea(c / this.getFormatter().getZoomScale, d / this.getFormatter().getZoomScale, e / this.getFormatter().getZoomScale, f / this.getFormatter().getZoomScale), h = 0; h < g.length; h++) this.selectNode(g[h].getId());
            null != this.selectorSVGNode && this._svg.removeChild(this.selectorSVGNode), this.args.labeled && (this.clearLabels(), 
            this.renderLabels()), this.selectorSVGNode = null;
        }
    }
}, GraphCanvas.prototype.displaySelection = function(a, b, c, d) {
    null != this.selectorSVGNode ? (this.selectorSVGNode.setAttribute("x", a), this.selectorSVGNode.setAttribute("y", b), 
    this.selectorSVGNode.setAttribute("width", c), this.selectorSVGNode.setAttribute("height", d)) : this.selectorSVGNode = SVG.drawRectangle(a, b, c, d, this._svg, {
        fill: "red",
        stroke: "black",
        opacity: "0.2",
        "stroke-opacity": "1"
    });
}, GraphCanvas.prototype._startDragging = function(a) {
    if (this.isDraggingCanvasEnabled() || this.isNodeCanvas(a.target) && (this.draggingElement = null), 
    this.isVertex(a.target) || this.isNodeBackground(a.target) && this.isDraggingCanvasEnabled() || this.isNodeCanvas(a.target) && this.isDraggingCanvasEnabled()) {
        this.clearLabels(), this.draggingElement = a.target, this.dragging = !0;
        var b = this.getSVGCoordenates(a);
        this.nMouseOffsetX = b.x - parseInt(a.target.getAttribute("dragx")), this.nMouseOffsetY = b.y - parseInt(a.target.getAttribute("dragy")), 
        this.isVertex(a.target) ? (this.dragStartX = parseInt(this.draggingElement.getAttribute("dragx")) * this.getFormatter().getZoomScale() + parseFloat(DOM.select(this.id).getAttribute("dragx")), 
        this.dragStartY = parseInt(this.draggingElement.getAttribute("dragy")) * this.getFormatter().getZoomScale() + parseFloat(DOM.select(this.id).getAttribute("dragy"))) : (this.dragStartX = b.x - parseInt(this.draggingElement.getAttribute("dragx")), 
        this.dragStartY = b.y - parseInt(this.draggingElement.getAttribute("dragy")));
    }
}, GraphCanvas.prototype._stopDragging = function(a) {
    this.nMouseOffsetX = 0, this.nMouseOffsetX = 0, this.dragging = !1, this.draggingElement = null, 
    this.renderLabels(), this.setLinking(!1), this.setMultipleSelection(!0), this.selecting = !1;
}, GraphCanvas.prototype.moveEdge = function(a) {
    for (var b = this.getLayout().getNodeById(a).x * this.getFormatter().getWidth(), c = this.getLayout().getNodeById(a).y * this.getFormatter().getHeight(), d = 0; d < this.getDataset().getVertexById(a).getEdgesOut().length; d++) {
        var e = this.getDataset().getVertexById(a).getEdgesOut()[d].getId(), f = this.getSVGEdgeId(e), g = this.getFormatter().getEdgeById(e);
        g instanceof LineEdgeGraphFormatter && (DOM.select(f + "_shadow").setAttribute("x2", b), 
        DOM.select(f + "_shadow").setAttribute("y2", c), DOM.select(f).setAttribute("x2", b), 
        DOM.select(f).setAttribute("y2", c)), (g instanceof DirectedLineEdgeGraphFormatter || g instanceof OdirectedLineEdgeGraphFormatter || g instanceof OdotDirectedLineEdgeGraphFormatter || g instanceof DotDirectedLineEdgeGraphFormatter || g instanceof CutDirectedLineEdgeGraphFormatter) && (this.removeEdge(e), 
        this.renderEdge(e));
    }
    for (var d = 0; d < this.getDataset().getVertexById(a).getEdgesIn().length; d++) {
        var e = this.getDataset().getVertexById(a).getEdgesIn()[d].getId(), f = this.getSVGEdgeId(e), g = this.getFormatter().getEdgeById(e);
        if (g instanceof LineEdgeGraphFormatter && (DOM.select(f).setAttribute("x1", b), 
        DOM.select(f).setAttribute("y1", c), DOM.select(f + "_shadow").setAttribute("x1", b), 
        DOM.select(f + "_shadow").setAttribute("y1", c)), (g instanceof DirectedLineEdgeGraphFormatter || g instanceof OdirectedLineEdgeGraphFormatter || g instanceof OdotDirectedLineEdgeGraphFormatter || g instanceof DotDirectedLineEdgeGraphFormatter || g instanceof CutDirectedLineEdgeGraphFormatter) && (this.removeEdge(e), 
        this.renderEdge(e)), g instanceof BezierEdgeGraphFormatter) {
            var h = this.getFormatter().getVertexById(a).getDefault().getSize() * this.getFormatter().getNodesMaxSize(), i = this.calculateCoordenatesBezier(h, b, c);
            DOM.select(f).setAttribute("d", i);
        }
    }
}, GraphCanvas.prototype.moveNode = function(a) {
    var b = this.getLayout().getNodeById(a).x * this.getFormatter().getWidth(), c = this.getLayout().getNodeById(a).y * this.getFormatter().getHeight(), d = DOM.select(this.getSVGNodeId(a));
    d.setAttribute("dragx", b), d.setAttribute("dragy", c), d.setAttribute("transform", "translate(" + b + "," + c + ")"), 
    this.getDataset().getVertexById(a).getEdges().length < this.args.maxNumberEdgesMoving && this.moveEdge(a);
}, GraphCanvas.prototype._movingNode = function(a, b, c) {
    var d = this.getVertexIdFromSVGId(a.getAttribute("id"));
    this.getLayout().getNodeById(d).setCoordinates(b / this.getFormatter().getWidth(), c / this.getFormatter().getHeight()), 
    this.desplazamientoX = 0, this.desplazamientoY = 0, this.removeLabel(d), this.renderLabel(d);
}, GraphCanvas.prototype.init = function() {
    this._svg = this.createSVGDom(this.targetID, this.id, this.getFormatter().getWidth(), this.getFormatter().getHeight(), this.getFormatter().getBackgroundColor()), 
    this.GraphGroup = SVG.drawGroup(this._svg, [ [ "id", this.args.idGraph ], [ "transform", "translate(0,0), scale(1)" ] ]), 
    this.GraphBackground = SVG.drawGroup(this.GraphGroup, [ [ "id", this.args.idBackground ] ]), 
    this.GraphEdgeGroup = SVG.drawGroup(this.GraphGroup, [ [ "id", this.args.idEdgesGraph ] ]), 
    this.GraphNodeGroup = SVG.drawGroup(this.GraphGroup, [ [ "id", this.args.idNodesGraph ] ]), 
    this.GraphLabelGroup = SVG.drawGroup(this.GraphGroup, [ [ "id", this.args.idLabelGraph ] ]), 
    null != this.getFormatter().getBackgroundImage() && "" != this.getFormatter().getBackgroundImage() && this.setBackgroundImage(this.getFormatter().getBackgroundImage());
    var a = this;
    this._svg.addEventListener("click", function(b) {
        a.mouseClick(b);
    }, !1), this._svg.addEventListener("mousemove", function(b) {
        a.mouseMove(b, a);
    }, !1), this._svg.addEventListener("mousedown", function(b) {
        a.mouseDown(b, a);
    }, !1), this._svg.addEventListener("mouseup", function(b) {
        a.mouseUp(b, a);
    }, !1);
}, GraphCanvas.prototype.setBackgroundImage = function() {
    null != this.NodeSVGbackgroundImage && this.NodeSVGbackgroundImage.parentNode.removeChild(this.NodeSVGbackgroundImage), 
    $("#" + this.targetID).svg(), $("#" + this.targetID).svg("get"), $("#" + this.targetID).svg("get")._svg = document.getElementById(this.id);
    var a = $("#" + this.targetID).svg("get");
    this.NodeSVGbackgroundImage = a.image(0, 0, this.getFormatter().getWidth(), this.getFormatter().getHeight(), this.getFormatter().getBackgroundImage()), 
    this.NodeSVGbackgroundImage.setAttribute("id", this.args.idBackgroundNode), this.NodeSVGbackgroundImage.setAttribute("x", 0), 
    this.NodeSVGbackgroundImage.setAttribute("y", 0), this.NodeSVGbackgroundImage.setAttribute("dragx", 0), 
    this.NodeSVGbackgroundImage.setAttribute("dragy", 0), null != this.getFormatter().args.backgroundImageHeight && this.NodeSVGbackgroundImage.setAttribute("height", this.getFormatter().args.backgroundImageHeight), 
    null != this.getFormatter().args.backgroundImageWidth && this.NodeSVGbackgroundImage.setAttribute("width", this.getFormatter().args.backgroundImageWidth), 
    null != this.getFormatter().args.backgroundImageX && this.NodeSVGbackgroundImage.setAttribute("x", this.getFormatter().args.backgroundImageX), 
    null != this.getFormatter().args.backgroundImageY && this.NodeSVGbackgroundImage.setAttribute("y", this.getFormatter().args.backgroundImageY), 
    this.GraphBackground.appendChild(this.NodeSVGbackgroundImage), this.NodeSVGbackgroundImage.removeAttribute("href"), 
    this.NodeSVGbackgroundImage.setAttribute("xlink:href", this.getFormatter().getBackgroundImage());
}, GraphCanvas.prototype.removeBackgroundImage = function() {
    null != this.NodeSVGbackgroundImage && this.NodeSVGbackgroundImage.parentNode.removeChild(this.NodeSVGbackgroundImage);
}, GraphCanvas.prototype._setBackgroundColor = function(a) {
    var b = [ [ "fill", a ] ];
    SVG.drawRectangle(0, 0, this.getFormatter().getWidth(), this.getFormatter().getHeight(), this.GraphBackground, b);
}, GraphCanvas.prototype.toJSON = function() {
    var a = {};
    return a.dataset = {}, a.formatter = {}, a.layout = {}, a.dataset = this.getDataset().toJSON(), 
    a.formatter = this.getFormatter().toJSON(), a.layout = this.getLayout().toJSON(), 
    a;
}, GraphCanvas.prototype.toHTML = function() {
    var a = this._svg.parentElement.innerHTML, b = a.indexOf("<svg"), c = a.indexOf("</svg>") + 6;
    return a.substr(b, c);
}, GraphCanvas.prototype.draw = function(a, b, c) {
    this.setDataset(a), this.setFormatter(b), this.setLayout(c);
    var d = this;
    this.getFormatter().changed.attach(function(a, b) {
        d.removeNode(b.getId()), d.renderNode(b.getId()), d.args.labeled && (d.removeLabel(b.getId()), 
        d.renderLabel(b.getId()));
    }), this.getFormatter().edgeChanged.attach(function(a, b) {
        d.removeEdge(b.getId()), d.renderEdge(b.getId());
    }), this.getFormatter().resized.attach(function(a, b) {
        d.resize(d.getFormatter().getWidth(), d.getFormatter().getHeight());
    }), this.getFormatter().backgroundImageChanged.attach(function(a, b) {
        d.setBackgroundImage(d.getFormatter().getBackgroundImage());
    }), this.getFormatter().backgroundColorChanged.attach(function(a, b) {
        d._setBackgroundColor(d.getFormatter().getBackgroundColor());
    }), this.getLayout().changed.attach(function(a, b) {
        d.moveNode(b.getId()), d.moveEdge(b.getId()), d.args.labeled && (d.removeLabel(b.getId()), 
        d.renderLabel(b.getId()));
    }), this.getDataset().newVertex.attach(function(a, b) {
        d.renderNode(b.getId()), d.args.labeled && d.renderLabel(b.getId());
    }), this.getDataset().newEdge.attach(function(a, b) {
        d.renderEdge(b.getId());
    }), this.getDataset().vertexDeleted.attach(function(a, b) {
        d.removeNode(b.getId()), d.args.labeled && d.removeLabel(b.getId());
    }), this.getDataset().edgeDeleted.attach(function(a, b) {
        d.removeEdge(b.getId());
    }), this.getDataset().vertexNameChanged.attach(function(a, b) {
        d.args.labeled && (d.removeLabel(b.item.getId()), d.removeLabel(b.item.getId()), 
        d.renderLabel(b.item.getId()));
    }), this.init(), this.render();
}, GraphCanvas.prototype.render = function() {
    for (var a in this.getDataset().getVertices()) this.renderNode(a);
    this.renderLabels(), this.renderEdges();
}, GraphCanvas.prototype.renderLabels = function() {
    if (this.args.labeled) for (var a in this.getDataset().getVertices()) this.renderLabel(a);
}, GraphCanvas.prototype.removeLabels = function() {
    for (var a in this.getDataset().getVertices()) this.removeLabel(a);
}, GraphCanvas.prototype.isNodeCanvas = function(a) {
    return a.id == this.args.idGraph || a.id == this.id;
}, GraphCanvas.prototype.isNodeBackground = function(a) {
    return a.id == this.args.idBackgroundNode;
}, GraphCanvas.prototype.isVertex = function(a) {
    return null != a.getAttribute("id") && -1 != a.getAttribute("id").indexOf("_v_") ? !0 : !1;
}, GraphCanvas.prototype.isLabel = function(a) {
    return null != a.getAttribute("id") && -1 != a.getAttribute("id").indexOf("_l_") ? !0 : !1;
}, GraphCanvas.prototype.isEdge = function(a) {
    return null != a.getAttribute("id") && -1 != a.getAttribute("id").indexOf("_e_") ? !0 : !1;
}, GraphCanvas.prototype.resize = function(a, b) {
    null != this.NodeSVGbackgroundImage && (this.NodeSVGbackgroundImage.setAttribute("width", a), 
    this.NodeSVGbackgroundImage.setAttribute("height", b)), this._svg.setAttribute("width", a), 
    this._svg.setAttribute("height", b), this.clearCanvas(), this.render();
}, GraphCanvas.prototype.clearCanvas = function() {
    DOM.removeChilds(this.GraphEdgeGroup.getAttribute("id")), DOM.removeChilds(this.GraphNodeGroup.getAttribute("id")), 
    this.clearLabels();
}, GraphCanvas.prototype.clearLabels = function() {
    DOM.removeChilds(this.GraphLabelGroup.getAttribute("id"));
}, GraphCanvas.prototype.getSVGNodeId = function(a) {
    return this.id + "_v_" + a;
}, GraphCanvas.prototype.getSVGEdgeId = function(a) {
    return this.id + "_e_" + a;
}, GraphCanvas.prototype.getSVGArrowEdgeId = function(a) {
    return this.id + "_arrow_" + a;
}, GraphCanvas.prototype.getSVGLabelId = function(a) {
    return this.id + "_l_" + a;
}, GraphCanvas.prototype.blinkVertexById = function(a) {
    $("#" + this.getSVGNodeId(a)).fadeIn().fadeOut().fadeIn().fadeOut().fadeIn().fadeOut();
}, GraphCanvas.prototype.getVertexIdFromSVGId = function(a) {
    return a.replace(this.id, "").replace("_v_", "");
}, GraphCanvas.prototype.getEdgeIdFromSVGId = function(a) {
    return a.replace(this.id, "").replace("_e_", "");
}, GraphCanvas.prototype.getVertexById = function(a) {
    return document.getElementById(this.getSVGNodeId(a));
}, GraphCanvas.prototype.renderNodes = function() {
    for (var a in this.getDataset().getVertices()) this.renderNode(a);
}, GraphCanvas.prototype.overNode = function(a) {
    if (this.args.interactive && null == this.args.isVertexSelected[a]) {
        var b = this.getFormatter().getVertexById(a).getOver();
        b.args.cursor = "pointer", this.changeVertexFormat(a, b);
    }
}, GraphCanvas.prototype.outNode = function(a) {
    this.args.interactive && null == this.args.isVertexSelected[a] && this.changeVertexFormat(a, this.getFormatter().getVertexById(a).getDefault());
}, GraphCanvas.prototype.overLabel = function(a) {
    this.overNode(a);
}, GraphCanvas.prototype.outLabel = function(a) {
    this.outNode(a);
}, GraphCanvas.prototype.clickNode = function(a) {
    this.args.interactive && (null == this.args.isVertexSelected[a] ? this.selectNode(a) : this.deselectNode(a));
}, GraphCanvas.prototype.selectNode = function(a) {
    for (var b = 0; b < this.args.selectedVertices.length; b++) {
        var c = this.getFormatter().getVertexById(a).getSelected();
        c.opacity = .2, this.changeVertexFormat(a, this.getFormatter().getVertexById(a).getSelected());
    }
    if (null == this.args.isVertexSelected[a]) {
        var c = this.getFormatter().getVertexById(a).getSelected();
        c.opacity = 1, this.changeVertexFormat(a, this.getFormatter().getVertexById(a).getSelected()), 
        this.args.selectedVertices.push(a), this.args.isVertexSelected[a] = this.args.selectedVertices.length - 1, 
        this.onVertexSelect.notify(a);
    }
}, GraphCanvas.prototype.selectAllEdges = function() {
    this.deselectNodes(), this.deselectEdges();
    for (var a in this.getDataset().edges) this.selectEdge(a);
}, GraphCanvas.prototype.selectAllNodes = function() {
    this.deselectNodes(), this.deselectEdges();
    for (var a in this.getDataset().vertices) this.selectNode(a);
}, GraphCanvas.prototype.selectAll = function() {
    this.deselectNodes(), this.deselectEdges();
    for (var a in this.getDataset().vertices) this.selectNode(a);
    for (var b in this.getDataset().edges) this.selectEdge(b);
}, GraphCanvas.prototype.selectEdge = function(a) {
    null == this.args.isEdgeSelected[a] && (this.changeEdgeFormat(a, this.getFormatter().getEdgeById(a).getSelected()), 
    this.args.isEdgeSelected[a] = !0, this.onEdgeSelect.notify(a));
}, GraphCanvas.prototype.selectEdges = function(a) {
    for (var b = 0; b < a.length; b++) this.selectEdge(a[b]);
}, GraphCanvas.prototype.deselectNode = function(a) {
    if (null != this.args.isVertexSelected[a]) {
        this.changeVertexFormat(a, this.getFormatter().getVertexById(a).getDefault()), this.args.selectedVertices.splice(this.args.isVertexSelected[a], 1);
        var b = this.args.isVertexSelected[a];
        delete this.args.isVertexSelected[a];
        for (var c in this.args.isVertexSelected) this.args.isVertexSelected[c] > b && (this.args.isVertexSelected[c] = this.args.isVertexSelected[c] - 1);
    }
}, GraphCanvas.prototype.deselectNodes = function() {
    for (var a = JSON.parse(JSON.stringify(this.getSelectedVertices())), b = 0; b < a.length; b++) this.deselectNode(a[b]);
}, GraphCanvas.prototype.selectNodes = function(a) {
    for (var b = 0; b < a.length; b++) this.selectNode(a[b]);
}, GraphCanvas.prototype.changeVertexFormat = function(a, b) {
    var c = DOM.select(this.getSVGNodeId(a));
    if (null != c) {
        var d = b.toJSON();
        for (var e in d) c.setAttribute(e, d[e]);
        if (this.getFormatter().getVertexById(a) instanceof CircleVertexGraphFormatter) {
            var f = "translate(" + c.getAttribute("dragx") + "," + c.getAttribute("dragy") + "), scale(" + b.getSize() + ")";
            c.setAttribute("transform", f);
        }
    }
}, GraphCanvas.prototype.renderLabel = function(a) {
    var b = (Math.ceil(this.getLayout().getNodeById(a).x * this.getFormatter().getWidth()), 
    Math.ceil(this.getLayout().getNodeById(a).y * this.getFormatter().getHeight()), 
    JSON.parse(JSON.stringify(this.getFormatter().getVertexById(a).getDefault().toJSON().title)));
    b.id = this.getSVGLabelId(this.getDataset().getVertexById(a).getId()), b.dx = -1 * (this.getDataset().getVertexById(a).getName().length * b["font-size"]) / 4 - 4, 
    b.dy = parseFloat(this.getFormatter().getVertexById(a).getDefault().getSize()) + parseFloat(b["font-size"]) + parseFloat(this.getFormatter().getVertexById(a).getDefault().getStrokeWidth()) - 4, 
    b.dragx = Math.ceil(this.getLayout().getNodeById(a).x * this.getFormatter().getWidth());
    var c = parseFloat(this.getFormatter().getVertexById(a).getDefault().getSize()) + Math.ceil(this.getLayout().getNodeById(a).y * this.getFormatter().getHeight());
    b.dragy = c, b.transform = "translate(" + b.dragx + "," + b.dragy + ")";
    var d = SVG.drawText(0, 0, this.getDataset().getVertexById(a).getName(), this.GraphLabelGroup, b);
    this.svgLabels[a] = d;
    var e = this;
    null != d && (d.addEventListener("mouseover", function() {
        e.overLabel(a);
    }, !1), d.addEventListener("mouseout", function() {
        e.outLabel(a);
    }, !1));
}, GraphCanvas.prototype.removeLabel = function(a) {
    null != DOM.select(this.getSVGLabelId(a)) && DOM.select(this.getSVGLabelId(a)).parentNode.removeChild(DOM.select(this.getSVGLabelId(a)));
}, GraphCanvas.prototype.renderNode = function(a) {
    var b = JSON.parse(JSON.stringify(this.getFormatter().getVertexById(a).getDefault().toJSON()));
    b.dragx = Math.ceil(this.getLayout().getNodeById(a).x * this.getFormatter().getWidth()), 
    b.dragy = Math.ceil(this.getLayout().getNodeById(a).y * this.getFormatter().getHeight()), 
    b.transform = "translate(" + b.dragx + "," + b.dragy + ")", b.id = this.getSVGNodeId(a), 
    this.circleDefaultRadius = this.getFormatter().getVertexById(a).getDefault().getSize();
    var c;
    this.getFormatter().getVertexById(a) instanceof CircleVertexGraphFormatter && (c = SVG.drawCircle(0, 0, this.circleDefaultRadius, this.GraphNodeGroup, b)), 
    this.getFormatter().getVertexById(a) instanceof SquareVertexGraphFormatter && (c = SVG.drawRectangle(0 - this.circleDefaultRadius, 0 - this.circleDefaultRadius, 2 * this.circleDefaultRadius, 2 * this.circleDefaultRadius, this.GraphNodeGroup, b)), 
    this.getFormatter().getVertexById(a) instanceof EllipseVertexGraphFormatter && (c = SVG.drawEllipse(0, 0, 1.5 * this.circleDefaultRadius, this.circleDefaultRadius, this.GraphNodeGroup, b)), 
    this.getFormatter().getVertexById(a) instanceof RectangleVertexGraphFormatter && (c = SVG.drawRectangle(0 - 1.5 * this.circleDefaultRadius, 0 - this.circleDefaultRadius, 2 * this.circleDefaultRadius * 1.5, 2 * this.circleDefaultRadius, this.GraphNodeGroup, b)), 
    this.getFormatter().getVertexById(a) instanceof RoundedVertexGraphFormatter && (b.ry = 2, 
    b.rx = 2, c = SVG.drawRectangle(0 - 1.5 * this.circleDefaultRadius, 0 - this.circleDefaultRadius, 2 * this.circleDefaultRadius * 1.5, 2 * this.circleDefaultRadius, this.GraphNodeGroup, b)), 
    this.getFormatter().getVertexById(a) instanceof OctagonVertexGraphFormatter && (b.ry = 2, 
    b.rx = 2, c = SVG.drawRectangle(0 - 1.5 * this.circleDefaultRadius, 0 - this.circleDefaultRadius, 2 * this.circleDefaultRadius * 1.5, 2 * this.circleDefaultRadius, this.GraphNodeGroup, b)), 
    c.internalId = a;
    var d = this;
    null != c && (c.addEventListener("mouseover", function() {
        d.onVertexOver.notify(a), d.overNode(a);
    }, !1), c.addEventListener("mouseout", function() {
        d.onVertexOut.notify(a), d.outNode(a);
    }, !1), c.addEventListener("mouseup", function() {
        d.onVertexUp.notify(a);
    }, !1));
}, GraphCanvas.prototype.removeNode = function(a) {
    DOM.select(this.getSVGNodeId(a)).parentNode.removeChild(DOM.select(this.getSVGNodeId(a))), 
    this.args.labeled && this.removeLabel(a);
}, GraphCanvas.prototype.removeSelected = function() {
    this.removeSelectedEdges(), this.removeSelectedNode();
}, GraphCanvas.prototype.removeSelectedNode = function() {
    var a = JSON.parse(JSON.stringify(this.getSelectedVertices()));
    this.deselectNodes();
    for (var b = a.sort(function(a, b) {
        return a - b;
    }), c = 0; c < b.length; c++) null != this.getDataset().getVertexById(b[c]) && this.getDataset().getVertexById(b[c]).remove();
}, GraphCanvas.prototype.removeEdge = function(a) {
    null != DOM.select(this.getSVGEdgeId(a)) && DOM.select(this.getSVGEdgeId(a)).parentNode.removeChild(DOM.select(this.getSVGEdgeId(a))), 
    null != DOM.select(this.getSVGEdgeId(a) + "_shadow") && DOM.select(this.getSVGEdgeId(a) + "_shadow").parentNode.removeChild(DOM.select(this.getSVGEdgeId(a) + "_shadow")), 
    null != DOM.select(this.getSVGArrowEdgeId(a)) && DOM.select(this.getSVGArrowEdgeId(a)).parentNode.removeChild(DOM.select(this.getSVGArrowEdgeId(a)));
}, GraphCanvas.prototype.overEdge = function(a) {
    if (this.args.interactive && !this.dragging && !this.selecting && null == this.args.isEdgeSelected[a]) {
        var b = this.getFormatter().getEdgeById(a).getOver();
        b.args.cursor = "pointer", this.changeEdgeFormat(a, b);
    }
}, GraphCanvas.prototype.outEdge = function(a) {
    this.args.interactive && null == this.args.isEdgeSelected[a] && this.changeEdgeFormat(a, this.getFormatter().getEdgeById(a).getDefault());
}, GraphCanvas.prototype.changeEdgeFormat = function(a, b) {
    var c = DOM.select(this.getSVGEdgeId(a) + "_shadow");
    if (null != c) {
        var d = b.toJSON();
        for (var e in d) c.setAttribute(e, d[e]);
    }
}, GraphCanvas.prototype.deselectEdge = function(a) {
    if (null != this.args.isEdgeSelected[a]) {
        this.changeEdgeFormat(a, this.getFormatter().getEdgeById(a).getDefault());
        this.args.isEdgeSelected[a];
        delete this.args.isEdgeSelected[a];
    }
}, GraphCanvas.prototype.deselectEdges = function() {
    for (var a = JSON.parse(JSON.stringify(this.getSelectedEdges())), b = 0; b < a.length; b++) this.deselectEdge(a[b]);
}, GraphCanvas.prototype.removeSelectedEdges = function() {
    var a = JSON.parse(JSON.stringify(this.getSelectedEdges()));
    this.deselectEdges();
    for (var b = 0; b < a.length; b++) null != this.getDataset().getEdgeById(a[b]) && this.getDataset().getEdgeById(a[b]).remove();
}, GraphCanvas.prototype.renderEdge = function(a) {
    var b = this.getFormatter().getEdgeById(a).getDefault().toJSON(), c = this.getDataset().getEdgeById(a), d = this.getVertexById(c.getNodeTarget().getId()), e = this.getVertexById(c.getNodeSource().getId());
    b.id = this.getSVGEdgeId(c.getId()) + "_shadow";
    var f = null;
    if (this.getFormatter().getEdgeById(a) instanceof LineEdgeGraphFormatter) {
        var g = e.getAttribute("dragx"), h = e.getAttribute("dragy"), i = d.getAttribute("dragx"), j = d.getAttribute("dragy");
        SVG.drawLine(g, h, i, j, this.GraphEdgeGroup, b);
        var k = {};
        k.id = this.getSVGEdgeId(c.getId()), k["stroke-opacity"] = 0, k["stroke-width"] = 4, 
        k.stroke = "black", f = SVG.drawLine(e.getAttribute("dragx"), e.getAttribute("dragy"), d.getAttribute("dragx"), d.getAttribute("dragy"), this.GraphEdgeGroup, k);
    }
    if (this.getFormatter().getEdgeById(a) instanceof BezierEdgeGraphFormatter) {
        var l = c.getNodeTarget().getId(), m = this.formatter.getVertexById(l).getDefault().getSize() * this.getFormatter().getNodesMaxSize();
        b.fill = "none", b.id = this.getSVGEdgeId(a);
        var n = this.calculateCoordenatesBezier(m, e.getAttribute("dragx"), e.getAttribute("dragy"));
        f = SVG.drawPath(n, this.GraphEdgeGroup, b);
    }
    if (this.getFormatter().getEdgeById(a) instanceof DirectedLineEdgeGraphFormatter || this.getFormatter().getEdgeById(a) instanceof CutDirectedLineEdgeGraphFormatter || this.getFormatter().getEdgeById(a) instanceof DotDirectedLineEdgeGraphFormatter || this.getFormatter().getEdgeById(a) instanceof OdotDirectedLineEdgeGraphFormatter || this.getFormatter().getEdgeById(a) instanceof OdirectedLineEdgeGraphFormatter) {
        var g = e.getAttribute("dragx"), h = e.getAttribute("dragy"), i = d.getAttribute("dragx"), j = d.getAttribute("dragy"), o = parseFloat(this.getFormatter().getVertexById(this.getDataset().getEdgeById(a).getNodeTarget().getId()).getDefault().getSize() * this.circleDefaultRadius), p = this._calculateEdgePointerPosition(g, h, i, j, o);
        i = p.x, j = p.y, SVG.drawLine(g, h, i, j, this.GraphEdgeGroup, b);
        var k = {};
        k.id = this.getSVGEdgeId(c.getId()), k["stroke-opacity"] = 0, k["stroke-width"] = 4, 
        k.stroke = "black", f = SVG.drawLine(g, h, i, j, this.GraphEdgeGroup, k);
    }
    if (this.getFormatter().getEdgeById(a) instanceof DirectedLineEdgeGraphFormatter || this.getFormatter().getEdgeById(a) instanceof OdirectedLineEdgeGraphFormatter) {
        var g = e.getAttribute("dragx"), h = e.getAttribute("dragy"), i = d.getAttribute("dragx"), j = d.getAttribute("dragy"), p = this._calculateEdgePointerPosition(g, h, i, j, o);
        i = p.x, j = p.y;
        var q = Geometry.toDegree(p.angle) + 90;
        this.arrowDefaultSize = this.getFormatter().getEdgeById(a).getArrowSize();
        var r, n = "-" + this.arrowDefaultSize + ",0 0,-" + 2 * parseFloat(this.arrowDefaultSize) + " " + this.arrowDefaultSize + ",0";
        r = this.getFormatter().getEdgeById(a) instanceof DirectedLineEdgeGraphFormatter ? [ [ "fill", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "stroke", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "id", this.getSVGArrowEdgeId(a) ] ] : [ [ "fill", "#FFFFFF" ], [ "stroke", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "id", this.getSVGArrowEdgeId(a) ] ];
        var s = SVG.drawPoligon(n, this.GraphEdgeGroup, r);
        s.setAttribute("transform", " translate(" + i + ", " + j + "), rotate(" + q + ")");
    }
    if (this.getFormatter().getEdgeById(a) instanceof CutDirectedLineEdgeGraphFormatter) {
        var g = e.getAttribute("dragx"), h = e.getAttribute("dragy"), i = d.getAttribute("dragx"), j = d.getAttribute("dragy"), p = this._calculateEdgePointerPosition(g, h, i, j, o);
        i = p.x, j = p.y;
        var q = Geometry.toDegree(p.angle) + 90, n = "-4,0 4,0 4,-2 -4,-2", s = SVG.drawPoligon(n, this.GraphEdgeGroup, [ [ "fill", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "stroke", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "id", this.getSVGArrowEdgeId(a) ] ]);
        s.setAttribute("transform", " translate(" + i + ", " + j + "), rotate(" + q + ")");
    }
    if (this.getFormatter().getEdgeById(a) instanceof DotDirectedLineEdgeGraphFormatter || this.getFormatter().getEdgeById(a) instanceof OdotDirectedLineEdgeGraphFormatter) {
        var g = e.getAttribute("dragx"), h = e.getAttribute("dragy"), i = d.getAttribute("dragx"), j = d.getAttribute("dragy"), p = this._calculateEdgePointerPosition(g, h, i, j, o);
        i = p.x, j = p.y;
        var q = Geometry.toDegree(p.angle) + 90, r = [];
        r = this.getFormatter().getEdgeById(a) instanceof OdotDirectedLineEdgeGraphFormatter ? [ [ "fill", "#FFFFFF" ], [ "stroke", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "id", this.getSVGArrowEdgeId(a) ] ] : [ [ "fill", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "stroke", this.getFormatter().getEdgeById(a).getDefault().getStroke() ], [ "id", this.getSVGArrowEdgeId(a) ] ];
        var s = SVG.drawCircle(0, 0, 4, this.GraphEdgeGroup, r);
        s.setAttribute("transform", " translate(" + i + ", " + j + "), rotate(" + q + ")");
    }
    var t = this;
    null != f && this.getDataset().getEdgesCount() < this.args.maxNumberEdgesFiringEvents && (f.addEventListener("mouseover", function() {
        t.overEdge(a);
    }, !1), f.addEventListener("mouseout", function() {
        t.outEdge(a);
    }, !1));
}, GraphCanvas.prototype._calculateEdgePointerPosition = function(a, b, c, d, e) {
    var f = Geometry.getAngleBetweenTwoPoints(a, b, c, d);
    if (0 > c - a) {
        var g = Geometry.getAdjacentSideOfRectangleRight(f, e);
        c = parseFloat(c) + parseFloat(g), arrowX = parseFloat(c) + parseFloat(g) + this.arrowDefaultSize / 2;
    } else {
        var g = Geometry.getAdjacentSideOfRectangleRight(f, e);
        c = parseFloat(c) - parseFloat(g), arrowX = parseFloat(c) - parseFloat(g) - this.arrowDefaultSize / 2;
    }
    if (d - b > 0) {
        var h = Geometry.getOppositeSideOfRectangleRight(f, e);
        d = parseFloat(d) - parseFloat(h), arrowY = parseFloat(d) - parseFloat(h) - this.arrowDefaultSize / 2;
    } else {
        var h = Geometry.getOppositeSideOfRectangleRight(f, e);
        d = parseFloat(d) + parseFloat(h), arrowY = parseFloat(d) + parseFloat(h) - this.arrowDefaultSize / 2;
    }
    return {
        x: arrowX,
        y: arrowY,
        angle: f
    };
}, GraphCanvas.prototype.calculateCoordenatesBezier = function(a, b, c) {
    var d = b - a / 2, e = c - a / 2, f = parseFloat(b) + parseFloat(a / 2), g = c - a / 2, h = (f - d) / 2 + d, i = c - 2 * a, j = "M" + d + "," + e + " T" + h + "," + i + " " + f + "," + g;
    return j;
}, GraphCanvas.prototype.renderEdges = function() {
    for (var a in this.getDataset().getEdges()) this.renderEdge(this.getDataset().getEdgeById(a).getId());
}, GraphCanvas.prototype.getLastSelectedNode = function() {
    var a = null;
    if (this.getSelectedVertices().length > 0) {
        var b = this.getSelectedVertices()[this.getSelectedVertices().length - 1];
        a = this.getDataset().getVertexById(b);
    }
    return a;
}, GraphCanvas.prototype.setDataset = function(a) {
    this.dataset = a;
}, GraphCanvas.prototype.setFormatter = function(a) {
    this.formatter = a;
}, GraphCanvas.prototype.setLayout = function(a) {
    this.layout = a;
}, GraphCanvas.prototype.getDataset = function() {
    return this.dataset;
}, GraphCanvas.prototype.getFormatter = function() {
    return this.formatter;
}, GraphCanvas.prototype.getLayout = function() {
    return this.layout;
}, GraphCanvas.prototype.addVertex = function(a, b) {
    this.getDataset().addNode(a, b);
}, GraphCanvas.prototype.removeVertex = function(a) {
    this.getDataset().getVertexById(a).remove();
}, GraphCanvas.prototype.addEdge = function(a, b, c, d) {
    this.getDataset().addEdge(a, b, c, d);
}, GraphCanvas.prototype.getWidth = function() {
    return this.getFormatter().getWidth();
}, GraphCanvas.prototype.getHeight = function() {
    return this.getFormatter().getHeight();
}, GraphCanvas.prototype.getBackgroundImage = function() {
    return this.getFormatter().getBackgroundImage();
}, GraphCanvas.prototype.getBackgroundColor = function() {
    return this.getFormatter().getBackgroundColor();
}, GraphCanvas.prototype.setBackgroundColor = function() {
    this.getFormatter().setBackgroundColor(value);
}, GraphCanvas.prototype.setVertexSize = function(a, b) {
    this.getFormatter().getVertexById(a).getDefault().setSize(b);
}, GraphCanvas.prototype.getVertexSize = function(a) {
    return this.getFormatter().getVertexById(a).getDefault().getSize();
}, GraphCanvas.prototype.setVertexStroke = function(a, b) {
    this.getFormatter().getVertexById(a).getDefault().setStroke(b);
}, GraphCanvas.prototype.getVertexStroke = function(a) {
    return this.getFormatter().getVertexById(a).getDefault().getStroke();
}, GraphCanvas.prototype.setVertexStrokeOpacity = function(a, b) {
    this.getFormatter().getVertexById(a).getDefault().setStrokeOpacity(b);
}, GraphCanvas.prototype.getVertexStrokeOpacity = function(a) {
    return this.getFormatter().getVertexById(a).getDefault().getStrokeOpacity();
}, GraphCanvas.prototype.setVertexOpacity = function(a, b) {
    this.getFormatter().getVertexById(a).getDefault().setOpacity(b);
}, GraphCanvas.prototype.getVertexOpacity = function(a) {
    return this.getFormatter().getVertexById(a).getDefault().getOpacity();
}, GraphCanvas.prototype.setVertexFill = function(a, b) {
    this.getFormatter().getVertexById(a).getDefault().setFill(b);
}, GraphCanvas.prototype.getVertexFill = function(a) {
    return this.getFormatter().getVertexById(a).getDefault().getFill();
}, GraphCanvas.prototype.setEdgeSize = function(a, b) {
    this.getFormatter().getEdgeById(a).getDefault().setSize(b);
}, GraphCanvas.prototype.getEdgeSize = function(a) {
    return this.getFormatter().getEdgeById(a).getDefault().getSize();
}, GraphCanvas.prototype.setEdgeStroke = function(a, b) {
    this.getFormatter().getEdgeById(a).getDefault().setStroke(b);
}, GraphCanvas.prototype.getEdgeStroke = function(a) {
    return this.getFormatter().getEdgeById(a).getDefault().getStroke();
}, GraphCanvas.prototype.setEdgeStrokeOpacity = function(a, b) {
    this.getFormatter().getEdgeById(a).getDefault().setStrokeOpacity(b);
}, GraphCanvas.prototype.getEdgeStrokeOpacity = function(a) {
    return this.getFormatter().getEdgeById(a).getDefault().getStrokeOpacity();
}, GraphCanvas.prototype.setEdgeFill = function(a, b) {
    this.getFormatter().getEdgeById(a).getDefault().setFill(b);
}, GraphCanvas.prototype.getEdgeFill = function(a) {
    return this.getFormatter().getEdgeById(a).getDefault().getFill();
}, GraphCanvas.prototype.setCoordinates = function(a, b, c) {
    return this.getLayout().getEdgeById(a).setCoordinates(b, c);
}, GraphDataset.prototype.loadFromJSON = DataSet.prototype.loadFromJSON, GraphDataset.prototype.toJSON = DataSet.prototype.toJSON, 
GraphDataset.prototype.validate = DataSet.prototype.validate, GraphDataset.prototype.getMaxClass = function() {
    var a = 0;
    for (var b in this.vertices) this.vertices[b].getEdgesCount() > a && (a = this.vertices[b].getEdgesCount());
    return a;
}, GraphDataset.prototype.getMinClass = function() {
    var a = Math.min();
    for (var b in this.vertices) this.vertices[b].getEdgesCount() < a && (a = this.vertices[b].getEdgesCount());
    return a;
}, GraphDataset.prototype.getVertexByName = function(a) {
    var b = new Array();
    for (var c in this.verticesIndex[a]) {
        var d = this.getVertexById(this.verticesIndex[a][c]);
        return b.push(d), d;
    }
    return 1 >= b ? this.getVertexById(this.verticesIndex[a]) : b;
}, GraphDataset.prototype.getVertexById = function(a) {
    return this.vertices[a];
}, GraphDataset.prototype.toSIF = function() {
    var a = new SifFileDataAdapter();
    return a.toSIF(this);
}, GraphDataset.prototype.toSIFID = function() {
    var a = new SifFileDataAdapter();
    return a.toSIFID(this);
}, GraphDataset.prototype.toDOT = function() {
    var a = new DotFileDataAdapter();
    return a.toDOT(this);
}, GraphDataset.prototype.toDOTID = function() {
    var a = new DotFileDataAdapter();
    return a.toDOTID(this);
}, GraphDataset.prototype._addNode = function(a, b) {
    return new Vertex(this._getVerticesCount() - 1, a, b);
}, GraphDataset.prototype.addNode = function(a, b) {
    this.json.vertices.push(a), this._addVerticesIndex(a, this._getVerticesCount() - 1);
    var c = this._addNode(a, b);
    this.vertices[this._getVerticesCount() - 1] = c, this._setNodeEvents(c), this.newVertex.notify(c);
}, GraphDataset.prototype._addVerticesIndex = function(a, b) {
    null == this.verticesIndex[a] && (this.verticesIndex[a] = new Array()), this.verticesIndex[a].push(b);
}, GraphDataset.prototype.addEdge = function(a, b, c, d) {
    this.json.edges.push(a);
    var e = this.getVertexById(b), f = this.getVertexById(c), g = this.getEdgesCount() - 1;
    this.edges[g] = new Edge(g, a, e, f, d), this.json.relations.push({
        index: g,
        sourceIndex: b,
        targetIndex: c,
        args: d
    }), e.addEdge(this.edges[g]), f.addEdge(this.edges[g]), this._setEdgeEvents(this.edges[g]), 
    this.newEdge.notify(this.edges[g]);
}, GraphDataset.prototype.getVertices = function() {
    return this.vertices;
}, GraphDataset.prototype.getEdges = function() {
    return this.edges;
}, GraphDataset.prototype.getEdgeById = function(a) {
    return this.edges[a];
}, GraphDataset.prototype._getVerticesCount = function() {
    return this.json.vertices.length;
}, GraphDataset.prototype.getVerticesCount = function() {
    var a = 0;
    for (var b in this.getVertices()) a++;
    return a;
}, GraphDataset.prototype.getEdgesCount = function() {
    return this.json.edges.length;
}, GraphDataset.prototype.init = function() {
    this.edges = new Object(), this.vertices = new Object();
}, GraphDataset.prototype._setNodeEvents = function(a) {
    var b = this;
    a.deleted.attach(function(a, c) {
        b._removeNode(c);
    }), a.nameChanged.attach(function(a, c) {
        for (var d = c.item, e = d.name, f = b.verticesIndex[c.previousName], g = 0; g < f.length; g++) f[g] == d.id && f.splice(g, 1);
        0 == f.length && delete b.verticesIndex[c.previousName], b._addVerticesIndex(e, d.id), 
        b.json.vertices[d.id] = e, b.vertexNameChanged.notify(c);
    });
}, GraphDataset.prototype._setEdgeEvents = function(a) {
    var b = this;
    a.nameChanged.attach(function(a, c) {
        b.edgeNameChanged.notify(c);
    }), a.deleted.attach(function(a, c) {
        b._removeEdge(c);
    });
}, GraphDataset.prototype._connectVerticesByName = function(a, b) {
    var c = this.getVertexByName(a), d = this.getVertexByName(b);
    null != c && null != d ? this.addEdge(c.getName() + "_" + d.getName(), c.getId(), d.getId(), {}) : (null == c && console.log("No encontrado: " + a), 
    null == d && console.log("No encontrado: " + b));
}, GraphDataset.prototype.loadFromJSON = function(a) {
    var a = a;
    this.init(), this.json = new Object(), this.json.vertices = new Array(), this.json.edges = new Array(), 
    this.json.relations = new Array();
    for (var b = 0; b < a.nodes.length; b++) if (null != a.nodes[b]) {
        var c = a.nodes[b];
        this.addNode(c);
    } else this.json.vertices.push(null);
    for (var b = 0; b < a.edges.length; b++) if (null != a.edges[b]) {
        if (null != a.relations[b]) {
            var c = a.edges[b];
            this.addEdge(c, a.relations[b].sourceIndex, a.relations[b].targetIndex, a.relations[b].args);
        }
    } else this.json.edges.push(null), this.json.relations.push(null);
}, GraphDataset.prototype.prettyPrint = function() {
    for (var a in this.vertices) {
        console.log(this.vertices[a].getName());
        for (var b = 0; b < this.vertices[a].getEdgesIn().length; b++) console.log("          --> " + this.vertices[a].getEdgesIn()[b].getNodeTarget().getName());
    }
}, GraphDataset.prototype._removeEdge = function(a) {
    this.json.edges[a.getId()] = null, this.json.relations[a.getId()] = null, delete this.edges[a.getId()], 
    this.edgeDeleted.notify(a);
}, GraphDataset.prototype._removeNode = function(a) {
    this.json.vertices[a.getId()] = null, delete this.vertices[a.getId()], this.vertexDeleted.notify(a);
}, GraphDataset.prototype.toJSON = function() {
    var a = new Object();
    new Array();
    return a.nodes = this.json.vertices, a.edges = this.json.edges, a.relations = this.json.relations, 
    a;
}, GraphDataset.prototype.clone = function() {
    var a = new GraphDataset();
    return a.loadFromJSON(this.toJSON()), a;
}, GraphItem.prototype.getName = function() {
    return this.name;
}, GraphItem.prototype.getId = function() {
    return this.id;
}, GraphItem.prototype.setName = function(a) {
    var b = this.getName();
    this.name = a, this.nameChanged.notify({
        item: this,
        previousName: b
    });
}, ItemGraphFormatter.prototype.getType = function() {
    return this.args.type;
}, ItemGraphFormatter.prototype.toJSON = function() {
    var a = this.args;
    return a.defaultFormat = this.getDefault().toJSON(), a.over = this.getOver().toJSON(), 
    a.selected = this.getSelected().toJSON(), a.dragging = this.getDragging().toJSON(), 
    a.id = this.id, a;
}, ItemGraphFormatter.prototype.loadFromJSON = function(a) {
    this.args = a, this.defaultFormat = new ItemFormat(a.defaultFormat), this.over = new ItemFormat(a.over), 
    this.selected = new ItemFormat(a.selected), this.dragging = new ItemFormat(a.dragging), 
    this._setEvents();
}, ItemGraphFormatter.prototype._setEvents = function() {
    var a = this;
    this.defaultFormat.changed.attach(function(b, c) {
        a.over.setSize(a.defaultFormat.getSize()), a.selected.setSize(a.defaultFormat.getSize()), 
        a.dragging.setSize(a.defaultFormat.getSize()), a.stateChanged.notify(a);
    }), this.selected.changed.attach(function(b, c) {
        a.stateChanged.notify(a);
    }), this.over.changed.attach(function(b, c) {
        a.stateChanged.notify(a);
    }), this.dragging.changed.attach(function(b, c) {
        a.stateChanged.notify(a);
    });
}, ItemGraphFormatter.prototype.getId = function() {
    return this.id;
}, ItemGraphFormatter.prototype.getDefault = function() {
    return this.defaultFormat;
}, ItemGraphFormatter.prototype.getSelected = function() {
    return this.selected;
}, ItemGraphFormatter.prototype.getOver = function() {
    return this.over;
}, ItemGraphFormatter.prototype.getDragging = function() {
    return this.dragging;
}, ItemFormat.prototype._fixColor = function(a) {
    var b = a;
    return -1 != a.indexOf("green") && (b = "#04B431"), -1 != a.indexOf("blue") && (b = "#045FB4"), 
    -1 != a.indexOf("red") && (b = "#DF0101"), -1 != a.indexOf("black") && (b = "#000000"), 
    -1 != a.indexOf("white") && (b = "#FFFFFF"), -1 == a.indexOf("#") && (b = "#" + a), 
    b;
}, ItemFormat.prototype.toJSON = function() {
    return null != this.args.strokeOpacity && (this.args["stroke-opacity"] = this.args.strokeOpacity, 
    delete this.args.strokeOpacity), null != this.args.title.fontColor ? this.args.title["font-color"] = this.args.title.fontColor : this.args.title["font-color"] = this.args.fontColor, 
    null != this.args.title.fontSize ? this.args.title["font-size"] = this.args.title.fontSize : this.args.title["font-size"] = this.args.fontSize, 
    this.args;
}, ItemFormat.prototype.getAttribute = function(a) {
    return this.args[a];
}, ItemFormat.prototype.setVisible = function(a) {
    this.args.visible != a && (this.args.visible = a, this.changed.notify(this));
}, ItemFormat.prototype.getVisible = function() {
    return this.args.visible;
}, ItemFormat.prototype.setHidden = function(a) {
    this.args.hidden != a && (this.args.hidden = a, this.changed.notify(this));
}, ItemFormat.prototype.getHidden = function() {
    return this.args.hidden;
}, ItemFormat.prototype.setStroke = function(a) {
    this.args.stroke != a && (this.args.stroke = a, this.changed.notify(this));
}, ItemFormat.prototype.getStroke = function() {
    return this.args.stroke;
}, ItemFormat.prototype.setStrokeOpacity = function(a) {
    this.args.strokeOpacity != a && (this.args.strokeOpacity = a, this.changed.notify(this));
}, ItemFormat.prototype.getStrokeOpacity = function() {
    return this.args["stroke-opacity"];
}, ItemFormat.prototype.setStrokeWidth = function(a) {
    this.args["stroke-width"] != a && (this.args["stroke-width"] = a, this.changed.notify(this));
}, ItemFormat.prototype.getFillOpacity = function() {
    return this.args["fill-opacity"];
}, ItemFormat.prototype.setfillOpacity = function(a) {
    this.args["fill-opacity"] != a && (this.args["fill-opacity"] = a, this.changed.notify(this));
}, ItemFormat.prototype.getStrokeWidth = function() {
    return this.args["stroke-width"];
}, ItemFormat.prototype.setFill = function(a) {
    this.args.fill != a && (this.args.fill = a, this.changed.notify(this));
}, ItemFormat.prototype.getFill = function() {
    return this.args.fill;
}, ItemFormat.prototype.setSize = function(a) {
    this.args.size != a && (this.args.size = a, this.changed.notify(this));
}, ItemFormat.prototype.getSize = function() {
    return this.args.size;
}, ItemFormat.prototype.setOpacity = function(a) {
    this.args.opacity != a && (this.args.opacity = a, this.changed.notify(this));
}, ItemFormat.prototype.getOpacity = function() {
    return this.args.opacity;
}, ItemFormat.prototype.getArrowSize = function() {
    return this.args.arrowSize;
}, ItemFormat.prototype.setArrowSize = function(a) {
    this.args.arrowSize != a && (this.args.arrowSize = a, this.changed.notify(this));
}, ItemFormat.prototype.getFontSize = function() {
    return this.args.title.fontSize;
}, ItemFormat.prototype.setFontSize = function(a) {
    this.args.title.fontSize != a && (this.args.title.fontSize = a, this.changed.notify(this));
}, LayoutDataset.prototype.loadFromJSON = function(a, b) {
    var c = this;
    this.vertices = new Object(), this.dataset = a;
    for (var d in b) this.vertices[d] = new NodeLayout(d, b[d].x, b[d].y), this.vertices[d].changed.attach(function(a, b) {
        c.changed.notify(b);
    });
    this._attachDatasetEvents();
}, LayoutDataset.prototype.toJSON = function() {
    var a = new Object();
    for (var b in this.vertices) a[b] = new Object(), a[b].x = this.vertices[b].x, a[b].y = this.vertices[b].y;
    return a.dataset = new Object(), a.dataset = this.dataset.toJSON(), a;
}, LayoutDataset.prototype.dataBind = function(a) {
    this.dataset = a, this._attachDatasetEvents(), this._calculateLayout();
}, LayoutDataset.prototype._removeVertex = function(a) {
    delete this.vertices[a];
}, LayoutDataset.prototype._attachDatasetEvents = function() {
    var a = this;
    this.dataset.vertexDeleted.attach(function(b, c) {
        a._removeVertex(c.getId());
    }), this.dataset.newVertex.attach(function(b, c) {
        a.vertices[c.getId()] = new NodeLayout(c.getId(), .5, .5), a.vertices[c.getId()].changed.attach(function(b, c) {
            a.changed.notify(c);
        });
    });
}, LayoutDataset.prototype.getType = function() {
    return this.args.type;
}, LayoutDataset.prototype._calculateLayoutVertices = function(a, b) {
    if ("CIRCLE" == a) {
        for (var c = .4, d = .5, e = .5, f = new Array(), g = 0; b > g; g++) x = d + c * Math.sin(2 * g * Math.PI / b), 
        y = e + c * Math.cos(2 * g * Math.PI / b), f.push({
            x: x,
            y: y
        });
        return f;
    }
}, LayoutDataset.prototype._calculateLayout = function() {
    var a = this;
    if ("RANDOM" == this.getType()) for (var b in this.dataset.getVertices()) null == this.vertices[b] && (this.vertices[b] = new NodeLayout(b, 0, 0)), 
    this.vertices[b].setCoordinates(Math.random(), Math.random()), this.vertices[b].changed.attach(function(b, c) {
        a.changed.notify(c);
    });
    if ("CIRCLE" == this.getType()) {
        var c = this.dataset._getVerticesCount(), d = this._calculateLayoutVertices(this.getType(), c), e = 0;
        for (var b in this.dataset.getVertices()) null == this.vertices[b] && (this.vertices[b] = new NodeLayout(b, 0, 0)), 
        this.vertices[b].setCoordinates(d[e].x, d[e].y), e++, this.vertices[b].changed.attach(function(b, c) {
            a.changed.notify(c);
        });
    }
    if ("SQUARE" == this.getType()) {
        for (var c = this.dataset._getVerticesCount(), f = .1, g = .9, h = .1, i = Math.sqrt(c), j = (g - f) / i, d = new Array(), k = 0; i > k; k++) for (var l = 0; i > l; l++) x = k * j + f, 
        y = l * j + h, d.push({
            x: x,
            y: y
        });
        var e = 0;
        for (var b in this.dataset.getVertices()) null == this.vertices[b] && (this.vertices[b] = new NodeLayout(b, 0, 0)), 
        this.vertices[b].setCoordinates(d[e].x, d[e].y), e++, this.vertices[b].changed.attach(function(b, c) {
            a.changed.notify(c);
        });
    }
}, LayoutDataset.prototype.getNodeById = function(a) {
    return this.vertices[a];
}, LayoutDataset.prototype.getVerticesByArea = function(a, b, c, d) {
    var e = new Array();
    for (var f in this.dataset.getVertices()) this.vertices[f].x >= a && this.vertices[f].x <= c && this.vertices[f].y >= b && this.vertices[f].y <= d && e.push(this.vertices[f]);
    return e;
}, LayoutDataset.prototype.getLayout = function(a) {
    if ("CIRCLE" == a) return this.args.type = "CIRCLE", void this._calculateLayout();
    if ("SQUARE" == a) return this.args.type = "SQUARE", void this._calculateLayout();
    if ("RANDOM" == a) return this.args.type = "RANDOM", void this._calculateLayout();
    var b = this.dataset.toDOTID(), c = "http://bioinfo.cipf.es/utils/ws/rest/network/layout/" + a + ".coords", d = this;
    $.ajax({
        async: !0,
        type: "POST",
        url: c,
        dataType: "text",
        data: {
            dot: b
        },
        cache: !1,
        success: function(a) {
            var b = JSON.parse(a);
            for (var c in b) d.vertices[c].setCoordinates(b[c].x, b[c].y);
        }
    });
}, NodeLayout.prototype.getId = function(a) {
    return this.id;
}, NodeLayout.prototype.setCoordinates = function(a, b) {
    this.x = a, this.y = b, this.changed.notify(this);
}, NetworkDataSetFormatter.prototype.loadFromJSON = function(a, b) {
    this.args = new Object(), this.vertices = new Object(), this.args = b, this._setDataset(a);
    for (var c in b.vertices) this.addVertex(c, b.vertices[c]);
    for (var d in b.edges) this.addEdge(d, b.edges[d]);
}, NetworkDataSetFormatter.prototype.toJSON = function() {
    var a = new Object();
    a = JSON.parse(JSON.stringify(this.args)), a.vertices = new Object(), a.edges = new Object();
    for (var b in this.vertices) a.vertices[b] = this.getVertexById(b).toJSON();
    for (var c in this.edges) a.edges[c] = this.getEdgeById(c).toJSON();
    return a;
}, NetworkDataSetFormatter.prototype._getNodeSize = function(a) {
    if (this.isVerticesBalanced()) {
        var b = this.maxClass - this.minClass;
        0 == b && (b = 1);
        var c = this.dataset.getVertexById(a).getEdges().length;
        return c * this.args.nodesMaxSize / b + this.args.nodesMinSize;
    }
    return this.getVertexById(a).getDefault().getSize();
}, NetworkDataSetFormatter.prototype._recalculateSize = function() {
    if (this.isVerticesBalanced()) {
        this.maxClass = this.dataset.getMaxClass(), this.minClass = this.dataset.getMinClass();
        for (var a in this.vertices) {
            var b = this._getNodeSize(a);
            this.vertices[a].getDefault().setSize(b), this.vertices[a].getSelected().setSize(b), 
            this.vertices[a].getOver().setSize(b);
        }
    }
}, NetworkDataSetFormatter.prototype.addVertex = function(a, b) {
    null == b ? this.vertices[a] = new CircleVertexGraphFormatter(a, this.args.vertexFormatProperties.defaultFormat, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging) : (null == b.type && (this.vertices[a] = new CircleVertexGraphFormatter(a, this.args.vertexFormatProperties.defaultFormat, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging)), 
    ("SquareVertexGraphFormatter" == b.type || "SquareVertexNetworkFormatter" == b.type) && (this.vertices[a] = new SquareVertexGraphFormatter(a), 
    this.vertices[a].loadFromJSON(b)), ("CircleVertexGraphFormatter" == b.type || "CircleVertexNetworkFormatter" == b.type) && (this.vertices[a] = new CircleVertexGraphFormatter(a), 
    this.vertices[a].loadFromJSON(b)), ("EllipseVertexGraphFormatter" == b.type || "EllipseVertexNetworkFormatter" == b.type) && (this.vertices[a] = new EllipseVertexGraphFormatter(a), 
    this.vertices[a].loadFromJSON(b)), ("RectangleVertexGraphFormatter" == b.type || "RectangleVertexNetworkFormatter" == b.type) && (this.vertices[a] = new RectangleVertexGraphFormatter(a), 
    this.vertices[a].loadFromJSON(b)), ("RoundedVertexGraphFormatter" == b.type || "RoundedVertexNetworkFormatter" == b.type) && (this.vertices[a] = new RoundedVertexGraphFormatter(a), 
    this.vertices[a].loadFromJSON(b)));
    var c = this;
    this.vertices[a].stateChanged.attach(function(a, b) {
        c.changed.notify(b);
    });
    var d = this._getNodeSize(a);
    this.vertices[a].defaultFormat.args.size = d, this.vertices[a].selected.args.size = d, 
    this.vertices[a].over.args.size = d;
}, NetworkDataSetFormatter.prototype.addEdge = function(a, b) {
    null == b ? this.dataset.getEdgeById(a).getNodeSource().getId() == this.dataset.getEdgeById(a).getNodeTarget().getId() ? this.edges[a] = new BezierEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging) : this.edges[a] = new DirectedLineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging) : (null == b.type && (this.edges[a] = new LineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging)), 
    ("LineEdgeGraphFormatter" == b.type || "LineEdgeNetworkFormatter" == b.type) && (this.edges[a] = new LineEdgeGraphFormatter(a), 
    this.edges[a].loadFromJSON(b)), ("DirectedLineEdgeGraphFormatter" == b.type || "DirectedLineEdgeNetworkFormatter" == b.type) && (this.edges[a] = new DirectedLineEdgeGraphFormatter(a), 
    this.edges[a].loadFromJSON(b)), ("BezierEdgeGraphFormatter" == b.type || "BezierEdgeNetworkFormatter" == b.type) && (this.edges[a] = new BezierEdgeGraphFormatter(a), 
    this.edges[a].loadFromJSON(b)), ("CutDirectedLineEdgeGraphFormatter" == b.type || "CutDirectedLineEdgeNetworkFormatter" == b.type) && (this.edges[a] = new CutDirectedLineEdgeGraphFormatter(a), 
    this.edges[a].loadFromJSON(b)), ("DotDirectedLineEdgeGraphFormatter" == b.type || "DotDirectedLineEdgeNetworkFormatter" == b.type) && (this.edges[a] = new DotDirectedLineEdgeGraphFormatter(a), 
    this.edges[a].loadFromJSON(b)), ("OdotDirectedLineEdgeGraphFormatter" == b.type || "OdotDirectedLineEdgeNetworkFormatter" == b.type) && (this.edges[a] = new OdotDirectedLineEdgeGraphFormatter(a), 
    this.edges[a].loadFromJSON(b)), ("OdirectedLineEdgeGraphFormatter" == b.type || "OdirectedLineEdgeNetworkFormatter" == b.type) && (this.edges[a] = new OdirectedLineEdgeGraphFormatter(a), 
    this.edges[a].loadFromJSON(b)));
    var c = this;
    this.edges[a].stateChanged.attach(function(a, b) {
        c.edgeChanged.notify(b);
    }), this._recalculateSize();
}, NetworkDataSetFormatter.prototype._setDataset = function(a) {
    this.dataset = a, this.maxClass = a.getMaxClass(), this.minClass = a.getMinClass(), 
    this._attachDatasetEvents();
}, NetworkDataSetFormatter.prototype.changeEdgeType = function(a, b) {
    ("LineEdgeGraphFormatter" == b || "LineEdgeNetworkFormatter" == b) && (this.edges[a] = new LineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging)), 
    ("DirectedLineEdgeGraphFormatter" == b || "DirectedLineEdgeNetworkFormatter" == b) && (this.edges[a] = new DirectedLineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging)), 
    ("CutDirectedLineEdgeGraphFormatter" == b || "CutDirectedLineEdgeNetworkFormatter" == b) && (this.edges[a] = new CutDirectedLineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging)), 
    ("DotDirectedLineEdgeGraphFormatter" == b || "DotDirectedLineEdgeNetworkFormatter" == b) && (this.edges[a] = new DotDirectedLineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging)), 
    ("OdotDirectedLineEdgeGraphFormatter" == b || "OdotDirectedLineEdgeNetworkFormatter" == b) && (this.edges[a] = new OdotDirectedLineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging)), 
    ("OdirectedLineEdgeGraphFormatter" == b || "OdirectedLineEdgeNetworkFormatter" == b) && (this.edges[a] = new OdirectedLineEdgeGraphFormatter(a, this.args.defaultEdgeProperties.defaultFormat, this.args.defaultEdgeProperties.selected, this.args.defaultEdgeProperties.over, this.args.defaultEdgeProperties.dragging));
    var c = this;
    this.edges[a].stateChanged.attach(function(a, b) {
        c.edgeChanged.notify(b);
    }), c.edgeChanged.notify(this.edges[a]);
}, NetworkDataSetFormatter.prototype.changeNodeType = function(a, b) {
    var c = JSON.parse(JSON.stringify(this.vertices[a].getDefault())), c = (JSON.parse(JSON.stringify(this.vertices[a].getSelected())), 
    JSON.parse(JSON.stringify(this.vertices[a].getDefault()))), c = JSON.parse(JSON.stringify(this.vertices[a].getDefault()));
    ("SquareVertexGraphFormatter" == b || "SquareVertexNetworkFormatter" == b) && (this.vertices[a] = new SquareVertexGraphFormatter(a, c, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging)), 
    ("CircleVertexGraphFormatter" == b || "CircleVertexNetworkFormatter" == b) && (this.vertices[a] = new CircleVertexGraphFormatter(a, c, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging)), 
    ("EllipseVertexGraphFormatter" == b || "EllipseVertexNetworkFormatter" == b) && (this.vertices[a] = new EllipseVertexGraphFormatter(a, c, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging)), 
    ("RectangleVertexGraphFormatter" == b || "RectangleVertexNetworkFormatter" == b) && (this.vertices[a] = new RectangleVertexGraphFormatter(a, c, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging)), 
    ("RoundedVertexGraphFormatter" == b || "RoundedVertexNetworkFormatter" == b) && (this.vertices[a] = new RoundedVertexGraphFormatter(a, c, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging)), 
    ("OctagonVertexGraphFormatter" == b || "OctagonVertexNetworkhFormatter" == b) && (this.vertices[a] = new OctagonVertexGraphFormatter(a, c, this.args.vertexFormatProperties.selected, this.args.vertexFormatProperties.over, this.args.vertexFormatProperties.dragging));
    var d = this;
    this.vertices[a].stateChanged.attach(function(a, b) {
        d.changed.notify(b);
    }), d.changed.notify(this.vertices[a]);
}, NetworkDataSetFormatter.prototype.dataBind = function(a) {
    this._setDataset(a);
    for (var b in this.dataset.getVertices()) this.addVertex(b);
    for (var c in this.dataset.getEdges()) this.addEdge(c);
}, NetworkDataSetFormatter.prototype._removeEdge = function(a) {
    delete this.edges[a];
}, NetworkDataSetFormatter.prototype._removeVertex = function(a) {
    delete this.vertices[a];
}, NetworkDataSetFormatter.prototype._attachDatasetEvents = function(a) {
    var b = this;
    this.dataset.vertexDeleted.attach(function(a, c) {
        b._removeVertex(c.getId());
    }), this.dataset.edgeDeleted.attach(function(a, c) {
        b._removeEdge(c.getId());
    }), this.dataset.newVertex.attach(function(a, c) {
        b.addVertex(c.getId());
    }), this.dataset.newEdge.attach(function(a, c) {
        b.addEdge(c.getId());
    });
}, NetworkDataSetFormatter.prototype.getVertexById = function(a) {
    return this.vertices[a];
}, NetworkDataSetFormatter.prototype.getEdgeById = function(a) {
    return this.edges[a];
}, NetworkDataSetFormatter.prototype.makeLabelsBigger = function() {
    for (var a in this.vertices) {
        var b = this.vertices[a].getDefault().getFontSize() + 2;
        this.vertices[a].getDefault().setFontSize(b);
    }
}, NetworkDataSetFormatter.prototype.makeLabelsSmaller = function() {
    for (var a in this.vertices) {
        var b = this.vertices[a].getDefault().getFontSize() - 2;
        this.vertices[a].getDefault().setFontSize(b);
    }
}, NetworkDataSetFormatter.prototype.resize = function(a, b) {
    this.args.width = a, this.args.height = b, this.resized.notify();
}, NetworkDataSetFormatter.prototype.getZoomScaleStepFactor = function() {
    return this.args.zoomScaleStepFactor;
}, NetworkDataSetFormatter.prototype.setZoomScaleStepFactor = function(a) {
    this.args.zoomScaleStepFactor = a;
}, NetworkDataSetFormatter.prototype.getZoomScale = function() {
    return this.args.zoomScale;
}, NetworkDataSetFormatter.prototype.setZoomScale = function(a) {
    this.args.zoomScale = a;
}, NetworkDataSetFormatter.prototype.getNodesMaxSize = function() {
    return this.args.nodesMaxSize;
}, NetworkDataSetFormatter.prototype.getNodesMinSize = function() {
    return this.args.nodesMinSize;
}, NetworkDataSetFormatter.prototype.isVerticesBalanced = function() {
    return this.args.balanceNodes;
}, NetworkDataSetFormatter.prototype.getWidth = function() {
    return this.args.width;
}, NetworkDataSetFormatter.prototype.getHeight = function() {
    return this.args.height;
}, NetworkDataSetFormatter.prototype.getBackgroundImage = function() {
    return this.args.backgroundImage;
}, NetworkDataSetFormatter.prototype.setBackgroundImage = function(a) {
    this.args.backgroundImage = a, this.backgroundImageChanged.notify(this);
}, NetworkDataSetFormatter.prototype.getBackgroundImageWidth = function() {
    return this.args.backgroundImageWidth;
}, NetworkDataSetFormatter.prototype.setBackgroundImageWidth = function(a) {
    this.args.backgroundImageWidth = a, this.backgroundImageChanged.notify(this);
}, NetworkDataSetFormatter.prototype.getBackgroundImageHeight = function() {
    return this.args.backgroundImageHeight;
}, NetworkDataSetFormatter.prototype.setBackgroundImageHeight = function(a) {
    this.args.backgroundImageHeight = a, this.backgroundImageChanged.notify(this);
}, NetworkDataSetFormatter.prototype.getBackgroundImageX = function() {
    return this.args.backgroundImageX;
}, NetworkDataSetFormatter.prototype.setBackgroundImageX = function(a) {
    this.args.backgroundImageX = a, this.backgroundImageChanged.notify(this);
}, NetworkDataSetFormatter.prototype.getBackgroundImageY = function() {
    return this.args.backgroundImageX;
}, NetworkDataSetFormatter.prototype.setBackgroundImageY = function(a) {
    this.args.backgroundImageY = a, this.backgroundImageChanged.notify(this);
}, NetworkDataSetFormatter.prototype.getBackgroundColor = function() {
    return this.args.backgroundColor;
}, NetworkDataSetFormatter.prototype.setBackgroundColor = function(a) {
    this.args.backgroundColor = a, this.backgroundColorChanged.notify(this);
}, NetworkDataSetFormatter.prototype.getWidth = function() {
    return this.args.width;
}, NetworkDataSetFormatter.prototype.setWidth = function(a) {
    this.args.width = a;
}, NetworkDataSetFormatter.prototype.getHeight = function() {
    return this.args.height;
}, NetworkDataSetFormatter.prototype.setHeight = function(a) {
    this.args.height = a;
}, NetworkWidget.prototype.draw = function(a, b, c) {
    this.graphCanvas = new GraphCanvas(this.id, document.getElementById(this.targetId), {
        labeled: this.label,
        multipleSelectionEnabled: !1,
        draggingCanvasEnabled: !1
    }), this.graphCanvas.draw(a, b, c);
    var d = this;
    this.graphCanvas.onVertexOver.attach(function(a, b) {
        d.onVertexOver.notify(b);
    }), this.graphCanvas.onVertexOut.attach(function(a, b) {
        d.onVertexOut.notify(b);
    });
}, NetworkWidget.prototype.selectVertexByName = function(a) {
    var b = this.getDataset().getVertexByName(a);
    if (null != b) for (var c in b) if (b.hasOwnProperty(c)) {
        var d = b[c].getId();
        this.selectVertexById(d);
    }
}, NetworkWidget.prototype.selectVerticesByName = function(a) {
    for (var b = 0; b < a.length; b++) this.selectVertexByName(a[b]);
}, NetworkWidget.prototype.selectVertexById = function(a) {
    this.graphCanvas.selectNode(a), this.blinkVertexById(a);
}, NetworkWidget.prototype.selectVerticesById = function(a) {
    for (var b = 0; b < a.length; b++) this.selectVertexById(a[b]);
}, NetworkWidget.prototype.selectNeighbourhood = function() {
    this.selectEdgesFromVertices(), this.selectAdjacent();
}, NetworkWidget.prototype.deselectNodes = function() {
    this.graphCanvas.deselectNodes();
}, NetworkWidget.prototype.selectAllNodes = function() {
    this.getGraphCanvas().selectAllNodes();
}, NetworkWidget.prototype.selectAll = function() {
    this.getGraphCanvas().selectAll();
}, NetworkWidget.prototype.selectAllEdges = function() {
    this.getGraphCanvas().selectAllEdges();
}, NetworkWidget.prototype.setScale = function(a) {
    this.graphCanvas.setScale(a);
}, NetworkWidget.prototype.getScale = function() {
    return this.graphCanvas.getScale(value);
}, NetworkWidget.prototype.selectAdjacent = function() {
    for (var a = this.getGraphCanvas().getSelectedVertices(), b = [], c = 0; c < a.length; c++) b = b.concat(this.getGraphCanvas().getDataset().getVertexById(a[c]).getEdges());
    var d = [];
    for (c = 0; c < b.length; c++) d.push(b[c].getNodeSource().getId()), d.push(b[c].getNodeTarget().getId());
    this.selectVerticesById(d);
}, NetworkWidget.prototype.selectEdgesFromVertices = function() {
    for (var a = this.getGraphCanvas().getSelectedVertices(), b = [], c = 0; c < a.length; c++) b = b.concat(this.getGraphCanvas().getDataset().getVertexById(a[c]).getEdges());
    var d = [];
    for (c = 0; c < b.length; c++) d.push(b[c].getId());
    this.getGraphCanvas().selectEdges(d);
}, NetworkWidget.prototype.blinkVertexById = function(a) {
    this.graphCanvas.blinkVertexById(a);
}, NetworkWidget.prototype.selectConnectedComponent = function() {
    var a = this.getConnectedComponent();
    this.selectVerticesById(a.nodes), this.graphCanvas.selectEdges(a.edges);
}, NetworkWidget.prototype.getConnectedComponent = function() {
    for (var a = {}, b = {}, c = [], d = [], e = this.getGraphCanvas().getSelectedVertices(), f = 0; f < e.length; f++) this.visitNode(e[f], a, b, c, d);
    return {
        nodes: c,
        edges: d
    };
}, NetworkWidget.prototype.visitNode = function(a, b, c, d, e) {
    b[a] = !0, d.push(a);
    for (var f = this.getDataset().getVertexById(a).getEdges(), g = 0; g < f.length; g++) {
        var h = f[g], i = h.getId();
        if (null == c[i]) {
            c[i] = !0, e.push(i);
            var j = h.getNodeTarget().getId();
            null == b[j] && this.visitNode(j, b, c, d, e);
            var k = h.getNodeSource().getId();
            null == b[k] && this.visitNode(k, b, c, d, e);
        }
    }
}, NetworkWidget.prototype.collapse = function() {
    for (var a = this.getGraphCanvas().getSelectedVertices(), b = -(1 / 0), c = 1 / 0, d = -(1 / 0), e = 1 / 0, f = 0; f < a.length; f++) {
        var g = this.getGraphCanvas().getLayout().getNodeById(a[f]);
        b < g.x && (b = g.x), c > g.x && (c = g.x), d < g.y && (d = g.y), e > g.y && (e = g.y);
    }
    var h = b - c, i = d - e, j = (c - b) / 4, k = a.length, l = [];
    for (f = 0; f < a.length; f++) x = h + j * Math.sin(2 * f * Math.PI / k), y = i + j * Math.cos(2 * f * Math.PI / k), 
    l.push({
        x: x,
        y: y
    });
    for (f = 0; f < a.length; f++) this.getGraphCanvas().getLayout().getNodeById(a[f]).setCoordinates(l[f].x, l[f].y);
}, NetworkWidget.prototype.setVerticesFontSize = function(a) {
    for (var b in this.getDataset().getVertices()) this.getDataset().getVertices().hasOwnProperty(b) && this.getFormatter().getVertexById(b).getDefault().setFontSize(a);
}, NetworkWidget.prototype.getFormatter = function() {
    return this.getGraphCanvas().getFormatter();
}, NetworkWidget.prototype.getLayout = function() {
    return this.getGraphCanvas().getLayout();
}, NetworkWidget.prototype.getDataset = function() {
    return this.getGraphCanvas().getDataset();
}, NetworkWidget.prototype.getGraphCanvas = function() {
    return this.graphCanvas;
};

var SVG = {
    svgns: "http://www.w3.org/2000/svg",
    xlinkns: "http://www.w3.org/1999/xlink",
    createSVGCanvas: function(a, b) {
        b.push([ "xmlns", SVG.svgns ], [ "xmlns:xlink", "http://www.w3.org/1999/xlink" ]);
        var c = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        return this._setProperties(c, b), a.appendChild(c), c;
    },
    createRectangle: function(a, b, c, d, e) {
        var f = document.createElementNS(this.svgns, "rect");
        return f.setAttribute("x", a), f.setAttribute("y", b), f.setAttribute("width", c), 
        f.setAttribute("height", d), SVG._setProperties(f, e), f;
    },
    drawImage64: function(a, b, c, d, e, f, g) {
        var h = SVG.createImage64(a, b, c, d, e, g);
        return f.appendChild(h), h;
    },
    createImage64: function(a, b, c, d, e, f) {
        var g = document.createElementNS(this.svgns, "image");
        return g.setAttribute("x", a), g.setAttribute("y", b), g.setAttribute("width", c), 
        g.setAttribute("height", d), g.setAttribute("xlink:href", e), SVG._setProperties(g, f), 
        g;
    },
    createLine: function(a, b, c, d, e) {
        var f = document.createElementNS(this.svgns, "line");
        return f.setAttribute("x1", a), f.setAttribute("y1", b), f.setAttribute("x2", c), 
        f.setAttribute("y2", d), SVG._setProperties(f, e), f;
    },
    createClip: function(a, b, c) {
        var d = document.createElementNS(this.svgns, "clipPath");
        return d.setAttribute("id", a), d.appendChild(b), d;
    },
    drawClip: function(a, b, c) {
        var d = SVG.createClip(a, b);
        return c.appendChild(d), d;
    },
    drawRectangle: function(a, b, c, d, e, f) {
        try {
            var g = SVG.createRectangle(a, b, c, d, f);
            e.appendChild(g);
        } catch (h) {
            console.log("-------------------- "), console.log("Error on drawRectangle " + h), 
            console.log(f), console.log("-------------------- ");
        }
        return g;
    },
    createEllipse: function(a, b, c, d, e) {
        var f = document.createElementNS(this.svgns, "ellipse");
        return f.setAttribute("cx", a), f.setAttribute("cy", b), f.setAttribute("rx", c), 
        f.setAttribute("ry", d), SVG._setProperties(f, e), f;
    },
    drawEllipse: function(a, b, c, d, e, f) {
        var g = SVG.createEllipse(a, b, c, d, f);
        return e.appendChild(g), g;
    },
    drawImage: function(a, b, c, d) {
        var e = document.createElementNS(this.svgns, "image");
        e.setAttribute("x", a), e.setAttribute("y", b), c.appendChild(e), SVG._setProperties(e, d);
    },
    drawLine: function(a, b, c, d, e, f) {
        try {
            var g = SVG.createLine(a, b, c, d, f);
            e.appendChild(g);
        } catch (h) {}
        return g;
    },
    drawPath: function(a, b, c) {
        var d = SVG.createPath(a, c);
        return b.appendChild(d), d;
    },
    createPoligon: function(a, b) {
        var c = document.createElementNS(this.svgns, "polygon");
        return c.setAttribute("points", a), SVG._setProperties(c, b), c;
    },
    drawPoligon: function(a, b, c) {
        var d = SVG.createPoligon(a, c);
        return b.appendChild(d), d;
    },
    createPath: function(a, b) {
        var c = document.createElementNS(this.svgns, "path");
        return c.setAttribute("d", a), SVG._setProperties(c, b), c;
    },
    drawCircle: function(a, b, c, d, e) {
        var f = document.createElementNS(this.svgns, "circle");
        return f.setAttribute("cx", a), f.setAttribute("cy", b), f.setAttribute("r", c), 
        d.appendChild(f), e.cursor = "pointer", this._setProperties(f, e), f;
    },
    _setProperties: function(a, b) {
        if (b instanceof Array) for (var c = 0; c < b.length; c++) a.setAttribute(b[c][0], b[c][1]); else for (var d in b) a.setAttribute(d, b[d]);
    },
    createText: function(a, b, c, d) {
        var e = document.createElementNS(this.svgns, "text");
        e.setAttributeNS(null, "x", a), e.setAttributeNS(null, "y", b);
        var f = document.createTextNode(c);
        return e.appendChild(f), this._setProperties(e, d), e;
    },
    drawText: function(a, b, c, d, e) {
        var c = SVG.createText(a, b, c, e);
        return d.appendChild(c), c;
    },
    drawGroup: function(a, b) {
        var c = SVG.createGroup(b);
        return a.appendChild(c), c;
    },
    createGroup: function(a) {
        var b = document.createElementNS(this.svgns, "g");
        return this._setProperties(b, a), b;
    }
}, CanvasToSVG = {
    convert: function(a, b, c, d, e, f) {
        for (var g = this._convert(a, b, c, d, e), h = 0; h < f.length; h++) g.setAttribute(f[h][0], f[h][1]);
    },
    _convert: function(a, b, c, d, e) {
        var f = "http://www.w3.org/2000/svg", g = "http://www.w3.org/1999/xlink", h = a.toDataURL(), i = document.createElementNS(f, "image");
        return i.setAttribute("id", e), i.setAttributeNS(g, "xlink:href", h), i.setAttribute("x", c ? c : 0), 
        i.setAttribute("y", d ? d : 0), i.setAttribute("width", a.width), i.setAttribute("height", a.height), 
        i.imageData = h, b.appendChild(i), i;
    },
    importSVG: function(a, b) {
        svg_xml = a;
        var c = b.getContext("2d"), d = new Image();
        d.src = "data:image/svg+xml;base64," + btoa(svg_xml), c.drawImage(d, 0, 0);
    }
};

Vertex.prototype.getName = GraphItem.prototype.getName, Vertex.prototype.setName = GraphItem.prototype.setName, 
Vertex.prototype.getId = GraphItem.prototype.getId, Vertex.prototype.getEdges = function() {
    return this.edgesIn.concat(this.edgesOut);
}, Vertex.prototype.getEdgesCount = function() {
    return this.getEdges().length;
}, Vertex.prototype.getEdgesIn = function() {
    return this.edgesIn;
}, Vertex.prototype.getEdgesOut = function() {
    return this.edgesOut;
}, Vertex.prototype.addEdge = function(a) {
    a.getNodeSource().getId() == this.id ? this.edgesIn.push(a) : this.edgesOut.push(a);
}, Vertex.prototype.removeEdge = function(a) {
    for (var b = 0; b < this.getEdgesIn().length; b++) {
        var c = this.edgesIn[b];
        c.getId() == a.getId() && this.edgesIn.splice(b, 1);
    }
    for (var b = 0; b < this.getEdgesOut().length; b++) {
        var c = this.edgesOut[b];
        c.getId() == a.getId() && this.edgesOut.splice(b, 1);
    }
}, Vertex.prototype.remove = function() {
    for (var a = this.getEdges(), b = 0; b < a.length; b++) {
        var c = a[b];
        c.remove();
    }
    this.deleted.notify(this);
}, VertexGraphFormatter.prototype.getDefault = ItemGraphFormatter.prototype.getDefault, 
VertexGraphFormatter.prototype.getSelected = ItemGraphFormatter.prototype.getSelected, 
VertexGraphFormatter.prototype.getOver = ItemGraphFormatter.prototype.getOver, VertexGraphFormatter.prototype.getDragging = ItemGraphFormatter.prototype.getDragging, 
VertexGraphFormatter.prototype.getId = ItemGraphFormatter.prototype.getId, VertexGraphFormatter.prototype.toJSON = ItemGraphFormatter.prototype.toJSON, 
VertexGraphFormatter.prototype.loadFromJSON = ItemGraphFormatter.prototype.loadFromJSON, 
VertexGraphFormatter.prototype._setEvents = ItemGraphFormatter.prototype._setEvents, 
CircleVertexGraphFormatter.prototype.getDefault = VertexGraphFormatter.prototype.getDefault, 
CircleVertexGraphFormatter.prototype.getSelected = VertexGraphFormatter.prototype.getSelected, 
CircleVertexGraphFormatter.prototype.getOver = VertexGraphFormatter.prototype.getOver, 
CircleVertexGraphFormatter.prototype.getDragging = VertexGraphFormatter.prototype.getDragging, 
CircleVertexGraphFormatter.prototype.getId = VertexGraphFormatter.prototype.getId, 
CircleVertexGraphFormatter.prototype.toJSON = VertexGraphFormatter.prototype.toJSON, 
CircleVertexGraphFormatter.prototype.loadFromJSON = VertexGraphFormatter.prototype.loadFromJSON, 
CircleVertexGraphFormatter.prototype._setEvents = VertexGraphFormatter.prototype._setEvents, 
SquareVertexGraphFormatter.prototype.getDefault = VertexGraphFormatter.prototype.getDefault, 
SquareVertexGraphFormatter.prototype.getSelected = VertexGraphFormatter.prototype.getSelected, 
SquareVertexGraphFormatter.prototype.getOver = VertexGraphFormatter.prototype.getOver, 
SquareVertexGraphFormatter.prototype.getDragging = VertexGraphFormatter.prototype.getDragging, 
SquareVertexGraphFormatter.prototype.getId = VertexGraphFormatter.prototype.getId, 
SquareVertexGraphFormatter.prototype.toJSON = VertexGraphFormatter.prototype.toJSON, 
SquareVertexGraphFormatter.prototype.loadFromJSON = VertexGraphFormatter.prototype.loadFromJSON, 
SquareVertexGraphFormatter.prototype._setEvents = VertexGraphFormatter.prototype._setEvents, 
EllipseVertexGraphFormatter.prototype.getDefault = VertexGraphFormatter.prototype.getDefault, 
EllipseVertexGraphFormatter.prototype.getSelected = VertexGraphFormatter.prototype.getSelected, 
EllipseVertexGraphFormatter.prototype.getOver = VertexGraphFormatter.prototype.getOver, 
EllipseVertexGraphFormatter.prototype.getDragging = VertexGraphFormatter.prototype.getDragging, 
EllipseVertexGraphFormatter.prototype.getId = VertexGraphFormatter.prototype.getId, 
EllipseVertexGraphFormatter.prototype.toJSON = VertexGraphFormatter.prototype.toJSON, 
EllipseVertexGraphFormatter.prototype.loadFromJSON = VertexGraphFormatter.prototype.loadFromJSON, 
EllipseVertexGraphFormatter.prototype._setEvents = VertexGraphFormatter.prototype._setEvents, 
RectangleVertexGraphFormatter.prototype.getDefault = ItemGraphFormatter.prototype.getDefault, 
RectangleVertexGraphFormatter.prototype.getSelected = ItemGraphFormatter.prototype.getSelected, 
RectangleVertexGraphFormatter.prototype.getOver = ItemGraphFormatter.prototype.getOver, 
RectangleVertexGraphFormatter.prototype.getDragging = ItemGraphFormatter.prototype.getDragging, 
RectangleVertexGraphFormatter.prototype.getId = ItemGraphFormatter.prototype.getId, 
RectangleVertexGraphFormatter.prototype.toJSON = ItemGraphFormatter.prototype.toJSON, 
RectangleVertexGraphFormatter.prototype.loadFromJSON = ItemGraphFormatter.prototype.loadFromJSON, 
RectangleVertexGraphFormatter.prototype._setEvents = ItemGraphFormatter.prototype._setEvents, 
RoundedVertexGraphFormatter.prototype.getDefault = ItemGraphFormatter.prototype.getDefault, 
RoundedVertexGraphFormatter.prototype.getSelected = ItemGraphFormatter.prototype.getSelected, 
RoundedVertexGraphFormatter.prototype.getOver = ItemGraphFormatter.prototype.getOver, 
RoundedVertexGraphFormatter.prototype.getDragging = ItemGraphFormatter.prototype.getDragging, 
RoundedVertexGraphFormatter.prototype.getId = ItemGraphFormatter.prototype.getId, 
RoundedVertexGraphFormatter.prototype.toJSON = ItemGraphFormatter.prototype.toJSON, 
RoundedVertexGraphFormatter.prototype.loadFromJSON = ItemGraphFormatter.prototype.loadFromJSON, 
RoundedVertexGraphFormatter.prototype._setEvents = ItemGraphFormatter.prototype._setEvents, 
OctagonVertexGraphFormatter.prototype.getDefault = ItemGraphFormatter.prototype.getDefault, 
OctagonVertexGraphFormatter.prototype.getSelected = ItemGraphFormatter.prototype.getSelected, 
OctagonVertexGraphFormatter.prototype.getOver = ItemGraphFormatter.prototype.getOver, 
OctagonVertexGraphFormatter.prototype.getDragging = ItemGraphFormatter.prototype.getDragging, 
OctagonVertexGraphFormatter.prototype.getId = ItemGraphFormatter.prototype.getId, 
OctagonVertexGraphFormatter.prototype.toJSON = ItemGraphFormatter.prototype.toJSON, 
OctagonVertexGraphFormatter.prototype.loadFromJSON = ItemGraphFormatter.prototype.loadFromJSON, 
OctagonVertexGraphFormatter.prototype._setEvents = ItemGraphFormatter.prototype._setEvents, 
SamplePlateGroupWidget.prototype.drawPlate = function(a, b, c) {
    var d = this, e = new SamplePlateWidget({
        width: this.width / 3 - 5,
        height: this.heightPlates + 10,
        nodeSize: this.nodeSize,
        fontSize: 0,
        strokeWidth: 1.5
    });
    this.isVerticalLayout() && (e.width = this.width - 15, e.height = this.heightPlates - 10), 
    e.draw(a, b, c), e.onVertexUp.attach(function(a, b) {
        d.onClick.notify({
            samplePlate: b.samplePlate,
            row: b.row,
            column: b.column
        });
    }), this.samplePlateWidgets.push(e);
}, SamplePlateGroupWidget.prototype.drawPlates = function(a) {
    if (a) for (var b = a.getPlateGroups(), c = 0; c < b.length; c++) for (var d = b[c].plateGroupId, e = a.getPlatesByPlateGroupId(d), f = 0; f < e.length; f++) {
        var g = this.id + "_" + e[f].samplePlateId;
        null != document.getElementById(g) && this.drawPlate(a, e[f], g);
    }
}, SamplePlateGroupWidget.prototype.getDimensions = function(a) {
    var b = 0, c = 0;
    if (null != a) for (var d = 0; d < a.length; d++) {
        var e = a[d].slotPositionRow;
        null != e && (e = parseFloat(e), e > b && (b = e));
        var f = a[d].slotPositionColumn;
        null != f && (f = parseFloat(f), f > c && (c = f));
    }
    return {
        maxSlotPositionRow: parseFloat(b),
        maxSlotPositionColumn: parseFloat(c)
    };
}, SamplePlateGroupWidget.prototype.isVerticalLayout = function() {
    return !0;
}, SamplePlateGroupWidget.prototype.getPlateBySlotPosition = function(a, b, c) {
    if (null != a) for (var d = 0; d < a.length; d++) if (a[d].slotPositionRow == b && a[d].slotPositionColumn == c) return a[d];
    return null;
}, SamplePlateGroupWidget.prototype.getPlatesContainer = function(a) {
    var b = [];
    null != a && (b = a.getPlateGroups());
    var c = document.createElement("div"), d = document.createElement("table");
    d.setAttribute("width", this.width - 30 + "px"), d.setAttribute("height", this.heightPlates + "px");
    for (var e = 0; e < b.length; e++) for (var f = b[e].plateGroupId, g = a.getPlatesByPlateGroupId(f), h = this.getDimensions(g), i = 1; i <= h.maxSlotPositionRow; i++) for (var j = 1; j <= h.maxSlotPositionColumn; j++) {
        var k = document.createElement("tr"), l = this.getPlateBySlotPosition(g, i, j), m = document.createElement("td");
        m.setAttribute("id", this.id + "_" + l.samplePlateId), m.setAttribute("style", "background-color:#E6E6E6;border-width:1px;border-style:solid;");
        var n = document.createElement("div");
        n.setAttribute("class", "menu-title");
        var o = document.createTextNode(l.platetype3VO.name);
        n.appendChild(o), m.appendChild(n), k.appendChild(m), d.appendChild(k);
    }
    return c.appendChild(d), c.innerHTML;
}, SamplePlateGroupWidget.prototype.selectSpecimens = function(a) {
    for (var b = 0; b < this.samplePlateWidgets.length; b++) this.samplePlateWidgets[b].clearSelection();
    for (var b = 0; b < a.length; b++) this.selectSpecimen(a[b]);
}, SamplePlateGroupWidget.prototype.selectSpecimen = function(a) {
    if (null != a.sampleplateposition3VO) for (var b = 0; b < this.samplePlateWidgets.length; b++) if (this.samplePlateWidgets[b].samplePlate.samplePlateId == a.sampleplateposition3VO.samplePlateId) return void this.samplePlateWidgets[b].selectSpecimen(a);
}, SamplePlateGroupWidget.prototype._refreshBbar = function() {
    null != this.panel && (this.panel.removeDocked(Ext.getCmp(this.id + "bbar")), this.panel.addDocked(this.getBbar()));
}, SamplePlateGroupWidget.prototype.refresh = function(a) {
    this.experiment = a, this.samplePlateWidgets = [], null != document.getElementById(this.id + "_container") && (document.getElementById(this.id + "_container").innerHTML = "", 
    document.getElementById(this.id + "_container").innerHTML = this.getPlatesContainer(a), 
    this.drawPlates(a)), this._refreshBbar();
}, SamplePlateGroupWidget.prototype._getAutoFillButton = function() {
    function a() {}
    function b(a) {
        if ("yes" == a) {
            var b = e.samplePlateId, c = new BiosaxsDataAdapter();
            d.panel.setLoading("ISPyB: Saving Plate"), c.onSuccess.attach(function(a, b) {
                d.onExperimentChanged.notify(b), d.panel.setLoading(!1);
            }), c.onError.attach(function(a) {
                alert("error"), d.panel.setLoading(!1);
            }), c.autoFillPlate(b, d.experiment.experimentId);
        }
    }
    function c(a) {
        e = a, Ext.MessageBox.confirm("Confirm", 'Are you sure you want to fill "' + d.experiment.getSamplePlateById(e.samplePlateId).platetype3VO.name + '" plate?', b);
    }
    var d = this, e = null, f = [];
    if (f.push('<b class="menu-title">Select a plate:</b>'), this.experiment) {
        var g = this.experiment.getSamplePlates();
        g.sort(function(a, b) {
            return a.slotPositionColumn - b.slotPositionColumn;
        });
        for (var h = 0; h < g.length; h++) f.push({
            samplePlateId: g[h].samplePlateId,
            text: h + 1 + ".- <b> " + g[h].platetype3VO.name + "</b>",
            handler: c
        });
    }
    return Ext.create("Ext.button.Split", {
        text: "Auto Fill",
        handler: a,
        tooltip: {
            text: "This will fill, if there is place, the specimens in the plate",
            title: "Auto Fill"
        },
        menu: {
            items: f
        }
    });
}, SamplePlateGroupWidget.prototype._getZoomButton = function() {
    function a(a) {
        Ext.create("Ext.window.Window", {
            title: b.experiment.getSamplePlateById(a.samplePlateId).platetype3VO.name,
            height: 600,
            width: 900,
            layout: "fit",
            modal: !0,
            listeners: {
                afterrender: function() {
                    var c = new SamplePlateWidget({
                        width: 880,
                        height: 560,
                        nodeSize: 4,
                        fontSize: 0,
                        strokeWidth: 1.5,
                        showLabels: !0,
                        backgroundColor: "#FFFFFF"
                    });
                    c.draw(b.experiment, b.experiment.getSamplePlateById(a.samplePlateId), "plateZoom");
                }
            },
            items: [ {
                html: '<div id="plateZoom" style="background-color:red"></div>',
                padding: 5
            } ]
        }).show();
    }
    var b = this, c = [];
    if (this.experiment) {
        var d = this.experiment.getSamplePlates();
        d.sort(function(a, b) {
            return a.slotPositionColumn - b.slotPositionColumn;
        }), c.push('<b class="menu-title">Select a plate:</b>');
        for (var e = 0; e < d.length; e++) c.push({
            samplePlateId: d[e].samplePlateId,
            text: e + 1 + ".- <b> " + d[e].platetype3VO.name + "</b>",
            handler: a
        });
    }
    return Ext.create("Ext.button.Split", {
        text: "Zoom In",
        tooltip: {
            text: "This will show a plate bigger",
            title: "Zoom In Action"
        },
        menu: {
            items: c
        }
    });
}, SamplePlateGroupWidget.prototype._getEmptyButton = function() {
    function a() {}
    function b(a) {
        if ("yes" == a) {
            var b = e.samplePlateId, c = new BiosaxsDataAdapter();
            d.panel.setLoading("ISPyB: Saving Plate"), c.onSuccess.attach(function(a, b) {
                d.onExperimentChanged.notify(b), d.panel.setLoading(!1);
            }), c.onError.attach(function(a) {
                alert("error"), d.panel.setLoading(!1);
            }), c.emptyPlate(b, d.experiment.experimentId);
        }
    }
    function c(a) {
        e = a, Ext.MessageBox.confirm("Confirm", 'Are you sure you want to empty "' + d.experiment.getSamplePlateById(e.samplePlateId).platetype3VO.name + '" plate?', b);
    }
    var d = this, e = null, f = [];
    if (this.experiment) {
        var g = this.experiment.getSamplePlates();
        g.sort(function(a, b) {
            return a.slotPositionColumn - b.slotPositionColumn;
        }), f.push('<b class="menu-title">Select a plate:</b>');
        for (var h = 0; h < g.length; h++) f.push({
            samplePlateId: g[h].samplePlateId,
            text: h + 1 + ".- <b> " + g[h].platetype3VO.name + "</b>",
            handler: c
        });
    }
    return Ext.create("Ext.button.Split", {
        text: "Empty",
        handler: a,
        tooltip: {
            text: "This will empty the specimen of a plate. It will NOT remove the specimen but will removed their position",
            title: "Empty Action"
        },
        menu: {
            items: f
        }
    });
}, SamplePlateGroupWidget.prototype._getPlateTypes = function() {
    function a() {}
    function b(a) {
        if ("yes" == a) {
            var b = e.samplePlateId, c = e.plateTypeId, f = BIOSAXS.proposal.getPlateTypeById(c), g = d.experiment.getSamplePlateById(b);
            g.platetype3VO = f;
            var b = e.samplePlateId, h = new BiosaxsDataAdapter();
            d.panel.setLoading("ISPyB: Saving Plate"), h.onSuccess.attach(function(a, b) {
                d.onExperimentChanged.notify(b), d.panel.setLoading(!1);
            }), h.onError.attach(function(a) {
                alert("error"), d.panel.setLoading(!1);
            }), h.savePlates([ g ], d.experiment.experimentId);
        }
    }
    function c(a) {
        e = a;
        var c = a.samplePlateId, f = a.plateTypeId;
        d.experiment.getSamplePlateById(c).platetype3VO.plateTypeId != f && Ext.MessageBox.confirm("Confirm", 'Are you sure you want to change the type of "' + d.experiment.getSamplePlateById(e.samplePlateId).platetype3VO.name + '" plate?', b);
    }
    var d = this, e = null, f = [];
    f.push('<b class="menu-title">Select an EMPTY plate:</b>');
    var g = [];
    null != this.experiment && (g = this.experiment.getSamplePlates()), g.sort(function(a, b) {
        return a.slotPositionColumn - b.slotPositionColumn;
    });
    for (var h = ProposalManager.getPlateTypes(), i = 0; i < g.length; i++) {
        for (var j = g[i], k = [], l = 0; l < h.length; l++) k.push({
            text: h[l].name,
            plateTypeId: h[l].plateTypeId,
            samplePlateId: j.samplePlateId,
            checked: j.platetype3VO.plateTypeId == h[l].plateTypeId,
            group: "theme" + j.samplePlateId,
            checkHandler: c
        });
        f.push({
            text: i + 1 + ".- <b> " + j.platetype3VO.name + "</b>",
            disabled: d.experiment.getSpecimensBySamplePlateId(j.samplePlateId).length > 0,
            menu: {
                items: k
            }
        });
    }
    return Ext.create("Ext.button.Split", {
        text: "Plate Types",
        handler: a,
        tooltip: {
            text: "This will change the type of a plate.",
            title: "Change plate type"
        },
        menu: {
            items: f
        }
    });
}, SamplePlateGroupWidget.prototype.getBbar = function(a) {
    var b = this;
    return this.bbar ? Ext.create("Ext.toolbar.Toolbar", {
        id: b.id + "bbar",
        dock: "bottom",
        items: [ this._getPlateTypes(), "-", this._getAutoFillButton(), this._getEmptyButton(), "-", this._getZoomButton() ]
    }) : null;
}, SamplePlateGroupWidget.prototype.getPanel = function() {
    var a = this, b = this.id + "_container";
    return this.panel = Ext.create("Ext.panel.Panel", {
        title: this.title,
        bbar: this.getBbar(),
        height: this.height,
        width: this.width,
        border: this.border,
        items: [ {
            border: 0,
            height: this.height,
            id: b,
            html: "<div id='" + b + "'></div>"
        } ]
    }), this.panel.on("afterrender", function() {
        document.getElementById(b).innerHTML = a.getPlatesContainer(a.experiment), a.drawPlates(a.experiment), 
        a._refreshBbar();
    }), this.panel;
}, SamplePlateWidget.prototype.clear = function(a, b, c) {
    null != document.getElementById(this.targetId) && (document.getElementById(this.targetId).innerHTML = "");
}, SamplePlateWidget.prototype.draw = function(a, b, c, d) {
    var e = this;
    if (this.windowContainerId = d, Ext.isIE6 || Ext.isIE7 || Ext.isIE8) return void (document.getElementById(c).innerHTML = BUI.getWarningHTML(this.notSupportedMessage));
    this.onVertexUp = new Event(this), this.samplePlate = b, this.experiment = a, this.targetId = c;
    var f = this.samplePlate.platetype3VO.rowCount, g = this.samplePlate.platetype3VO.columnCount;
    this.network = new NetworkWidget({
        targetId: c
    });
    var h = new GraphDataset(), i = new NetworkDataSetFormatter({
        defaultFormat: {
            type: "LineEdgeNetworkFormatter",
            "fill-opacity": 1,
            fill: this.wellColor,
            "stroke-width": this.strokeWidth,
            "stroke-opacity": 1,
            stroke: "#000000",
            size: this.nodeSize,
            title: {
                fontSize: this.fontSize,
                fill: "#000000"
            }
        }
    }, null, {
        labeled: !1,
        height: this.height,
        width: this.width,
        right: this.width,
        backgroundColor: this.backgroundColor,
        balanceNodes: !1,
        nodesMaxSize: 12,
        nodesMinSize: 2
    });
    i.dataBind(h);
    var j = new LayoutDataset();
    j.dataBind(h), this.network.draw(h, i, j);
    for (var k = 1; f >= k; k++) for (var l = 1; g >= l; l++) this.network.getDataset().addNode("", {
        row: k,
        column: l
    }), " 4 x ( 8 + 3 ) Block" == this.samplePlate.platetype3VO.name && (9 > l ? this.network.getFormatter().vertices[this.network.getDataset().getVerticesCount() - 1].getDefault().setSize(.8 * this.nodeSize) : this.network.getFormatter().vertices[this.network.getDataset().getVerticesCount() - 1].getDefault().setSize(1.4 * this.nodeSize));
    this.network.graphCanvas.onVertexUp.attach(function(a, b) {
        e.onVertexUp.notify({
            samplePlate: e.samplePlate,
            row: e.network.getDataset().getVertexById(b).args.row,
            column: e.network.getDataset().getVertexById(b).args.column
        });
    }), this.network.graphCanvas.onVertexOver.attach(function(a, b) {}), this.relayout(this.network, f, g), 
    this.fillSimulator(this.experiment.getSamples()), this.showBorderLabels && this.drawBorders();
}, SamplePlateWidget.prototype.drawBorders = function() {
    var a = {}, b = {}, c = [], d = [], e = this.network.graphCanvas.getLayout().vertices;
    for (var f in e) {
        var g = e[f].x;
        null == a[g] && (a[g] = !0, c.push(g));
        var h = e[f].y;
        null == b[h] && (b[h] = !0, d.push(h));
    }
    for (var i = BUI.getSamplePlateLetters(), j = 1; j <= c.length; j++) SVG.drawText(c[j - 1] * this.network.graphCanvas.getWidth() - 5, this.network.graphCanvas.getHeight(), j, this.network.graphCanvas._svg, [ [ "font-size", this.legendFontSize + "px" ], [ "font-weight", "bold" ], [ "fill", "black" ] ]);
    for (var j = 1; j <= d.length; j++) SVG.drawText(5, d[j - 1] * this.network.graphCanvas.getHeight() + 5, i[j - 1], this.network.graphCanvas._svg, [ [ "font-size", this.legendFontSize + "px" ], [ "font-weight", "bold" ], [ "fill", "black" ] ]);
}, SamplePlateWidget.prototype.addOkIcon = function(a, b, c, d) {
    var e = this.network.graphCanvas._svg, c = c + "_marked";
    null == this.markedSpecimenId[c] && (SVG.drawRectangle(a - 10, b - 10, 22, 22, e, [ [ "id", c ], [ "fill", "gray" ], [ "stroke-opacity", "0.5" ], [ "fill-opacity", "0.2" ], [ "stroke", "black" ] ]), 
    this.markedSpecimenId[c] = !0);
}, SamplePlateWidget.prototype.selectSpecimen = function(a) {
    var b = this.getVertexByPosition(a.sampleplateposition3VO.rowNumber, a.sampleplateposition3VO.columnNumber), c = this.network.getLayout().vertices[b.id].x * this.width, d = this.network.getLayout().vertices[b.id].y * this.height, e = this.network.graphCanvas._svg;
    this.selectedSVGNodes.push(SVG.drawRectangle(c - 9, d - 9, 20, 20, e, [ [ "fill", "red" ], [ "fill-opacity", "0" ], [ "stroke", "blue" ], [ "stroke-width", "2" ] ]));
}, SamplePlateWidget.prototype.clearSelection = function() {
    for (var a = this.network.graphCanvas._svg, b = 0; b < this.selectedSVGNodes.length; b++) a.removeChild(this.selectedSVGNodes[b]);
    this.selectedSVGNodes = [];
}, SamplePlateWidget.prototype.getVertexByPosition = function(a, b) {
    var c = this.network.getDataset().getVertices();
    for (var d in c) if (c[d].args.row == a && c[d].args.column == b) return c[d];
    return null;
}, SamplePlateWidget.prototype.showLabel = function(a, b, c) {
    if (null != c) {
        var d = this.getVertexByPosition(a, b);
        0 != this.fontSize && (null != c.macromolecule3VO ? this.showFullName ? d.setName(c.code) : d.setName(c.macromolecule3VO.acronym) : this.showFullName ? d.setName(c.code) : d.setName(c.macromolecule3VO.acronym));
    }
}, SamplePlateWidget.prototype.getNodeIdBySpecimenId = function(a) {
    this.ids[a];
}, SamplePlateWidget.prototype.markSpecimenAsOk = function(a, b, c, d) {
    if (null != a.measurements) for (var e = 0; e < a.measurements.length; e++) null != a.measurements[e].merge3VOs && a.measurements[e].merge3VOs.length > 0 && this.addOkIcon(b * this.network.graphCanvas.getWidth(), c * this.network.graphCanvas.getHeight(), d, a);
}, SamplePlateWidget.prototype.getSpecimenBufferColorFromSampleSpecimenId = function(a) {
    var b = this.experiment.getDataCollectionsBySpecimenId(a);
    if (b.length > 0) for (var c = b[0], d = 0; d < c.measurementtodatacollection3VOs.length; d++) {
        var e = c.measurementtodatacollection3VOs[d];
        if (1 == e.dataCollectionOrder) {
            var f = this.experiment.getMeasurementById(e.measurementId);
            return null != f ? this.experiment.getSpecimenColorByBufferId(f.specimenId) : "pink";
        }
    }
    return "orange";
}, SamplePlateWidget.prototype.fillWell = function(a, b, c) {
    if (null != c) {
        var d = this.getVertexByPosition(a, b);
        if (null == d) return void console.log(a + ", " + b + " not found");
        var e = this.network.getGraphCanvas().getSVGNodeId(d.id);
        this.showLabel(a, b, c), this.ids[c.specimenId] = d.id;
        var f = this.network.getLayout().vertices[d.id].x, g = this.network.getLayout().vertices[d.id].y;
        if (this.markSpecimenAsOk(c, f, g, e), null == c.macromolecule3VO) {
            var h = this.experiment.getSpecimenColorByBufferId(c.specimenId);
            this.network.getFormatter().getVertexById(d.id).getDefault().setFill(h), this.network.getFormatter().getVertexById(d.id).getDefault().setStroke("blue"), 
            this.network.getFormatter().getVertexById(d.id).getDefault().setStrokeWidth(2);
        } else this.network.getFormatter().getVertexById(d.id).getDefault().setFill(this.experiment.macromoleculeColors[c.macromolecule3VO.macromoleculeId]), 
        this.network.getFormatter().getVertexById(d.id).getDefault().setStroke("black"), 
        this.network.getFormatter().getVertexById(d.id).getDefault().setStrokeWidth(1);
        if (this.showLabels) {
            if (f = this.network.getLayout().vertices[d.id].x, g = this.network.getLayout().vertices[d.id].y, 
            null != c.macromolecule3VO) {
                var i = c.macromolecule3VO.acronym;
                i.length > 10 && (i = i.slice(0, 10) + "..."), SVG.drawText(f * this.network.graphCanvas.getWidth() - this.nodeSize - 10, g * this.network.graphCanvas.getHeight() + 3 * this.nodeSize + 20, i, this.network.graphCanvas._svg, [ [ "font-size", "xx-small" ], [ "fill", "black" ] ]), 
                SVG.drawText(f * this.network.graphCanvas.getWidth() - this.nodeSize - 10, g * this.network.graphCanvas.getHeight() + 3 * this.nodeSize + 35, Number(c.concentration).toFixed(2) + " mg/ml", this.network.graphCanvas._svg, [ [ "font-size", "xx-small" ], [ "fill", "black" ] ]);
            }
            var j = this.experiment.getBufferById(c.bufferId).acronym;
            j.length > 10 && (j = j.slice(0, 10) + "..."), SVG.drawText(f * this.network.graphCanvas.getWidth() - this.nodeSize - 10, g * this.network.graphCanvas.getHeight() + 3 * this.nodeSize + 5, this.experiment.getBufferById(c.bufferId).acronym, this.network.graphCanvas._svg, [ [ "font-size", "xx-small" ], [ "fill", "blue" ] ]);
        }
        if (this.showTooltip) var e = this.network.getGraphCanvas().getSVGNodeId(d.id);
    }
}, SamplePlateWidget.prototype._getToolTipContent = function(a) {
    var b = "<table style='font-size:11px;'>";
    return b = b + "<TR><TD>Specimen </TD><TD style='color:black; font-weight:bold;'>" + a.code + "</TD></TR>", 
    b += "<TR style='height:20px'><TD></TD><TD style='color:black; font-weight:bold;'></TD></TR>", 
    b = b + "<TR><TD>Buffer: </TD><TD style='color:blue; font-weight:bold;'>" + this.experiment.getBufferById(a.bufferId).name + "</TD></TR>", 
    null != a.macromolecule3VO && (b = b + "<TR><TD>Macromolecule: </TD><TD  style='color:green; font-weight:bold;'>" + a.macromolecule3VO.acronym + "</TD></TR>", 
    b = b + "<TR><TD>Concentration: </TD><TD >" + a.concentration + "</TD></TR>"), b = b + "<TR><TD>Volume: </TD><TD>" + a.volume + "</TD></TR>", 
    null != a.viscosity && (b = b + "<TR><TD>Viscosity: </TD><TD>" + a.viscosity + "</TD></TR>"), 
    b += "</table>";
}, SamplePlateWidget.prototype.fillSimulator = function(a) {
    for (var b = 0; b < a.length; b++) {
        var c = a[b];
        if (null != c.sampleplateposition3VO && c.sampleplateposition3VO.samplePlateId == this.samplePlate.samplePlateId) {
            var d = c.sampleplateposition3VO;
            this.fillWell(d.rowNumber, d.columnNumber, c);
        }
    }
}, SamplePlateWidget.prototype.relayout = function(a, b, c) {
    "REC" == this.samplePlate.platetype3VO.shape && this.squareRelayout(a, b, c), "CIR" == this.samplePlate.platetype3VO.shape && this.circleRelayout(a, b, c);
}, SamplePlateWidget.prototype.squareRelayout = function(a, b, c) {
    for (var d = (a.getDataset()._getVerticesCount(), .07), e = .9, f = .075, g = .95, h = (e - d) / (b - 1), i = (g - f) / (c - 1), j = [], k = 0; b > k; k++) for (var l = 0; c > l; l++) y = k * h + d, 
    x = l * i + f, j.push({
        x: x,
        y: y
    });
    var m = 0;
    for (var n in a.getDataset().getVertices()) null == a.getLayout().vertices[n] && (this.vertices[n] = new NodeLayout(n, 0, 0)), 
    a.getLayout().vertices[n].setCoordinates(j[m].x, j[m].y), m++, a.getLayout().vertices[n].changed.attach(function(a, b) {
        _this.changed.notify(b);
    });
}, SamplePlateWidget.prototype.circleRelayout = function(a, b, c) {
    a.getLayout().getLayout("CIRCLE");
}, SpecimenWidget.prototype.getContainerLayoutConfiguration = function(a) {
    this.samplePlateGroupWidget.getDimensions(a.getSamplePlates());
    return {
        layout: "hbox",
        samplePlateGroupWidth: 1 * this.width / 3 - 10,
        samplePlateGroupHeight: this.height - 10,
        specimenGridWidth: 2 * this.width / 3,
        specimenGridHeight: this.height - 10
    };
}, SpecimenWidget.prototype.refresh = function(a) {
    this.experiment = a, this.panel.removeAll();
    var b = this.getContainerLayoutConfiguration(a);
    this.specimenGrid.width = b.specimenGridWidth, this.specimenGrid.height = b.specimenGridHeight, 
    this.samplePlateGroupWidget.width = b.samplePlateGroupWidth, this.samplePlateGroupWidget.height = b.samplePlateGroupHeight, 
    "hbox" == b.layout && (this.specimenGrid.margin = "0 0 0 5", this.specimenGrid.width = this.specimenGrid.width - 5);
    var c = Ext.create("Ext.container.Container", {
        layout: b.layout,
        height: this.height,
        width: this.width,
        padding: "2px",
        items: []
    });
    "vbox" == b.layout ? (c.insert(this.specimenGrid.getPanel()), c.insert(this.samplePlateGroupWidget.getPanel())) : (c.insert(this.samplePlateGroupWidget.getPanel()), 
    c.insert(this.specimenGrid.getPanel())), this.panel.insert(c), this.specimenGrid.refresh(a), 
    this.samplePlateGroupWidget.refresh(a);
}, SpecimenWidget.prototype.getPanel = function() {
    return this.panel = Ext.create("Ext.container.Container", {
        layout: "vbox",
        height: this.height,
        border: 0,
        margin: 5,
        width: this.width,
        items: []
    }), this.panel;
}, SpecimenWidget.prototype.input = function() {
    return {
        experiment: DATADOC.getExperiment_10(),
        proposal: DATADOC.getProposal_10()
    };
}, SpecimenWidget.prototype.test = function(a) {
    var b = new SpecimenWidget({
        height: 500,
        width: 1e3
    });
    BIOSAXS.proposal = new Proposal(b.input().proposal);
    var c = new Experiment(b.input().experiment), d = b.getPanel();
    d.render(a), b.refresh(c);
}, SurfaceScatteringViewer.prototype.getTopBar = function() {
    var a = this, b = Ext.create("Ext.slider.Single", {
        width: 300,
        value: 1,
        increment: 1,
        minValue: .1,
        maxValue: 10,
        fieldLabel: "Scale",
        listeners: {
            change: function(b, c) {
                for (var d = 0; d < a.originalData.length; d++) for (var e = 0; e < a.originalData[d].length; e++) a.data[d][e] = a.originalData[d][e] * c;
                a.clear(), a.render(a.data);
            }
        }
    });
    return Ext.create("Ext.toolbar.Toolbar", {
        items: [ b ]
    });
}, SurfaceScatteringViewer.prototype.clear = function() {
    document.getElementById(this.id).innerHTML = "";
}, SurfaceScatteringViewer.prototype.getPanel = function() {
    var a = this;
    return Ext.create("Ext.panel.Panel", {
        width: 810,
        height: 810,
        border: 1,
        margin: 5,
        cls: "borderGrid",
        items: [ {
            html: "<div id='" + this.id + "'></div>"
        } ],
        listeners: {
            afterrender: function(b, c) {
                a.render(a.data);
            }
        }
    });
}, SurfaceScatteringViewer.prototype.render = function(a) {
    for (var b = a.length - 2, c = a[0].length - 2, d = new Array(), e = new google.visualization.DataTable(), f = 0; c > f; f++) e.addColumn("number", "col" + f);
    e.addRows(b);
    for (var g = 360 / b, h = 0, f = 0; b > f; f++) for (var i = 0; c > i; i++) {
        var j = Math.cos(f * g * Math.PI / 180) * Math.cos(i * g * Math.PI / 180);
        e.setValue(f, i, 1 - a[f][i] / (255 * this.scale)), d[h] = "x:" + f + ", y:" + i + " = " + j, 
        h++;
    }
    var k = new greg.ross.visualisation.SurfacePlot(document.getElementById(this.id)), l = !0, m = {
        red: 0,
        green: 0,
        blue: 255
    }, n = {
        red: 0,
        green: 255,
        blue: 255
    }, o = {
        red: 0,
        green: 255,
        blue: 0
    }, p = {
        red: 255,
        green: 255,
        blue: 0
    }, q = {
        red: 255,
        green: 0,
        blue: 0
    }, r = [ m, n, o, p, q ], s = "X", t = "Y", u = "Z", v = {
        width: 800,
        height: 800,
        colourGradient: r,
        fillPolygons: l,
        tooltips: d,
        xTitle: s,
        yTitle: t,
        zTitle: u,
        restrictXRotation: !1
    };
    k.draw(e, v);
}, SurfaceScatteringViewer.prototype.load = function(a) {
    this.originalData = a, this.data = a;
}, MacromoleculeTabs.prototype.refresh = function(a) {
    this.macromoleculeForm.refresh(a), this.assemblyForm.refresh(a), this.rigibBodyModelingForm.refresh(a);
}, MacromoleculeTabs.prototype.getItems = function() {
    return [ {
        tabConfig: {
            title: "General"
        },
        items: [ {
            xtype: "container",
            items: [ this.macromoleculeForm.getPanel() ]
        } ]
    } ];
}, MacromoleculeTabs.prototype.getPanel = function() {
    return this.panel = Ext.createWidget("tabpanel", {
        height: this.height,
        width: this.width,
        frame: !0,
        plain: !1,
        margin: 0,
        border: 1,
        items: this.getItems()
    }), this.panel;
}, ShipmentTabs.prototype.refresh = function(a) {
    var b = this;
    this.shipment = a;
    var c = new Proposal();
    c.onDataRetrieved.attach(function(c, d) {
        b.refreshWithPlates(a, d), b.caseGrid.grid.setLoading(!1);
    }), c.getPlatesByProposal();
}, ShipmentTabs.prototype.refreshWithPlates = function(a, b) {
    this.shipment = new Shipment(a), this.caseGrid.refresh(this.shipment.getDewars(), b), 
    this.panel.setLoading(!1);
}, ShipmentTabs.prototype.error = function(a) {
    var b = JSON.parse(a);
    showError(b), this.panel.setLoading(!1);
}, ShipmentTabs.prototype.draw = function(a) {
    var b = this;
    b.plates = [], b.shipment = a, b.render(a);
}, ShipmentTabs.prototype.render = function(a) {
    return this.getPanel(a);
}, ShipmentTabs.prototype.getShipmentHeader = function(a) {
    function b() {
        var b = a.json.shippingName, c = a.json.shippingStatus, d = a.json.creationDate, e = BUI.createFormLabel("Name :", b, 75, 400);
        return e += BUI.createFormLabel("Status :", c, 75, 400), e += BUI.createFormLabel("Date :", d, 75, 400);
    }
    return Ext.create("Ext.container.Container", {
        frame: !1,
        layout: "hbox",
        title: "General",
        padding: 5,
        bodyPadding: "5 5 0 0",
        width: 890,
        margin: "0 0 10 0",
        height: 100,
        style: {
            borderColor: "#BDBDBD",
            borderStyle: "solid",
            borderWidth: "1px"
        },
        fieldDefaults: {
            msgTarget: "side",
            labelWidth: 100
        },
        items: [ {
            margin: "0 0 0 0",
            width: 475,
            border: 0,
            html: b()
        } ]
    });
}, ShipmentTabs.prototype.getPanel = function(a) {
    return this.panel = Ext.createWidget("tabpanel", {
        height: 600,
        style: {
            padding: 2
        },
        items: [ {
            tabConfig: {
                id: "Shipment",
                title: "Shipment",
                icon: "/ispyb/images/plane-small.gif"
            },
            items: [ {
                xtype: "container",
                margin: "5 5 5 5",
                items: [ this.shipmentForm.getPanel(a) ]
            } ]
        }, {
            tabConfig: {
                id: "Cases",
                title: "Cases",
                icon: "../images/box-icon-very-small.png"
            },
            items: [ {
                xtype: "container",
                margin: "5 5 5 5",
                items: [ this.caseGrid.getPanel(a.getDewars(), this.plates) ]
            } ]
        } ]
    }), this.panel;
}, ShipmentTabs.prototype.getPanel = function(a) {
    return this.shipment = a, null == this.plates && (this.plates = []), null == this.shipPanel && (this.shipPanel = Ext.create("Ext.container.Container", {
        bodyPadding: 2,
        width: .9 * Ext.getBody().getViewSize().width,
        renderTo: this.targetId,
        style: {
            padding: 2
        },
        items: [ this.getShipmentHeader(a), this.getTabPanel(a) ]
    })), this.shipPanel;
}, TemplateTabs.prototype.refreshMeasurement = function(a) {
    this.experiment = a, this.experiment.onSaved = new Event(this), this.experiment.onSpecimenSaved = new Event(this);
    var b = new ExperimentList([ this.experiment ]);
    this.measurementGrid.refresh(b.getMeasurementsNotCollected(), b);
}, TemplateTabs.prototype.refreshSpecimen = function(a) {
    this.experiment = a, this.experiment.onSaved = new Event(this), this.experiment.onSpecimenSaved = new Event(this), 
    this.samplePlateGroupWidget.refresh(this.experiment), this.specimenWidget.refresh(this.experiment), 
    this.volumePlanificator.refresh(this.experiment);
}, TemplateTabs.prototype.refresh = function(a) {
    this.experiment = a, this.experiment.onSaved = new Event(this), this.experiment.onSpecimenSaved = new Event(this), 
    this.refreshMeasurement(a), this.refreshSpecimen(a), this.panel.setLoading(!1);
}, TemplateTabs.prototype.error = function(a) {
    var b = JSON.parse(a);
    showError(b), this.panel.setLoading(!1);
}, TemplateTabs.prototype.draw = function(a) {
    this.render(a);
}, TemplateTabs.prototype.getExperimentTitle = function() {
    var a = new ExperimentHeaderForm();
    return a.getPanel(this.experiment);
}, TemplateTabs.prototype.render = function(a) {
    var b = this;
    this.experiment = a;
    var c = this.specimenWidget.getPanel();
    this.specimenWidget.refresh(a);
    var d = new ExperimentList([ b.experiment ]), e = Ext.create("Ext.container.Container", {
        layout: {
            type: "vbox"
        },
        defaults: {
            style: {
                padding: "5px 0px 0px 10px"
            }
        },
        items: [ b.measurementGrid.getPanel(d.getMeasurementsNotCollected(), d) ]
    });
    return this.panel = Ext.createWidget("tabpanel", {
        plain: !0,
        items: [ {
            tabConfig: {
                title: "Measurements"
            },
            items: [ {
                xtype: "container",
                layout: "vbox",
                border: 1,
                margin: "0 0 10 0",
                items: [ e ]
            } ]
        }, {
            tabConfig: {
                id: "genralTabl",
                title: "Specimens"
            },
            items: [ c ]
        }, {
            tabConfig: {
                title: "Requirements"
            },
            items: [ {
                html: BUI.getTipHTML("Estimated volume is the maximum volume required. Depending on the order of your measurements you may use less. Click on create stock solutions if you plan to ship these stock solutions"),
                margin: "10 10 10 10",
                border: 0
            }, this.volumePlanificator.getPanel(a) ]
        } ]
    }), this.getPanel(this.panel);
}, TemplateTabs.prototype.isTemplate = function() {
    return "TEMPLATE" == this.experiment.json.type ? !0 : !1;
}, TemplateTabs.prototype.getPanel = function(a) {
    var b = this;
    return null == this.experimentPanel && (this.experimentPanel = Ext.create("Ext.container.Container", {
        bodyPadding: 2,
        width: 1e3,
        renderTo: this.targetId,
        height: 500,
        items: [ this.getExperimentTitle(), this.panel ],
        listeners: {
            afterrender: function(a) {
                $("#SchemeReport" + b.experiment.experimentId).click(function() {
                    return $(this).target = "_blank", window.open("viewProjectList.do?reqCode=display&menu=platescheme&experimentId=" + b.experiment.experimentId), 
                    !1;
                });
            }
        }
    })), this.experimentPanel;
}, TemplateTabs.prototype.input = function(a) {
    return new ExperimentTabs().input();
}, TemplateTabs.prototype.test = function(a) {
    var b = new TemplateTabs(a);
    BIOSAXS.proposal = new Proposal(b.input().proposal), b.draw(new Experiment(b.input().experiment));
}, SessionTimeLineWidget.prototype.load = TimeLineWidget.prototype.load, SessionTimeLineWidget.prototype.getPanel = TimeLineWidget.prototype.getPanel, 
SessionTimeLineWidget.prototype.getStartDate = TimeLineWidget.prototype.getStartDate, 
SessionTimeLineWidget.prototype.getEndDate = TimeLineWidget.prototype.getEndDate, 
SessionTimeLineWidget.prototype.changeWeek = function(a) {
    this.week = Number(this.week) + Number(a), Ext.getCmp(this.id + "week").setValue(this.week), 
    this.loadSessions(moment().week(this.week).startOf("week").format("YYYYMMDD"), moment().week(this.week).endOf("week").format("YYYYMMDD"));
}, SessionTimeLineWidget.prototype.getTopBar = function() {
    var a = this;
    return Ext.create("Ext.toolbar.Toolbar", {
        width: 500,
        items: [ {
            text: "<<",
            handler: function() {
                a.changeWeek(-1);
            }
        }, "Week", {
            id: this.id + "week",
            xtype: "textfield",
            name: "field1",
            fieldLabel: "Week",
            labelWidth: 40,
            width: 100,
            value: this.week,
            listeners: {
                specialkey: function(b, c) {
                    c.getKey() == c.ENTER && (a.week = b.getValue(), a.changeWeek(0));
                }
            }
        }, {
            text: ">>",
            handler: function() {
                a.changeWeek(1);
            }
        } ]
    });
}, SessionTimeLineWidget.prototype.loadSessions = function(a, b) {
    var c = this;
    this.panel.setLoading();
    var d = function(d, e) {
        function f(a) {
            return a.beamlineOperator || (a.beamlineOperator = "<span style='color:orange;'>Unknown</span>"), 
            "<div style='font-size:12px;font-weight:bold;'>{0}<span style='font-size:10px;margin:5px;font-weight:normal;'>{1}</span><span style='color:gray; font-size:10px;'>{2} shifts</span></div>".format([ a.beamlineName, a.beamlineOperator, a.nbShifts ]);
        }
        for (var g = [], h = 0; h < e.length; h++) g.push({
            start: moment(e[h].startDate).toDate(),
            end: moment(e[h].endDate).toDate(),
            content: f(e[h]),
            group: e[h].beamlineName,
            sessionId: e[h].sessionId
        });
        c.load(g, a, b), c.panel.setLoading(!1);
    };
    EXI.getDataAdapter({
        onSuccess: d
    }).proposal.session.getSessionsByDate(a, b);
}, UploaderWidget.prototype.getFileName = function() {
    var a = Ext.getCmp(this.id).value;
    return a.split("\\")[a.split("\\").length - 1];
}, UploaderWidget.prototype.getForm = function() {
    var a = this;
    return Ext.create("Ext.form.Panel", {
        width: 400,
        bodyPadding: 20,
        border: 0,
        frame: !0,
        items: [ {
            xtype: "filefield",
            name: "file",
            id: this.id,
            fieldLabel: "File",
            labelWidth: 50,
            msgTarget: "side",
            allowBlank: !1,
            anchor: "100%",
            buttonText: "Browse..."
        }, {
            xtype: "hiddenfield",
            id: a.id + "fileName",
            name: "fileName",
            value: ""
        } ],
        buttons: [ {
            text: "Upload",
            handler: function() {
                var b = this.up("form").getForm();
                b.isValid() && (Ext.getCmp(a.id + "fileName").setValue(a.getFileName()), b.submit({
                    url: a.url,
                    waitMsg: "Uploading your file...",
                    success: function(b, c) {
                        a.window.close(), a.onUploaded.notify();
                    },
                    failure: function(b, c) {
                        a.window.close(), a.onUploaded.notify();
                    }
                }));
            }
        } ]
    });
}, UploaderWidget.prototype.show = function() {
    this.window = Ext.create("Ext.window.Window", {
        title: "ISPyB File Uploader Manager",
        height: 200,
        modal: !0,
        icon: "../images/icon/upload.svg",
        width: 600,
        layout: "fit",
        items: this.getForm()
    }), this.window.show();
}, CaseWindow.prototype.getButtons = GenericWindow.prototype.getButtons, CaseWindow.prototype._render = GenericWindow.prototype._render, 
CaseWindow.prototype._postRender = GenericWindow.prototype._postRender, CaseWindow.prototype.save = function() {
    return "" == this.form.getDewar().code ? void BUI.showError("Code field is mandatory") : (this.onSaved.notify(this.form.getDewar()), 
    void this.panel.close());
}, CaseWindow.prototype.draw = function(a) {
    this.dewar = a, this._render(a);
}, GenericWindow.prototype.getButtons = function() {
    var a = this;
    return this.close ? [ {
        text: "Close",
        handler: function() {
            a.panel.close();
        }
    } ] : [ {
        text: "Save",
        handler: function() {
            a.save();
        }
    }, {
        text: "Cancel",
        handler: function() {
            a.panel.close();
        }
    } ];
}, GenericWindow.prototype.save = function() {
    alert("Method save of GenerciWindow class is abstract");
}, GenericWindow.prototype._postRender = function(a, b) {}, GenericWindow.prototype.draw = function(a, b) {
    this._render(a, b);
}, GenericWindow.prototype.refresh = function(a, b) {
    this.data = a, this.experiment = b, this.form.refresh(a, b);
}, GenericWindow.prototype._render = function(a, b) {
    this.data = a;
    null == this.panel && (this.panel = Ext.create("Ext.Window", {
        id: this.id,
        title: this.title,
        resizable: !0,
        constrain: !0,
        border: 1,
        modal: this.modal,
        frame: !1,
        draggable: this.draggable,
        closable: !0,
        autoscroll: !0,
        layout: {
            type: "vbox",
            align: "stretch"
        },
        width: this.width,
        height: this.form.height,
        buttonAlign: "right",
        buttons: this.getButtons(),
        items: this.form.getPanel(a, b),
        listeners: {
            scope: this,
            minimize: function() {
                this.panel.hide();
            },
            destroy: function() {
                delete this.panel;
            }
        }
    }), this.panel.setLoading()), this.panel.show(), this._postRender();
}, MacromoleculeWindow.prototype.refresh = function(a) {
    this.macromoleculeTabs.refresh(a), null != a && this.panel.setTitle(a.acronym);
}, MacromoleculeWindow.prototype.draw = function(a) {
    this.panel = Ext.create("Ext.Window", {
        id: this.id,
        title: this.title,
        modal: !0,
        items: this.macromoleculeTabs.getPanel(),
        width: this.width,
        height: this.height,
        buttonAlign: "right",
        listeners: {
            scope: this,
            minimize: function() {
                this.panel.hide();
            },
            destroy: function() {
                delete this.panel;
            }
        }
    }), this.panel.show(), this.refresh(a);
}, StockSolutionWindow.prototype.getButtons = GenericWindow.prototype.getButtons, 
StockSolutionWindow.prototype._render = GenericWindow.prototype._render, StockSolutionWindow.prototype._postRender = GenericWindow.prototype._postRender, 
StockSolutionWindow.prototype.save = function() {
    var a = this, b = function(b, c) {
        var d = function(b, d) {
            a.panel.close(), a.onSaved.notify(c);
        };
        a.panel.setLoading("Updading proposal information"), EXI.getDataAdapter({
            onSuccess: d
        }).proposal.proposal.update();
    };
    return null == this.form.getStockSolution().bufferId ? void BUI.showError("Buffer field is mandatory") : "" == this.form.getStockSolution().name ? void BUI.showError("Acronym field is mandatory") : "" == this.form.getStockSolution().concentration ? void BUI.showError("Concentration field is mandatory") : "" == this.form.getStockSolution().volume ? void BUI.showError("Volume field is mandatory") : (this.panel.setLoading("ISPyB: saving stock solution"), 
    void EXI.getDataAdapter({
        onSuccess: b
    }).saxs.stockSolution.saveStockSolution(this.form.getStockSolution()));
}, StockSolutionWindow.prototype.draw = function(a, b) {
    this.experiment = b, this.title = "Stock Solution", this._render(a, b);
}, SubtractionSelectorWindow.prototype._getButtons = function() {
    var a = this;
    return [ {
        text: "Select",
        handler: function() {
            a.onSelect.notify(a.selected), a.window.destroy();
        }
    }, {
        text: "Cancel",
        handler: function() {
            a.window.destroy();
        }
    } ];
}, SubtractionSelectorWindow.prototype.getToolBar = function() {
    var a = this;
    return Ext.create("Ext.toolbar.Toolbar", {
        height: 60,
        items: [ {
            xtype: "textfield",
            name: "field1",
            width: 500,
            emptyText: "enter search macromolecule",
            listeners: {
                specialkey: function(b, c) {
                    if (c.getKey() == c.ENTER) {
                        var d = function(b, c) {
                            a.grid.load(c), a.window.setLoading(!1);
                        };
                        a.window.setLoading(), EXI.getDataAdapter({
                            onSuccess: d
                        }).saxs.dataCollection.getDataCollectionsByKey("macromoleculeAcronym", b.getValue());
                    }
                }
            }
        } ]
    });
}, SubtractionSelectorWindow.prototype.show = function() {
    this.window = Ext.create("Ext.window.Window", {
        title: "Select a data collection",
        modal: !0,
        height: 500,
        width: 1050,
        tbar: this.getToolBar(),
        items: [ this.grid.getPanel() ],
        buttons: this._getButtons()
    }), this.window.show();
}, FinalStepWizardForm.prototype.getForm = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        plain: !0,
        frame: !1,
        border: 1,
        margin: "100 100 100 100",
        fieldDefaults: {
            labelAlign: "left",
            labelWidth: 90,
            anchor: "100%"
        },
        items: [ {
            xtype: "textfield",
            name: "Name",
            id: this.id + "name",
            width: 600,
            fieldLabel: "Name",
            margin: "20 20 20 20",
            value: ""
        }, {
            xtype: "textareafield",
            name: "textarea1",
            id: this.id + "description",
            margin: "20 20 20 20",
            width: 600,
            fieldLabel: "Description",
            value: ""
        } ]
    }), this.panel;
}, FinalStepWizardForm.prototype.getNextForm = function() {
    return null;
}, FinalStepWizardForm.prototype.input = function() {
    return [];
}, FinalStepWizardForm.prototype.test = function(a) {
    var b = new FinalStepWizardForm(), c = b.getForm();
    c.render(a);
}, GenericStepWizardForm.prototype.getForm = function() {
    alert("[getForm] Not implemented");
}, GenericStepWizardForm.prototype.getNextForm = function() {
    alert("[getNextForm] Not implemented");
}, GenericStepWizardForm.prototype.reload = function() {
    alert("[getNextForm] Not implemented");
}, MeasurementCreatorStepWizardForm.prototype.setData = function(a) {
    this.data.measurementsSelected = a;
    for (var b = {}, c = {}, d = 0; d < this.data.measurementsSelected.length; d++) {
        var e = this.data.measurementsSelected[d];
        null == b[e.bufferId] && (b[e.bufferId] = {
            buffer: e.buffer_acronym,
            bufferId: e.bufferId,
            volume: 0,
            concentration: 0
        });
        var f = e.macromoleculeId + "_" + e.bufferId + "_" + e.concentration;
        null == c[f] && (c[f] = {
            macromolecule: e.acronym,
            macromoleculeId: e.macromoleculeId,
            buffer: e.buffer_acronym,
            bufferId: e.bufferId,
            volume: 0,
            concentration: e.concentration
        }), b[e.bufferId].volume = Number(b[e.bufferId].volume) + 2 * e.volumeToLoad, c[f].volume = Number(c[f].volume) + e.volumeToLoad;
    }
}, MeasurementCreatorStepWizardForm.prototype.getSingleMeasurementForm = function() {
    var a = BIOSAXS_COMBOMANAGER.getComboMacromoleculeByMacromolecules(this.macromolecules, {
        width: 250,
        labelWidth: 100
    }), b = BIOSAXS_COMBOMANAGER.getComboBuffers(this.buffers, {
        margin: "0 0 0 50",
        width: 250,
        labelWidth: 100
    }), c = Ext.create("Ext.Button", {
        width: 200,
        height: 25,
        margin: "0 0 20 300",
        text: "Add",
        scope: this,
        handler: function() {
            for (var c = Ext.getCmp(this.id + "quantity").getValue(), d = [], e = 0; c > e; e++) d.push({
                acronym: EXI.proposalManager.getMacromoleculeById(a.getValue()).acronym,
                macromoleculeId: a.getValue(),
                bufferId: b.getValue(),
                buffer_acronym: EXI.proposalManager.getBufferById(b.getValue()).acronym,
                concentration: Ext.getCmp(this.id + "conc").getValue(),
                volumeToLoad: Ext.getCmp(this.id + "volume").getValue(),
                exposureTemperature: Ext.getCmp(this.id + "seu").getValue(),
                transmission: Ext.getCmp(this.id + "transmission").getValue(),
                waitTime: Ext.getCmp(this.id + "waitTime").getValue(),
                viscosity: Ext.getCmp(this.id + "viscosity").getValue(),
                flow: Ext.getCmp(this.id + "flow").getValue()
            });
            this.measurementGrid.store.loadData(d, !0), this.setData(JSON.parse(Ext.encode(Ext.pluck(this.measurementGrid.grid.getStore().data.items, "data"))));
        }
    });
    return Ext.create("Ext.panel.Panel", {
        padding: "0 0 0 0",
        margin: "0 10 0 0",
        height: 240,
        width: 1150,
        cls: "border-grid",
        items: [ {
            xtype: "container",
            layout: "hbox",
            margin: "10 10 0 10",
            items: [ a, b, {
                xtype: "numberfield",
                id: this.id + "quantity",
                fieldLabel: "Repeat",
                labelWidth: 100,
                width: 220,
                margin: "5 0 0 120",
                minValue: 0,
                maxValue: 300,
                value: 1
            } ]
        }, {
            xtype: "container",
            layout: "hbox",
            margin: "10 10 0 10",
            items: [ {
                xtype: "numberfield",
                id: this.id + "conc",
                fieldLabel: "Conc. (mg/ml)",
                labelWidth: 100,
                width: 220,
                margin: "5 0 0 0",
                minValue: 0,
                maxValue: 300,
                value: 1
            }, {
                xtype: "numberfield",
                id: this.id + "seu",
                fieldLabel: "Exposure. Temp.",
                labelWidth: 100,
                width: 220,
                margin: "5 0 0 80",
                value: 4,
                minValue: 4,
                maxValue: 60
            } ]
        }, {
            xtype: "container",
            margin: "10 10 0 10",
            layout: "hbox",
            items: [ {
                xtype: "numberfield",
                id: this.id + "volume",
                fieldLabel: "Vol. To Load (&#181l)",
                labelWidth: 100,
                width: 220,
                value: 40,
                margin: "5 0 0 0",
                minValue: 10,
                maxValue: 300
            }, {
                xtype: "numberfield",
                id: this.id + "transmission",
                fieldLabel: "Transmission (%)",
                labelWidth: 100,
                width: 220,
                margin: "5 0 0 80",
                value: 100,
                minValue: 0,
                maxValue: 100
            } ]
        }, {
            xtype: "container",
            layout: "hbox",
            margin: "10 10 0 10",
            items: [ {
                xtype: "numberfield",
                id: this.id + "waitTime",
                fieldLabel: "Wait Time",
                labelWidth: 100,
                width: 220,
                value: 0,
                minValue: 0,
                maxValue: 100
            }, {
                xtype: "combo",
                id: this.id + "viscosity",
                store: [ "low", "medium", "high" ],
                fieldLabel: "SC Viscosity",
                value: "low",
                labelWidth: 100,
                width: 220,
                margin: "0 0 0 80"
            }, {
                xtype: "checkbox",
                id: this.id + "flow",
                checked: !0,
                fieldLabel: "Flow",
                labelWidth: 100,
                width: 250,
                margin: "0 0 0 80"
            } ]
        }, {
            xtype: "container",
            layout: "hbox",
            margin: "10 0 0 0",
            items: [ c ]
        } ]
    });
}, MeasurementCreatorStepWizardForm.prototype.getConcentrationMeasurementForm = function() {
    var a = BIOSAXS_COMBOMANAGER.getComboMacromoleculeByMacromolecules(this.macromolecules, {
        width: 300,
        labelWidth: 100
    }), b = BIOSAXS_COMBOMANAGER.getComboBuffers(this.buffers, {
        width: 300,
        labelWidth: 100
    }), c = Ext.create("Ext.Button", {
        width: 200,
        height: 25,
        margin: "0 0 20 300",
        text: "Add",
        scope: this,
        handler: function() {
            for (var c = a.getValue(), d = b.getValue(), e = Ext.getCmp(this.id + "_cs_conc").getValue(), f = Ext.getCmp(this.id + "_cs_volume").getValue(), g = Ext.getCmp(this.id + "_cs_transmission").getValue(), h = Ext.getCmp(this.id + "_cs_seu").getValue(), i = Ext.getCmp(this.id + "_cs_waitTime").getValue(), j = Ext.getCmp(this.id + "_cs_viscosity").getValue(), k = Ext.getCmp(this.id + "_cs_flow").getValue(), l = [], m = 1; e >= m; m++) l.push({
                acronym: EXI.proposalManager.getMacromoleculeById(c).acronym,
                macromoleculeId: c,
                bufferId: d,
                buffer_acronym: EXI.proposalManager.getBufferById(d).acronym,
                concentration: m,
                volumeToLoad: f,
                exposureTemperature: h,
                transmission: g,
                waitTime: i,
                viscosity: j,
                flow: k
            });
            this.measurementGrid.store.loadData(l, !0), this.setData(JSON.parse(Ext.encode(Ext.pluck(this.measurementGrid.store.data.items, "data"))));
        }
    });
    return Ext.create("Ext.panel.Panel", {
        margin: "0 10 0 0",
        height: 200,
        width: 1150,
        cls: "border-grid",
        items: [ {
            xtype: "container",
            layout: "hbox",
            items: [ {
                xtype: "numberfield",
                id: this.id + "_cs_conc",
                fieldLabel: "How many unknow concentrations do you have?",
                labelWidth: 300,
                width: 500,
                margin: "5 0 0 10",
                minValue: 1,
                maxValue: 20,
                value: 1
            } ]
        }, {
            xtype: "container",
            margin: "10 0 0 10",
            layout: "hbox",
            items: [ a, {
                xtype: "numberfield",
                id: this.id + "_cs_seu",
                fieldLabel: "Exposure. Temp.",
                labelWidth: 100,
                width: 220,
                margin: "5 0 0 20",
                value: 4,
                minValue: 4,
                maxValue: 60
            }, {
                xtype: "numberfield",
                margin: "5 0 0 50",
                id: this.id + "_cs_volume",
                fieldLabel: "Vol. To Load (&#181l)",
                labelWidth: 100,
                width: 220,
                value: 40,
                minValue: 10,
                maxValue: 300
            }, {
                xtype: "numberfield",
                id: this.id + "_cs_transmission",
                fieldLabel: "Transmission (%)",
                labelWidth: 100,
                width: 220,
                margin: "5 0 0 50",
                value: 100,
                minValue: 0,
                maxValue: 100
            } ]
        }, {
            xtype: "container",
            layout: "hbox",
            margin: "5 0 0 10",
            items: [ b, {
                xtype: "numberfield",
                id: this.id + "_cs_waitTime",
                fieldLabel: "Wait Time",
                labelWidth: 100,
                width: 220,
                value: 0,
                minValue: 0,
                maxValue: 100,
                margin: "5 0 0 20"
            }, {
                xtype: "combo",
                id: this.id + "_cs_viscosity",
                store: [ "low", "medium", "high" ],
                fieldLabel: "SC Viscosity",
                value: "low",
                margin: "5 0 0 50",
                labelWidth: 100,
                width: 220
            }, {
                xtype: "checkbox",
                id: this.id + "_cs_flow",
                fieldLabel: "Flow",
                checked: !0,
                labelWidth: 100,
                width: 250,
                margin: "0 0 0 80"
            } ]
        }, {
            xtype: "container",
            layout: "hbox",
            margin: "20 0 0 0",
            items: [ c ]
        } ]
    });
}, MeasurementCreatorStepWizardForm.prototype.getHeaderForm = function() {
    return this.panel = Ext.create("Ext.panel.Panel", {
        layout: "hbox",
        height: 100,
        items: [ {
            xtype: "textfield",
            name: "Name",
            id: this.id + "name",
            width: 400,
            labelWidth: 50,
            fieldLabel: "Name",
            margin: "20 20 20 20",
            value: ""
        }, {
            id: this.id + "comments",
            xtype: "textareafield",
            name: "comments",
            fieldLabel: "Comments",
            height: 75,
            labelWidth: 100,
            margin: "20 20 20 50",
            width: 600
        } ]
    }), this.panel;
}, MeasurementCreatorStepWizardForm.prototype.getForm = function() {
    var a = this;
    return this.formPanel = Ext.create("Ext.tab.Panel", {
        padding: "0 0 0 0",
        plain: !0,
        margin: "20 5 20 10",
        height: 290,
        items: [ {
            tabConfig: {
                title: "Concentration Series"
            },
            items: this.getConcentrationMeasurementForm()
        }, {
            tabConfig: {
                title: "Individual Measurement"
            },
            items: [ this.getSingleMeasurementForm() ]
        } ]
    }), this.measurementGrid = new MeasurementGrid({
        height: 250,
        maxHeight: 250,
        minHeight: 250,
        width: 1150,
        tbar: !1,
        maxWidth: 870,
        resizable: !1,
        margin: "0 10 10 10",
        isStatusColumnHidden: !0,
        isTimeColumnHidden: !0,
        removeBtnEnabled: !0,
        isPriorityColumnHidden: !0
    }), this.measurementGrid.onRemoved.attach(function(b, c) {
        a.setData(JSON.parse(Ext.encode(Ext.pluck(a.measurementGrid.grid.getStore().data.items, "data"))));
    }), this.panel = Ext.create("Ext.panel.Panel", {
        plain: !0,
        frame: !1,
        border: 0,
        items: [ this.getHeaderForm(), this.formPanel, this.addButton, this.measurementGrid.getPanel([]) ]
    }), null != this.data.measurementsSelected && (this.measurementGrid.grid.getStore().loadData(this.data.measurementsSelected, !1), 
    this.setData(JSON.parse(Ext.encode(Ext.pluck(this.measurementGrid.grid.getStore().data.items, "data"))))), 
    this.panel;
}, MeasurementCreatorStepWizardForm.prototype.getBuffers = function(a) {
    for (var b = {}, c = null, d = 0; d < a.length; d++) c = a[d], null == b[c.bufferId] && (b[c.bufferId] = {
        buffer: c.buffer_acronym,
        bufferId: c.bufferId,
        volumeToLoad: c.volumeToLoad,
        volume: 0,
        concentration: 0,
        transmission: c.transmission,
        flow: c.flow,
        viscosity: c.viscosity
    }), b[c.bufferId].volume = Number(b[c.bufferId].volume) + 2 * c.volumeToLoad;
    var e = [];
    for (var f in b) b.hasOwnProperty(f) && (c = b[f], e.push({
        bufferId: c.bufferId,
        buffer: EXI.proposalManager.getBufferById(c.bufferId).acronym,
        concentration: c.concentration,
        volume: c.volume,
        volumeToLoad: c.volumeToLoad,
        transmission: c.transmission,
        flow: c.flow,
        viscosity: c.viscosity
    }));
    return e;
}, MeasurementCreatorStepWizardForm.prototype.parseMeasurements = function(a) {
    var b = [], c = null, d = null, e = this.getBuffers(a);
    for (d = 0; d < e.length; d++) c = e[d], b.push({
        SEUtemperature: "",
        buffer: c.buffer,
        buffername: c.buffer,
        code: c.buffer,
        comments: "",
        concentration: 0,
        enable: !0,
        flow: c.flow,
        recuperate: !1,
        title: "",
        transmission: c.transmission,
        macromolecule: c.buffer,
        type: "Buffer",
        typen: 1,
        viscosity: c.viscosity,
        volume: c.volume,
        volumeToLoad: c.volumeToLoad,
        waittime: 0,
        plate: null,
        row: null,
        well: null
    });
    for (d = 0; d < a.length; d++) {
        c = a[d];
        var f = "Buffer", g = "";
        null != c.macromoleculeId && (f = "Sample", g = EXI.proposalManager.getMacromoleculeById(c.macromoleculeId).acronym), 
        b.push({
            SEUtemperature: c.exposureTemperature,
            buffer: c.buffer_acronym,
            buffername: c.buffer_acronym,
            code: g,
            comments: "",
            concentration: c.concentration,
            enable: !0,
            flow: c.flow,
            recuperate: !1,
            title: "",
            transmission: c.transmission,
            macromolecule: g,
            type: f,
            typen: 1,
            viscosity: c.viscosity,
            volume: c.volumeToLoad,
            volumeToLoad: c.volumeToLoad,
            waittime: c.waitTime,
            plate: null,
            row: null,
            well: null
        });
    }
    var h = new SampleAutomaticPositionFactory(b);
    return h.setPosition();
}, MeasurementCreatorStepWizardForm.prototype.getNextForm = function() {
    return new FinalStepWizardForm(JSON.stringify(this.parseMeasurements(this.data.measurementsSelected)));
}, SampleAutomaticPositionFactory.prototype.getAvailablePlates = function() {
    for (var a = EXI.proposalManager.getPlateByFlavour(), b = [], c = [], d = 0; d < a.length; d++) if (2 == a[d].plateTypeId) {
        for (var e = 0; 12 > e; e++) b.push({
            plate: 2,
            row: Math.floor(e / 3) + 1,
            well: Number(Number(e % 3) + 9)
        });
        for (var f = 0, e = 0; 32 > e; e++) {
            var g = {
                plate: 2,
                row: Math.floor(e / 8) + 1,
                well: Number(e % 8) + 1 - f
            };
            c.push(g);
        }
    }
    for (var d = 0; d < a.length; d++) if (2 != a[d].plateTypeId) {
        for (var h = 0; h < a[d].rowCount; h++) for (var i = 0; i < a[d].columnCount; i++) b.push({
            plate: d + 1,
            row: h + 1,
            well: i + 1
        });
        for (var h = 0; h < a[d].rowCount; h++) for (var i = 0; i < a[d].columnCount; i++) c.push({
            plate: d + 1,
            row: h + 1,
            well: i + 1
        });
    }
    return {
        buffer: b.reverse(),
        sample: c.reverse()
    };
}, SampleAutomaticPositionFactory.prototype._getKey = function(a, b, c) {
    return a + ":" + b + "-" + c;
}, SampleAutomaticPositionFactory.prototype.setPosition = function() {
    for (var a = this.getAvailablePlates(), b = {}, c = 0; c < this.samples.length; c++) if ("Buffer" == this.samples[c].type) {
        var d = this._getKey(this.samples[c].plate, this.samples[c].row, this.samples[c].well);
        this.samples[c].plate = a.buffer[a.buffer.length - 1].plate, this.samples[c].row = a.buffer[a.buffer.length - 1].row, 
        this.samples[c].well = a.buffer[a.buffer.length - 1].well, b[d] = !0, a.buffer.pop();
    }
    for (var e = {}, c = 0; c < this.samples.length; c++) if ("Sample" == this.samples[c].type) {
        for (var d = this._getKey(a.sample[a.sample.length - 1].plate, a.sample[a.sample.length - 1].row, a.sample[a.sample.length - 1].well); null != b[d]; ) a.sample.pop(), 
        d = this._getKey(a.sample[a.sample.length - 1].plate, a.sample[a.sample.length - 1].row, a.sample[a.sample.length - 1].well);
        var f = this.samples[c].macromolecule + "_" + this.samples[c].buffer + "_" + this.samples[c].concentration;
        if (null != e[f]) {
            this.samples[c].plate = e[f].plate, this.samples[c].row = e[f].row, this.samples[c].well = e[f].well;
            continue;
        }
        e[f] = {
            plate: a.sample[a.sample.length - 1].plate,
            row: a.sample[a.sample.length - 1].row,
            well: a.sample[a.sample.length - 1].well
        }, this.samples[c].plate = a.sample[a.sample.length - 1].plate, this.samples[c].row = a.sample[a.sample.length - 1].row, 
        this.samples[c].well = a.sample[a.sample.length - 1].well, b[d] = !0, a.sample.pop();
    }
    return this.samples;
}, WizardWidget.prototype.draw = function(a, b) {
    this.targetId = a, this.forms.push(b), this.renderMasterContainer();
}, WizardWidget.prototype.getButtons = function(a, b, c) {
    var d = this;
    return null != d.forms[d.step].onWizardFinished ? [ {
        text: "Back",
        handler: function() {
            d.step = d.step - 1, d.renderMasterContainer(), c(), d.forms[d.step].reload();
        }
    }, "->", {
        text: "Finish",
        handler: function() {
            d.forms[d.step].onWizardFinished.attach(function(a, b) {
                d.onFinished.notify(b);
            }), b();
        }
    } ] : 0 == a ? [ "->", {
        text: "Next",
        handler: function() {
            d.forms.push(d.forms[d.step].getNextForm()), d.step = d.step + 1, d.renderMasterContainer(), 
            b(d.forms[d.step - 1].data);
        }
    } ] : this.step > 0 && null == this.forms[d.step].onWizardFinished ? [ {
        text: "Back",
        handler: function() {
            d.step = d.step - 1, d.renderMasterContainer(), c(), d.forms[d.step].reload();
        }
    }, "->", {
        text: "Next",
        handler: function() {
            null == d.forms[d.step].onWizardFinished ? (d.forms.push(d.forms[d.step].getNextForm()), 
            d.step = d.step + 1, b(d.forms[d.step - 1].data), d.renderMasterContainer()) : (d.forms[d.step].onWizardFinished.attach(function(a, b) {
                d.window.close(), d.onFinished.notify(b);
            }), d.step = d.step + 1, b(d.forms[d.step - 1].data));
        }
    } ] : void 0;
}, WizardWidget.prototype.getPanel = function(a) {
    return this.forms.push(a), Ext.create("Ext.form.Panel", {
        width: this.width,
        height: 800,
        items: [ this.forms[this.step].getForm() ],
        buttons: this.getButtons(this.step, this.forms[this.step].onNext, this.forms[this.step].onBack)
    });
}, WizardWidget.prototype.renderMasterContainer = function() {
    null != this.current && this.current.destroy(), null != this.window && this.window.destroy(), 
    this.current = this.getPanel(), 0 == this.windowMode ? this.current.render(this.targetId) : (this.window = Ext.create("Ext.Window", {
        id: this.id,
        resizable: !0,
        constrain: !0,
        modal: !0,
        frame: !1,
        draggable: !0,
        autoscroll: !0,
        layout: {
            type: "vbox",
            align: "stretch"
        },
        items: this.current,
        width: this.width,
        title: "BIOSAXS Experiment Designer",
        listeners: {
            scope: this,
            minimize: function() {
                this.panel.hide();
            },
            destroy: function() {
                delete this.panel;
            }
        }
    }), this.window.show());
}, ListView.prototype.getSorters = function() {
    return {};
}, ListView.prototype.getFilter = function(a) {
    return null;
}, ListView.prototype.load = function(a) {
    this.data = a, null != this.formatData ? this.store.loadData(this.formatData(a)) : this.store.loadData(a);
}, ListView.prototype.getPanel = function() {
    var a = this;
    return this.store = Ext.create("Ext.data.Store", {
        fields: this.getFields(),
        data: [],
        sorters: this.sorters,
        proxy: {
            type: "memory",
            reader: {
                type: "json"
            }
        }
    }), this.panel = Ext.create("Ext.grid.Panel", {
        store: this.store,
        layout: "fit",
        columns: this.getColumns(),
        width: this.width,
        height: this.height,
        multiSelect: !0,
        dockedItems: [ {
            xtype: "toolbar",
            dock: "bottom",
            cls: "x-toolbar",
            height: 42,
            items: [ {
                xtype: "textfield",
                name: "searchField",
                hideLabel: !0,
                width: 200,
                hidden: null == a.getFilter(),
                emptyText: "Search...",
                listeners: {
                    change: function(b, c) {
                        var d = b.getValue();
                        "" != d ? a.store.filter(a.getFilter(d)) : (a.store.clearFilter(!0), a.load(a.data));
                    }
                }
            } ]
        } ],
        viewConfig: {
            emptyText: "No items to display",
            enableTextSelection: !0,
            preserveScrollOnRefresh: !0,
            stripeRows: !0
        }
    }), this.panel.on("selectionchange", function(b, c) {
        var d = [];
        for (var e in c) d.push(c[e].data);
        a.onSelect.notify(d);
    }), this.panel;
}, AddressListView.prototype.getPanel = ListView.prototype.getPanel, AddressListView.prototype.load = ListView.prototype.load, 
AddressListView.prototype.getFilter = function(a) {
    return [ {
        property: "cardName",
        value: a,
        anyMatch: !0
    } ];
}, AddressListView.prototype.getRow = function(a) {
    var b = "<table class='listView'>";
    return b = b + "<tr><td>cardName:</td><td style='color:#207a7a;font-weight:bold;'>" + a.data.cardName + "</td></tr>", 
    b = b + "<tr><td>Familiy Name:</td><td>" + a.data.personVO.familyName + "</td></tr>", 
    b = b + "<tr><td>Name:</td><td>" + a.data.personVO.givenName + "</td></tr>", b = b + "<tr><td>Email:</td><td>" + a.data.personVO.emailAddress + "</td></tr>", 
    b + "</table>";
}, AddressListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Addresses",
        flex: 1,
        dataIndex: "sessionId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    }, {
        text: "sessionId",
        dataIndex: "sessionId",
        hidden: !0
    }, {
        text: "startDate",
        dataIndex: "startDate",
        hidden: !0
    }, {
        text: "nbShifts",
        dataIndex: "nbShifts",
        hidden: !0
    }, {
        text: "endDate",
        dataIndex: "endDate",
        hidden: !0
    }, {
        text: "comments",
        dataIndex: "comments",
        hidden: !0
    } ];
}, AddressListView.prototype.getFields = function() {
    return [ "cardName", "defaultCourrierCompany", "personVO.emailAddress" ];
}, SessionListView.prototype.getPanel = ListView.prototype.getPanel, SessionListView.prototype.load = ListView.prototype.load, 
SessionListView.prototype.getFilter = function(a) {
    return [ {
        property: "beamlineName",
        value: a,
        anyMatch: !0
    } ];
}, SessionListView.prototype.formatData = function(a) {
    for (var b = 0; b < a.length; b++) a[b].date = moment(a[b].startDate).format("MMM Do YY");
    return a;
}, SessionListView.prototype.getValue = function(a) {
    return null != a ? "<tr><td style='max-width: 175px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;'>" + a + "</td></tr>" : "";
}, SessionListView.prototype.getRow = function(a) {
    var b = "<div style='color:#207a7a;font-size:12px;font-weight:bold;'>" + a.data.beamlineName + "</div>";
    if (b += "<table class='listView'>", null != a.data.startDate) try {
        b = b + "<tr><td>" + moment(a.data.startDate).format("MMM Do YY") + "</td></tr>";
    } catch (c) {
        b += "<tr><td>Date:</td><td>Format Error</td></tr>";
    }
    return b += this.getValue(a.data.beamlineOperator), b += this.getValue(a.data.comments), 
    b += "</table>";
}, SessionListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Session",
        flex: 1,
        dataIndex: "sessionId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    }, {
        text: "sessionId",
        dataIndex: "sessionId",
        hidden: !0
    }, {
        text: "startDate",
        dataIndex: "startDate",
        hidden: !0
    }, {
        text: "nbShifts",
        dataIndex: "nbShifts",
        hidden: !0
    }, {
        text: "endDate",
        dataIndex: "endDate",
        hidden: !0
    }, {
        text: "comments",
        dataIndex: "comments",
        hidden: !0
    } ];
}, SessionListView.prototype.getFields = function() {
    return [ "date", "startDate", "nbShifts", "endDate", "comments", "sessionId", "beamlineName" ];
}, ShippingListView.prototype.getPanel = ListView.prototype.getPanel, ShippingListView.prototype.load = ListView.prototype.load, 
ShippingListView.prototype.getRow = function(a) {
    var b = "<table class='listView'>";
    if (b = b + "<tr><td>Name:</td><td>" + a.data.shippingName + "</td></tr>", b = b + "<tr><td  style='color:#207a7a;font-weight:bold;'>Status:</td><td>" + a.data.shippingStatus + "</td></tr>", 
    b = b + "<tr><td>Type:</td><td>" + a.data.shippingType + "</td></tr>", null != a.data.creationDate) try {
        b = b + "<tr><td>Date:</td><td>" + moment(a.data.creationDate).format("MMM Do YY") + "</td></tr>";
    } catch (c) {
        b += "<tr><td>Date:</td><td>Format Error</td></tr>";
    }
    return b + "</table>";
}, ShippingListView.prototype.getFilter = function(a) {
    return [ {
        property: "creationDate",
        value: a,
        anyMatch: !0
    } ];
}, ShippingListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Shipping",
        flex: 1,
        dataIndex: "shippingId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, ShippingListView.prototype.getFields = function() {
    return [ "shippingId", "creationDate", "shippingStatus", "shippingType" ];
}, WorkSpaceListView.prototype.loadProjects = function(a) {
    null != a && this.projectStore.loadData(a), this.loadRuns();
}, WorkSpaceListView.prototype.loadRuns = function() {
    var a = this, b = new ExiDataAdapter();
    b.onSuccess.attach(function(b, c) {
        a.runStore.loadData(c.reverse()), a.runGrid.setLoading(!1);
    }), this.runGrid.setLoading(), this.projectId = exiSAXS.localExtorage.userManager.getActiveProject().internalId, 
    b.getRuns(exiSAXS.localExtorage.userManager.getActiveProject().internalId);
}, WorkSpaceListView.prototype.setSelectedItems = function(a) {
    for (var b = 0; b < a.length; b++) delete a[b].id;
    this.selection.loadData(a), this.projectGrid.collapse();
}, WorkSpaceListView.prototype.getSelectionPanel = function() {
    function a(a, b) {
        if (null != a && null != b) {
            if (.3 > a / b) return "<span style='color:red;'>" + a + "/" + b + "</span>";
            if (.7 > a / b) return "<span style='color:orange;'>" + a + "/" + b + "</span>";
        }
        return a + "/" + b;
    }
    function b(a) {
        "yes" == a && exiSAXS.localExtorage.selectedSubtractionsManager.remove(record.data);
    }
    return this.selection = Ext.create("Ext.data.Store", {
        fields: [ "subtractionId", "scattering", "macromoleculeAcronym", "concentration", "framesMerge", "framesCount", "exposureTemperature" ]
    }), this.selectionGrid = Ext.create("Ext.grid.Panel", {
        store: this.selection,
        title: "Selection",
        emptyText: "No selection",
        tbar: this.selectionMenu.getPanel(),
        columns: [ {
            text: "",
            dataIndex: "scattering",
            renderer: function(a, b, c) {
                return "<img src=" + new DataAdapter().getImage(c.data.subtractionId, "scattering") + '   height="70" width="70" >';
            }
        }, {
            text: "",
            dataIndex: "macromoleculeAcronym",
            flex: .8,
            renderer: function(b, c, d) {
                return d.data.macromoleculeAcronym + "<br />" + BUI.formatValuesUnits(d.data.concentration, "mg/ml", 7, 2) + "<br />" + d.data.exposureTemperature + "<span class='key_subgrid'> C</span><br />" + a(d.data.framesMerge, d.data.framesCount);
            }
        }, {
            text: "",
            id: "remove",
            dataIndex: "scattering",
            width: 50,
            renderer: function(a) {
                return '<br /><img style="cursor: pointer; height:30px;width:30px;" src="images/icon/ic_highlight_remove_black_24dp.png" />';
            }
        } ],
        width: 200,
        listeners: {
            cellclick: function(a, c, d, e, f, g, h, i) {
                2 == d && Ext.Msg.show({
                    title: "Discard subtraction?",
                    msg: "Your are discarding a selected subtraction. You may re-add it afterwards. Would you like to discard it?",
                    buttons: Ext.Msg.YESNO,
                    icon: Ext.Msg.QUESTION,
                    fn: b,
                    height: 150
                });
            }
        }
    }), this.selectionGrid;
}, WorkSpaceListView.prototype.getProjectPanel = function() {
    return this.projectStore = Ext.create("Ext.data.Store", {
        fields: [ "name" ]
    }), this.projectGrid = Ext.create("Ext.grid.Panel", {
        store: this.projectStore,
        title: "Projects",
        emptyText: "No projects",
        columns: [ {
            text: "Name",
            dataIndex: "name",
            flex: 1,
            renderer: function(a, b, c) {
                var d = "<span class='projectName'>" + c.data.name + "</span><br/><span class='projectDescription'>" + c.data.description + "</span>";
                return null != c.data.subtractions && (d = d + "<br />" + c.data.subtractions.length + " datasets selected"), 
                d;
            }
        } ],
        height: 200
    }), this.projectGrid;
}, WorkSpaceListView.prototype.getRunPanel = function() {
    var a = this;
    return this.runStore = Ext.create("Ext.data.Store", {
        fields: [ "name" ]
    }), this.runGrid = Ext.create("Ext.grid.Panel", {
        store: this.runStore,
        title: "Run",
        emptyText: "No Runs",
        minHeight: 600,
        dockedItems: [ {
            xtype: "toolbar",
            dock: "bottom",
            ui: "footer",
            items: [ {
                xtype: "component",
                flex: 1
            }, {
                xtype: "button",
                text: "Refresh",
                handler: function(b, c, d) {
                    a.loadRuns();
                }
            } ]
        } ],
        columns: [ {
            text: "Name",
            dataIndex: "name",
            flex: 1,
            renderer: function(a, b, c) {
                var d = c.data.jobs, e = "<table>";
                if (e = e + "<tr ><td  class='nameRun'>" + c.data.name + "</td></tr>", e = e + "<tr ><td  class='statusRun'>" + c.data.status + "</td></tr>", 
                e = e + "<tr ><td  class='dateRun'>" + c.data.creationDate + "</td></tr>", null != d) for (var f = 0; f < d.length; f++) e = e + "<tr ><td class='jobRow'>" + d[f].name + "</td><td>" + d[f].status + "</td></tr>";
                return e + "</table>";
            }
        } ],
        height: 200
    }), this.runGrid.on("select", function(b, c, d, e) {
        location.hash = "/project/" + a.projectId + "/run/" + c.data.internalId + "/main";
    }), this.runGrid;
}, WorkSpaceListView.prototype.getPanel = function() {
    var a = this;
    return this.panel = Ext.create("Ext.panel.Panel", {
        layout: "fit",
        autoScroll: !0,
        defaults: {
            bodyStyle: "padding:15px"
        },
        items: [ a.getSelectionPanel(), a.getProjectPanel(), a.getRunPanel() ]
    }), this.panel;
}, RunListView.prototype.getPanel = ListView.prototype.getPanel, RunListView.prototype.load = ListView.prototype.load, 
RunListView.prototype.getFilter = function(a) {
    return [ {
        property: "name",
        value: a,
        anyMatch: !0
    } ];
}, RunListView.prototype.formatStatus = function(a) {
    return "FINISHED" == a ? "<span style='color:green;font-weight:bold;'>" + a + "</span>" : "<span style='color:orange;font-weight:bold;'>" + a + "</span>";
}, RunListView.prototype.formatJobs = function(a) {
    for (var b = "<table>", c = 0; c < a.length; c++) b = b + "<tr><td>" + a[c].name + "</td></tr>";
    return b + "</table>";
}, RunListView.prototype.getRow = function(a) {
    var b = "<table class='listView'>";
    return b = b + "<tr><td>Name:</td><td>" + a.data.name + "</td></tr>", b = b + "<tr><td>Status:</td><td>" + this.formatStatus(a.data.status) + "</td></tr>", 
    b = b + "<tr><td>Jobs:</td><td>" + this.formatJobs(a.data.jobs) + "</td></tr>", 
    b = b + "<tr><td>Date:</td><td>" + a.data.creationDate + "</td></tr>", b + "</table>";
}, RunListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Jobs",
        flex: 1,
        dataIndex: "sessionId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, RunListView.prototype.getFields = function() {
    return [ "name", "status", "creationDate", "jobs" ];
}, BufferListView.prototype.getPanel = ListView.prototype.getPanel, BufferListView.prototype.load = ListView.prototype.load, 
BufferListView.prototype.getRow = function(a) {
    var b = "<table class='listView'>";
    return b = b + "<tr><td>Acronym:</td><td style='color:#207a7a;font-weight:bold;'>" + a.data.acronym + "</td></tr>", 
    b = b + "<tr><td>name:</td><td>" + a.data.name + "</td></tr>", b + "</table>";
}, BufferListView.prototype.getFilter = function(a) {
    return [ {
        property: "acronym",
        value: a,
        anyMacth: !0
    } ];
}, BufferListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Buffers",
        flex: 1,
        dataIndex: "bufferId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, BufferListView.prototype.getFields = function() {
    return [ "acronym", "name" ];
}, DataCollectionListView.prototype.getPanel = ListView.prototype.getPanel, DataCollectionListView.prototype.load = ListView.prototype.load, 
DataCollectionListView.prototype.getRow = function(a) {
    var b = "<table class='listView'>";
    return b = b + "<tr><td>Macromolecule:</td><td >" + a.data.macromoleculeAcronym + "</td></tr>", 
    b = b + "<tr><td>Buffer:</td><td style='color:#207a7a;font-weight:bold;'>" + a.data.bufferAcronym + "</td></tr>", 
    b = b + "<tr><td>Count:</td><td>" + a.data.dataCollections + "</td></tr>", b + "</table>";
}, DataCollectionListView.prototype.getFilter = function(a) {
    return [ {
        property: "bufferAcronym",
        value: a,
        anyMacth: !0
    } ];
}, DataCollectionListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Data Collections",
        flex: 1,
        dataIndex: "bufferAcronym",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, DataCollectionListView.prototype.getFields = function() {
    return [ "macromoleculeAcronym", "bufferAcronym", "macromoleculeId", "dataCollections" ];
}, DataCollectionListView.prototype.formatData = function(a) {
    a = BUI.groupBy(a, function(a) {
        return [ a.bufferAcronym ];
    });
    for (var b = [], c = 0; c < a.length; c++) {
        var d = a[c];
        b.push({
            macromoleculeAcronym: d[0].macromoleculeAcronym,
            macromoleculeId: d[0].macromoleculeId,
            bufferAcronym: d[0].bufferAcronym,
            dataCollections: d.length
        });
    }
    return b;
}, ExperimentListView.prototype.getPanel = ListView.prototype.getPanel, ExperimentListView.prototype.load = ListView.prototype.load, 
ExperimentListView.prototype.getRow = function(a) {
    var b = "black";
    "HPLC" != a.data.experimentType && 0 == a.data.measurementDoneCount && 0 == a.data.measurementAveragedCount && 0 == a.data.dataCollectionDoneCount && (b = "#DEDEDE");
    var c = "<table class='listView' style='color:" + b + ";'>";
    return c = c + "<tr><td colspan='4'>" + a.data.creationDate + "</td></tr>", c = c + "<tr><td colspan='4'>" + a.data.name + "</td></tr>", 
    c = c + "<tr><td style='font-weight:bold;' colspan='4'>" + a.data.experimentType + "</td></tr>", 
    ("STATIC" == a.data.experimentType || "CALIBRATION" == a.data.experimentType) && (0 == a.data.measurementDoneCount && 0 == a.data.measurementAveragedCount && 0 == a.data.dataCollectionDoneCount ? c = c + "<tr ><td  style='width:180px;border:1px solid gray;text-align:center;color:" + b + ";font-weight:bold;' colspan='4'>EMPTY</td></tr>" : (c = c + "<tr style='margin-left:5px;'><td style='width:10px;'></td><td>Collected:</td><td>" + a.data.measurementDoneCount + "/" + a.data.measurementCount + "</td><td>" + new ProgressBar().getPanel(a.data.measurementDoneCount, a.data.measurementCount) + "</td></tr>", 
    c = c + "<tr><td style='width:10px;'></td><td>Averaged:</td><td>" + a.data.measurementAveragedCount + "/" + a.data.measurementCount + "</td><td>" + new ProgressBar().getPanel(a.data.measurementAveragedCount, a.data.measurementCount) + "</td></tr>", 
    c = c + "<tr><td style='width:10px;'></td><td>Subtracted:</td><td>" + a.data.dataCollectionDoneCount + "/" + a.data.dataCollectionCount + "</td><td>" + new ProgressBar().getPanel(a.data.dataCollectionDoneCount, a.data.dataCollectionCount) + "</td></tr>")), 
    c + "</table>";
}, ExperimentListView.prototype.getFilter = function(a) {
    return [ {
        property: "name",
        value: a,
        anyMacth: !0
    } ];
}, ExperimentListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Experiment",
        flex: 1,
        dataIndex: "sessionId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, ExperimentListView.prototype.getFields = function() {
    return [ "creationDate", "name", "experimentType" ];
}, MacromoleculeListView.prototype.getPanel = ListView.prototype.getPanel, MacromoleculeListView.prototype.load = ListView.prototype.load, 
MacromoleculeListView.prototype.getRow = function(a) {
    var b = "<table class='listView'>";
    return b = b + "<tr><td>Acronym:</td><td style='color:#207a7a;font-weight:bold;'>" + a.data.acronym + "</td></tr>", 
    b = b + "<tr><td>name:</td><td>" + a.data.name + "</td></tr>", b + "</table>";
}, MacromoleculeListView.prototype.getFilter = function(a) {
    return [ {
        property: "acronym",
        value: a,
        anyMacth: !0
    } ];
}, MacromoleculeListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Macromolecule",
        flex: 1,
        dataIndex: "macromoleculeId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, MacromoleculeListView.prototype.getFields = function() {
    return [ "acronym", "name", "comments" ];
}, StockSolutionListView.prototype.getPanel = ListView.prototype.getPanel, StockSolutionListView.prototype.load = ListView.prototype.load, 
StockSolutionListView.prototype.getRow = function(a) {
    console.log(a);
    var b = "<table class='listView'>";
    return b = b + "<tr><td>Name:</td><td>" + a.data.name + "</td></tr>", b = b + "<tr><td>Macromolecule:</td><td style='color:#207a7a;font-weight:bold;'>" + EXI.proposalManager.getMacromoleculeById(a.data.macromoleculeId).acronym + "</td></tr>", 
    b = b + "<tr><td>Buffer:</td><td style='color:#207a7a;font-weight:bold;'>" + EXI.proposalManager.getBufferById(a.data.bufferId).acronym + "</td></tr>", 
    b = b + "<tr><td>Concentration:</td><td>" + a.data.concentration + "</td></tr>", 
    b = b + "<tr><td>Storage Temperature:</td><td>" + a.data.storageTemperature + "</td></tr>", 
    b + "</table>";
}, StockSolutionListView.prototype.getFilter = function(a) {
    return [ {
        property: "name",
        value: a,
        anyMacth: !0
    } ];
}, StockSolutionListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Stock Solutions",
        flex: 1,
        dataIndex: "macromoleculeId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, StockSolutionListView.prototype.getFields = function() {
    return [ "macromoleculeId", "bufferId", "concentration", "storageTemperature", "name" ];
}, TemplateListView.prototype.getPanel = ListView.prototype.getPanel, TemplateListView.prototype.load = ListView.prototype.load, 
TemplateListView.prototype.getRow = function(a) {
    var b = "black", c = "<table class='listView' style='color:" + b + ";'>";
    return c = c + "<tr style='font-weight: bold;font-size:14px; color:#207a7a;'><td colspan='4'>" + a.data.name + "</td></tr>", 
    c = c + "<tr><td style='font-weight:bold;' colspan='4'>" + a.data.comments + "</td></tr>", 
    c = c + "<tr ><td colspan='4'>" + a.data.creationDate + "</td></tr>", c + "</table>";
}, TemplateListView.prototype.getFilter = function(a) {
    return [ {
        property: "name",
        value: a,
        anyMatch: !0
    } ];
}, TemplateListView.prototype.getColumns = function() {
    var a = this;
    return [ {
        text: "Experiment",
        flex: 1,
        dataIndex: "sessionId",
        renderer: function(b, c, d) {
            return a.getRow(d);
        }
    } ];
}, TemplateListView.prototype.getFields = function() {
    return [ {
        name: "creationDate",
        type: "string"
    }, {
        name: "name",
        type: "string"
    }, {
        name: "experimentType",
        type: "string"
    } ];
}, MainView.prototype.getContainer = function() {
    return this.container;
}, MainView.prototype.getPanel = function() {
    return this.container = Ext.create("Ext.container.Container", {
        xtype: "container",
        items: []
    }), this.panel = Ext.create("Ext.panel.Panel", {
        autoScroll: !0,
        title: this.title,
        closable: this.closable,
        icon: this.icon,
        bodyStyle: this.bodyStyle,
        items: [ this.getContainer() ]
    }), this.panel;
}, PuckMainView.prototype.getPanel = MainView.prototype.getPanel, PuckMainView.prototype.getContainer = MainView.prototype.getContainer, 
PuckMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "anchor"
        },
        defaults: {
            anchor: "100%",
            hideEmptyLabel: !1
        },
        margin: 30,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        items: [ this.puckForm.getPanel() ]
    });
}, PuckMainView.prototype.load = function(a) {
    var b = this;
    if (this.panel.setTitle("Puck"), null != a) {
        var c = function(a, c) {
            b.puckForm.load(c);
        };
        EXI.getDataAdapter({
            onSuccess: c
        }).proposal.shipping.getContainerById(a, a, a);
    }
}, AddressMainView.prototype.getPanel = MainView.prototype.getPanel, AddressMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "hbox"
        },
        margin: 15,
        border: 1,
        defaults: {
            labelWidth: 80,
            flex: 1
        },
        items: [ this.addressForm.getPanel([]) ]
    });
}, AddressMainView.prototype.load = function(a) {
    this.panel.setTitle("Address");
    var b = this, c = function(a, c) {
        b.addressForm.load(c);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).proposal.shipping.getLabContactById(a);
}, UserWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, UserWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
UserWelcomeMainView.prototype.activeProposal = function(a) {
    EXI.credentialManager.setActiveProposal(this.username, a.Proposal_proposalCode + a.Proposal_proposalNumber), 
    EXI.proposalManager.get(!0);
}, UserWelcomeMainView.prototype.getContainer = function() {
    return this.panel = Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "20 10 10 10",
        items: [ {
            tabConfig: {
                title: "Sessions"
            },
            listeners: {
                afterrender: function() {}
            },
            items: [ {
                xtype: "container",
                id: this.id + "sessions",
                layout: "fit",
                padding: 10,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ {
                    html: "<div>Where is my beamline? <a target='blank' href='http://www.esrf.eu/files/live/sites/www/files/UsersAndScience/Experiments/Beamlines/beamlines-2015.jpg'>Here there is a map</a></div>",
                    height: 20
                }, {
                    xtype: "container",
                    layout: "hbox",
                    items: [ this.futureSessionsGrid.getPanel(), this.previousSessionsGrid.getPanel() ]
                } ]
            } ]
        }, {
            tabConfig: {
                title: "Proposals"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 700,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.proposalGrid.getPanel() ]
            } ]
        } ]
    }), this.panel.on("afterrender", function() {}), this.panel;
}, UserWelcomeMainView.prototype.parseSessionsByDate = function(a) {
    for (var b = [], c = [], d = [], e = 0; e < a.length; e++) a[e].diff = moment(a[e].startDate).diff(moment(), "days"), 
    0 == a[e].diff ? d.push(a[e]) : a[e].diff < 0 ? b.push(a[e]) : c.push(a[e]);
    return c.sort(function(a, b) {
        return a.diff - b.diff;
    }), {
        olderSessions: b,
        futureSessions: c,
        todaySessions: d
    };
}, UserWelcomeMainView.prototype.loadProposal = function(a) {
    function b(a, b) {
        c.panel.setLoading(!1);
        var d = c.parseSessionsByDate(b);
        d.olderSessions.length > 0 && (console.log(d.olderSessions), c.previousSessionsGrid.load(d.olderSessions)), 
        d.futureSessions.length > 0 && c.futureSessionsGrid.load(d.futureSessions), d.todaySessions.length > 0 && (Ext.getCmp(c.id + "sessions").insert(0, c.todaySessionsGrid.getPanel()), 
        c.todaySessionsGrid.load(d.todaySessions));
    }
    for (var c = this, d = 0; d < a.length; d++) c.activeProposal(a[d]), c.panel.setLoading("Loading Sessions"), 
    EXI.getDataAdapter({
        onSuccess: b
    }).proposal.session.getSessions();
}, UserWelcomeMainView.prototype.loadUserView = function() {
    var a = this;
    this.panel.setLoading("Loading Proposal");
    var b = function(b, c) {
        c.sort(function(a, b) {
            return a.Proposal_proposalId - b.Proposal_proposalId;
        }), a.proposalGrid.load(c), console.log(c), c.length > 0 && a.loadProposal(c);
    };
    EXI.proposalManager.get(), EXI.getDataAdapter({
        onSuccess: b
    }).proposal.proposal.getProposals();
}, UserWelcomeMainView.prototype.load = function(a) {
    this.username = a;
    var b = EXI.credentialManager.getCredentialByUserName(a);
    if (null != b && null != b.roles) {
        if (0 == b.roles.length && b.roles.push("user"), b.isManager()) return void alert("You are manager");
        if (b.isLocalContact()) return void alert("You are localContact");
        this.loadUserView();
    }
}, ManagerWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, ManagerWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
ManagerWelcomeMainView.prototype.activeProposal = function(a) {
    EXI.credentialManager.setActiveProposal(this.username, a.Proposal_proposalCode + a.Proposal_proposalNumber), 
    EXI.proposalManager.get(!0);
}, ManagerWelcomeMainView.prototype.getContainer = function() {
    return this.panel = Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "20 0 0 10",
        items: [ {
            tabConfig: {
                title: "Proposal"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 20,
                cls: "border-grid",
                items: [ {
                    html: '<div class="welcome-title"><h2>Please select a proposal</h2></div>'
                }, this.proposalGrid.getPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Sessions"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 20,
                cls: "border-grid",
                items: [ {
                    html: '<div class="welcome-title"><h2>Please select a Session</h2></div>'
                }, {
                    xtype: "container",
                    layout: "fit",
                    items: [ this.timeLineWidget.getPanel() ]
                } ]
            } ]
        } ]
    }), this.panel;
}, ManagerWelcomeMainView.prototype.loadUserView = function() {
    var a = this, b = function(b, c) {
        a.proposalGrid.load(c), 1 == c.length && a.activeProposal(c[0]), a.proposalGrid.panel.setLoading(!1);
    };
    a.proposalGrid.panel.setLoading(), EXI.getDataAdapter({
        onSuccess: b
    }).proposal.proposal.getProposals();
}, ManagerWelcomeMainView.prototype.loadSessions = function() {
    this.timeLineWidget.loadSessions(moment().startOf("week").format("YYYYMMDD"), moment().endOf("week").add(1, "days").format("YYYYMMDD"));
}, ManagerWelcomeMainView.prototype.load = function(a) {
    this.username = a, this.loadUserView(), this.loadSessions();
}, ShippingMainView.prototype.getPanel = MainView.prototype.getPanel, ShippingMainView.prototype.getContainer = MainView.prototype.getContainer, 
ShippingMainView.prototype.getContainer = function() {
    return this.tabPanel = Ext.createWidget("tabpanel", {
        margin: 10,
        defaults: {
            anchor: "100%"
        },
        items: [ {
            tabConfig: {
                title: "Delivery Details"
            },
            items: [ this.shipmentForm.getPanel() ]
        }, {
            tabConfig: {
                id: this.id + "grid",
                title: "Parcels",
                icon: "../images/icon/shipping.png"
            },
            items: [ this.caseGrid.getPanel() ]
        } ]
    }), this.tabPanel;
}, ShippingMainView.prototype.load = function(a) {
    this.shippingId = a, null == a && Ext.getCmp(this.id + "grid").disable(!0), this.panel.setTitle("Shipment");
    var b = this;
    if (null != a) {
        this.panel.setLoading();
        var c = function(a, c) {
            b.shipmentForm.load(c), b.caseGrid.load(c), b.panel.setLoading(!1);
        };
        EXI.getDataAdapter({
            onSuccess: c
        }).proposal.shipping.getShipment(a);
    }
}, BufferWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, BufferWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
BufferWelcomeMainView.prototype.getOptions = function() {
    var a = "<ul><li>Define beforehand an experiment</li>";
    return a += "<li>Send your samples by courier</li>", a + "</ul>";
}, BufferWelcomeMainView.prototype.getContainer = function() {
    return Ext.createWidget("panel", {
        plain: !0,
        margin: "20",
        layout: "fit",
        items: [ {
            tabConfig: {
                title: "Welcome"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 10,
                margin: 0,
                cls: "border-grid",
                items: [ {
                    html: '<div class="landing-title" ><h2>Buffers on ISPyB</h2></div>',
                    margin: "0 0 0 20"
                }, {
                    html: '<div class="landing-text">A buffer is the matched solution which in a sample is suspended</div><br/>',
                    margin: "0 0 0 40"
                }, {
                    html: '<div class="landing-text">You should define a macromolecule on ISPyB if you want:</div>',
                    margin: "0 0 0 40"
                }, {
                    html: this.getOptions(),
                    margin: "0 0 0 40"
                }, {
                    html: '<br/><div class="landing-text">If your macromolecule is not in the list showed on the left you can create a new one</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    xtype: "container",
                    layout: "hbox",
                    cls: "option-bar-menu",
                    items: [ {
                        xtype: "button",
                        cls: "square-option",
                        maxWidth: 200,
                        minWidth: 200,
                        margin: "0 0 0 150",
                        height: 100,
                        text: '<div class="square-option-text"; >Add a new buffer</div>',
                        icon: "../images/icon/add.png",
                        iconAlign: "top",
                        handler: function() {
                            location.hash = "/buffer/add";
                        }
                    } ]
                } ]
            } ]
        } ]
    });
}, BufferWelcomeMainView.prototype.load = function() {}, ExperimentWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, 
ExperimentWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
ExperimentWelcomeMainView.prototype.getContainer = function() {
    return Ext.createWidget("panel", {
        plain: !0,
        margin: "10",
        layout: "fit",
        items: [ {
            tabConfig: {
                title: "Welcome"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 20,
                margin: 0,
                cls: "border-grid",
                items: [ {
                    html: '<div class="landing-title" ><h2>Designing your experiment on ISPyB</h2></div>'
                }, {
                    html: '<div class="landing-text">A experiment is a set of measurements of samples.</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    xtype: "container",
                    layout: "hbox",
                    cls: "option-bar-menu",
                    items: [ {
                        xtype: "button",
                        cls: "square-option",
                        maxWidth: 200,
                        minWidth: 200,
                        margin: "0 0 0 150",
                        height: 100,
                        text: '<div class="square-option-text"; >Create a new Experiment</div>',
                        icon: "../images/icon/add.png",
                        iconAlign: "top",
                        handler: function() {
                            location.hash = "/prepare/designer";
                        }
                    } ]
                } ]
            } ]
        } ]
    });
}, ExperimentWelcomeMainView.prototype.load = function() {}, MacromoleculeWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, 
MacromoleculeWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
MacromoleculeWelcomeMainView.prototype.getOptions = function() {
    var a = "<ul><li>Define beforehand an experiment</li>";
    return a += "<li>Send your samples by courier</li>", a += "<li>Online data analysis to run apriori data analysis (PDB information will be required on the advanced tab in the macromolecule view)</li>", 
    a + "</ul>";
}, MacromoleculeWelcomeMainView.prototype.getContainer = function() {
    return Ext.createWidget("panel", {
        plain: !0,
        margin: "10",
        layout: "fit",
        items: [ {
            tabConfig: {
                title: "Welcome"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 20,
                margin: 0,
                cls: "border-grid",
                items: [ {
                    html: '<div class="landing-title" ><h2>Macromolecules on ISPyB</h2></div>'
                }, {
                    html: '<div class="landing-text">A macromolecule is a biological contruct for investigation.</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    html: '<div class="landing-text">You should define a macromolecule on ISPyB if you want:</div>',
                    margin: "0 0 0 20"
                }, {
                    html: this.getOptions(),
                    margin: "0 0 0 40"
                }, {
                    html: '<br/><div class="landing-text">If your macromolecule is not in the list showed on the left you can create a new one</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    xtype: "container",
                    layout: "hbox",
                    cls: "option-bar-menu",
                    items: [ {
                        xtype: "button",
                        cls: "square-option",
                        maxWidth: 200,
                        minWidth: 200,
                        margin: "0 0 0 150",
                        height: 100,
                        text: '<div class="square-option-text"; >Add a new macromolecule</div>',
                        icon: "../images/icon/add.png",
                        iconAlign: "top",
                        handler: function() {
                            location.hash = "/macromolecule/add";
                        }
                    } ]
                } ]
            } ]
        } ]
    });
}, MacromoleculeWelcomeMainView.prototype.load = function() {}, ShipmentPreparationMainView.prototype.getPanel = MainView.prototype.getPanel, 
ShipmentPreparationMainView.prototype.getContainer = MainView.prototype.getContainer, 
ShipmentPreparationMainView.prototype.getContainer = function() {
    var a = "The aim of a BioSAXS experiment is to determine the low resolution shape of a macromolecule in solution \nunder physiological conditions. In order to define an experiment or create a shipment ISPyB needs to know the macromolecules and buffers that compose your samples";
    return {
        cls: "border-grid",
        margin: 10,
        items: [ {
            html: '<div class="welcome-title"><h2>How to define my samples on ISPyB?</h2> </div>'
        }, {
            html: '<div class="help-text"> ' + a + "</div>"
        }, {
            html: '<div class="welcome-title"><h4>What is a macromolecule and how can I define it on ISPyB?</h4> </div>'
        }, {
            html: '<div class="help-text">A macromolecule is a biological construct in solution for investigation</div>'
        } ]
    };
}, ShipmentPreparationMainView.prototype.load = function(a) {}, ShippingWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, 
ShippingWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
ShippingWelcomeMainView.prototype.getContainer = function() {
    return Ext.createWidget("panel", {
        plain: !0,
        margin: "10",
        layout: "fit",
        items: [ {
            tabConfig: {
                title: "Welcome"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 20,
                margin: 0,
                cls: "border-grid",
                items: [ {
                    html: '<div class="landing-title" ><h2>Shipments</h2></div>'
                }, {
                    html: '<div class="landing-text"> A Shipment consists of a set of Dewars which is sent from your home lab to the synchrotron via a courier company. Each dry shipping Dewar within the shipment is identified by a label (barcode or sticker). The dewars(s) contains a set of Containers (Pucks or canes). Containers (typically Pucks), contain Samples. A Sample (Sample Holder) contains the Crystal</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    html: '<br/><div class="landing-text">Do you want to ship your samples to the beamline?</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    xtype: "container",
                    layout: "hbox",
                    cls: "option-bar-menu",
                    items: [ {
                        xtype: "button",
                        cls: "square-option",
                        maxWidth: 200,
                        minWidth: 200,
                        margin: "0 0 0 150",
                        height: 100,
                        text: '<div class="square-option-text"; >Create a new Shipment</div>',
                        icon: "../images/icon/add.png",
                        iconAlign: "top",
                        handler: function() {
                            location.hash = "/shipping/main";
                        }
                    } ]
                } ]
            } ]
        } ]
    });
}, ShippingWelcomeMainView.prototype.load = function() {}, StockSolutionWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, 
StockSolutionWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
StockSolutionWelcomeMainView.prototype.getOptions = function() {
    var a = "<ul><li>Define beforehand an experiment</li>";
    return a += "<li>Send your samples by courier</li>", a + "</ul>";
}, StockSolutionWelcomeMainView.prototype.getContainer = function() {
    return Ext.createWidget("panel", {
        plain: !0,
        margin: "20",
        layout: "fit",
        items: [ {
            tabConfig: {
                title: "Welcome"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 10,
                margin: 0,
                cls: "border-grid",
                items: [ {
                    html: '<div class="landing-title" ><h2>Stock Solutions on ISPyB</h2></div>',
                    margin: "0 0 0 20"
                }, {
                    html: '<div class="landing-text">A buffer is the matched solution which in a sample is suspended</div><br/>',
                    margin: "0 0 0 40"
                }, {
                    html: '<div class="landing-text">You should define a macromolecule on ISPyB if you want:</div>',
                    margin: "0 0 0 40"
                }, {
                    html: this.getOptions(),
                    margin: "0 0 0 40"
                }, {
                    html: '<br/><div class="landing-text">If your macromolecule is not in the list showed on the left you can create a new one</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    xtype: "container",
                    layout: "hbox",
                    cls: "option-bar-menu",
                    items: [ {
                        xtype: "button",
                        cls: "square-option",
                        maxWidth: 200,
                        minWidth: 200,
                        margin: "0 0 0 150",
                        height: 100,
                        text: '<div class="square-option-text"; >Add a new Stock Solution</div>',
                        icon: "../images/icon/add.png",
                        iconAlign: "top",
                        handler: function() {
                            location.hash = "/stocksolution/add";
                        }
                    } ]
                } ]
            } ]
        } ]
    });
}, StockSolutionWelcomeMainView.prototype.load = function() {}, HPLCMainView.prototype.getPanel = MainView.prototype.getPanel, 
HPLCMainView.prototype._selectFrame = function(a) {
    try {} catch (b) {
        console.log(b);
    }
}, HPLCMainView.prototype.getHeader = function(a, b) {
    return "<span class='item'>" + a + "</span><span class='item_description'>" + b + "</span>";
}, HPLCMainView.prototype.getPlotContainer = function() {
    return {
        xtype: "container",
        cls: "defaultGridPanel",
        border: 0,
        defaults: {
            height: 450
        },
        items: [ this.hplcGraph.getPanel(), this.plotter.getPanel() ]
    };
}, HPLCMainView.prototype.getContainer = function() {
    return {
        xtype: "container",
        items: [ this.grid.getPanel(), this.getPlotContainer() ]
    };
}, HPLCMainView.prototype.getSelected = function() {
    for (var a = [], b = 0; b < this.queueGridList.length; b++) a = this.queueGridList[b].getSelected().concat(a);
    return a;
}, HPLCMainView.prototype.loadHPLCGraph = function(a) {
    var b = this, c = function(a, c) {
        c = JSON.parse(c);
        for (var d = [], e = 0; e < c.I0.length; e++) d.push(0);
        c = [ {
            param: "I0",
            data: c.I0,
            std: c.I0_Stdev,
            color: "#0066CC",
            label: "I0"
        }, {
            param: "sum_I",
            label: "sum_I",
            color: "#00FF00",
            data: c.sum_I,
            std: d
        }, {
            param: "Rg",
            label: "Rg",
            color: "#21610B",
            data: c.Rg,
            std: c.Rg_Stdev
        }, {
            param: "Mass",
            data: c.mass,
            std: c.mass_Stdev,
            color: "#FF9900",
            label: "Mass"
        }, {
            param: "Vc",
            data: c.Vc,
            std: c.Vc_Stdev,
            color: "#990099",
            label: "Vc"
        }, {
            param: "Qr",
            data: c.Qr,
            std: c.Qr_Stdev,
            color: "#FF0066",
            label: "Qr"
        }, {
            param: "quality",
            label: "quality",
            color: "#FF00FF",
            data: c.quality,
            std: d
        } ], b.hplcGraph.loadData(c);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).saxs.hplc.getHPLCOverviewByExperimentId(a);
}, HPLCMainView.prototype.load = function(a) {
    var b = this;
    this.experimentId = a, this.grid.panel.setLoading();
    var c = function(a, c) {
        b.grid.load(c), b.grid.panel.setLoading(!1);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).saxs.dataCollection.getDataCollectionsByExperimentId(a), this.loadHPLCGraph(a);
}, AddressWelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, AddressWelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
AddressWelcomeMainView.prototype.getOptions = function() {
    var a = "<ul><li>Define beforehand an experiment</li>";
    return a += "<li>Send your samples by courier</li>", a + "</ul>";
}, AddressWelcomeMainView.prototype.getContainer = function() {
    return Ext.createWidget("panel", {
        plain: !0,
        margin: "20",
        layout: "fit",
        items: [ {
            tabConfig: {
                title: "Welcome"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                padding: 10,
                margin: 0,
                cls: "border-grid",
                items: [ {
                    html: '<div class="landing-title" ><h2>Manage Shipping Addresses on ISPyB</h2></div>',
                    margin: "0 0 0 20"
                }, {
                    html: '<div class="landing-text">A buffer is the matched solution which in a sample is suspended</div><br/>',
                    margin: "0 0 0 40"
                }, {
                    html: '<div class="landing-text">You should define a macromolecule on ISPyB if you want:</div>',
                    margin: "0 0 0 40"
                }, {
                    html: this.getOptions(),
                    margin: "0 0 0 40"
                }, {
                    html: '<br/><div class="landing-text">If your macromolecule is not in the list showed on the left you can create a new one</div><br/>',
                    margin: "0 0 0 20"
                }, {
                    xtype: "container",
                    layout: "hbox",
                    cls: "option-bar-menu",
                    items: [ {
                        xtype: "button",
                        cls: "square-option",
                        maxWidth: 200,
                        minWidth: 200,
                        margin: "0 0 0 150",
                        height: 100,
                        text: '<div class="square-option-text"; >Add a new Address</div>',
                        icon: "../images/icon/add.png",
                        iconAlign: "top",
                        handler: function() {
                            location.hash = "/buffer/add";
                        }
                    } ]
                } ]
            } ]
        } ]
    });
}, AddressWelcomeMainView.prototype.load = function() {}, BufferMainView.prototype.getPanel = MainView.prototype.getPanel, 
BufferMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "hbox"
        },
        margin: 15,
        border: 1,
        defaults: {
            labelWidth: 80,
            flex: 1
        },
        items: [ this.bufferForm.getPanel([]) ]
    });
}, BufferMainView.prototype.load = function(a) {
    this.panel.setTitle("Buffer"), this.bufferForm.load(EXI.proposalManager.getBufferById(a));
}, DesignerMainView.prototype.getPanel = MainView.prototype.getPanel, DesignerMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "hbox"
        },
        margin: 15,
        border: 1,
        defaults: {
            labelWidth: 80,
            flex: 1
        },
        items: [ this.wizardWidget.getPanel(new MeasurementCreatorStepWizardForm(EXI.proposalManager.getMacromolecules(), EXI.proposalManager.getBuffers())) ]
    });
}, DesignerMainView.prototype.load = function(a) {
    this.panel.setTitle("Experiment Designer");
}, ExperimentDesignerMainView.prototype.getPanel = MainView.prototype.getPanel, 
ExperimentDesignerMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "hbox"
        },
        margin: 30,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        border: 1,
        style: {
            borderColor: "#000000",
            borderStyle: "solid",
            borderWidth: "1px"
        },
        defaults: {
            labelWidth: 80,
            xtype: "datefield",
            flex: 1
        },
        items: [ this.templateGrid.getPanel([]) ]
    });
}, ExperimentDesignerMainView.prototype.load = function() {
    var a = this;
    this.panel.setLoading();
    var b = new ProposalUpdater();
    this.templateGrid.grid.setLoading(), b.onSuccess.attach(function(b, c) {
        a.panel.setLoading(!1);
        var d = new DataAdapter();
        d.onSuccess.attach(function(b, c) {
            a.templateGrid.store.loadData(c), a.templateGrid.grid.setLoading(!1);
        }), d.getByExperimentByKey("experimentType", "TEMPLATE");
    }), b.get(), this.panel.setTitle("Experiment Designer");
}, MacromoleculeMainView.prototype.getPanel = MainView.prototype.getPanel, MacromoleculeMainView.prototype.getHeader = function(a, b) {
    return "<span class='item'>" + a + "</span><span class='item_description'>" + b + "</span>";
}, MacromoleculeMainView.prototype.getSelected = function() {
    for (var a = [], b = 0; b < this.queueGridList.length; b++) a = this.queueGridList[b].getSelected().concat(a);
    return a;
}, MacromoleculeMainView.prototype.getTabs = function() {
    return Ext.createWidget("tabpanel", {
        plain: !0,
        items: [ {
            tabConfig: {
                title: "General"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 600,
                padding: 0,
                items: [ this.macromoleculeForm.getPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Advanced"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 500,
                padding: 0,
                items: [ this.rigidBodyModelingForm.getPanel() ]
            } ]
        } ]
    });
}, MacromoleculeMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "anchor"
        },
        defaults: {
            anchor: "100%",
            hideEmptyLabel: !1
        },
        margin: 30,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        items: [ this.getTabs() ]
    });
}, MacromoleculeMainView.prototype.load = function(a) {
    this.panel.setLoading();
    var b = EXI.proposalManager.getMacromoleculeById(a);
    this.panel.setTitle(b.acronym), this.macromoleculeForm.load(b), this.rigidBodyModelingForm.load(b), 
    this.panel.setLoading(!1);
}, StockSolutionMainView.prototype.getPanel = MainView.prototype.getPanel, StockSolutionMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "anchor"
        },
        defaults: {
            anchor: "100%",
            hideEmptyLabel: !1
        },
        margin: 30,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        items: [ this.stockSolutionForm.getPanel([]) ]
    });
}, StockSolutionMainView.prototype.load = function(a) {
    this.stockSolutionId = a, this.stockSolutionForm.load(EXI.proposalManager.getStockSolutionById(a)), 
    this.panel.setTitle("Stock Solutions");
}, TemplateMainView.prototype.getPanel = MainView.prototype.getPanel, TemplateMainView.prototype.getHeader = function(a, b) {
    return "<span class='item'>" + a + "</span><span class='item_description'>" + b + "</span>";
}, TemplateMainView.prototype.getSelected = function() {
    for (var a = [], b = 0; b < this.queueGridList.length; b++) a = this.queueGridList[b].getSelected().concat(a);
    return a;
}, TemplateMainView.prototype.getTabs = function() {
    return Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "20 0 0 0",
        items: [ {
            tabConfig: {
                title: "Measurements"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 700,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.measurementGrid.getPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Sample Plate Setup"
            },
            items: [ {
                xtype: "container",
                layout: "vbox",
                height: 700,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.specimenWidget.getPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Sample Requirements"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 700,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.volumePlanificator.getPanel() ]
            } ]
        } ]
    });
}, TemplateMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "anchor"
        },
        defaults: {
            anchor: "100%",
            hideEmptyLabel: !1
        },
        margin: 30,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        items: [ this.experimentHeaderForm.getPanel(), this.getTabs() ]
    });
}, TemplateMainView.prototype.load = function(a) {
    var b = this;
    b.panel.setLoading();
    var c = function(a, c) {
        b.experiment = new Experiment(c[0]), b.experimentHeaderForm.load(b.experiment), 
        b.measurementGrid.loadExperiment(b.experiment), b.specimenWidget.refresh(b.experiment), 
        b.volumePlanificator.load(b.experiment), b.panel.setLoading(!1);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).saxs.experiment.getExperimentById(a[0].experimentId), this.panel.setTitle("Template");
}, DataCollectionMainView.prototype.getPanel = MainView.prototype.getPanel, DataCollectionMainView.prototype.getContainer = MainView.prototype.getContainer, 
DataCollectionMainView.prototype.filter = function(a, b) {
    this.grid.key = {}, this.grid.store.filter([ {
        property: "bufferAcronym",
        value: b,
        anyMacth: !0
    } ]);
}, DataCollectionMainView.prototype.load = function(a) {
    var b = this;
    this.grid.onSelectionChange.attach(function(a, c) {
        b.onSelectionChange.notify(c);
    }), this.grid.onSelect.attach(function(a, c) {
        b.onSelect.notify(c);
    }), this.grid.onDeselect.attach(function(a, c) {
        b.onDeselect.notify(c);
    }), this.container.insert(0, this.grid.getPanel()), this.grid.panel.setLoading(), 
    this.grid.store.loadData(a), this.grid.panel.setLoading(!1);
}, ExperimentMainView.prototype.getPanel = MainView.prototype.getPanel, ExperimentMainView.prototype.getSelected = function() {
    for (var a = [], b = 0; b < this.queueGridList.length; b++) a = this.queueGridList[b].getSelected().concat(a);
    return a;
}, ExperimentMainView.prototype.getTabs = function() {
    return Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "20 0 0 0",
        activeTab: 2,
        items: [ {
            tabConfig: {
                title: "Sample Plate Setup"
            },
            items: [ {
                xtype: "container",
                layout: "vbox",
                height: 700,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.specimenWidget.getPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Measurements"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 700,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.measurementGrid.getPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Online Data Analysis"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 700,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.queueGrid.getPanel() ]
            } ]
        } ]
    });
}, ExperimentMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "anchor"
        },
        defaults: {
            anchor: "100%",
            hideEmptyLabel: !1
        },
        margin: 30,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        items: [ this.experimentHeaderForm.getPanel(), this.getTabs() ]
    });
}, ExperimentMainView.prototype.load = function(a) {
    var b = this;
    b.panel.setLoading(), b.queueGrid.panel.setLoading();
    var c = function(c, d) {
        b.experiment = new Experiment(d[0]), b.experimentHeaderForm.load(b.experiment), 
        b.measurementGrid.loadExperiment(b.experiment), b.specimenWidget.refresh(b.experiment), 
        b.panel.setTitle(d[0].name), b.panel.setLoading(!1);
        var e = function(a, c) {
            b.queueGrid.load(c), b.queueGrid.panel.setLoading(!1);
        };
        EXI.getDataAdapter({
            onSuccess: e
        }).saxs.dataCollection.getDataCollectionsByExperimentId(a);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).saxs.experiment.getExperimentById(a);
}, MergeMainView.prototype.getPanel = MainView.prototype.getPanel, MergeMainView.prototype.getContainer = MainView.prototype.getContainer, 
MergeMainView.prototype.populateForm = function(a, b) {
    for (var c = 0; c < this.frames.length; c++) this.editorPanel.add(this.getCurveContainer(this.frames[c].subtractionId, this.frames[c].fileName, 0, 5, this.frames[c].scale, a, b));
}, MergeMainView.prototype.getSelected = function() {
    for (var a = [], b = 0; b < this.queueGridList.length; b++) a = this.queueGridList[b].getSelected().concat(a);
    return a;
}, MergeMainView.prototype.getCurveContainer = function(a, b, c, d, e, f, g) {
    var h = this;
    return Ext.create("Ext.Panel", {
        width: 380,
        layout: "vbox",
        border: 1,
        style: {
            borderStyle: "solid",
            borderWidth: "1px"
        },
        margin: "10 0 0 5",
        items: [ {
            xtype: "container",
            margin: "0 0 0 0",
            layout: "hbox",
            items: [ {
                xtype: "container",
                layout: "vbox",
                items: [ {
                    html: '<span style="font-size:12px;color:' + g[b] + ';">' + b + "</span>",
                    margin: "10 0 0 10"
                }, {
                    xtype: "sliderfield",
                    margin: "10 0 0 2",
                    hideLabel: !0,
                    width: 275,
                    minValue: 0,
                    subtractionId: a,
                    id: "slider" + a,
                    maxValue: f,
                    increment: 1,
                    values: [ 0, f ],
                    listeners: {
                        changecomplete: function(a, b, c, d) {
                            for (var e = a.getValues(), f = 0; f < h.frames.length; f++) h.frames[f].subtractionId == a.subtractionId && (h.frames[f].from = h.plotter.dygraph.getValue(e[0] - 1, 0), 
                            h.frames[f].to = h.plotter.dygraph.getValue(e[1] - 1, 0));
                            h.updateCurve();
                        }
                    }
                } ]
            }, {
                xtype: "container",
                layout: "vbox",
                items: [ {
                    xtype: "container",
                    layout: "hbox",
                    items: [ {
                        xtype: "button",
                        text: "<",
                        width: 30,
                        margin: "2 0 0 10",
                        subtractionId: a,
                        handler: function(a) {
                            var b = "slider" + a.subtractionId;
                            Ext.getCmp(b).setValue(0, Ext.getCmp(b).getValues()[0] - 1);
                            for (var c = Ext.getCmp(b).getValues(), d = 0; d < h.frames.length; d++) h.frames[d].subtractionId == a.subtractionId && (h.frames[d].from = h.plotter.dygraph.getValue(c[0] - 1, 0));
                            h.updateCurve();
                        }
                    }, {
                        xtype: "button",
                        text: ">",
                        width: 30,
                        margin: "2 0 0 5",
                        subtractionId: a,
                        handler: function(a) {
                            var b = "slider" + a.subtractionId;
                            Ext.getCmp(b).setValue(1, Ext.getCmp(b).getValues()[1] + 1);
                            for (var c = Ext.getCmp(b).getValues(), d = 0; d < h.frames.length; d++) h.frames[d].subtractionId == a.subtractionId && (h.frames[d].to = h.plotter.dygraph.getValue(c[1] - 1, 0));
                            h.updateCurve();
                        }
                    } ]
                }, {
                    xtype: "container",
                    layout: "hbox",
                    margin: "2 0 2 0",
                    items: [ {
                        xtype: "button",
                        text: "+",
                        margin: "0 0 0 10",
                        width: 30,
                        subtractionId: a,
                        handler: function(a) {
                            for (var b = 0; b < h.frames.length; b++) console.log(a.subtractionId), h.frames[b].subtractionId == a.subtractionId && (h.frames[b].scale = h.frames[b].scale + .1);
                            h.updateCurve();
                        }
                    }, {
                        xtype: "button",
                        text: "-",
                        width: 30,
                        margin: "0 0 0 5",
                        subtractionId: a,
                        handler: function(a) {
                            for (var b = 0; b < h.frames.length; b++) h.frames[b].subtractionId == a.subtractionId && (h.frames[b].scale = h.frames[b].scale - .1);
                            h.updateCurve();
                        }
                    } ]
                } ]
            } ]
        } ]
    });
}, MergeMainView.prototype.getSubtractionEditor = function() {
    var a = this;
    return this.editorPanel = Ext.create("Ext.Panel", {
        border: 1,
        height: 600,
        width: 400,
        layout: "vbox",
        scrollable: !0,
        style: {
            borderColor: "#000000",
            borderStyle: "solid",
            borderWidth: "1px"
        },
        items: [],
        bbar: [ {
            text: "Download",
            xtype: "button",
            handler: function(b) {
                var c = a.getParams();
                window.open(new DataAdapter().getMergeURL(c.subtractionIds.toString(), c.from.toString(), c.to.toString(), c.scale.toString()));
            }
        } ]
    }), this.editorPanel;
}, MergeMainView.prototype.getParams = function() {
    for (var a = [], b = [], c = [], d = [], e = 0; e < this.frames.length; e++) {
        var f = this.frames[e];
        null != f.from ? a.push(f.from) : a.push(""), null != f.to ? b.push(f.to) : b.push(""), 
        null != f.scale ? c.push(f.scale) : c.push(""), null != f.subtractionId ? d.push(f.subtractionId) : d.push("");
    }
    return {
        from: a,
        to: b,
        scale: c,
        subtractionIds: d
    };
}, MergeMainView.prototype.updateCurve = function() {
    this.xAxisRange = this.plotter.dygraph.xAxisRange(), this.yAxisRange = this.plotter.dygraph.yAxisRange();
    var a = this.getParams();
    this.plotter.loadMerge(a.subtractionIds.toString(), a.from.toString(), a.to.toString(), a.scale.toString()), 
    this.plotter.dygraph.updateOptions({
        dateWindow: this.xAxisRange,
        valueRange: this.yAxisRange
    });
}, MergeMainView.prototype.getSlavePanel = function() {
    return {
        xtype: "container",
        layout: "hbox",
        cls: "defaultGridPanel",
        border: 0,
        defaults: {
            xtype: "container",
            height: 600
        },
        items: [ this.getSubtractionEditor(), this.plotter.getPanel() ]
    };
}, MergeMainView.prototype.load = function(a) {
    var b = new QueueGrid({
        maxHeight: 300
    });
    this.panel.setTitle("Merge Tool"), this.container.insert(0, b.getPanel()), this.container.insert(1, this.getSlavePanel()), 
    b.load(a), b.panel.setLoading(!1);
    var c = [], d = [], e = [];
    this.frames = [];
    for (var f = 0; f < a.length; f++) c.push(a[f].dataCollectionId), null == e[a[f].subtractionId] && (d.push(a[f].subtractionId), 
    this.frames.push({
        fileName: a[f].substractedFilePath.substr(a[f].substractedFilePath.lastIndexOf("/") + 1),
        subtractionId: a[f].subtractionId,
        scale: 1
    }), e[a[f].subtractionId] = !0);
    this.plotter.load({
        subtracted: d
    });
}, PrimaryDataMainView.prototype.getPanel = MainView.prototype.getPanel, PrimaryDataMainView.prototype.getSlavePanel = function() {
    return {
        xtype: "container",
        layout: "hbox",
        cls: "defaultGridPanel",
        margin: 5,
        border: 0,
        defaults: {
            height: 600
        },
        items: [ {
            xtype: "panel",
            layout: {
                type: "accordion",
                titleCollapse: !1,
                animate: !0,
                activeOnTop: !0
            },
            flex: .3,
            border: 1,
            style: {
                borderColor: "#000000",
                borderStyle: "solid",
                borderWidth: "1px"
            },
            items: [ this.frameSelectorGrid.getPanel() ]
        }, this.plotter.getPanel() ]
    };
}, PrimaryDataMainView.prototype.getContainer = function() {
    return Ext.createWidget("tabpanel", {
        plain: !0,
        height: 900,
        margin: "10 0 0 0",
        items: [ {
            tabConfig: {
                title: "Primary Data Reduction"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 850,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ {
                    xtype: "container",
                    items: [ this.grid.getPanel(), this.getSlavePanel() ]
                } ]
            } ]
        }, {
            tabConfig: {
                title: "Abinitio Modeling"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 850,
                padding: 20,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ {
                    xtype: "container",
                    items: [ this.abinitioForm.getPanel() ]
                } ]
            } ]
        } ]
    });
}, PrimaryDataMainView.prototype.load = function(a) {
    var b = this;
    this.panel.setTitle(" Data Collection"), this.grid.panel.setLoading();
    for (var c = function(a, c) {
        if (b.grid.load(c), b.grid.panel.setLoading(!1), b.frameSelectorGrid.load(c), c[0].subtractionId) {
            var d = function(a, c) {
                b.abinitioForm.load(c);
            };
            EXI.getDataAdapter({
                onSuccess: d
            }).saxs.subtraction.getSubtractionsBySubtractionIdList([ c[0].subtractionId ]);
        }
    }, d = [], e = 0; e < a.length; e++) d.push(a[e].dataCollectionId);
    EXI.getDataAdapter({
        onSuccess: c
    }).saxs.dataCollection.getDataCollectionsByDataCollectionId(d);
}, AutoProcIntegrationMainView.prototype.getPanel = MainView.prototype.getPanel, 
AutoProcIntegrationMainView.prototype.getByAutoProcProgramAttachmentId = function(a) {
    for (var b = 0; b < this.data.length; b++) for (var c = 0; c < this.data[b].autoprocprogram.attachmentVOs.length; c++) {
        var d = this.data[b].autoprocprogram.attachmentVOs[c];
        if (d.autoProcProgramAttachmentId == a) return this.data[b];
    }
}, AutoProcIntegrationMainView.prototype.getByAutoProcId = function(a) {
    for (var b = 0; b < this.data.length; b++) if (this.data[b].autoproc.autoProcId == a) return this.data[b];
}, AutoProcIntegrationMainView.prototype.onPlotClicked = function(a) {
    var b = this.getByAutoProcProgramAttachmentId(a);
    null != b && this.autoProcIntegrationGrid.selectRowByAutoProcIntegrationId(b.autointegration.autoProcIntegrationId);
}, AutoProcIntegrationMainView.prototype.getPlotContainer = function(a) {
    return {
        xtype: "container",
        margin: 10,
        layout: {
            type: "fit"
        },
        flex: .5,
        items: [ a ]
    };
}, AutoProcIntegrationMainView.prototype.getAutoProcPanel = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "fit"
        },
        margin: 5,
        items: [ Ext.create("Ext.container.Container", {
            layout: "hbox",
            margin: "10 0 0 20",
            items: [ this.autoProcIntegrationGrid.getPanel(), this.autoProcIntegrationAttachmentGrid.getPanel() ]
        }), Ext.create("Ext.container.Container", {
            layout: "hbox",
            margin: "0 50 0 0",
            items: [ this.getPlotContainer(this.rFactorPlotter.getPanel()), this.getPlotContainer(this.isigmaPlotter.getPanel()), this.getPlotContainer(this.completenessPlotter.getPanel()) ]
        }), Ext.create("Ext.container.Container", {
            layout: "hbox",
            margin: "0 50 0 0",
            items: [ this.getPlotContainer(this.cc2Plotter.getPanel()), this.getPlotContainer(this.sigmaAnnoPlotter.getPanel()), this.getPlotContainer(this.annoCorrPlotter.getPanel()) ]
        }) ]
    });
}, AutoProcIntegrationMainView.prototype.getPhasingPanel = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "fit"
        },
        margin: 5,
        height: 600,
        items: [ Ext.create("Ext.container.Container", {
            layout: "hbox",
            margin: "10 0 0 20",
            items: [ Ext.create("Ext.container.Container", {
                layout: "hbox",
                flex: .4,
                items: [ this.autoProcIntegrationPhasingGrid.getPanel() ]
            }), this.phasingGrid.getPanel() ]
        }) ]
    });
}, AutoProcIntegrationMainView.prototype.getContainer = function() {
    return Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "10 30 10 10",
        items: [ {
            tabConfig: {
                title: "Auto Processing"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.getAutoProcPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Phasing"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.getPhasingPanel() ]
            } ]
        } ]
    });
}, AutoProcIntegrationMainView.prototype.groupBy = function(a, b) {
    var c = {};
    return a.forEach(function(a) {
        var d = JSON.stringify(b(a));
        c[d] = c[d] || [], c[d].push(a);
    }), Object.keys(c).map(function(a) {
        return c[a];
    });
}, AutoProcIntegrationMainView.prototype.loadPlots = function(a) {
    this.completenessPlotter.loadUrl(EXI.getDataAdapter().mx.autoProcIntegrationDataAdapter.getXScaleCompleteness(a.toString())), 
    this.rFactorPlotter.loadUrl(EXI.getDataAdapter().mx.autoProcIntegrationDataAdapter.getXScaleRfactor(a.toString())), 
    this.isigmaPlotter.loadUrl(EXI.getDataAdapter().mx.autoProcIntegrationDataAdapter.getXScaleISigma(a.toString())), 
    this.cc2Plotter.loadUrl(EXI.getDataAdapter().mx.autoProcIntegrationDataAdapter.getXScaleCC2(a.toString())), 
    this.sigmaAnnoPlotter.loadUrl(EXI.getDataAdapter().mx.autoProcIntegrationDataAdapter.getXScaleSigmaAno(a.toString())), 
    this.annoCorrPlotter.loadUrl(EXI.getDataAdapter().mx.autoProcIntegrationDataAdapter.getXScaleAnnoCorrection(a.toString()));
}, AutoProcIntegrationMainView.prototype.loadGeneral = function(a) {
    for (var b in a) Ext.getCmp(this.id + "general").insert({
        xtype: "container",
        layout: "hbox",
        items: [ {
            xtype: "label",
            forId: "myFieldId",
            text: b + ":",
            margin: "0 0 0 10"
        }, {
            xtype: "label",
            forId: "myFieldId",
            text: a[b],
            margin: "0 0 0 10"
        } ]
    });
}, AutoProcIntegrationMainView.prototype.load = function(a) {
    var b = this;
    this.panel.setTitle("Data Collection");
    var c = function(a, c) {
        b.data = c;
        for (var d = [], e = [], f = [], g = 0; g < c.length; g++) d.push(c[g].autointegration.autoProcIntegrationId), 
        e.push(c[g].autoproc), f.push(c[g].autoproc.autoProcId);
        var h = function(a, e) {
            for (var g = [], h = [], i = 0; i < e.length; i++) null != e[i].phasinganalysis && g.push(f[i]);
            for (var j = 0; j < c.length; j++) for (var k = 0; k < g.length; k++) c[j].autoproc.autoProcId == g[k] && h.push(c[j]);
            b.autoProcIntegrationPhasingGrid.load(h), b.autoProcIntegrationGrid.load(c), b.loadPlots(d);
        };
        EXI.getDataAdapter({
            onSuccess: h
        }).mx.autoProcIntegrationDataAdapter.getPhasingByAutoprocIds(f);
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).mx.autoProcIntegrationDataAdapter.getByDataCollectionId(a);
}, DataCollectionMxMainView.prototype.getPanel = MainView.prototype.getPanel, DataCollectionMxMainView.prototype.getContainer = function() {
    return this.panel = Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "10 30 10 10",
        items: [ {
            tabConfig: {
                title: "Summary"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.dataCollectionSummaryGrid.getPanel() ]
            } ]
        } ]
    }), this.panel;
}, DataCollectionMxMainView.prototype.load = function(a) {
    var b = this;
    this.panel.setTitle("Data Collection ");
    var c = function(a, c) {
        b.dataCollectionSummaryGrid.load(c), b.dataCollectionSummaryGrid.grid.setTitle(c.length + " Data Collections ");
    };
    EXI.getDataAdapter({
        onSuccess: c
    }).mx.dataCollection.getBySessionsId(a);
}, ImageMainView.prototype.getPanel = MainView.prototype.getPanel, ImageMainView.prototype.getContainer = function() {
    return Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "10 30 10 10",
        items: [ {
            tabConfig: {
                title: "2D"
            },
            items: [ {
                xtype: "container",
                layout: "hbox",
                paddding: 5,
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.imageViewer.getPanel(), {
                    html: "<div id='" + this.id + "detector' ></div>",
                    margin: "0 0 0 5",
                    height: 800
                } ]
            } ]
        }, {
            tabConfig: {
                title: "3D"
            },
            items: [ {
                xtype: "container",
                layout: "hbox",
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.surfaceScatteringViewer.getPanel() ]
            } ]
        }, {
            tabConfig: {
                title: "Parameters"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                style: {
                    borderColor: "gray",
                    borderStyle: "solid",
                    borderWidth: "1px",
                    "background-color": "white"
                },
                items: [ this.getParametersGrid() ]
            } ]
        } ]
    });
}, ImageMainView.prototype.getParametersGrid = function(a, b) {
    return this.storeParameters = Ext.create("Ext.data.Store", {
        fields: [ "key", "value" ],
        sorters: "key"
    }), this.parametersPanel = Ext.create("Ext.grid.Panel", {
        title: "Parameters",
        store: this.storeParameters,
        columns: [ {
            text: "Key",
            dataIndex: "key",
            flex: .2
        }, {
            text: "Value",
            dataIndex: "value",
            flex: 1
        } ],
        height: 800,
        viewConfig: {
            enableTextSelection: !0
        }
    }), this.parametersPanel;
}, ImageMainView.prototype.loadDetectorPanel = function(a, b) {
    var c = this.makeHTMLTable("Detector", [ [ "Model", b.Detector_detectorModel ], [ "Manufacturer", b.Detector_detectorManufacturer ], [ "Mode", b.Detector_detectorMode ], [ "Pixel Size", a.pixelSize.x + " x " + a.pixelSize.y ], [ "sensitive Area", a.sensitiveArea.x + " x " + a.sensitiveArea.y ] ], null, a.img), d = this.makeHTMLTable("Data Collection", [ [ "Collected on", b.DataCollectionGroup_endTime ], [ "Experiment Type", b.DataCollectionGroup_experimentType ], [ "Centering", b.DataCollection_centeringMethod ], [ "Exposure Timee", b.DataCollection_exposureTime ], [ "Directory", b.DataCollection_imageDirectory ], [ "BeamLine", b.BLSession_beamLineName ], [ "Detector Distance", b.DataCollection_detectorDistance ], [ "Flux", b.DataCollection_flux ], [ "Resolution", b.DataCollection_resolution ], [ "Transmission", b.DataCollection_transmission ], [ "WaveLength", b.DataCollection_wavelength ] ]);
    return "<span style='color:orange;font-weight:bold;'>WARNING: If image is not displayed please, refresh the page (F5)</span><br />" + d + c;
}, ImageMainView.prototype.makeHTMLTable = function(a, b, c, d) {
    var e = 800;
    null != c && null != c["with"] && (e = c["with"]);
    var f = "<table>";
    if (null != b) for (var g = 0; g < b.length; g++) {
        f += "<tr>";
        for (var h = 0; h < b[g].length; h++) {
            var i = "key_subgrid";
            1 == h && (i = "value_subgrid"), f = f + "<td class='" + i + "'>" + b[g][h] + "</td>", 
            null != d && 0 == g && h == b[g].length - 1 && (f = f + '<td rowspan="' + b.length + '"><img src=' + d + "/></td>");
        }
        f += "</tr>";
    }
    return f += "</table>", null != a && (f = '<div  class="header-component-table" >' + a + '</div><div  style="margin:0px 0px 0px 0px !important;width:' + e + 'px;">' + f + "</div>"), 
    f;
}, ImageMainView.prototype.load = function(a, b) {
    var c = this;
    this.panel.setTitle("Image");
    var d = EXI.getDataAdapter().mx.dataCollection.getImageById(a), e = function(a, b) {
        var e = b[0];
        for (var f in e) c.storeParameters.loadData([ {
            key: f,
            value: e[f]
        } ], !0);
        var g = b[0].DataCollection_wavelength, h = b[0].DataCollection_detectorDistance, i = b[0].DataCollection_xBeam, j = b[0].DataCollection_yBeam;
        null != ExtISPyB.detectors[b[0].Detector_detectorModel] ? c.detectorResolution = ExtISPyB.detectors[b[0].Detector_detectorModel] : alert("Not detector loaded"), 
        c.imageViewer.load(d, g, h, i, j, c.detectorResolution), document.getElementById(c.id + "detector").innerHTML = c.loadDetectorPanel(c.detectorResolution, b[0]), 
        c.surfaceScatteringViewer.load();
    };
    EXI.getDataAdapter({
        onSuccess: e
    }).mx.dataCollection.getByDataCollectionId(b);
}, WelcomeMainView.prototype.getPanel = MainView.prototype.getPanel, WelcomeMainView.prototype.getContainer = MainView.prototype.getContainer, 
WelcomeMainView.prototype.getContainer = function() {
    return {
        layout: {
            type: "fit"
        },
        items: [ {
            html: "<iframe style='width:900px;height:900px;' frameBorder='0' src='../html/welcome.html'></iframe>",
            margin: "50 0 0 50"
        } ]
    };
}, WelcomeMainView.prototype.load = function() {}, SubtractionMainView.prototype.getPanel = MainView.prototype.getPanel, 
SubtractionMainView.prototype.getToolDescription = function(a, b, c) {
    return {
        html: "<span class='toolName'>" + a + "</span><span class='toolDescription'>" + b + "</span><br /><span class='toolReference'> " + c + "</span>",
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        margin: 10
    };
}, SubtractionMainView.prototype.getFirstStepContainer = function() {
    var a = this;
    return {
        xtype: "container",
        height: 250,
        items: [ {
            xtype: "container",
            layout: "hbox",
            margin: 20,
            height: 50,
            items: [ {
                html: "<span class='toolPanelText'>1) Select a Data Collection</span>",
                margin: "5 0 0 20",
                bodyStyle: {
                    "background-color": "#E6E6E6"
                }
            }, {
                xtype: "button",
                text: "Select",
                width: 150,
                margin: "0 0 0 20",
                handler: function() {
                    a.subtractionSelectorWindow.show();
                }
            } ]
        }, this.grid.getPanel() ]
    };
}, SubtractionMainView.prototype.getContainer = function() {
    var a = this;
    return Ext.create("Ext.form.Panel", {
        height: 500,
        margin: 30,
        border: 1,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        bodypadding: 10,
        items: [ {
            xtype: "hiddenfield",
            id: a.id + "hiddenSutractions",
            name: "subtractionId",
            value: ""
        }, {
            xtype: "hiddenfield",
            id: a.id + "hiddenProject",
            name: "projectId",
            value: ""
        }, {
            xtype: "hiddenfield",
            id: a.id + "pdbFileName",
            name: "pdbFileName",
            value: ""
        }, this.getToolDescription("CRYSOL: ", "Evaluation of the solution scattering from macromolecules with known atomic structure and fitting to experimental data", "Written by D. Svergun, C. Barberato, M. Malfois, V. Volkov, P. Konarev1, M. Petoukhov & A. Shkumatov"), this.getFirstStepContainer(), {
            xtype: "fileuploadfield",
            id: a.id + "fileupload",
            width: 600,
            labelWidth: 150,
            margin: 30,
            fieldLabel: '<span class="toolPanelText">2) Upload PDB</span>',
            cls: "toolPanelText",
            name: "file",
            hideLabel: !1
        } ],
        buttons: [ {
            text: "Run",
            handler: function() {
                var b = this.up("form").getForm();
                if (b.isValid()) {
                    Ext.getCmp(a.id + "hiddenProject").setValue(exiSAXS.localExtorage.userManager.getActiveProject().internalId);
                    var c = Ext.getCmp(a.id + "fileupload").value;
                    Ext.getCmp(a.id + "pdbFileName").setValue(c.split("\\")[c.split("\\").length - 1]), 
                    b.submit({
                        url: new ExiDataAdapter().server + "/token/tool/crysol/run",
                        waitMsg: "Sending job to server...",
                        success: function(a, b) {
                            msg("Success", 'Processed file "' + b.result.file + '" on the server');
                        },
                        failure: function(a, b) {
                            msg("Failure", 'Processed file "' + b.result.file + '" on the server');
                        }
                    });
                }
            }
        } ]
    });
}, SubtractionMainView.prototype.load = function() {
    this.panel.setTitle("Subtraction Tool");
}, DimpleRunMainView.prototype.getPanel = RunMainView.prototype.getPanel, DimpleRunMainView.prototype.getOutputPanel = RunMainView.prototype.getOutputPanel, 
DimpleRunMainView.prototype.getTabs = RunMainView.prototype.getTabs, DimpleRunMainView.prototype.getContainer = RunMainView.prototype.getContainer, 
DimpleRunMainView.prototype.load = RunMainView.prototype.load, DimpleRunMainView.prototype.getFilesGrid = function() {
    var a = this;
    this.filesStore = Ext.create("Ext.data.Store", {
        fields: [ "name", "targetId" ]
    });
    var b = Ext.create("Ext.selection.RowModel", {
        allowDeselect: !0,
        listeners: {
            selectionchange: function(b, c) {
                console.log(c[0].data);
                var d = function(b, c) {
                    document.getElementById(a.id + "display").innerHTML = "<textarea rows='100' cols='100'> " + c + "</textarea>";
                };
                -1 == c[0].data.name.indexOf(".mtz") ? EXI.getDataAdapter({
                    onSuccess: d
                }).exi.offline.getFileContent(c[0].data.targetId) : d(this, "No text available");
            }
        }
    });
    return Ext.create("Ext.grid.Panel", {
        title: "Files",
        store: this.filesStore,
        selModel: b,
        cls: "border-grid",
        height: 400,
        columns: [ {
            text: "Name",
            dataIndex: "name",
            flex: 1
        } ]
    });
}, DimpleRunMainView.prototype.getMainPanel = function() {
    var a = Ext.create("Ext.data.Store", {
        fields: [ "key", "value" ]
    });
    return this.generalGrid = Ext.create("Ext.grid.Panel", {
        title: "General",
        store: a,
        layout: "fit",
        columns: [ {
            text: "Name",
            dataIndex: "name"
        }, {
            text: "Seniority",
            dataIndex: "seniority"
        } ],
        flex: 1
    }), {
        tabConfig: {
            title: "Dimple"
        },
        items: [ {
            xtype: "container",
            height: 700,
            cls: "border-grid",
            items: [ {
                xtype: "container",
                layout: "hbox",
                items: [ {
                    xtype: "container",
                    layout: "fit",
                    flex: .4,
                    margin: 5,
                    items: [ this.getFilesGrid(), {
                        html: "<br />"
                    }, {
                        html: '<div id="' + this.id + 'blobs";><div>'
                    } ]
                }, {
                    xtype: "container",
                    layout: "fit",
                    flex: .6,
                    margin: 5,
                    height: 400,
                    cls: "border-grid",
                    items: [ {
                        html: '<div id="' + this.id + 'display";><div>'
                    } ]
                } ]
            }, {
                xtype: "container",
                margin: 5,
                height: 210,
                layout: "fit",
                flex: 1,
                items: [ {
                    html: '<div style="height:200px"  id="' + this.id + 'snapshots";><div>'
                } ]
            } ]
        } ]
    };
}, DimpleRunMainView.prototype.loadBlobs = function(a) {
    var b = [], c = 0;
    for (c = 0; c < a.output.length; c++) "blob" == a.output[c].type && b.push(a.output[c]);
    var d = (document.createElement("div"), document.createElement("table")), e = document.createElement("tr");
    for (c = 0; c < b.length; c++) {
        var f = document.createElement("td"), g = document.createElement("img");
        g.setAttribute("src", EXI.getDataAdapter().exi.offline.getFileImage(b[c].targetId)), 
        g.setAttribute("height", "180px"), g.setAttribute("width", "180px"), g.setAttribute("hspace", "10"), 
        g.setAttribute("onclick", "window.open(this.src)"), f.appendChild(g), e.appendChild(f);
    }
    d.appendChild(e), document.getElementById(this.id + "snapshots").innerHTML = d.innerHTML;
}, DimpleRunMainView.prototype.loadFiles = function(a) {
    for (var b = [], c = 0; c < a.output.length; c++) "blob" != a.output[c].type && b.push(a.output[c]);
    this.filesStore.loadData(b);
}, DimpleRunMainView.prototype.loadMain = function(a) {
    if (console.log(a), null != a && null != a.jobs && a.jobs.length > 0) for (var b = 0; b < a.jobs.length; b++) this.loadBlobs(a.jobs[b]), 
    this.loadFiles(a.jobs[b]);
}, RunMainView.prototype.getPanel = MainView.prototype.getPanel, RunMainView.prototype.getOutputPanel = function() {
    return this.outputStore = Ext.create("Ext.data.Store", {
        fields: [ "name", "value", "type", "targetId", "tool", "i" ],
        groupField: "tool",
        sorters: [ {
            property: "i",
            direction: "DESC"
        } ]
    }), Ext.create("Ext.grid.Panel", {
        store: this.outputStore,
        cls: "border-grid",
        features: [ {
            ftype: "grouping"
        } ],
        columns: [ {
            text: "Tool",
            dataIndex: "tool",
            flex: 1,
            hidden: !0
        }, {
            text: "id",
            dataIndex: "i",
            flex: 1,
            hidden: !0
        }, {
            text: "Name",
            dataIndex: "name",
            flex: 1
        }, {
            text: "value",
            dataIndex: "value",
            flex: 1
        }, {
            text: "type",
            dataIndex: "type",
            flex: 1
        }, {
            text: "target",
            dataIndex: "targetId",
            flex: 1,
            hidden: !0
        }, {
            text: "",
            dataIndex: "targetId",
            flex: 1,
            renderer: function(a, b, c) {
                var d = EXI.credentialManager.getConnections()[0].exiUrl + "/file/" + c.data.targetId + "/download";
                return "<div><a style='color:blue;' href='" + d + "'>Download</a></div>";
            }
        } ]
    });
}, RunMainView.prototype.getGeneralContainerList = function(a) {
    var b = "<ul class='generalContainerRunList'>";
    return b = b + "<li>Name: " + a.name + "</li>", b = b + "<li>Status: " + a.status + "</li>", 
    b = b + "<li>" + a.creationDate + "</li>";
}, RunMainView.prototype.getGeneralContainer = function(a) {
    return {
        xtype: "panel",
        title: "General",
        margin: 10,
        border: 1,
        style: {
            borderColor: "gray",
            borderStyle: "solid",
            borderWidth: "1px"
        },
        items: [ {
            html: this.getGeneralContainerList(a),
            margin: "10 0 0 50"
        } ]
    };
}, RunMainView.prototype.getMainPanel = function() {}, RunMainView.prototype.getTabs = function() {
    return Ext.createWidget("tabpanel", {
        plain: !0,
        margin: "20 0 0 0",
        items: [ this.getMainPanel(), {
            tabConfig: {
                title: "Output Files"
            },
            items: [ {
                xtype: "container",
                layout: "fit",
                height: 700,
                padding: 20,
                cls: "border-grid",
                items: [ this.getOutputPanel() ]
            } ]
        } ]
    });
}, RunMainView.prototype.getContainer = function() {
    return Ext.create("Ext.container.Container", {
        layout: {
            type: "anchor"
        },
        defaults: {
            anchor: "100%",
            hideEmptyLabel: !1
        },
        margin: 5,
        bodyStyle: {
            "background-color": "#E6E6E6"
        },
        items: [ this.getTabs() ]
    });
}, RunMainView.prototype.loadMain = function(a) {}, RunMainView.prototype.load = function(a) {
    if (null != a) {
        this.panel.setTitle(a.name);
        for (var b = [], c = 0; c < a.jobs.length; c++) for (var d = 0; d < a.jobs[c].output.length; d++) a.jobs[c].output[d].tool = a.jobs[c].name + " " + a.jobs[c].version, 
        a.jobs[c].output[d].i = c, b.push(a.jobs[c].output[d]);
        this.outputStore.loadData(b);
    }
    this.loadMain(a);
};